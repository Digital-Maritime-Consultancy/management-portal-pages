(function(){var _t,yn,yt,at,We,K,xe,U,Z,de,ne,te,le,se,oe,he,De,Le,et,Qe,st,Kt,Ke,pt,He,ve,Re,Ve,vt,Pe,ht,sn,jt,Cr,_r,Ht,Te,It,Sn,Lr,Uo,Zn,Bn,cr,tt,hn,Un,hr,fr=[].slice,aa={}.hasOwnProperty,Ci=function(bn,Qt){function jn(){this.constructor=bn}for(var Rn in Qt)aa.call(Qt,Rn)&&(bn[Rn]=Qt[Rn]);return jn.prototype=Qt.prototype,bn.prototype=new jn,bn.__super__=Qt.prototype,bn},Oa=[].indexOf||function(bn){for(var Qt=0,jn=this.length;jn>Qt;Qt++)if(Qt in this&&this[Qt]===bn)return Qt;return-1};for(st={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},vt=function(){var bn;return null!=(bn="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?bn:+new Date},ht=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,Qe=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==ht&&(ht=function(bn){return setTimeout(bn,50)},Qe=function(bn){return clearTimeout(bn)}),jt=function(bn){var Qt,jn;return Qt=vt(),(jn=function(){var Rn;return(Rn=vt()-Qt)>=33?(Qt=vt(),bn(Rn,function(){return ht(jn)})):setTimeout(jn,33-Rn)})()},sn=function(){var bn,Qt,jn;return jn=arguments[0],Qt=arguments[1],bn=3<=arguments.length?fr.call(arguments,2):[],"function"==typeof jn[Qt]?jn[Qt].apply(jn,bn):jn[Qt]},Kt=function(){var bn,Qt,jn,Rn,ar,_n,vn;for(Qt=arguments[0],_n=0,vn=(Rn=2<=arguments.length?fr.call(arguments,1):[]).length;vn>_n;_n++)if(jn=Rn[_n])for(bn in jn)aa.call(jn,bn)&&(ar=jn[bn],null!=Qt[bn]&&"object"==typeof Qt[bn]&&null!=ar&&"object"==typeof ar?Kt(Qt[bn],ar):Qt[bn]=ar);return Qt},De=function(bn){var Qt,jn,ar,_n;for(jn=Qt=0,ar=0,_n=bn.length;_n>ar;ar++)jn+=Math.abs(bn[ar]),Qt++;return jn/Qt},pt=function(bn,Qt){var jn,ar;if(null==bn&&(bn="options"),null==Qt&&(Qt=!0),ar=document.querySelector("[data-pace-"+bn+"]")){if(jn=ar.getAttribute("data-pace-"+bn),!Qt)return jn;try{return JSON.parse(jn)}catch(_n){return"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",_n):void 0}}},xe=function(){function bn(){}return bn.prototype.on=function(Qt,jn,Rn,ar){var _n;return null==ar&&(ar=!1),null==this.bindings&&(this.bindings={}),null==(_n=this.bindings)[Qt]&&(_n[Qt]=[]),this.bindings[Qt].push({handler:jn,ctx:Rn,once:ar})},bn.prototype.once=function(Qt,jn,Rn){return this.on(Qt,jn,Rn,!0)},bn.prototype.off=function(Qt,jn){var Rn,ar,_n;if(null!=(null!=(ar=this.bindings)?ar[Qt]:void 0)){if(null==jn)return delete this.bindings[Qt];for(Rn=0,_n=[];Rn<this.bindings[Qt].length;)_n.push(this.bindings[Qt][Rn].handler===jn?this.bindings[Qt].splice(Rn,1):Rn++);return _n}},bn.prototype.trigger=function(){var Qt,jn,Rn,_n,vn,bo,wr,go;if(Rn=arguments[0],Qt=2<=arguments.length?fr.call(arguments,1):[],null!=(bo=this.bindings)?bo[Rn]:void 0){for(_n=0,go=[];_n<this.bindings[Rn].length;)vn=(wr=this.bindings[Rn][_n]).once,wr.handler.apply(null!=(jn=wr.ctx)?jn:this,Qt),go.push(vn?this.bindings[Rn].splice(_n,1):_n++);return go}},bn}(),de=window.Pace||{},window.Pace=de,Kt(de,xe.prototype),Pe=de.options=Kt({},st,window.paceOptions,pt()),Bn=0,tt=(Un=["ajax","document","eventLag","elements"]).length;tt>Bn;Bn++)!0===Pe[Te=Un[Bn]]&&(Pe[Te]=st[Te]);Z=function(bn){function Qt(){return Qt.__super__.constructor.apply(this,arguments)}return Ci(Qt,bn),Qt}(Error),yn=function(){function bn(){this.progress=0}return bn.prototype.getElement=function(){var Qt;if(null==this.el){if(!(Qt=document.querySelector(Pe.target)))throw new Z;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=Qt.firstChild?Qt.insertBefore(this.el,Qt.firstChild):Qt.appendChild(this.el)}return this.el},bn.prototype.finish=function(){var Qt;return(Qt=this.getElement()).className=Qt.className.replace("pace-active",""),Qt.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},bn.prototype.update=function(Qt){return this.progress=Qt,this.render()},bn.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(Qt){Z=Qt}return this.el=void 0},bn.prototype.render=function(){var Qt,Rn,ar,_n,vn,bo;if(null==document.querySelector(Pe.target))return!1;for(Qt=this.getElement(),ar="translate3d("+this.progress+"%, 0, 0)",_n=0,vn=(bo=["webkitTransform","msTransform","transform"]).length;vn>_n;_n++)Qt.children[0].style[bo[_n]]=ar;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(Qt.children[0].setAttribute("data-progress-text",(0|this.progress)+"%"),this.progress>=100?Rn="99":(Rn=this.progress<10?"0":"",Rn+=0|this.progress),Qt.children[0].setAttribute("data-progress",""+Rn)),this.lastRenderedProgress=this.progress},bn.prototype.done=function(){return this.progress>=100},bn}(),U=function(){function bn(){this.bindings={}}return bn.prototype.trigger=function(Qt,jn){var ar,_n,vn,bo;if(null!=this.bindings[Qt]){for(bo=[],ar=0,_n=(vn=this.bindings[Qt]).length;_n>ar;ar++)bo.push(vn[ar].call(this,jn));return bo}},bn.prototype.on=function(Qt,jn){var Rn;return null==(Rn=this.bindings)[Qt]&&(Rn[Qt]=[]),this.bindings[Qt].push(jn)},bn}(),Zn=window.XMLHttpRequest,Uo=window.XDomainRequest,Lr=window.WebSocket,Ke=function(bn,Qt){var Rn,ar;for(Rn in ar=[],Qt.prototype)try{ar.push(null==bn[Rn]&&"function"!=typeof Qt[Rn]?"function"==typeof Object.defineProperty?Object.defineProperty(bn,Rn,{get:function(){return Qt.prototype[Rn]},configurable:!0,enumerable:!0}):bn[Rn]=Qt.prototype[Rn]:void 0)}catch(_n){}return ar},Re=[],de.ignore=function(){var bn,Qt,jn;return Qt=arguments[0],bn=2<=arguments.length?fr.call(arguments,1):[],Re.unshift("ignore"),jn=Qt.apply(null,bn),Re.shift(),jn},de.track=function(){var bn,Qt,jn;return Qt=arguments[0],bn=2<=arguments.length?fr.call(arguments,1):[],Re.unshift("track"),jn=Qt.apply(null,bn),Re.shift(),jn},Ht=function(bn){var Qt;return null==bn&&(bn="GET"),"track"===Re[0]?"force":!(Re.length||!Pe.ajax||!("socket"===bn&&Pe.ajax.trackWebSockets||(Qt=bn.toUpperCase(),Oa.call(Pe.ajax.trackMethods,Qt)>=0)))},ne=function(bn){function Qt(){var jn,Rn=this;Qt.__super__.constructor.apply(this,arguments),jn=function(ar){var _n;return _n=ar.open,ar.open=function(vn,bo,wr){return Ht(vn)&&Rn.trigger("request",{type:vn,url:bo,request:ar}),_n.apply(ar,arguments)}},window.XMLHttpRequest=function(ar){var _n;return _n=new Zn(ar),jn(_n),_n};try{Ke(window.XMLHttpRequest,Zn)}catch{}if(null!=Uo){window.XDomainRequest=function(){var ar;return ar=new Uo,jn(ar),ar};try{Ke(window.XDomainRequest,Uo)}catch{}}if(null!=Lr&&Pe.ajax.trackWebSockets){window.WebSocket=function(ar,_n){var vn;return vn=null!=_n?new Lr(ar,_n):new Lr(ar),Ht("socket")&&Rn.trigger("request",{type:"socket",url:ar,protocols:_n,request:vn}),vn};try{Ke(window.WebSocket,Lr)}catch{}}}return Ci(Qt,bn),Qt}(U),cr=null,_r=function(bn){var Qt,jn,Rn,ar;for(jn=0,Rn=(ar=Pe.ajax.ignoreURLs).length;Rn>jn;jn++)if("string"==typeof(Qt=ar[jn])){if(-1!==bn.indexOf(Qt))return!0}else if(Qt.test(bn))return!0;return!1},(He=function(){return null==cr&&(cr=new ne),cr})().on("request",function(bn){var Qt,jn,Rn,ar;return ar=bn.type,Rn=bn.request,_r(bn.url)||de.running||!1===Pe.restartOnRequestAfter&&"force"!==Ht(ar)?void 0:(jn=arguments,"boolean"==typeof(Qt=Pe.restartOnRequestAfter||0)&&(Qt=0),setTimeout(function(){var bo,wr,go,ni,sa;if("socket"===ar?Rn.readyState<2:0<(go=Rn.readyState)&&4>go){for(de.restart(),sa=[],bo=0,wr=(ni=de.sources).length;wr>bo;bo++){if((Te=ni[bo])instanceof _t){Te.watch.apply(Te,jn);break}sa.push(void 0)}return sa}},Qt))}),_t=function(){function bn(){var Qt=this;this.elements=[],He().on("request",function(){return Qt.watch.apply(Qt,arguments)})}return bn.prototype.watch=function(Qt){var jn,Rn,ar;return ar=Qt.type,jn=Qt.request,_r(Qt.url)?void 0:(Rn="socket"===ar?new se(jn):new oe(jn),this.elements.push(Rn))},bn}(),oe=function bn(Qt){var ar,_n,vn,bo,wr=this;if(this.progress=0,null!=window.ProgressEvent)for(Qt.addEventListener("progress",function(go){return wr.progress=go.lengthComputable?100*go.loaded/go.total:wr.progress+(100-wr.progress)/2},!1),ar=0,_n=(bo=["load","abort","timeout","error"]).length;_n>ar;ar++)Qt.addEventListener(bo[ar],function(){return wr.progress=100},!1);else vn=Qt.onreadystatechange,Qt.onreadystatechange=function(){var go;return 0===(go=Qt.readyState)||4===go?wr.progress=100:3===Qt.readyState&&(wr.progress=50),"function"==typeof vn?vn.apply(null,arguments):void 0}},se=function bn(Qt){var Rn,ar,_n,vn=this;for(this.progress=0,Rn=0,ar=(_n=["error","open"]).length;ar>Rn;Rn++)Qt.addEventListener(_n[Rn],function(){return vn.progress=100},!1)},at=function bn(Qt){var Rn,ar,_n;for(null==Qt&&(Qt={}),this.elements=[],null==Qt.selectors&&(Qt.selectors=[]),Rn=0,ar=(_n=Qt.selectors).length;ar>Rn;Rn++)this.elements.push(new We(_n[Rn]))},We=function(){function bn(Qt){this.selector=Qt,this.progress=0,this.check()}return bn.prototype.check=function(){var Qt=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return Qt.check()},Pe.elements.checkInterval)},bn.prototype.done=function(){return this.progress=100},bn}(),yt=function(){function bn(){var Qt,jn,Rn=this;this.progress=null!=(jn=this.states[document.readyState])?jn:100,Qt=document.onreadystatechange,document.onreadystatechange=function(){return null!=Rn.states[document.readyState]&&(Rn.progress=Rn.states[document.readyState]),"function"==typeof Qt?Qt.apply(null,arguments):void 0}}return bn.prototype.states={loading:0,interactive:50,complete:100},bn}(),K=function bn(){var Qt,jn,Rn,ar,_n,vn=this;this.progress=0,Qt=0,_n=[],ar=0,Rn=vt(),jn=setInterval(function(){var bo;return bo=vt()-Rn-50,Rn=vt(),_n.push(bo),_n.length>Pe.eventLag.sampleCount&&_n.shift(),Qt=De(_n),++ar>=Pe.eventLag.minSamples&&Qt<Pe.eventLag.lagThreshold?(vn.progress=100,clearInterval(jn)):vn.progress=3/(Qt+3)*100},50)},le=function(){function bn(Qt){this.source=Qt,this.last=this.sinceLastUpdate=0,this.rate=Pe.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=sn(this.source,"progress"))}return bn.prototype.tick=function(Qt,jn){var Rn;return null==jn&&(jn=sn(this.source,"progress")),jn>=100&&(this.done=!0),jn===this.last?this.sinceLastUpdate+=Qt:(this.sinceLastUpdate&&(this.rate=(jn-this.last)/this.sinceLastUpdate),this.catchup=(jn-this.progress)/Pe.catchupTime,this.sinceLastUpdate=0,this.last=jn),jn>this.progress&&(this.progress+=this.catchup*Qt),Rn=1-Math.pow(this.progress/100,Pe.easeFactor),this.progress+=Rn*this.rate*Qt,this.progress=Math.min(this.lastProgress+Pe.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},bn}(),It=null,Cr=null,Le=null,Sn=null,he=null,et=null,de.running=!1,ve=function(){return Pe.restartOnPushState?de.restart():void 0},null!=window.history.pushState&&(hn=window.history.pushState,window.history.pushState=function(){return ve(),hn.apply(window.history,arguments)}),null!=window.history.replaceState&&(hr=window.history.replaceState,window.history.replaceState=function(){return ve(),hr.apply(window.history,arguments)}),te={ajax:_t,elements:at,document:yt,eventLag:K},(Ve=function(){var bn,Qt,jn,Rn,ar,_n,vn,bo;for(de.sources=It=[],Qt=0,Rn=(_n=["ajax","elements","document","eventLag"]).length;Rn>Qt;Qt++)!1!==Pe[bn=_n[Qt]]&&It.push(new te[bn](Pe[bn]));for(jn=0,ar=(bo=null!=(vn=Pe.extraSources)?vn:[]).length;ar>jn;jn++)It.push(new(Te=bo[jn])(Pe));return de.bar=Le=new yn,Cr=[],Sn=new le})(),de.stop=function(){return de.trigger("stop"),de.running=!1,Le.destroy(),et=!0,null!=he&&("function"==typeof Qe&&Qe(he),he=null),Ve()},de.restart=function(){return de.trigger("restart"),de.stop(),de.start()},de.go=function(){var bn;return de.running=!0,Le.render(),bn=vt(),et=!1,he=jt(function(Qt,jn){var ar,_n,bo,wr,go,sa,Vo,cs,va,Ua,ja,Ir,J;for(ar=cs=0,_n=!0,wr=va=0,ja=It.length;ja>va;wr=++va)for(Te=It[wr],Vo=null!=Cr[wr]?Cr[wr]:Cr[wr]=[],go=Ua=0,Ir=(bo=null!=(J=Te.elements)?J:[Te]).length;Ir>Ua;go=++Ua)_n&=(sa=null!=Vo[go]?Vo[go]:Vo[go]=new le(bo[go])).done,sa.done||(ar++,cs+=sa.tick(Qt));return Le.update(Sn.tick(Qt,cs/ar)),Le.done()||_n||et?(Le.update(100),de.trigger("done"),setTimeout(function(){return Le.finish(),de.running=!1,de.trigger("hide")},Math.max(Pe.ghostTime,Math.max(Pe.minTime-(vt()-bn),0)))):jn()})},de.start=function(bn){Kt(Pe,bn),de.running=!0;try{Le.render()}catch(Qt){Z=Qt}return document.querySelector(".pace")?(de.trigger("start"),de.go()):setTimeout(de.start,50)},"function"==typeof define&&define.amd?define(["pace"],function(){return de}):"object"==typeof exports?module.exports=de:Pe.startOnPageLoad&&de.start()}).call(this),function(){"use strict";function _t(s){if(null===s)return"null";if(void 0===s)return"undefined";var d=typeof s;return"object"==d&&(Array.prototype.isPrototypeOf(s)||s.constructor&&"Array"===s.constructor.name)?"array":"object"==d&&(String.prototype.isPrototypeOf(s)||s.constructor&&"String"===s.constructor.name)?"string":d}function yn(s){return oe(function(d,v){if(d.length!==v.length)return!1;for(var w=d.length,M=0;M<w;M++)if(!s.eq(d[M],v[M]))return!1;return!0})}function yt(s){return oe(function(d,v){var M,O,L=Object.keys(d),B=Object.keys(v);if(M=yn(he),O=function($){return Array.prototype.slice.call($).sort(void 0)},!oe(function($,ue){return M.eq(O($),O(ue))}).eq(L,B))return!1;for(var G=L.length,W=0;W<G;W++){var re=L[W];if(!s.eq(d[re],v[re]))return!1}return!0})}function at(s){return function(d){return w=typeof(v=d),(null===v?"null":"object"==w&&(Array.prototype.isPrototypeOf(v)||v.constructor&&"Array"===v.constructor.name)?"array":"object"==w&&(String.prototype.isPrototypeOf(v)||v.constructor&&"String"===v.constructor.name)?"string":w)===s;var v,w}}function We(s){return function(d){return typeof d===s}}function K(s){return function(d){return s===d}}function xe(s){return null==s}function U(s){return!xe(s)}function Z(){}function de(s,d){return function(){for(var v=[],w=0;w<arguments.length;w++)v[w]=arguments[w];return s(d.apply(null,v))}}function ne(s,d){return function(v){return s(d(v))}}function te(s){return function(){return s}}function le(s){return s}function se(s,d){return s===d}var oe=function(s){return{eq:s}},he=oe(function(s,d){return s===d}),De=oe(function(s,d){if(s===d)return!0;var v=_t(s);return v===_t(d)&&(-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(v)?s===d:"array"===v?yn(De).eq(s,d):"object"===v&&yt(De).eq(s,d))}),Le=at("string"),et=at("object"),Qe=at("array"),st=K(null),Kt=We("boolean"),Ke=K(void 0),pt=We("function"),He=We("number");function ve(s){for(var d=[],v=1;v<arguments.length;v++)d[v-1]=arguments[v];return function(){for(var w=[],M=0;M<arguments.length;M++)w[M]=arguments[M];var O=d.concat(w);return s.apply(null,O)}}function Re(s){return function(d){return!s(d)}}function Ve(s){return s()}function vt(s){s()}function Pe(){return jt}var ht=te(!1),sn=te(!0),jt={fold:function(s,d){return s()},isSome:ht,isNone:sn,getOr:le,getOrThunk:Cr,getOrDie:function(s){throw new Error(s||"error: getOrDie called on none.")},getOrNull:te(null),getOrUndefined:te(void 0),or:le,orThunk:Cr,map:Pe,each:Z,bind:Pe,exists:ht,forall:sn,filter:function(){return jt},toArray:function(){return[]},toString:te("none()")};function Cr(s){return s()}function _r(s,d){return Qa.call(s,d)}function Ht(s,d){return-1<_r(s,d)}function Te(s,d){for(var v=0,w=s.length;v<w;v++)if(d(s[v],v))return!0;return!1}function It(s,d){for(var v=s.length,w=new Array(v),M=0;M<v;M++)w[M]=d(s[M],M);return w}function Sn(s,d){for(var v=0,w=s.length;v<w;v++)d(s[v],v)}function Lr(s,d){for(var v=s.length-1;0<=v;v--)d(s[v],v)}function Uo(s,d){for(var v=[],w=[],M=0,O=s.length;M<O;M++){var L=s[M];(d(L,M)?v:w).push(L)}return{pass:v,fail:w}}function Zn(s,d){for(var v=[],w=0,M=s.length;w<M;w++){var O=s[w];d(O,w)&&v.push(O)}return v}function Bn(s,d,v){return Lr(s,function(w,M){v=d(v,w,M)}),v}function cr(s,d,v){return Sn(s,function(w,M){v=d(v,w,M)}),v}function tt(s,d,v){for(var w=0,M=s.length;w<M;w++){var O=s[w];if(d(O,w))return J.some(O);if(v(O,w))break}return J.none()}function hn(s,d){return tt(s,d,ht)}function Un(s,d){for(var v=0,w=s.length;v<w;v++)if(d(s[v],v))return J.some(v);return J.none()}function Ja(s,d){return function(v){for(var w=[],M=0,O=v.length;M<O;++M){if(!Qe(v[M]))throw new Error("Arr.flatten item "+M+" was not an array, input: "+v);Mr.apply(w,v[M])}return w}(It(s,d))}function hr(s,d){for(var v=0,w=s.length;v<w;++v)if(!0!==d(s[v],v))return!1;return!0}function fr(s){var d=Au.call(s,0);return d.reverse(),d}function aa(s,d){return Zn(s,function(v){return!Ht(d,v)})}function Ci(s,d){var v=Au.call(s,0);return v.sort(d),v}function Oa(s,d){return 0<=d&&d<s.length?J.some(s[d]):J.none()}function bn(s){return Oa(s,0)}function Qt(s){return Oa(s,s.length-1)}function jn(s,d){for(var v=0;v<s.length;v++){var w=d(s[v],v);if(w.isSome())return w}return J.none()}function Rn(s,d){for(var v=zr(s),w=0,M=v.length;w<M;w++){var O=v[w];d(s[O],O)}}function ar(s,d){return Ni(s,function(v,w){return{k:w,v:d(v,w)}})}function _n(s){return function(d,v){s[v]=d}}function vn(s,d,v,w){return Rn(s,function(M,O){(d(M,O)?v:w)(M,O)}),1}function bo(s,d){var v={};return vn(s,d,_n(v),Z),v}function wr(s,d){return so(s,d)?J.from(s[d]):J.none()}function go(s,d){return so(s,d)&&null!=s[d]}function ni(s,d,v){var w,M;if(!s)return!1;if(v=v||s,void 0!==s.length){for(w=0,M=s.length;w<M;w++)if(!1===d.call(v,s[w],w,s))return!1}else for(w in s)if(so(s,w)&&!1===d.call(v,s[w],w,s))return!1;return!0}function sa(s,d){var v=[];return ni(s,function(w,M){v.push(d(w,M,s))}),v}function Vo(s,d){var v=[];return ni(s,function(w,M){d&&!d(w,M,s)||v.push(w)}),v}function cs(s,d){if(s)for(var v=0,w=s.length;v<w;v++)if(s[v]===d)return v;return-1}function va(s,d,v,w){for(var M=Ke(v)?s[0]:v,O=0;O<s.length;O++)M=d.call(w,M,s[O],O);return M}function Ua(s,d,v){for(var w=0,M=s.length;w<M;w++)if(d.call(v,s[w],w,s))return w;return-1}function ja(s){return s[s.length-1]}var Ir=function(s){function d(){return M}function v(O){return O(s)}var w=te(s),M={fold:function(O,L){return L(s)},isSome:sn,isNone:ht,getOr:w,getOrThunk:w,getOrDie:w,getOrNull:w,getOrUndefined:w,or:d,orThunk:d,map:function(O){return Ir(O(s))},each:function(O){O(s)},bind:v,exists:v,forall:v,filter:function(O){return O(s)?M:jt},toArray:function(){return[s]},toString:function(){return"some("+s+")"}};return M},J={some:Ir,none:Pe,from:function(s){return null==s?jt:Ir(s)}},Au=Array.prototype.slice,Qa=Array.prototype.indexOf,Mr=Array.prototype.push,Io=pt(Array.from)?Array.from:function(s){return Au.call(s)},zr=Object.keys,Fh=Object.hasOwnProperty,Ni=function(s,d){var v={};return Rn(s,function(w,M){var O=d(w,M);v[O.k]=O.v}),v},so=function(s,d){return Fh.call(s,d)},Iu=Array.isArray,Sr=function(){return(Sr=Object.assign||function(s){for(var d,v=1,w=arguments.length;v<w;v++)for(var M in d=arguments[v])Object.prototype.hasOwnProperty.call(d,M)&&(s[M]=d[M]);return s}).apply(this,arguments)};function qt(s,d,v){if(v||2===arguments.length)for(var w,M=0,O=d.length;M<O;M++)!w&&M in d||((w=w||Array.prototype.slice.call(d,0,M))[M]=d[M]);return s.concat(w||Array.prototype.slice.call(d))}function Wn(s){var d,v=!1;return function(){for(var w=[],M=0;M<arguments.length;M++)w[M]=arguments[M];return v||(v=!0,d=s.apply(null,w)),d}}function lt(s,d){var v=String(d).toLowerCase();return hn(s,function(w){return w.search(v)})}function Rt(s,d){return-1!==s.indexOf(d)}function bt(s){return function(d){return d.replace(s,"")}}function un(s){return 0<s.length}function en(s){return!un(s)}function dn(s){return function(d){return Rt(d,s)}}function mr(s){return window.matchMedia(s).matches}function Jn(s){return null==s?"":(""+s).replace(zc,"")}function Kn(s,d){return d?!("array"!==d||!Iu(s))||typeof s===d:void 0!==s}function vr(s,d){for(var v=[],w=function(O){return v.push(O),d(O)},M=d(s);(M=M.bind(w)).isSome(););return v}function rr(s,d){var v=s.dom;if(1!==v.nodeType)return!1;var w=v;if(void 0!==w.matches)return w.matches(d);if(void 0!==w.msMatchesSelector)return w.msMatchesSelector(d);if(void 0!==w.webkitMatchesSelector)return w.webkitMatchesSelector(d);if(void 0!==w.mozMatchesSelector)return w.mozMatchesSelector(d);throw new Error("Browser lacks native selectors")}function Mn(s){return 1!==s.nodeType&&9!==s.nodeType&&11!==s.nodeType||0===s.childElementCount}function En(s,d){return s.dom===d.dom}function Wt(s,d){return Sa().browser.isIE()?(M=Node.DOCUMENT_POSITION_CONTAINED_BY,0!=(s.dom.compareDocumentPosition(d.dom)&M)):(O=s.dom)!==(L=d.dom)&&O.contains(L);var M,O,L}function eo(){return ho(0,0)}function no(s){function d(M){return function(){return v===M}}var v=s.current;return{current:v,version:s.version,isEdge:d("Edge"),isChrome:d("Chrome"),isIE:d("IE"),isOpera:d("Opera"),isFirefox:d(uu),isSafari:d("Safari")}}function Jr(s){function d(M){return function(){return v===M}}var v=s.current;return{current:v,version:s.version,isWindows:d(fs),isiOS:d("iOS"),isAndroid:d(Ls),isOSX:d("OSX"),isLinux:d("Linux"),isSolaris:d(Ou),isFreeBSD:d(Ss),isChromeOS:d(cb)}}function Xr(s){if(null==s)throw new Error("Node cannot be null or undefined");return{dom:s}}var ho=function(s,d){return{major:s,minor:d}},gi={nu:ho,detect:function(s,d){var v,w,M=String(d).toLowerCase();return 0===s.length?eo():(w=function(L,B){for(var G=0;G<L.length;G++){var W=L[G];if(W.test(B))return W}}(s,v=M))?ho(O(1),O(2)):{major:0,minor:0};function O(L){return Number(v.replace(w,"$"+L))}},unknown:eo},oo=function(s,d){return""===(v=d)||s.length>=v.length&&s.substr(0,0+v.length)===v;var v},Xs=bt(/^\s+|\s+$/g),Or=bt(/^\s+/g),wo=bt(/\s+$/g),Zi=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Zs={browsers:te([{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(s){return Rt(s,"edge/")&&Rt(s,"chrome")&&Rt(s,"safari")&&Rt(s,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Zi],search:function(s){return Rt(s,"chrome")&&!Rt(s,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(s){return Rt(s,"msie")||Rt(s,"trident")}},{name:"Opera",versionRegexes:[Zi,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:dn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:dn("firefox")},{name:"Safari",versionRegexes:[Zi,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(s){return(Rt(s,"safari")||Rt(s,"mobile/"))&&Rt(s,"applewebkit")}}]),oses:te([{name:"Windows",search:dn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(s){return Rt(s,"iphone")||Rt(s,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:dn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:dn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:dn("linux"),versionRegexes:[]},{name:"Solaris",search:dn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:dn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:dn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}])},uu="Firefox",Ur=function(){return no({current:void 0,version:gi.unknown()})},Ea=no,fs=(te("Edge"),te("Chrome"),te("IE"),te("Opera"),te(uu),te("Safari"),"Windows"),Ls="Android",Ou="Solaris",Ss="FreeBSD",cb="ChromeOS",jg=function(){return Jr({current:void 0,version:gi.unknown()})},Qr=Jr,Sa=(te(fs),te("iOS"),te(Ls),te("Linux"),te("OSX"),te(Ou),te(Ss),te(cb),Wn(function(){return s=navigator.userAgent,d=J.from(navigator.userAgentData),v=mr,we=Zs.browsers(),Me=Zs.oses(),{browser:ke=d.bind(function(je){return ct=we,jn(je.brands,function(Dt){var Ye=Dt.brand.toLowerCase();return hn(ct,function(rt){var dt;return Ye===(null===(dt=rt.brand)||void 0===dt?void 0:dt.toLowerCase())}).map(function(rt){return{current:rt.name,version:gi.nu(parseInt(Dt.version,10),0)}})});var ct}).orThunk(function(){return lt(we,je=s).map(function(ct){var Dt=gi.detect(ct.versionRegexes,je);return{current:ct.name,version:Dt}});var je}).fold(Ur,Ea),os:Ne=lt(Me,w=s).map(function(je){var ct=gi.detect(je.versionRegexes,w);return{current:je.name,version:ct}}).fold(jg,Qr),deviceType:(O=ke,L=s,B=v,G=(M=Ne).isiOS()&&!0===/ipad/i.test(L),W=M.isiOS()&&!G,$=(re=M.isiOS()||M.isAndroid())||B("(pointer:coarse)"),ue=G||!W&&re&&B("(min-device-width:768px)"),pe=W||re&&!ue,be=O.isSafari()&&M.isiOS()&&!1===/safari/i.test(L),{isiPad:te(G),isiPhone:te(W),isTablet:te(ue),isPhone:te(pe),isTouch:te($),isAndroid:M.isAndroid,isiOS:M.isiOS,isWebView:te(be),isDesktop:te(!pe&&!ue&&!be)})};var s,d,v,w,M,O,L,B,G,W,re,$,ue,pe,be,we,Me,ke,Ne})),Eu=navigator.userAgent,Ns=Sa(),Ki=Ns.browser,Bc=Ns.os,mi=Ns.deviceType,Py=/WebKit/.test(Eu)&&!Ki.isEdge(),Ry="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,Pu=-1!==Eu.indexOf("Windows Phone"),Wr={opera:Ki.isOpera(),webkit:Py,ie:!(!Ki.isIE()&&!Ki.isEdge())&&Ki.version.major,gecko:Ki.isFirefox(),mac:Bc.isOSX()||Bc.isiOS(),iOS:mi.isiPad()||mi.isiPhone(),android:Bc.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:Ki.isIE()?document.documentMode||7:10,fileApi:Ry,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!Ki.isIE(),desktop:mi.isDesktop(),windowsPhone:Pu,browser:{current:Ki.current,version:Ki.version,isChrome:Ki.isChrome,isEdge:Ki.isEdge,isFirefox:Ki.isFirefox,isIE:Ki.isIE,isOpera:Ki.isOpera,isSafari:Ki.isSafari},os:{current:Bc.current,version:Bc.version,isAndroid:Bc.isAndroid,isChromeOS:Bc.isChromeOS,isFreeBSD:Bc.isFreeBSD,isiOS:Bc.isiOS,isLinux:Bc.isLinux,isOSX:Bc.isOSX,isSolaris:Bc.isSolaris,isWindows:Bc.isWindows},deviceType:{isDesktop:mi.isDesktop,isiPad:mi.isiPad,isiPhone:mi.isiPhone,isPhone:mi.isPhone,isTablet:mi.isTablet,isTouch:mi.isTouch,isWebView:mi.isWebView}},zc=/^\s*|\s*$/g,Ul=function(s,d,v,w){w=w||this,s&&ni(s=v?s[v]:s,function(M,O){return!1!==d.call(w,M,O,v)&&void Ul(M,d,v,w)})},gn={trim:Jn,isArray:Iu,is:Kn,toArray:function(s){if(Iu(s))return s;for(var d=[],v=0,w=s.length;v<w;v++)d[v]=s[v];return d},makeMap:function(s,d,v){var w;for(d=d||",",v=v||{},w=(s="string"==typeof(s=s||[])?s.split(d):s).length;w--;)v[s[w]]={};return v},each:ni,map:sa,grep:Vo,inArray:cs,hasOwn:so,extend:function(s){for(var d=[],v=1;v<arguments.length;v++)d[v-1]=arguments[v];for(var w=0;w<d.length;w++){var M,O,L=d[w];for(M in L)!so(L,M)||void 0!==(O=L[M])&&(s[M]=O)}return s},create:function(s,d,v){var w,M,O,L=this,B=0,G=(s=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(s))[3].match(/(^|\.)(\w+)$/i)[2],W=L.createNS(s[3].replace(/\.\w+$/,""),v);if(!W[G]){if("static"===s[2])return W[G]=d,void(this.onCreate&&this.onCreate(s[2],s[3],W[G]));d[G]||(d[G]=function(){},B=1),W[G]=d[G],L.extend(W[G].prototype,d),s[5]&&(w=L.resolve(s[5]).prototype,M=s[5].match(/\.(\w+)$/i)[1],O=W[G],W[G]=B?function(){return w[M].apply(this,arguments)}:function(){return this.parent=w[M],O.apply(this,arguments)},W[G].prototype[G]=W[G],L.each(w,function(re,$){W[G].prototype[$]=w[$]}),L.each(d,function(re,$){w[$]?W[G].prototype[$]=function(){return this.parent=w[$],re.apply(this,arguments)}:$!==G&&(W[G].prototype[$]=re)})),L.each(d.static,function(re,$){W[G][$]=re})}},walk:Ul,createNS:function(s,d){var v,w;for(d=d||window,s=s.split("."),v=0;v<s.length;v++)d[w=s[v]]||(d[w]={}),d=d[w];return d},resolve:function(s,d){var v,w;for(d=d||window,v=0,w=(s=s.split(".")).length;v<w&&(d=d[s[v]]);v++);return d},explode:function(s,d){return!s||Kn(s,"array")?s:sa(s.split(d||","),Jn)},_addCacheSuffix:function(s){var d=Wr.cacheSuffix;return d&&(s+=(-1===s.indexOf("?")?"?":"&")+d),s}},Ut={fromHtml:function(s,d){var v=(d||document).createElement("div");if(v.innerHTML=s,!v.hasChildNodes()||1<v.childNodes.length)throw console.error("HTML does not have a single root node",s),new Error("HTML must have a single root node");return Xr(v.childNodes[0])},fromTag:function(s,d){return Xr((d||document).createElement(s))},fromText:function(s,d){return Xr((d||document).createTextNode(s))},fromDom:Xr,fromPoint:function(s,d,v){return J.from(s.dom.elementFromPoint(d,v)).map(Xr)}};function Pa(s){return s.dom.nodeName.toLowerCase()}function Ly(s){return s.dom.nodeType}function mo(s){return function(d){return Ly(d)===s}}function Ks(s){return Ut.fromDom(s.dom.ownerDocument)}function sh(s){return mf(s)?s:Ks(s)}function es(s){return Ut.fromDom(sh(s).dom.defaultView)}function $s(s){return J.from(s.dom.parentNode).map(Ut.fromDom)}function cl(s){return J.from(s.dom.previousSibling).map(Ut.fromDom)}function ts(s){return J.from(s.dom.nextSibling).map(Ut.fromDom)}function qg(s){return fr(vr(s,cl))}function Bp(s){return vr(s,ts)}function To(s,d){return J.from(s.dom.childNodes[d]).map(Ut.fromDom)}function Ny(s){return To(s,0)}function uh(s){return To(s,s.dom.childNodes.length-1)}function Yg(s){return s.dom.childNodes.length}function Xg(s){return O_(s)&&U(s.dom.host)}function lu(s){return Xg(s)?s:function(){var d=sh(s).dom.head;if(null==d)throw new Error("Head is not available yet");return Ut.fromDom(d)}()}function jl(s){return Ut.fromDom(s.dom.host)}function cu(s,d){$s(s).each(function(v){v.dom.insertBefore(d.dom,s.dom)})}function fu(s,d){ts(s).fold(function(){$s(s).each(function(v){Cs(v,d)})},function(v){cu(v,d)})}function dc(s,d){Ny(s).fold(function(){Cs(s,d)},function(v){s.dom.insertBefore(d.dom,v.dom)})}function Vf(s,d){Sn(d,function(v){Cs(s,v)})}function bv(s){s.dom.textContent="",Sn(ju(s),function(d){Js(d)})}function By(s){var d,v=ju(s);0<v.length&&(d=s,Sn(v,function(w){cu(d,w)})),Js(s)}function lh(s,d){return void 0!==s?s:void 0!==d?d:0}function Vh(s){var d=void 0!==s?s.dom:document;return Al(d.body.scrollLeft||d.documentElement.scrollLeft,d.body.scrollTop||d.documentElement.scrollTop)}function zy(s,d,v){var w=(void 0!==v?v.dom:document).defaultView;w&&w.scrollTo(s,d)}function Zg(s,d){Sa().browser.isSafari()&&pt(s.dom.scrollIntoViewIfNeeded)?s.dom.scrollIntoViewIfNeeded(!1):s.dom.scrollIntoView(d)}function zp(s,d,v,w){return{x:s,y:d,width:v,height:w,right:s+v,bottom:d+w}}function Fy(s){var d=void 0===s?window:s,w=Vh(Ut.fromDom(d.document)),M=void 0===d?window:d;return(Sa().browser.isFirefox()?J.none():J.from(M.visualViewport)).fold(function(){var O=d.document.documentElement;return zp(w.left,w.top,O.clientWidth,O.clientHeight)},function(O){return zp(Math.max(O.pageLeft,w.left),Math.max(O.pageTop,w.top),O.width,O.height)})}function ba(s){return function(d){return!!d&&d.nodeType===s}}function xv(s){return s&&!Object.getPrototypeOf(s)}function hc(s){var d=s.map(function(v){return v.toLowerCase()});return function(v){if(v&&v.nodeName){var w=v.nodeName.toLowerCase();return Ht(d,w)}return!1}}function Fp(s,d){var v=d.toLowerCase().split(" ");return function(w){if(uo(w))for(var M=0;M<v.length;M++){var O=w.ownerDocument.defaultView.getComputedStyle(w,null);if((O?O.getPropertyValue(s):null)===v[M])return!0}return!1}}function _v(s){return function(d){return uo(d)&&d.hasAttribute(s)}}function pc(s){return uo(s)&&s.hasAttribute("data-mce-bogus")}function Kg(s){return uo(s)&&"TABLE"===s.tagName}function Dl(s){return function(d){return!(!uo(d)||d.contentEditable!==s&&d.getAttribute("data-mce-contenteditable")!==s)}}function gc(s,d,v){return void 0===v&&(v=se),s.exists(function(w){return v(w,d)})}function ya(s,d,v){return s.isSome()&&d.isSome()?J.some(v(s.getOrDie(),d.getOrDie())):J.none()}function Bs(s){return void 0!==s.style&&pt(s.style.getPropertyValue)}function Ai(s,d,v){if(!(Le(v)||Kt(v)||He(v)))throw console.error("Invalid call to Attribute.set. Key ",d,":: Value ",v,":: Element ",s),new Error("Attribute value was not simple");s.setAttribute(d,v+"")}function ql(s,d,v){Ai(s.dom,d,v)}function Fc(s,d){var v=s.dom;Rn(d,function(w,M){Ai(v,M,w)})}function du(s,d){var v=s.dom.getAttribute(d);return null===v?void 0:v}function Ra(s,d){return J.from(du(s,d))}function Hh(s,d){s.dom.removeAttribute(d)}function Hf(s,d){var v=s.dom,w=window.getComputedStyle(v).getPropertyValue(d);return""!==w||Po(s)?w:Hy(v,d)}function Sd(s,d){var w=Hy(s.dom,d);return J.from(w).filter(function(M){return 0<M.length})}function Ca(s){var d={},v=s.dom;if(Bs(v))for(var w=0;w<v.style.length;w++){var M=v.style.item(w);d[M]=v.style[M]}return d}function Vy(s){return hn(s,mc)}function ns(s,d){return s.children&&Ht(s.children,d)}"undefined"!=typeof window||Function("return this;")();var mc=mo(1),ka=mo(3),mf=mo(9),O_=mo(11),ju=function(s){return It(s.dom.childNodes,Ut.fromDom)},Ru=pt(Element.prototype.attachShadow)&&pt(Node.prototype.getRootNode),Yl=te(Ru),fl=Ru?function(s){return Ut.fromDom(s.dom.getRootNode())}:sh,Cs=function(s,d){s.dom.appendChild(d.dom)},Js=function(s){var d=s.dom;null!==d.parentNode&&d.parentNode.removeChild(d)},Po=function(s){var d=ka(s)?s.dom.parentNode:s.dom;if(null==d||null===d.ownerDocument)return!1;var v=d.ownerDocument,w=Ut.fromDom(d),M=fl(w);return(Xg(M)?J.some(M):J.none()).fold(function(){return v.body.contains(d)},ne(Po,jl))},$g=function(s,d){return{left:s,top:d,translate:function(v,w){return $g(s+v,d+w)}}},Al=$g,Ma=function(s){var d,v=s.dom,w=v.ownerDocument.body;return w===v?Al(w.offsetLeft,w.offsetTop):Po(s)?(d=v.getBoundingClientRect(),Al(d.left,d.top)):Al(0,0)},uo=ba(1),Vc=hc(["textarea","input"]),Er=ba(3),qu=ba(8),Yu=ba(9),Vp=ba(11),La=hc(["br"]),Oo=hc(["img"]),Xu=Dl("true"),to=Dl("false"),ks=hc(["td","th"]),Il=hc(["video","audio","object","embed"]),Hy=function(s,d){return Bs(s)?s.style.getPropertyValue(d):""},db=Sa().browser,dl={},Cd={exports:dl};function Wh(s){setTimeout(function(){throw s},0)}function ch(s){return hl(function(){return new Gh(s)})}function hu(s){if(!Qe(s))throw new Error("cases must be an array");if(0===s.length)throw new Error("there must be at least one case");var d=[],v={};return Sn(s,function(w,M){var O=zr(w);if(1!==O.length)throw new Error("one and only one name per case");var L=O[0],B=w[L];if(void 0!==v[L])throw new Error("duplicate key detected:"+L);if("cata"===L)throw new Error("cannot have a case named cata (sorry)");if(!Qe(B))throw new Error("case arguments must be an array");d.push(L),v[L]=function(){for(var G=[],W=0;W<arguments.length;W++)G[W]=arguments[W];var re=G.length;if(re!==B.length)throw new Error("Wrong number of arguments to case "+L+". Expected "+B.length+" ("+B+"), got "+re);return{fold:function(){for(var $=[],ue=0;ue<arguments.length;ue++)$[ue]=arguments[ue];if($.length!==s.length)throw new Error("Wrong number of arguments to fold. Expected "+s.length+", got "+$.length);return $[M].apply(null,G)},match:function($){var ue=zr($);if(d.length!==ue.length)throw new Error("Wrong number of arguments to match. Expected: "+d.join(",")+"\nActual: "+ue.join(","));if(!hr(d,function(pe){return Ht(ue,pe)}))throw new Error("Not all branches were specified when using match. Specified: "+ue.join(", ")+"\nRequired: "+d.join(", "));return $[L].apply(null,G)},log:function($){console.log($,{constructors:d,constructor:L,params:G})}}}}),v}!function(){var s=this,d=function(){var v,w,M,O={exports:{}};function L(){}function B(we){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof we)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],pe(we,this)}function G(we,Me){for(;3===we._state;)we=we._value;0!==we._state?(we._handled=!0,B._immediateFn(function(){var ke,Ne=1===we._state?Me.onFulfilled:Me.onRejected;if(null!==Ne){try{ke=Ne(we._value)}catch(je){return void re(Me.promise,je)}W(Me.promise,ke)}else(1===we._state?W:re)(Me.promise,we._value)})):we._deferreds.push(Me)}function W(we,Me){try{if(Me===we)throw new TypeError("A promise cannot be resolved with itself.");if(Me&&("object"==typeof Me||"function"==typeof Me)){var ke=Me.then;if(Me instanceof B)return we._state=3,we._value=Me,void $(we);if("function"==typeof ke)return void pe((Ne=ke,je=Me,function(){Ne.apply(je,arguments)}),we)}we._state=1,we._value=Me,$(we)}catch(ct){re(we,ct)}var Ne,je}function re(we,Me){we._state=2,we._value=Me,$(we)}function $(we){2===we._state&&0===we._deferreds.length&&B._immediateFn(function(){we._handled||B._unhandledRejectionFn(we._value)});for(var Me=0,ke=we._deferreds.length;Me<ke;Me++)G(we,we._deferreds[Me]);we._deferreds=null}function ue(we,Me,ke){this.onFulfilled="function"==typeof we?we:null,this.onRejected="function"==typeof Me?Me:null,this.promise=ke}function pe(we,Me){var ke=!1;try{we(function(Ne){ke||(ke=!0,W(Me,Ne))},function(Ne){ke||(ke=!0,re(Me,Ne))})}catch(Ne){if(ke)return;ke=!0,re(Me,Ne)}}v=O,w="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},M=setTimeout,B.prototype.catch=function(we){return this.then(null,we)},B.prototype.then=function(we,Me){var ke=new this.constructor(L);return G(this,new ue(we,Me,ke)),ke},B.all=function(we){var Me=Array.prototype.slice.call(we);return new B(function(ke,Ne){if(0===Me.length)return ke([]);for(var je=Me.length,ct=0;ct<Me.length;ct++)!function Dt(Ye,rt){try{if(rt&&("object"==typeof rt||"function"==typeof rt)){var dt=rt.then;if("function"==typeof dt)return dt.call(rt,function(Vt){Dt(Ye,Vt)},Ne),0}Me[Ye]=rt,0==--je&&ke(Me)}catch(Vt){Ne(Vt)}}(ct,Me[ct])})},B.resolve=function(we){return we&&"object"==typeof we&&we.constructor===B?we:new B(function(Me){Me(we)})},B.reject=function(we){return new B(function(Me,ke){ke(we)})},B.race=function(we){return new B(function(Me,ke){for(var Ne=0,je=we.length;Ne<je;Ne++)we[Ne].then(Me,ke)})},B._immediateFn="function"==typeof setImmediate?function(we){setImmediate(we)}:function(we){M(we,0)},B._unhandledRejectionFn=function(we){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",we)},B._setImmediateFn=function(we){B._immediateFn=we},B._setUnhandledRejectionFn=function(we){B._unhandledRejectionFn=we},v.exports?v.exports=B:w.Promise||(w.Promise=B);var be=O.exports;return{boltExport:("undefined"!=typeof window?window:Function("return this;")()).Promise||be}};"object"==typeof dl&&void 0!==Cd?Cd.exports=d():(s="undefined"!=typeof globalThis?globalThis:s||self).EphoxContactWrapper=d()}();var Gh=Cd.exports.boltExport,V1=function(s){function d(L){M()?O(L):w.push(L)}var v=J.none(),w=[],M=function(){return v.isSome()},O=function(L){v.each(function(B){setTimeout(function(){L(B)},0)})};return s(function(L){M()||(v=J.some(L),Sn(w,O),w=[])}),{get:d,map:function(L){return V1(function(B){d(function(G){B(L(G))})})},isReady:M}},ua={nu:V1,pure:function(s){return V1(function(d){d(s)})}},hl=function(s){function d(v){s().then(v,Wh)}return{map:function(v){return hl(function(){return s().then(v)})},bind:function(v){return hl(function(){return s().then(function(w){return v(w).toPromise()})})},anonBind:function(v){return hl(function(){return s().then(function(){return v.toPromise()})})},toLazy:function(){return ua.nu(d)},toCached:function(){var v=null;return hl(function(){return v=null===v?s():v})},toPromise:s,get:d}},pu=function(s){return{isValue:sn,isError:ht,getOr:te(s),getOrThunk:te(s),getOrDie:te(s),or:function(d){return pu(s)},orThunk:function(d){return pu(s)},fold:function(d,v){return v(s)},map:function(d){return pu(d(s))},mapError:function(d){return pu(s)},each:function(d){d(s)},bind:function(d){return d(s)},exists:function(d){return d(s)},forall:function(d){return d(s)},toOptional:function(){return J.some(s)}}},Na=function(s){return{isValue:ht,isError:sn,getOr:le,getOrThunk:function(d){return d()},getOrDie:function(){return d=String(s),function(){throw new Error(d)}();var d},or:le,orThunk:function(d){return d()},fold:function(d,v){return d(s)},map:function(d){return Na(s)},mapError:function(d){return Na(d(s))},each:Z,bind:function(d){return Na(s)},exists:ht,forall:sn,toOptional:J.none}},wv={value:pu,error:Na,fromOption:function(s,d){return s.fold(function(){return Na(d)},pu)}};function Dn(s){return s.fold(le,le)}function Xl(s,d,v,w,M){return s(v,w)?J.some(v):pt(M)&&M(v)?J.none():d(v,w,M)}function jr(s,d,v){for(var w=s.dom,M=pt(v)?v:ht;w.parentNode;){var O=Ut.fromDom(w=w.parentNode);if(d(O))return J.some(O);if(M(O))break}return J.none()}function Uh(s,d,v){return Xl(function(w,M){return M(w)},jr,s,d,v)}function Lu(s,d,v){return jr(s,function(w){return rr(w,d)},v)}function Wf(s,d){return v=d,Mn(w=void 0===s?document:s.dom)?J.none():J.from(w.querySelector(v)).map(Ut.fromDom);var v,w}function Gf(s,d,v){return Xl(rr,Lu,s,d,v)}function Zu(s,d){return"number"!=typeof d&&(d=0),setTimeout(s,d)}function vi(s,d){return"number"!=typeof d&&(d=1),setInterval(s,d)}function fh(s,d){function v(){for(var M=[],O=0;O<arguments.length;O++)M[O]=arguments[O];clearTimeout(w),w=Zu(function(){s.apply(this,M)},d)}var w;return v.stop=function(){clearTimeout(w)},v}function H1(s,d){function v(re,$,ue){var pe,be=gn._addCacheSuffix(re),we=wr(L,be).getOrThunk(function(){return{id:"mce-u"+O++,passed:[],failed:[],count:0}});function Me(rt,dt){for(var Vt=rt.length;Vt--;)rt[Vt]();we.status=dt,we.passed=[],we.failed=[],pe&&(pe.onload=null,pe.onerror=null,pe=null)}function ke(){return Me(we.passed,2),0}function Ne(){return Me(we.failed,3)}(L[be]=we).count++;var je,ct,Dt,Ye=function(){var rt=Ye;!function(){for(var dt=s.styleSheets,Vt=dt.length;Vt--;){var Zt=dt[Vt].ownerNode;if(Zt&&Zt.id===pe.id)return ke(),1}}()&&(Date.now()-ct<W?Bt.setTimeout(rt):Ne())};$&&we.passed.push($),ue&&we.failed.push(ue),1!==we.status&&(2!==we.status?3!==we.status?(we.status=1,Fc(je=Ut.fromTag("link",G.dom),{rel:"stylesheet",type:"text/css",id:we.id}),ct=Date.now(),d.contentCssCors&&ql(je,"crossOrigin","anonymous"),d.referrerPolicy&&ql(je,"referrerpolicy",d.referrerPolicy),(pe=je.dom).onload=Ye,pe.onerror=Ne,Dt=je,Cs(lu(B),Dt),ql(je,"href",be)):Ne():ke())}function w(re){return ch(function($){v(re,de($,te(wv.value(re))),de($,te(wv.error(re))))})}function M(re){var $=gn._addCacheSuffix(re);wr(L,$).each(function(ue){var pe;0==--ue.count&&(delete L[$],pe=ue.id,Wf(lu(B),"#"+pe).each(Js))})}void 0===d&&(d={});var O=0,L={},B=Ut.fromDom(s),G=sh(B),W=d.maxLoadTime||5e3;return{load:v,loadAll:function(re,$,ue){var pe,be=It(re,w);pe=be,ch(function(we){var Me=[],ke=0;0===pe.length?we([]):Sn(pe,function(Ne,je){var ct;Ne.get((ct=je,function(Dt){Me[ct]=Dt,++ke>=pe.length&&we(Me)}))})}).get(function(we){var Me=Uo(we,function(ke){return ke.isValue()});0<Me.fail.length?ue(Me.fail.map(Dn)):$(Me.pass.map(Dn))})},unload:M,unloadAll:function(re){Sn(re,function($){M($)})},_setReferrerPolicy:function(re){d.referrerPolicy=re}}}hu([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var Ri,vc,Wi=window.Promise||Gh,Bt={requestAnimationFrame:function(s,d){Ri?Ri.then(s):Ri=new Wi(function(v){!function(w,M){for(var O=window.requestAnimationFrame,L=["ms","moz","webkit"],B=0;B<L.length&&!O;B++)O=window[L[B]+"RequestAnimationFrame"];(O=O||function(G){window.setTimeout(G,0)})(w,M)}(v,d=d||document.body)}).then(s)},setTimeout:Zu,setInterval:vi,setEditorTimeout:function(s,d,v){return Zu(function(){s.removed||d()},v)},setEditorInterval:function(s,d,v){var w=vi(function(){s.removed?clearInterval(w):d()},v);return w},debounce:fh,throttle:fh,clearInterval:function(s){return clearInterval(s)},clearTimeout:function(s){return clearTimeout(s)}},vf=(vc=new WeakMap,{forElement:function(s,d){var v=fl(s).dom;return J.from(vc.get(v)).getOrThunk(function(){var w=H1(v,d);return vc.set(v,w),w})}}),Qs=(Zl.prototype.current=function(){return this.node},Zl.prototype.next=function(s){return this.node=this.findSibling(this.node,"firstChild","nextSibling",s),this.node},Zl.prototype.prev=function(s){return this.node=this.findSibling(this.node,"lastChild","previousSibling",s),this.node},Zl.prototype.prev2=function(s){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",s),this.node},Zl.prototype.findSibling=function(s,d,v,w){var M,O;if(s){if(!w&&s[d])return s[d];if(s!==this.rootNode){if(M=s[v])return M;for(O=s.parentNode;O&&O!==this.rootNode;O=O.parentNode)if(M=O[v])return M}}},Zl.prototype.findPreviousNode=function(s,d,v,w){var M,O,L;if(s&&(M=s[v],!this.rootNode||M!==this.rootNode)){if(M){if(!w)for(L=M[d];L;L=L[d])if(!L[d])return L;return M}return(O=s.parentNode)&&O!==this.rootNode?O:void 0}},Zl);function Zl(s,d){this.node=s,this.rootNode=d,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}function pl(s){var d;return function(v){return d=d||function(w,M){for(var O={},L=0,B=w.length;L<B;L++){var G=w[L];O[String(G)]=M(G,L)}return O}(s,sn),so(d,Pa(v))}}function rs(s){return mc(s)&&!$u(s)}function Li(s){return mc(s)&&"br"===Pa(s)}function Uf(s){return gl(s)&&(s=s.parentNode),Dv(s)&&s.hasAttribute("data-mce-caret")}function Jg(s){return gl(s)&&qh(s.data)}function Nr(s){return Uf(s)||Jg(s)}function os(s){return s.firstChild!==s.lastChild||!La(s.firstChild)}function Cv(s){var d=s.container();return!!Er(d)&&(d.data.charAt(s.offset())===zs||s.isAtStart()&&Jg(d.previousSibling))}function kd(s){var d=s.container();return!!Er(d)&&(d.data.charAt(s.offset()-1)===zs||s.isAtEnd()&&Jg(d.nextSibling))}function jh(s){return s&&s.hasAttribute("data-mce-caret")?(pc(v=(d=s.getElementsByTagName("br"))[d.length-1])&&v.parentNode.removeChild(v),s.removeAttribute("data-mce-caret"),s.removeAttribute("data-mce-bogus"),s.removeAttribute("style"),s.removeAttribute("_moz_abspos"),s):null;var d,v}function W1(s){return Uf(s.startContainer)}function Md(s){return!Y1(s)&&(Uy(s)?!bf(s.parentNode):Rr(s)||Xh(s)||tm(s)||qf(s))}function G1(s,d){return Md(s)&&function(v,w){for(v=v.parentNode;v&&v!==w;v=v.parentNode){if(qf(v))return!1;if(Id(v))return!0}return!0}(s,d)}function Qg(s){return lo.test(s)}function Wy(s,d){return Md(s)&&(L=d,!1===(Er(O=s)&&Qg(O.data)&&(v=O,w=Ut.fromDom(L),!1===Lu(Ut.fromDom(v),"pre,code",ve(En,w)).isSome())))||uo(M=s)&&"A"===M.nodeName&&!M.hasAttribute("href")&&(M.hasAttribute("name")||M.hasAttribute("id"))||Zh(s);var v,w,M,O,L}function No(s,d){return function(v,w){var M=0;if(Wy(v,v))return!1;var O=v.firstChild;if(!O)return!0;var L=new Qs(O,v);do{if(w){if(Yf(O)){O=L.next(!0);continue}if(Kh(O)){O=L.next();continue}}if(La(O))M++,O=L.next();else{if(Wy(O,v))return!1;O=L.next()}}while(O);return M<=1}(s.dom,d=void 0===d||d)}function U1(s,d){return U(s)&&(Wy(s,d)||rs(Ut.fromDom(s)))}function j1(s){return"span"===s.nodeName.toLowerCase()&&"bookmark"===s.getAttribute("data-mce-type")}function E_(s,d){var v,w,M,O={};if(s){for(s=s.split(","),d=d||10,v=0;v<s.length;v+=2)w=String.fromCharCode(parseInt(s[v],d)),la[w]||(O[w]=M="&"+s[v+1]+";",O[M]=w);return O}}function Fr(s,d){return s.replace(d?hb:jy,function(v){return la[v]||v})}function kv(s,d){return s.replace(d?hb:jy,function(v){return 1<v.length?"&#"+(1024*(v.charCodeAt(0)-55296)+(v.charCodeAt(1)-56320)+65536)+";":la[v]||"&#"+v.charCodeAt(0)+";"})}function Hc(s,d,v){return v=v||xf,s.replace(d?hb:jy,function(w){return la[w]||v[w]||w})}function Nu(s,d){return(s=gn.trim(s))?s.split(d||" "):[]}function qa(s,d){var v=_f(s," ",_f(s.toUpperCase()," "));return Jh(v,d)}function Mv(s){return qa("td th li dt dd figcaption caption details summary",s.getTextBlockElements())}function Tv(s,d){var v;return s&&(v={},Ms(s="string"==typeof s?{"*":s}:s,function(w,M){v[M]=v[M.toUpperCase()]=("map"===d?_f:Od)(w,/[, ]/)})),v}function Hp(s){function d(wn,or,$r){var ao=s[wn];return ao?ao=_f(ao,/[, ]/,_f(ao.toUpperCase(),/[, ]/)):(ao=ml[wn])||(ao=qa(or,$r),ml[wn]=ao),ao}var v,w,M,O,L,B,G,W,re={},$={},ue=[],pe={},be={},we=(v=(s=s||{}).schema,W={},ml[v]||(w="id accesskey class dir lang style tabindex title role",M="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",O="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==v&&(w+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",M+=" article aside details dialog figure main header footer hgroup section nav",O+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==v&&(w+=" xml:lang",O=[O,G="acronym applet basefont big font strike tt"].join(" "),Ms(Nu(G),function(wn){Me(wn,"",O)}),M=[M,B="center dir isindex noframes"].join(" "),L=[M,O].join(" "),Ms(Nu(B),function(wn){Me(wn,"",L)})),L=L||[M,O].join(" "),Me("html","manifest","head body"),Me("head","","base command link meta noscript script style title"),Me("title hr noscript br"),Me("base","href target"),Me("link","href rel media hreflang type sizes hreflang"),Me("meta","name http-equiv content charset"),Me("style","media type scoped"),Me("script","src async defer type charset"),Me("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",L),Me("address dt dd div caption","",L),Me("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",O),Me("blockquote","cite",L),Me("ol","reversed start type","li"),Me("ul","","li"),Me("li","value",L),Me("dl","","dt dd"),Me("a","href target rel media hreflang type",O),Me("q","cite",O),Me("ins del","cite datetime",L),Me("img","src sizes srcset alt usemap ismap width height"),Me("iframe","src name width height",L),Me("embed","src type width height"),Me("object","data type typemustmatch name usemap form width height",[L,"param"].join(" ")),Me("param","name value"),Me("map","name",[L,"area"].join(" ")),Me("area","alt coords shape href target rel media hreflang type"),Me("table","border","caption colgroup thead tfoot tbody tr"+("html4"===v?" col":"")),Me("colgroup","span","col"),Me("col","span"),Me("tbody thead tfoot","","tr"),Me("tr","","td th"),Me("td","colspan rowspan headers",L),Me("th","colspan rowspan headers scope abbr",L),Me("form","accept-charset action autocomplete enctype method name novalidate target",L),Me("fieldset","disabled form name",[L,"legend"].join(" ")),Me("label","form for",O),Me("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),Me("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===v?L:O),Me("select","disabled form multiple name required size","option optgroup"),Me("optgroup","disabled label","option"),Me("option","disabled label selected value"),Me("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),Me("menu","type label",[L,"li"].join(" ")),Me("noscript","",L),"html4"!==v&&(Me("wbr"),Me("ruby","",[O,"rt rp"].join(" ")),Me("figcaption","",L),Me("mark rt rp summary bdi","",O),Me("canvas","width height",L),Me("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[L,"track source"].join(" ")),Me("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[L,"track source"].join(" ")),Me("picture","","img source"),Me("source","src srcset type media sizes"),Me("track","kind src srclang label default"),Me("datalist","",[O,"option"].join(" ")),Me("article section nav aside main header footer","",L),Me("hgroup","","h1 h2 h3 h4 h5 h6"),Me("figure","",[L,"figcaption"].join(" ")),Me("time","datetime",O),Me("dialog","open",L),Me("command","type label icon disabled checked radiogroup command"),Me("output","for form name",O),Me("progress","value max",O),Me("meter","value min max low high optimum",O),Me("details","open",[L,"summary"].join(" ")),Me("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==v&&(ke("script","language xml:space"),ke("style","xml:space"),ke("object","declare classid code codebase codetype archive standby align border hspace vspace"),ke("embed","align name hspace vspace"),ke("param","valuetype type"),ke("a","charset name rev shape coords"),ke("br","clear"),ke("applet","codebase archive code object alt name width height align hspace vspace"),ke("img","name longdesc align border hspace vspace"),ke("iframe","longdesc frameborder marginwidth marginheight scrolling align"),ke("font basefont","size color face"),ke("input","usemap align"),ke("select"),ke("textarea"),ke("h1 h2 h3 h4 h5 h6 div p legend caption","align"),ke("ul","type compact"),ke("li","type"),ke("ol dl menu dir","compact"),ke("pre","width xml:space"),ke("hr","align noshade size width"),ke("isindex","prompt"),ke("table","summary width frame rules cellspacing cellpadding align bgcolor"),ke("col","width align char charoff valign"),ke("colgroup","width align char charoff valign"),ke("thead","align char charoff valign"),ke("tr","align char charoff valign bgcolor"),ke("th","axis align char charoff valign nowrap bgcolor width height"),ke("form","accept"),ke("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),ke("tfoot","align char charoff valign"),ke("tbody","align char charoff valign"),ke("area","nohref"),ke("body","background bgcolor text link vlink alink")),"html4"!==v&&(ke("input button select textarea","autofocus"),ke("input textarea","placeholder"),ke("a","download"),ke("link script img","crossorigin"),ke("img","loading"),ke("iframe","sandbox seamless allowfullscreen loading")),Ms(Nu("a form meter progress dfn"),function(wn){W[wn]&&delete W[wn].children[wn]}),delete W.caption.children.table,delete W.script,ml[v]=W));function Me(wn,or,$r){function ao(xs,Wu){for(var Tl={},Cu=0,Wl=xs.length;Cu<Wl;Cu++)Tl[xs[Cu]]=Wu||{};return Tl}var ea,_o;or=or||"","string"==typeof($r=$r||[])&&($r=Nu($r));for(var ro=Nu(wn),_i=ro.length;_i--;)_o={attributes:ao(ea=Nu([w,or].join(" "))),attributesOrder:ea,children:ao($r,$h)},W[ro[_i]]=_o}function ke(wn,or){for(var $r,ao,ea,_o=Nu(wn),ro=_o.length,_i=Nu(or);ro--;)for($r=W[_o[ro]],ao=0,ea=_i.length;ao<ea;ao++)$r.attributes[_i[ao]]={},$r.attributesOrder.push(_i[ao])}!1===s.verify_html&&(s.valid_elements="*[*]");var Ne=Tv(s.valid_styles),je=Tv(s.invalid_styles,"map"),ct=Tv(s.valid_classes,"map"),Dt=d("whitespace_elements","pre script noscript style textarea video audio iframe object code"),Ye=d("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),rt=d("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),dt=d("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),Vt="td th iframe video audio object script code",Zt=d("non_empty_elements",Vt+" pre",rt),ln=d("move_caret_before_on_enter_elements",Vt+" table",rt),on=d("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),Mt=d("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",on),At=d("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp");function zt(wn){return new RegExp("^"+wn.replace(/([?+*])/g,".$1")+"$")}function tn(wn){var or,$r,ao,ea,_o,ro,_i,xs,Wu,Tl,Cu,Wl,cv,xd,Pp,Lh,ib,ab,eT=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,E2=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,tT=/[*?+]/;if(wn){var dk=Nu(wn,",");for(re["@"]&&(Lh=re["@"].attributes,ib=re["@"].attributesOrder),or=0,$r=dk.length;or<$r;or++)if(_o=eT.exec(dk[or])){if(Wu=_o[2],Pp=_o[3],xs=_o[5],ro={attributes:Wl={},attributesOrder:cv=[]},"#"===(xd=_o[1])&&(ro.paddEmpty=!0),"-"===xd&&(ro.removeEmpty=!0),"!"===_o[4]&&(ro.removeEmptyAttrs=!0),Lh&&(Rn(Lh,function(nT,v_){Wl[v_]=nT}),cv.push.apply(cv,ib)),xs)for(ao=0,ea=(xs=Nu(xs,"|")).length;ao<ea;ao++)(_o=E2.exec(xs[ao]))&&(_i={},Cu=_o[1],Tl=_o[2].replace(/[\\:]:/g,":"),xd=_o[3],ab=_o[4],"!"===Cu&&(ro.attributesRequired=ro.attributesRequired||[],ro.attributesRequired.push(Tl),_i.required=!0),"-"!==Cu?(xd&&("="===xd&&(ro.attributesDefault=ro.attributesDefault||[],ro.attributesDefault.push({name:Tl,value:ab}),_i.defaultValue=ab),":"===xd&&(ro.attributesForced=ro.attributesForced||[],ro.attributesForced.push({name:Tl,value:ab}),_i.forcedValue=ab),"<"===xd&&(_i.validValues=_f(ab,"?"))),tT.test(Tl)?(ro.attributePatterns=ro.attributePatterns||[],_i.pattern=zt(Tl),ro.attributePatterns.push(_i)):(Wl[Tl]||cv.push(Tl),Wl[Tl]=_i)):(delete Wl[Tl],cv.splice(Wc(cv,Tl),1)));Lh||"@"!==Wu||(Lh=Wl,ib=cv),Pp&&(ro.outputName=Wu,re[Pp]=ro),tT.test(Wu)?(ro.pattern=zt(Wu),ue.push(ro)):re[Wu]=ro}}}function On(wn){re={},ue=[],tn(wn),Ms(we,function(or,$r){$[$r]=or.children})}function er(wn){var or=/^(~)?(.+)$/;wn&&(ml.text_block_elements=ml.block_elements=null,Ms(Nu(wn,","),function($r){var ao,ea=or.exec($r),_o="~"===ea[1],ro=_o?"span":"div",_i=ea[2];$[_i]=$[ro],pe[_i]=ro,_o||(Mt[_i.toUpperCase()]={},Mt[_i]={}),re[_i]||(delete(ao=Jh({},ao=re[ro])).removeEmptyAttrs,delete ao.removeEmpty,re[_i]=ao),Ms($,function(xs,Wu){xs[ro]&&($[Wu]=xs=Jh({},$[Wu]),xs[_i]=xs[ro])})}))}function An(wn){var or=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;ml[s.schema]=null,wn&&Ms(Nu(wn,","),function($r){var ao,ea,_o=or.exec($r);_o&&(ao=(ea=_o[1])?$[_o[2]]:$[_o[2]]={"#comment":{}},ao=$[_o[2]],Ms(Nu(_o[3],"|"),function(ro){"-"===ea?delete ao[ro]:ao[ro]={}}))})}function Xn(wn){var or,$r=re[wn];if($r)return $r;for(or=ue.length;or--;)if(($r=ue[or]).pattern.test(wn))return $r}Ms((s.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(wn){be[wn]=new RegExp("</"+wn+"[^>]*>","gi")}),s.valid_elements?On(s.valid_elements):(Ms(we,function(wn,or){re[or]={attributes:wn.attributes,attributesOrder:wn.attributesOrder},$[or]=wn.children}),"html5"!==s.schema&&Ms(Nu("strong/b em/i"),function(wn){var or=Nu(wn,"/");re[or[1]].outputName=or[0]}),Ms(At,function(wn,or){re[or]&&(s.padd_empty_block_inline_children&&(re[or].paddInEmptyBlock=!0),re[or].removeEmpty=!0)}),Ms(Nu("ol ul blockquote a table tbody"),function(wn){re[wn]&&(re[wn].removeEmpty=!0)}),Ms(Nu("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(wn){re[wn].paddEmpty=!0}),Ms(Nu("span"),function(wn){re[wn].removeEmptyAttrs=!0})),er(s.custom_elements),An(s.valid_children),tn(s.extended_valid_elements),An("+ol[ul|ol],+ul[ul|ol]"),Ms({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(wn,or){re[or]&&(re[or].parentsRequired=Nu(wn))}),s.invalid_elements&&Ms(Od(s.invalid_elements),function(wn){re[wn]&&delete re[wn]}),Xn("span")||tn("span[!data-mce-type|*]");var Fn=te(Ne),Yn=te(je),qn=te(ct),xr=te(dt),Tn=te(Mt),pr=te(on),Hn=te(At),Tr=te(rt),Dr=te(Ye),Ao=te(Zt),gt=te(ln),Et=te(Dt),mn=te(be),Nn=te(pe);return{children:$,elements:re,getValidStyles:Fn,getValidClasses:qn,getBlockElements:Tn,getInvalidStyles:Yn,getShortEndedElements:Tr,getTextBlockElements:pr,getTextInlineElements:Hn,getBoolAttrs:xr,getElementRule:Xn,getSelfClosingElements:Dr,getNonEmptyElements:Ao,getMoveCaretBeforeOnEnterElements:gt,getWhiteSpaceElements:Et,getSpecialElements:mn,isValidChild:function(wn,or){var $r=$[wn.toLowerCase()];return!(!$r||!$r[or.toLowerCase()])},isValid:function(wn,or){var $r,ao,ea=Xn(wn);if(ea){if(!or||ea.attributes[or])return!0;if($r=ea.attributePatterns)for(ao=$r.length;ao--;)if($r[ao].pattern.test(wn))return!0}return!1},getCustomElements:Nn,addValidElements:tn,setValidElements:On,addCustomElements:er,addValidChildren:An}}function q1(s,d,v,w){function M(O){return 1<(O=parseInt(O,10).toString(16)).length?O:"0"+O}return"#"+M(d)+M(v)+M(w)}function Ku(s,d){var v,w,M=this,O=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,L=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,B=/\s*([^:]+):\s*([^;]+);?/g,G=/\s+$/,W={},re=gu;s=s||{},d&&(v=d.getValidStyles(),w=d.getInvalidStyles());for(var $=("\\\" \\' \\; \\: ; : "+re).split(" "),ue=0;ue<$.length;ue++)W[$[ue]]=re+ue,W[re+ue]=$[ue];return{toHex:function(pe){return pe.replace(O,q1)},parse:function(pe){function be(zt,tn,On){var er=on[zt+"-top"+tn];if(er){var An=on[zt+"-right"+tn];if(An){var Xn=on[zt+"-bottom"+tn];if(Xn){var Fn=on[zt+"-left"+tn];if(Fn){var Yn=[er,An,Xn,Fn];for(ue=Yn.length-1;ue--&&Yn[ue]===Yn[ue+1];);-1<ue&&On||(on[zt+tn]=-1===ue?Yn[0]:Yn.join(" "),delete on[zt+"-top"+tn],delete on[zt+"-right"+tn],delete on[zt+"-bottom"+tn],delete on[zt+"-left"+tn])}}}}}function we(zt){var tn,On=on[zt];if(On){for(tn=(On=On.split(" ")).length;tn--;)if(On[tn]!==On[0])return;return on[zt]=On[0],1}}function Me(zt){return dt=!0,W[zt]}function ke(zt,tn){return dt&&(zt=zt.replace(/\uFEFF[0-9]/g,function(On){return W[On]})),tn?zt:zt.replace(/\\([\'\";:])/g,"$1")}function Ne(zt){return String.fromCharCode(parseInt(zt.slice(1),16))}function je(zt){return zt.replace(/\\[0-9a-f]+/gi,Ne)}function ct(zt,tn,On,er,An,Xn){if(An=An||Xn)return"'"+(An=ke(An)).replace(/\'/g,"\\'")+"'";if(tn=ke(tn||On||er),!s.allow_script_urls){var Fn=tn.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Fn)||!s.allow_svg_data_urls&&/^data:image\/svg/i.test(Fn))return""}return"url('"+(tn=Mt?Mt.call(At,tn,"style"):tn).replace(/\'/g,"\\'")+"')"}var Dt,Ye,rt,dt,Vt,Zt,ln,on={},Mt=s.url_converter,At=s.url_converter_scope||M;if(pe){for(pe=(pe=pe.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,Me).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(zt){return zt.replace(/[;:]/g,Me)});Dt=B.exec(pe);)B.lastIndex=Dt.index+Dt[0].length,Ye=Dt[1].replace(G,"").toLowerCase(),rt=Dt[2].replace(G,""),Ye&&rt&&(Ye=je(Ye),rt=je(rt),-1===Ye.indexOf(re)&&-1===Ye.indexOf('"')&&(s.allow_script_urls||"behavior"!==Ye&&!/expression\s*\(|\/\*|\*\//.test(rt))&&("font-weight"===Ye&&"700"===rt?rt="bold":"color"!==Ye&&"background-color"!==Ye||(rt=rt.toLowerCase()),rt=(rt=rt.replace(O,q1)).replace(L,ct),on[Ye]=dt?ke(rt,!0):rt));be("border","",!0),be("border","-width"),be("border","-color"),be("border","-style"),be("padding",""),be("margin",""),Zt="border-style",ln="border-color",we(Vt="border-width")&&we(Zt)&&we(ln)&&(on.border=on[Vt]+" "+on[Zt]+" "+on[ln],delete on[Vt],delete on[Zt],delete on[ln]),"medium none"===on.border&&delete on.border,"none"===on["border-image"]&&delete on["border-image"]}return on},serialize:function(pe,be){function we(ke){var Ne,je=v[ke];if(je)for(var ct=0,Dt=je.length;ct<Dt;ct++)(Ne=pe[ke=je[ct]])&&(Me+=(0<Me.length?" ":"")+ke+": "+Ne+";")}var Me="";return be&&v?(we("*"),we(be)):Rn(pe,function(ke,Ne){var je;!ke||w&&((je=w["*"])&&je[Ne]||(je=w[be])&&je[Ne])||(Me+=(0<Me.length?" ":"")+Ne+": "+ke+";")}),Me}}}function ds(s){return s instanceof Event||pt(s.initEvent)}function Bu(s,d,v,w){var M,O,L=function(B){var G,W=null!=w?w:{};for(G in B)so(hh,G)||(W[G]=B[G]);return U(W.composedPath)&&(W.composedPath=function(){return B.composedPath()}),W}(d);return L.type=s,xe(L.target)&&(L.target=null!==(M=L.srcElement)&&void 0!==M?M:v),(xe((O=d).preventDefault)||ds(O))&&(L.preventDefault=function(){L.defaultPrevented=!0,L.isDefaultPrevented=sn,pt(d.preventDefault)?d.preventDefault():ds(d)&&(d.returnValue=!1)},L.stopPropagation=function(){L.cancelBubble=!0,L.isPropagationStopped=sn,pt(d.stopPropagation)?d.stopPropagation():ds(d)&&(d.cancelBubble=!0)},L.stopImmediatePropagation=function(){L.isImmediatePropagationStopped=sn,L.stopPropagation()},L.isDefaultPrevented!==sn&&L.isDefaultPrevented!==ht&&(L.isDefaultPrevented=!0===L.defaultPrevented?sn:ht,L.isPropagationStopped=!0===L.cancelBubble?sn:ht,L.isImmediatePropagationStopped=ht)),L}function yf(s,d,v,w){s.addEventListener?s.addEventListener(d,v,w||!1):s.attachEvent&&s.attachEvent("on"+d,v)}function Td(s,d,v,w){s.removeEventListener?s.removeEventListener(d,v,w||!1):s.detachEvent&&s.detachEvent("on"+d,v)}function jf(s,d){var v,w,M,O,L=Bu(s.type,s,document,d);return U(O=s)&&pb.test(O.type)&&Ke(s.pageX)&&!Ke(s.clientX)&&(w=(v=L.target.ownerDocument||document).documentElement,M=v.body,L.pageX=s.clientX+(w&&w.scrollLeft||M&&M.scrollLeft||0)-(w&&w.clientLeft||M&&M.clientLeft||0),L.pageY=s.clientY+(w&&w.scrollTop||M&&M.scrollTop||0)-(w&&w.clientTop||M&&M.clientTop||0)),Ke(L.metaKey)&&(L.metaKey=!1),L}var em=pl(["h1","h2","h3","h4","h5","h6"]),$u=pl(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),Gy=pl(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),dh=pl(["ul","ol","dl"]),Bi=pl(["li","dd","dt"]),Bo=pl(["thead","tbody","tfoot"]),Gr=pl(["td","th"]),Dd=pl(["pre","script","textarea","style"]),gu="\ufeff",yc="\xa0",zs=gu,qh=function(s){return s===gu},xn=function(s){return s.replace(/\uFEFF/g,"")},Dv=uo,gl=Er,Ad=function(s){return gl(s)&&s.data[0]===zs},Yh=function(s){return gl(s)&&s.data[s.data.length-1]===zs},Id=Xu,Av=to,Xh=La,Uy=Er,bf=hc(["script","style","textarea"]),Rr=hc(["img","input","textarea","hr","iframe","video","audio","object","embed"]),tm=hc(["table"]),Y1=Nr,qf=function(s){return!1===(uo(d=s)&&"true"===d.getAttribute("unselectable"))&&Av(s);var d},lo=/^[ \t\r\n]*$/,Zh=_v("data-mce-bookmark"),Kh=_v("data-mce-bogus"),Yf=function(s){return uo(s)&&"all"===s.getAttribute("data-mce-bogus")},Wp=function(s,d,v){var w=v||d;if(uo(d)&&j1(d))return d;for(var M,O,L,B,G,W,re,$,ue,pe,be,we=d.childNodes,Me=we.length-1;0<=Me;Me--)Wp(s,we[Me],w);return!uo(d)||1===(M=d.childNodes).length&&j1(M[0])&&d.parentNode.insertBefore(M[0],d),Vp(L=d)||Yu(L)||Wy(d,w)||uo(O=d)&&0<O.childNodes.length||(G=w,Er(B=d)&&0<B.data.length&&($=new Qs(W=B,re=G).prev(!1),ue=new Qs(W,re).next(!1),pe=Ke($)||U1($,re),be=Ke(ue)||U1(ue,re),pe&&be))||s.remove(d),d},P_=gn.makeMap,hb=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,jy=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,zi=/[<>&\"\']/g,Qn=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,ri={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"},la={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},eu={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},xf=E_("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Kl={encodeRaw:Fr,encodeAllRaw:function(s){return(""+s).replace(zi,function(d){return la[d]||d})},encodeNumeric:kv,encodeNamed:Hc,getEncodeFunc:function(s,d){var v=E_(d)||xf,w=P_(s.replace(/\+/g,","));return w.named&&w.numeric?function(M,O){return M.replace(O?hb:jy,function(L){return void 0!==la[L]?la[L]:void 0!==v[L]?v[L]:1<L.length?"&#"+(1024*(L.charCodeAt(0)-55296)+(L.charCodeAt(1)-56320)+65536)+";":"&#"+L.charCodeAt(0)+";"})}:w.named?d?function(M,O){return Hc(M,O,v)}:Hc:w.numeric?kv:Fr},decode:function(s){return s.replace(Qn,function(d,v){return v?65535<(v="x"===v.charAt(0).toLowerCase()?parseInt(v.substr(1),16):parseInt(v,10))?(v-=65536,String.fromCharCode(55296+(v>>10),56320+(1023&v))):ri[v]||String.fromCharCode(v):eu[d]||xf[d]||(w=d,(M=Ut.fromTag("div").dom).innerHTML=w,M.textContent||M.innerText||w);var w,M})}},ml={},$h={},_f=gn.makeMap,Ms=gn.each,Jh=gn.extend,Od=gn.explode,Wc=gn.inArray,hh={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},pb=/^(?:mouse|contextmenu)|click/,Ba=(mu.prototype.bind=function(s,d,v,w){function M(we){$.executeHandlers(jf(we||ue.event),O)}var O,L,B,G,W,re,$=this,ue=window;if(s&&3!==s.nodeType&&8!==s.nodeType){s[$.expando]?O=s[$.expando]:(O=$.count++,s[$.expando]=O,$.events[O]={}),w=w||s;for(var pe=d.split(" "),be=pe.length;be--;)W=M,G=re=!1,"DOMContentLoaded"===(B=pe[be])&&(B="ready"),$.domLoaded&&"ready"===B&&"complete"===s.readyState?v.call(w,jf({type:B})):($.hasMouseEnterLeave||(G=$.mouseEnterLeave[B])&&(W=function(we){var Me=we.currentTarget,ke=we.relatedTarget;if(ke&&Me.contains)ke=Me.contains(ke);else for(;ke&&ke!==Me;)ke=ke.parentNode;ke||((we=jf(we||ue.event)).type="mouseout"===we.type?"mouseleave":"mouseenter",we.target=Me,$.executeHandlers(we,O))}),$.hasFocusIn||"focusin"!==B&&"focusout"!==B||(re=!0,G="focusin"===B?"focus":"blur",W=function(we){(we=jf(we||ue.event)).type="focus"===we.type?"focusin":"focusout",$.executeHandlers(we,O)}),(L=$.events[O][B])?"ready"===B&&$.domLoaded?v(jf({type:B})):L.push({func:v,scope:w}):($.events[O][B]=L=[{func:v,scope:w}],L.fakeName=G,L.capture=re,L.nativeHandler=W,"ready"===B?function(we,Me,ke){var Ne,je=we.document,ct={type:"ready"};ke.domLoaded?Me(ct):(Ne=function(){Td(we,"DOMContentLoaded",Ne),Td(we,"load",Ne),ke.domLoaded||(ke.domLoaded=!0,Me(ct)),we=null},"complete"===je.readyState||"interactive"===je.readyState&&je.body?Ne():yf(we,"DOMContentLoaded",Ne),ke.domLoaded||yf(we,"load",Ne))}(s,W,$):yf(s,G||B,W,re)));return s=L=null,v}},mu.prototype.unbind=function(s,d,v){var w,M,O;if(!s||3===s.nodeType||8===s.nodeType)return this;var L=s[this.expando];if(L){if(O=this.events[L],d){for(var B,G,W,re,$=d.split(" "),ue=$.length;ue--;)if(re=O[M=$[ue]]){if(v)for(w=re.length;w--;)re[w].func===v&&(B=re.nativeHandler,G=re.fakeName,W=re.capture,(re=re.slice(0,w).concat(re.slice(w+1))).nativeHandler=B,re.fakeName=G,re.capture=W,O[M]=re);v&&0!==re.length||(delete O[M],Td(s,re.fakeName||M,re.nativeHandler,re.capture))}}else Rn(O,function(pe,be){Td(s,pe.fakeName||be,pe.nativeHandler,pe.capture)}),O={};for(M in O)if(so(O,M))return this;delete this.events[L];try{delete s[this.expando]}catch{s[this.expando]=null}}return this},mu.prototype.fire=function(s,d,v){var w;if(!s||3===s.nodeType||8===s.nodeType)return this;for(var M=jf({type:d,target:s},v);(w=s[this.expando])&&this.executeHandlers(M,w),(s=s.parentNode||s.ownerDocument||s.defaultView||s.parentWindow)&&!M.isPropagationStopped(););return this},mu.prototype.clean=function(s){var d,v;if(!s||3===s.nodeType||8===s.nodeType)return this;if(s[this.expando]&&this.unbind(s),(s=s.getElementsByTagName?s:s.document)&&s.getElementsByTagName)for(this.unbind(s),d=(v=s.getElementsByTagName("*")).length;d--;)(s=v[d])[this.expando]&&this.unbind(s);return this},mu.prototype.destroy=function(){this.events={}},mu.prototype.cancel=function(s){return s&&(s.preventDefault(),s.stopImmediatePropagation()),!1},mu.prototype.executeHandlers=function(s,d){var v=this.events[d],w=v&&v[s.type];if(w)for(var M=0,O=w.length;M<O;M++){var L=w[M];if(L&&!1===L.func.call(L.scope,s)&&s.preventDefault(),s.isImmediatePropagationStopped())return}},mu.Event=new mu,mu);function mu(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}function $l(s,d,v){var w="0x"+d-65536;return w!=w||v?d:w<0?String.fromCharCode(65536+w):String.fromCharCode(w>>10|55296,1023&w|56320)}var $i,qi,Jl,nm,Gp,gb,fi,Xf,Qh,Ed,Ko,Ta,Zf,vl,ep,ph,Iv,is="sizzle"+-new Date,xa=window.document,yl=0,Pd=0,Rd=vb(),Qo=vb(),bc=vb(),wf=function(s,d){return s===d&&(Ed=!0),0},Ld="undefined",vu={}.hasOwnProperty,gh=[],tp=gh.pop,qy=gh.push,np=gh.push,R_=gh.slice,Gc=gh.indexOf||function(s){for(var d=0,v=this.length;d<v;d++)if(this[d]===s)return d;return-1},za="[\\x20\\t\\r\\n\\f]",tu="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Ql="\\["+za+"*("+tu+")(?:"+za+"*([*^$|!~]?=)"+za+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+tu+"))|)"+za+"*\\]",rp=":("+tu+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Ql+")*)|.*)\\)|)",Yy=new RegExp("^"+za+"+|((?:^|[^\\\\])(?:\\\\.)*)"+za+"+$","g"),L_=new RegExp("^"+za+"*,"+za+"*"),mb=new RegExp("^"+za+"*([>+~]|"+za+")"+za+"*"),Ov=new RegExp("="+za+"*([^\\]'\"]*?)"+za+"*\\]","g"),op=new RegExp(rp),X1=new RegExp("^"+tu+"$"),rm={ID:new RegExp("^#("+tu+")"),CLASS:new RegExp("^\\.("+tu+")"),TAG:new RegExp("^("+tu+"|[*])"),ATTR:new RegExp("^"+Ql),PSEUDO:new RegExp("^"+rp),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+za+"*(even|odd|(([+-]|)(\\d*)n|)"+za+"*(?:([+-]|)"+za+"*(\\d+)|))"+za+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+za+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+za+"*((?:-\\d)?\\d*)"+za+"*\\)|)(?=[^-]|$)","i")},mh=/^(?:input|select|textarea|button)$/i,Ei=/^h\d$/i,ca=/^[^{]+\{\s*\[native \w/,Kf=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Up=/[+~]/,Nd=/'|\\/g,vh=new RegExp("\\\\([\\da-f]{1,6}"+za+"?|("+za+")|.)","ig");try{np.apply(gh=R_.call(xa.childNodes),xa.childNodes)}catch{np={apply:gh.length?function(d,v){qy.apply(d,R_.call(v))}:function(d,v){for(var w=d.length,M=0;d[w++]=v[M++];);d.length=w-1}}}var Gi=function(s,d,v,w){var M,O,L,B,G,W,re,$,ue,pe;if((d?d.ownerDocument||d:xa)!==Ta&&Ko(d),v=v||[],!s||"string"!=typeof s)return v;if(1!==(B=(d=d||Ta).nodeType)&&9!==B)return[];if(vl&&!w){if(M=Kf.exec(s))if(L=M[1]){if(9===B){if(!(O=d.getElementById(L))||!O.parentNode)return v;if(O.id===L)return v.push(O),v}else if(d.ownerDocument&&(O=d.ownerDocument.getElementById(L))&&Iv(d,O)&&O.id===L)return v.push(O),v}else{if(M[2])return np.apply(v,d.getElementsByTagName(s)),v;if((L=M[3])&&$i.getElementsByClassName)return np.apply(v,d.getElementsByClassName(L)),v}if($i.qsa&&(!ep||!ep.test(s))){if($=re=is,ue=d,pe=9===B&&s,1===B&&"object"!==d.nodeName.toLowerCase()){for(W=Gp(s),(re=d.getAttribute("id"))?$=re.replace(Nd,"\\$&"):d.setAttribute("id",$),$="[id='"+$+"'] ",G=W.length;G--;)W[G]=$+ip(W[G]);ue=Up.test(s)&&yb(d.parentNode)||d,pe=W.join(",")}if(pe)try{return np.apply(v,ue.querySelectorAll(pe)),v}catch{}finally{re||d.removeAttribute("id")}}}return fi(s.replace(Yy,"$1"),d,v,w)};function vb(){var s=[];return function d(v,w){return s.push(v+" ")>qi.cacheLength&&delete d[s.shift()],d[v+" "]=w}}function Bd(s){return s[is]=!0,s}function N_(s,d){var v=d&&s,w=v&&1===s.nodeType&&1===d.nodeType&&(~d.sourceIndex||1<<31)-(~s.sourceIndex||1<<31);if(w)return w;if(v)for(;v=v.nextSibling;)if(v===d)return-1;return s?1:-1}function jp(s){return Bd(function(d){return d=+d,Bd(function(v,w){for(var M,O=s([],v.length,d),L=O.length;L--;)v[M=O[L]]&&(v[M]=!(w[M]=v[M]))})})}function yb(s){return s&&typeof s.getElementsByTagName!=Ld&&s}function qp(){}function ip(s){for(var d=0,v=s.length,w="";d<v;d++)w+=s[d].value;return w}function B_(s,d,v){var w=d.dir,M=v&&"parentNode"===w,O=Pd++;return d.first?function(L,B,G){for(;L=L[w];)if(1===L.nodeType||M)return s(L,B,G)}:function(L,B,G){var W,re,$=[yl,O];if(G){for(;L=L[w];)if((1===L.nodeType||M)&&s(L,B,G))return!0}else for(;L=L[w];)if(1===L.nodeType||M){if((W=(re=L[is]||(L[is]={}))[w])&&W[0]===yl&&W[1]===O)return $[2]=W[2];if((re[w]=$)[2]=s(L,B,G))return!0}}}function om(s){return 1<s.length?function(d,v,w){for(var M=s.length;M--;)if(!s[M](d,v,w))return!1;return!0}:s[0]}function Yp(s,d,v,w,M){for(var O,L=[],B=0,G=s.length,W=null!=d;B<G;B++)(O=s[B])&&(v&&!v(O,w,M)||(L.push(O),W&&d.push(B)));return L}function zd(s){return void 0!==s}function bl(s){return"string"==typeof s}function ec(s,d){var v,w=(d=d||tc).createElement("div"),M=d.createDocumentFragment();for(w.innerHTML=s;v=w.firstChild;)M.appendChild(v);return M}function Z1(s,d){return s&&d&&-1!==(" "+s.className+" ").indexOf(" "+d+" ")}function zu(s,d,v){var w,M;return d=po(d)[0],s.each(function(){v&&w===this.parentNode||(w=this.parentNode,M=d.cloneNode(!1),this.parentNode.insertBefore(M,this)),M.appendChild(this)}),s}function xc(s,d){return new po.fn.init(s,d)}function Ev(s){return null==s?"":(""+s).replace(da,"")}function nu(s,d){var v,w,M,O;if(s)if(void 0===(v=s.length)){for(w in s)if(s.hasOwnProperty(w)&&!1===d.call(O=s[w],w,O))break}else for(M=0;M<v&&!1!==d.call(O=s[M],M,O);M++);return s}function Yi(s,d){var v=[];return nu(s,function(w,M){d(M,w)&&v.push(M)}),v}$i=Gi.support={},nm=Gi.isXML=function(s){var d=s&&(s.ownerDocument||s).documentElement;return!!d&&"HTML"!==d.nodeName},Ko=Gi.setDocument=function(s){var d,v=s?s.ownerDocument||s:xa,w=v.defaultView;return v!==Ta&&9===v.nodeType&&v.documentElement?(Zf=(Ta=v).documentElement,vl=!nm(v),w&&w!==function(M){try{return M.top}catch{}return null}(w)&&(w.addEventListener?w.addEventListener("unload",function(){Ko()},!1):w.attachEvent&&w.attachEvent("onunload",function(){Ko()})),$i.attributes=!0,$i.getElementsByTagName=!0,$i.getElementsByClassName=ca.test(v.getElementsByClassName),$i.getById=!0,qi.find.ID=function(M,O){if(typeof O.getElementById!=Ld&&vl){var L=O.getElementById(M);return L&&L.parentNode?[L]:[]}},qi.filter.ID=function(M){var O=M.replace(vh,$l);return function(L){return L.getAttribute("id")===O}},qi.find.TAG=$i.getElementsByTagName?function(M,O){if(typeof O.getElementsByTagName!=Ld)return O.getElementsByTagName(M)}:function(M,O){var L,B=[],G=0,W=O.getElementsByTagName(M);if("*"!==M)return W;for(;L=W[G++];)1===L.nodeType&&B.push(L);return B},qi.find.CLASS=$i.getElementsByClassName&&function(M,O){if(vl)return O.getElementsByClassName(M)},ph=[],ep=[],$i.disconnectedMatch=!0,ep=ep.length&&new RegExp(ep.join("|")),ph=ph.length&&new RegExp(ph.join("|")),d=ca.test(Zf.compareDocumentPosition),Iv=d||ca.test(Zf.contains)?function(M,O){var L=9===M.nodeType?M.documentElement:M,B=O&&O.parentNode;return M===B||!(!B||1!==B.nodeType||!(L.contains?L.contains(B):M.compareDocumentPosition&&16&M.compareDocumentPosition(B)))}:function(M,O){if(O)for(;O=O.parentNode;)if(O===M)return!0;return!1},wf=d?function(M,O){return M===O?(Ed=!0,0):(L=!M.compareDocumentPosition-!O.compareDocumentPosition)||(1&(L=(M.ownerDocument||M)===(O.ownerDocument||O)?M.compareDocumentPosition(O):1)||!$i.sortDetached&&O.compareDocumentPosition(M)===L?M===v||M.ownerDocument===xa&&Iv(xa,M)?-1:O===v||O.ownerDocument===xa&&Iv(xa,O)?1:Qh?Gc.call(Qh,M)-Gc.call(Qh,O):0:4&L?-1:1);var L}:function(M,O){if(M===O)return Ed=!0,0;var L,B=0,G=M.parentNode,W=O.parentNode,re=[M],$=[O];if(!G||!W)return M===v?-1:O===v?1:G?-1:W?1:Qh?Gc.call(Qh,M)-Gc.call(Qh,O):0;if(G===W)return N_(M,O);for(L=M;L=L.parentNode;)re.unshift(L);for(L=O;L=L.parentNode;)$.unshift(L);for(;re[B]===$[B];)B++;return B?N_(re[B],$[B]):re[B]===xa?-1:$[B]===xa?1:0},v):Ta},Gi.matches=function(s,d){return Gi(s,null,null,d)},Gi.matchesSelector=function(s,d){if((s.ownerDocument||s)!==Ta&&Ko(s),d=d.replace(Ov,"='$1']"),$i.matchesSelector&&vl&&(!ph||!ph.test(d))&&(!ep||!ep.test(d)))try{var v=(void 0).call(s,d);if(v||$i.disconnectedMatch||s.document&&11!==s.document.nodeType)return v}catch{}return 0<Gi(d,Ta,null,[s]).length},Gi.contains=function(s,d){return(s.ownerDocument||s)!==Ta&&Ko(s),Iv(s,d)},Gi.attr=function(s,d){(s.ownerDocument||s)!==Ta&&Ko(s);var v=qi.attrHandle[d.toLowerCase()],w=v&&vu.call(qi.attrHandle,d.toLowerCase())?v(s,d,!vl):void 0;return void 0!==w?w:$i.attributes||!vl?s.getAttribute(d):(w=s.getAttributeNode(d))&&w.specified?w.value:null},Gi.error=function(s){throw new Error("Syntax error, unrecognized expression: "+s)},Gi.uniqueSort=function(s){var d,v=[],w=0,M=0;if(Ed=!$i.detectDuplicates,Qh=!$i.sortStable&&s.slice(0),s.sort(wf),Ed){for(;d=s[M++];)d===s[M]&&(w=v.push(M));for(;w--;)s.splice(v[w],1)}return Qh=null,s},Jl=Gi.getText=function(s){var d,v="",w=0,M=s.nodeType;if(M){if(1===M||9===M||11===M){if("string"==typeof s.textContent)return s.textContent;for(s=s.firstChild;s;s=s.nextSibling)v+=Jl(s)}else if(3===M||4===M)return s.nodeValue}else for(;d=s[w++];)v+=Jl(d);return v},(qi=Gi.selectors={cacheLength:50,createPseudo:Bd,match:rm,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(s){return s[1]=s[1].replace(vh,$l),s[3]=(s[3]||s[4]||s[5]||"").replace(vh,$l),"~="===s[2]&&(s[3]=" "+s[3]+" "),s.slice(0,4)},CHILD:function(s){return s[1]=s[1].toLowerCase(),"nth"===s[1].slice(0,3)?(s[3]||Gi.error(s[0]),s[4]=+(s[4]?s[5]+(s[6]||1):2*("even"===s[3]||"odd"===s[3])),s[5]=+(s[7]+s[8]||"odd"===s[3])):s[3]&&Gi.error(s[0]),s},PSEUDO:function(s){var d,v=!s[6]&&s[2];return rm.CHILD.test(s[0])?null:(s[3]?s[2]=s[4]||s[5]||"":v&&op.test(v)&&(d=Gp(v,!0))&&(d=v.indexOf(")",v.length-d)-v.length)&&(s[0]=s[0].slice(0,d),s[2]=v.slice(0,d)),s.slice(0,3))}},filter:{TAG:function(s){var d=s.replace(vh,$l).toLowerCase();return"*"===s?function(){return!0}:function(v){return v.nodeName&&v.nodeName.toLowerCase()===d}},CLASS:function(s){var d=Rd[s+" "];return d||(d=new RegExp("(^|"+za+")"+s+"("+za+"|$)"))&&Rd(s,function(v){return d.test("string"==typeof v.className&&v.className||typeof v.getAttribute!=Ld&&v.getAttribute("class")||"")})},ATTR:function(s,d,v){return function(w){var M=Gi.attr(w,s);return null==M?"!="===d:!d||(M+="","="===d?M===v:"!="===d?M!==v:"^="===d?v&&0===M.indexOf(v):"*="===d?v&&-1<M.indexOf(v):"$="===d?v&&M.slice(-v.length)===v:"~="===d?-1<(" "+M+" ").indexOf(v):"|="===d&&(M===v||M.slice(0,v.length+1)===v+"-"))}},CHILD:function(s,d,v,w,M){var O="nth"!==s.slice(0,3),L="last"!==s.slice(-4),B="of-type"===d;return 1===w&&0===M?function(G){return!!G.parentNode}:function(G,W,re){var $,ue,pe,be,we,Me,ke=O!=L?"nextSibling":"previousSibling",Ne=G.parentNode,je=B&&G.nodeName.toLowerCase(),ct=!re&&!B;if(Ne){if(O){for(;ke;){for(pe=G;pe=pe[ke];)if(B?pe.nodeName.toLowerCase()===je:1===pe.nodeType)return!1;Me=ke="only"===s&&!Me&&"nextSibling"}return!0}if(Me=[L?Ne.firstChild:Ne.lastChild],L&&ct){for(we=($=(ue=Ne[is]||(Ne[is]={}))[s]||[])[0]===yl&&$[1],be=$[0]===yl&&$[2],pe=we&&Ne.childNodes[we];pe=++we&&pe&&pe[ke]||(be=we=0)||Me.pop();)if(1===pe.nodeType&&++be&&pe===G){ue[s]=[yl,we,be];break}}else if(ct&&($=(G[is]||(G[is]={}))[s])&&$[0]===yl)be=$[1];else for(;(pe=++we&&pe&&pe[ke]||(be=we=0)||Me.pop())&&((B?pe.nodeName.toLowerCase()!==je:1!==pe.nodeType)||!++be||(ct&&((pe[is]||(pe[is]={}))[s]=[yl,be]),pe!==G)););return(be-=M)===w||be%w==0&&0<=be/w}}},PSEUDO:function(s,d){var v,w=qi.pseudos[s]||qi.setFilters[s.toLowerCase()]||Gi.error("unsupported pseudo: "+s);return w[is]?w(d):1<w.length?(v=[s,s,"",d],qi.setFilters.hasOwnProperty(s.toLowerCase())?Bd(function(M,O){for(var L,B=w(M,d),G=B.length;G--;)M[L=Gc.call(M,B[G])]=!(O[L]=B[G])}):function(M){return w(M,0,v)}):w}},pseudos:{not:Bd(function(s){var d=[],v=[],w=gb(s.replace(Yy,"$1"));return w[is]?Bd(function(M,O,L,B){for(var G,W=w(M,null,B,[]),re=M.length;re--;)(G=W[re])&&(M[re]=!(O[re]=G))}):function(M,O,L){return d[0]=M,w(d,null,L,v),d[0]=null,!v.pop()}}),has:Bd(function(s){return function(d){return 0<Gi(s,d).length}}),contains:Bd(function(s){return s=s.replace(vh,$l),function(d){return-1<(d.textContent||d.innerText||Jl(d)).indexOf(s)}}),lang:Bd(function(s){return X1.test(s||"")||Gi.error("unsupported lang: "+s),s=s.replace(vh,$l).toLowerCase(),function(d){var v;do{if(v=vl?d.lang:d.getAttribute("xml:lang")||d.getAttribute("lang"))return(v=v.toLowerCase())===s||0===v.indexOf(s+"-")}while((d=d.parentNode)&&1===d.nodeType);return!1}}),target:function(s){var d=window.location&&window.location.hash;return d&&d.slice(1)===s.id},root:function(s){return s===Zf},focus:function(s){return s===Ta.activeElement&&(!Ta.hasFocus||Ta.hasFocus())&&!!(s.type||s.href||~s.tabIndex)},enabled:function(s){return!1===s.disabled},disabled:function(s){return!0===s.disabled},checked:function(s){var d=s.nodeName.toLowerCase();return"input"===d&&!!s.checked||"option"===d&&!!s.selected},selected:function(s){return!0===s.selected},empty:function(s){for(s=s.firstChild;s;s=s.nextSibling)if(s.nodeType<6)return!1;return!0},parent:function(s){return!qi.pseudos.empty(s)},header:function(s){return Ei.test(s.nodeName)},input:function(s){return mh.test(s.nodeName)},button:function(s){var d=s.nodeName.toLowerCase();return"input"===d&&"button"===s.type||"button"===d},text:function(s){var d;return"input"===s.nodeName.toLowerCase()&&"text"===s.type&&(null==(d=s.getAttribute("type"))||"text"===d.toLowerCase())},first:jp(function(){return[0]}),last:jp(function(s,d){return[d-1]}),eq:jp(function(s,d,v){return[v<0?v+d:v]}),even:jp(function(s,d){for(var v=0;v<d;v+=2)s.push(v);return s}),odd:jp(function(s,d){for(var v=1;v<d;v+=2)s.push(v);return s}),lt:jp(function(s,d,v){for(var w=v<0?v+d:v;0<=--w;)s.push(w);return s}),gt:jp(function(s,d,v){for(var w=v<0?v+d:v;++w<d;)s.push(w);return s})}}).pseudos.nth=qi.pseudos.eq,Sn(["radio","checkbox","file","password","image"],function(s){var d;qi.pseudos[s]=(d=s,function(v){return"input"===v.nodeName.toLowerCase()&&v.type===d})}),Sn(["submit","reset"],function(s){var d;qi.pseudos[s]=(d=s,function(v){var w=v.nodeName.toLowerCase();return("input"===w||"button"===w)&&v.type===d})}),qp.prototype=qi.filters=qi.pseudos,qi.setFilters=new qp,Gp=Gi.tokenize=function(s,d){var v,w,M,O,L,B,G,W=Qo[s+" "];if(W)return d?0:W.slice(0);for(L=s,B=[],G=qi.preFilter;L;){for(O in v&&!(w=L_.exec(L))||(w&&(L=L.slice(w[0].length)||L),B.push(M=[])),v=!1,(w=mb.exec(L))&&(v=w.shift(),M.push({value:v,type:w[0].replace(Yy," ")}),L=L.slice(v.length)),qi.filter)qi.filter.hasOwnProperty(O)&&(!(w=rm[O].exec(L))||G[O]&&!(w=G[O](w))||(v=w.shift(),M.push({value:v,type:O,matches:w}),L=L.slice(v.length)));if(!v)break}return d?L.length:L?Gi.error(s):Qo(s,B).slice(0)},gb=Gi.compile=function(s,d){var v,w,M,O,L,B=[],G=[],W=bc[s+" "];if(!W){for(v=(d=d||Gp(s)).length;v--;)((W=function $(ue){for(var pe,be,we,Me=ue.length,ke=qi.relative[ue[0].type],Ne=ke||qi.relative[" "],je=ke?1:0,ct=B_(function(rt){return rt===pe},Ne,!0),Dt=B_(function(rt){return-1<Gc.call(pe,rt)},Ne,!0),Ye=[function(rt,dt,Vt){var Zt=!ke&&(Vt||dt!==Xf)||((pe=dt).nodeType?ct:Dt)(rt,dt,Vt);return pe=null,Zt}];je<Me;je++)if(be=qi.relative[ue[je].type])Ye=[B_(om(Ye),be)];else{if((be=qi.filter[ue[je].type].apply(null,ue[je].matches))[is]){for(we=++je;we<Me&&!qi.relative[ue[we].type];we++);return function rt(dt,Vt,Zt,ln,on,Mt){return ln&&!ln[is]&&(ln=rt(ln)),on&&!on[is]&&(on=rt(on,Mt)),Bd(function(At,zt,tn,On){var er,An,Xn,Fn=[],Yn=[],qn=zt.length,xr=At||function(Hn,Tr,Dr){for(var Ao=0,gt=Tr.length;Ao<gt;Ao++)Gi(Hn,Tr[Ao],Dr);return Dr}(Vt||"*",tn.nodeType?[tn]:tn,[]),Tn=!dt||!At&&Vt?xr:Yp(xr,Fn,dt,tn,On),pr=Zt?on||(At?dt:qn||ln)?[]:zt:Tn;if(Zt&&Zt(Tn,pr,tn,On),ln)for(er=Yp(pr,Yn),ln(er,[],tn,On),An=er.length;An--;)(Xn=er[An])&&(pr[Yn[An]]=!(Tn[Yn[An]]=Xn));if(At){if(on||dt){if(on){for(er=[],An=pr.length;An--;)(Xn=pr[An])&&er.push(Tn[An]=Xn);on(null,pr=[],er,On)}for(An=pr.length;An--;)(Xn=pr[An])&&-1<(er=on?Gc.call(At,Xn):Fn[An])&&(At[er]=!(zt[er]=Xn))}}else pr=Yp(pr===zt?pr.splice(qn,pr.length):pr),on?on(null,zt,pr,On):np.apply(zt,pr)})}(1<je&&om(Ye),1<je&&ip(ue.slice(0,je-1).concat({value:" "===ue[je-2].type?"*":""})).replace(Yy,"$1"),be,je<we&&$(ue.slice(je,we)),we<Me&&$(ue=ue.slice(we)),we<Me&&ip(ue))}Ye.push(be)}return om(Ye)}(d[v]))[is]?B:G).push(W);(W=bc(s,(w=G,O=0<(M=B).length,L=0<w.length,O?Bd(re):re))).selector=s}function re($,ue,pe,be,we){var Me,ke,Ne,je=0,ct="0",Dt=$&&[],Ye=[],rt=Xf,dt=$||L&&qi.find.TAG("*",we),Vt=yl+=null==rt?1:Math.random()||.1,Zt=dt.length;for(we&&(Xf=ue!==Ta&&ue);ct!==Zt&&null!=(Me=dt[ct]);ct++){if(L&&Me){for(ke=0;Ne=w[ke++];)if(Ne(Me,ue,pe)){be.push(Me);break}we&&(yl=Vt)}O&&((Me=!Ne&&Me)&&je--,$&&Dt.push(Me))}if(je+=ct,O&&ct!==je){for(ke=0;Ne=M[ke++];)Ne(Dt,Ye,ue,pe);if($){if(0<je)for(;ct--;)Dt[ct]||Ye[ct]||(Ye[ct]=tp.call(be));Ye=Yp(Ye)}np.apply(be,Ye),we&&!$&&0<Ye.length&&1<je+M.length&&Gi.uniqueSort(be)}return we&&(yl=Vt,Xf=rt),Dt}return W},fi=Gi.select=function(s,d,v,w){var M,O,L,B,G,W="function"==typeof s&&s,re=!w&&Gp(s=W.selector||s);if(v=v||[],1===re.length){if(2<(O=re[0]=re[0].slice(0)).length&&"ID"===(L=O[0]).type&&$i.getById&&9===d.nodeType&&vl&&qi.relative[O[1].type]){if(!(d=(qi.find.ID(L.matches[0].replace(vh,$l),d)||[])[0]))return v;W&&(d=d.parentNode),s=s.slice(O.shift().value.length)}for(M=rm.needsContext.test(s)?0:O.length;M--&&!qi.relative[B=(L=O[M]).type];)if((G=qi.find[B])&&(w=G(L.matches[0].replace(vh,$l),Up.test(O[0].type)&&yb(d.parentNode)||d))){if(O.splice(M,1),!(s=w.length&&ip(O)))return np.apply(v,w),v;break}}return(W||gb(s,re))(w,d,!vl,v,Up.test(s)&&yb(d.parentNode)||d),v},$i.sortStable=is.split("").sort(wf).join("")===is,$i.detectDuplicates=!!Ed,Ko(),$i.sortDetached=!0;var tc=document,Xy=Array.prototype.push,Xp=Array.prototype.slice,bb=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,$f=Ba.Event,ap=gn.makeMap("children,contents,next,prev"),fa=function(s,d,v,w){var M;if(bl(d))d=ec(d,Fd(s[0]));else if(d.length&&!d.nodeType){if(d=po.makeArray(d),w)for(M=d.length-1;0<=M;M--)fa(s,d[M],v,w);else for(M=0;M<d.length;M++)fa(s,d[M],v,w);return s}if(d.nodeType)for(M=s.length;M--;)v.call(s[M],d);return s},Sf=gn.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),yu=gn.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),Zp={for:"htmlFor",class:"className",readonly:"readOnly"},Uc={float:"cssFloat"},nc={},K1={},da=/^\s*|\s*$/g,Fd=function(s){return s?9===s.nodeType?s:s.ownerDocument:tc};function Kp(s,d,v){var w=[],M=s[d];for("string"!=typeof v&&v instanceof po&&(v=v[0]);M&&9!==M.nodeType&&(void 0===v||!(M===v||"string"==typeof v&&po(M).is(v)));)1===M.nodeType&&w.push(M),M=M[d];return w}function Vd(s,d,v,w){var M=[];for(w instanceof po&&(w=w[0]);s;s=s[d])if(!v||s.nodeType===v){if(void 0!==w&&(s===w||"string"==typeof w&&po(s).is(w)))break;M.push(s)}return M}function yh(s,d,v){for(s=s[d];s;s=s[d])if(s.nodeType===v)return s;return null}function Cf(s,d){var v=d.attr("style"),w=s.serialize(s.parse(v),d[0].nodeName)||null;d.attr("data-mce-style",w)}function Ju(s,d){var v,w,M=0;if(s)for(v=s.nodeType,s=s.previousSibling;s;s=s.previousSibling)w=s.nodeType,(!d||3!==w||w!==v&&s.nodeValue.length)&&(M++,v=w);return M}xc.fn=xc.prototype={constructor:xc,selector:"",context:null,length:0,init:function(s,d){var v,w,M=this;if(!s)return M;if(s.nodeType)return M.context=M[0]=s,M.length=1,M;if(d&&d.nodeType)M.context=d;else{if(d)return po(s).attr(d);M.context=d=document}if(bl(s)){if(!(v="<"===(M.selector=s).charAt(0)&&">"===s.charAt(s.length-1)&&3<=s.length?[null,s,null]:bb.exec(s)))return po(d).find(s);if(v[1])for(w=ec(s,Fd(d)).firstChild;w;)Xy.call(M,w),w=w.nextSibling;else{if(!(w=Fd(d).getElementById(v[2])))return M;if(w.id!==v[2])return M.find(s);M.length=1,M[0]=w}}else this.add(s,!1);return M},toArray:function(){return gn.toArray(this)},add:function(s,d){var v,w;if(bl(s))return this.add(po(s));if(!1!==d)for(v=po.unique(this.toArray().concat(po.makeArray(s))),this.length=v.length,w=0;w<v.length;w++)this[w]=v[w];else Xy.apply(this,po.makeArray(s));return this},attr:function(s,d){var v,w=this;if("object"==typeof s)nu(s,function(M,O){w.attr(M,O)});else{if(!zd(d)){if(w[0]&&1===w[0].nodeType){if((v=nc[s])&&v.get)return v.get(w[0],s);if(yu[s])return w.prop(s)?s:void 0;null===(d=w[0].getAttribute(s,2))&&(d=void 0)}return d}this.each(function(){var M;1===this.nodeType&&((M=nc[s])&&M.set?M.set(this,d):null===d?this.removeAttribute(s,2):this.setAttribute(s,d,2))})}return w},removeAttr:function(s){return this.attr(s,null)},prop:function(s,d){var v=this;if("object"==typeof(s=Zp[s]||s))nu(s,function(w,M){v.prop(w,M)});else{if(!zd(d))return v[0]&&v[0].nodeType&&s in v[0]?v[0][s]:d;this.each(function(){1===this.nodeType&&(this[s]=d)})}return v},css:function(s,d){function v(B){return B.replace(/-(\D)/g,function(G,W){return W.toUpperCase()})}function w(B){return B.replace(/[A-Z]/g,function(G){return"-"+G})}var M,O,L=this;if("object"==typeof s)nu(s,function(B,G){L.css(B,G)});else if(zd(d))s=v(s),"number"!=typeof d||Sf[s]||(d=d.toString()+"px"),L.each(function(){var B=this.style;if((O=K1[s])&&O.set)O.set(this,d);else{try{this.style[Uc[s]||s]=d}catch{}null!==d&&""!==d||(B.removeProperty?B.removeProperty(w(s)):B.removeAttribute(s))}});else{if(M=L[0],(O=K1[s])&&O.get)return O.get(M);if(!M.ownerDocument.defaultView)return M.currentStyle?M.currentStyle[v(s)]:"";try{return M.ownerDocument.defaultView.getComputedStyle(M,null).getPropertyValue(w(s))}catch{return}}return L},remove:function(){for(var s,d=this.length;d--;)$f.clean(s=this[d]),s.parentNode&&s.parentNode.removeChild(s);return this},empty:function(){for(var s,d=this.length;d--;)for(s=this[d];s.firstChild;)s.removeChild(s.firstChild);return this},html:function(s){var d;if(zd(s)){d=this.length;try{for(;d--;)this[d].innerHTML=s}catch{po(this[d]).empty().append(s)}return this}return this[0]?this[0].innerHTML:""},text:function(s){var d;if(zd(s)){for(d=this.length;d--;)"innerText"in this[d]?this[d].innerText=s:this[0].textContent=s;return this}return this[0]?this[0].innerText||this[0].textContent:""},append:function(){return fa(this,arguments,function(s){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(s)})},prepend:function(){return fa(this,arguments,function(s){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(s,this.firstChild)},!0)},before:function(){return this[0]&&this[0].parentNode?fa(this,arguments,function(s){this.parentNode.insertBefore(s,this)}):this},after:function(){return this[0]&&this[0].parentNode?fa(this,arguments,function(s){this.parentNode.insertBefore(s,this.nextSibling)},!0):this},appendTo:function(s){return po(s).append(this),this},prependTo:function(s){return po(s).prepend(this),this},replaceWith:function(s){return this.before(s).remove()},wrap:function(s){return zu(this,s)},wrapAll:function(s){return zu(this,s,!0)},wrapInner:function(s){return this.each(function(){po(this).contents().wrapAll(s)}),this},unwrap:function(){return this.parent().each(function(){po(this).replaceWith(this.childNodes)})},clone:function(){var s=[];return this.each(function(){s.push(this.cloneNode(!0))}),po(s)},addClass:function(s){return this.toggleClass(s,!0)},removeClass:function(s){return this.toggleClass(s,!1)},toggleClass:function(s,d){var v=this;return"string"!=typeof s||(-1!==s.indexOf(" ")?nu(s.split(" "),function(){v.toggleClass(this,d)}):v.each(function(w,M){var O,L=Z1(M,s);L!==d&&(O=M.className,L?M.className=Ev((" "+O+" ").replace(" "+s+" "," ")):M.className+=O?" "+s:s)})),v},hasClass:function(s){return Z1(this[0],s)},each:function(s){return nu(this,s)},on:function(s,d){return this.each(function(){$f.bind(this,s,d)})},off:function(s,d){return this.each(function(){$f.unbind(this,s,d)})},trigger:function(s){return this.each(function(){"object"==typeof s?$f.fire(this,s.type,s):$f.fire(this,s)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return po(Xp.apply(this,arguments))},eq:function(s){return-1===s?this.slice(s):this.slice(s,+s+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(s){for(var d=[],v=0,w=this.length;v<w;v++)po.find(s,this[v],d);return po(d)},filter:function(s){return po("function"==typeof s?Yi(this.toArray(),function(d,v){return s(v,d)}):po.filter(s,this.toArray()))},closest:function(s){var d=[];return s instanceof po&&(s=s[0]),this.each(function(v,w){for(;w;){if("string"==typeof s&&po(w).is(s)){d.push(w);break}if(w===s){d.push(w);break}w=w.parentNode}}),po(d)},offset:function(s){var d,v,w,M,O=0,L=0;return s?this.css(s):((d=this[0])&&(w=(v=d.ownerDocument).documentElement,d.getBoundingClientRect&&(O=(M=d.getBoundingClientRect()).left+(w.scrollLeft||v.body.scrollLeft)-w.clientLeft,L=M.top+(w.scrollTop||v.body.scrollTop)-w.clientTop)),{left:O,top:L})},push:Xy,sort:Array.prototype.sort,splice:Array.prototype.splice},gn.extend(xc,{extend:gn.extend,makeArray:function(s){return s&&s===s.window||s.nodeType?[s]:gn.toArray(s)},inArray:function(s,d){var v;if(d.indexOf)return d.indexOf(s);for(v=d.length;v--;)if(d[v]===s)return v;return-1},isArray:gn.isArray,each:nu,trim:Ev,grep:Yi,find:Gi,expr:Gi.selectors,unique:Gi.uniqueSort,text:Gi.getText,contains:Gi.contains,filter:function(s,d,v){var w=d.length;for(v&&(s=":not("+s+")");w--;)1!==d[w].nodeType&&d.splice(w,1);return 1===d.length?po.find.matchesSelector(d[0],s)?[d[0]]:[]:po.find.matches(s,d)}}),nu({parent:function(s){var d=s.parentNode;return d&&11!==d.nodeType?d:null},parents:function(s){return Kp(s,"parentNode")},next:function(s){return yh(s,"nextSibling",1)},prev:function(s){return yh(s,"previousSibling",1)},children:function(s){return Vd(s.firstChild,"nextSibling",1)},contents:function(s){return gn.toArray(("iframe"===s.nodeName?s.contentDocument||s.contentWindow.document:s).childNodes)}},function(s,d){xc.fn[s]=function(v){var w=[];this.each(function(){var O=d.call(w,this,v,w);O&&(po.isArray(O)?w.push.apply(w,O):w.push(O))}),1<this.length&&(ap[s]||(w=po.unique(w)),0===s.indexOf("parents")&&(w=w.reverse()));var M=po(w);return v?M.filter(v):M}}),nu({parentsUntil:function(s,d){return Kp(s,"parentNode",d)},nextUntil:function(s,d){return Vd(s,"nextSibling",1,d).slice(1)},prevUntil:function(s,d){return Vd(s,"previousSibling",1,d).slice(1)}},function(s,d){xc.fn[s]=function(v,w){var M=[];this.each(function(){var L=d.call(M,this,v,M);L&&(po.isArray(L)?M.push.apply(M,L):M.push(L))}),1<this.length&&(M=po.unique(M),0!==s.indexOf("parents")&&"prevUntil"!==s||(M=M.reverse()));var O=po(M);return w?O.filter(w):O}}),xc.fn.is=function(s){return!!s&&0<this.filter(s).length},xc.fn.init.prototype=xc.fn,xc.overrideDefaults=function(s){var d,v=function(w,M){return d=d||s(),0===arguments.length&&(w=d.element),new v.fn.init(w,M=M||d.context)};return po.extend(v,this),v},xc.attrHooks=nc,xc.cssHooks=K1;var po=xc,sp=gn.each,Ho=gn.grep,Fs=Wr.ie,jc=/^([a-z0-9],?)+$/i,Ui=function(s,d){function v(gt){return gt&&s&&Le(gt)?s.getElementById(gt):gt}function w(gt){return Tn("string"==typeof gt?v(gt):gt)}function M(gt,Et,mn){var Nn,wn,or=w(gt);return void 0===(wn=or.length?(Nn=Ao[Et])&&Nn.get?Nn.get(or,Et):or.attr(Et):wn)?mn||"":wn}function O(gt){var Et=v(gt);return Et?Et.attributes:[]}function L(gt,Et,mn){""===mn&&(mn=null);var Nn,wn=w(gt),or=wn.attr(Et);wn.length&&((Nn=Ao[Et])&&Nn.set?Nn.set(wn,mn,Et):wn.attr(Et,mn),or!==mn&&d.onSetAttrib&&d.onSetAttrib({attrElm:wn,attrName:Et,attrValue:mn}))}function B(){return d.root_element||s.body}function G(gt,Et){return function(mn,Nn,wn){var or,$r=0,ao=0,ea=mn.ownerDocument;if(wn=wn||mn,Nn){if(wn===mn&&Nn.getBoundingClientRect&&"static"===Hf(Ut.fromDom(mn),"position")){var _o=Nn.getBoundingClientRect();return{x:$r=_o.left+(ea.documentElement.scrollLeft||mn.scrollLeft)-ea.documentElement.clientLeft,y:ao=_o.top+(ea.documentElement.scrollTop||mn.scrollTop)-ea.documentElement.clientTop}}for(var ro=Nn;ro&&ro!==wn&&ro.nodeType&&!ns(ro,wn);)$r+=ro.offsetLeft||0,ao+=ro.offsetTop||0,ro=ro.offsetParent;for(ro=Nn.parentNode;ro&&ro!==wn&&ro.nodeType&&!ns(ro,wn);)$r-=ro.scrollLeft||0,ao-=ro.scrollTop||0,ro=ro.parentNode;ao+=(or=Ut.fromDom(Nn),db.isFirefox()&&"table"===Pa(or)?Vy(ju(or)).filter(function(xs){return"caption"===Pa(xs)}).bind(function(xs){return Vy(Bp(xs)).map(function(Wu){return Wu.dom.offsetTop<=xs.dom.offsetTop?-xs.dom.offsetHeight:0})}).getOr(0):0)}return{x:$r,y:ao}}(s.body,v(gt),Et)}function W(gt,Et,mn){var Nn=w(gt);return mn?Nn.css(Et):("float"===(Et=Et.replace(/-(\D)/g,function(wn,or){return or.toUpperCase()}))&&(Et=Wr.browser.isIE()?"styleFloat":"cssFloat"),Nn[0]&&Nn[0].style?Nn[0].style[Et]:void 0)}function re(gt){var Et=W(gt=v(gt),"width"),mn=W(gt,"height");return-1===Et.indexOf("px")&&(Et=0),-1===mn.indexOf("px")&&(mn=0),{w:parseInt(Et,10)||gt.offsetWidth||gt.clientWidth,h:parseInt(mn,10)||gt.offsetHeight||gt.clientHeight}}function $(gt,Et){if(!gt)return!1;if(!Array.isArray(gt)){if("*"===Et)return 1===gt.nodeType;if(jc.test(Et)){for(var mn=Et.toLowerCase().split(/,/),Nn=gt.nodeName.toLowerCase(),wn=mn.length-1;0<=wn;wn--)if(mn[wn]===Nn)return!0;return!1}if(gt.nodeType&&1!==gt.nodeType)return!1}var or=Array.isArray(gt)?gt:[gt];return 0<Gi(Et,or[0].ownerDocument||or[0],null,or).length}function ue(gt,Et,mn,Nn){var wn,or=[],$r=v(gt);for(Nn=void 0===Nn,mn=mn||("BODY"!==B().nodeName?B().parentNode:null),gn.is(Et,"string")&&(Et="*"===(wn=Et)?function(ao){return 1===ao.nodeType}:function(ao){return $(ao,wn)});$r&&!($r===mn||xe($r.nodeType)||Yu($r)||Vp($r));){if(!Et||"function"==typeof Et&&Et($r)){if(!Nn)return[$r];or.push($r)}$r=$r.parentNode}return Nn?or:null}function pe(gt,Et,mn){var Nn=Et;if(gt)for("string"==typeof Et&&(Nn=function(wn){return $(wn,Et)}),gt=gt[mn];gt;gt=gt[mn])if("function"==typeof Nn&&Nn(gt))return gt;return null}function be(gt,Et,mn){var Nn,wn="string"==typeof gt?v(gt):gt;return!!wn&&(gn.isArray(wn)&&(wn.length||0===wn.length)?(Nn=[],sp(wn,function(or,$r){or&&Nn.push(Et.call(mn,"string"==typeof or?v(or):or,$r))}),Nn):Et.call(mn||this,wn))}function we(gt,Et){w(gt).each(function(mn,Nn){sp(Et,function(wn,or){L(Nn,or,wn)})})}function Me(gt,Et){var mn=w(gt);Fs?mn.each(function(Nn,wn){if(!1!==wn.canHaveHTML){for(;wn.firstChild;)wn.removeChild(wn.firstChild);try{wn.innerHTML="<br>"+Et,wn.removeChild(wn.firstChild)}catch{po("<div></div>").html("<br>"+Et).contents().slice(1).appendTo(wn)}return Et}}):mn.html(Et)}function ke(gt,Et,mn,Nn,wn){return be(gt,function(or){var $r="string"==typeof Et?s.createElement(Et):Et;return we($r,mn),Nn&&("string"!=typeof Nn&&Nn.nodeType?$r.appendChild(Nn):"string"==typeof Nn&&Me($r,Nn)),wn?$r:or.appendChild($r)})}function Ne(gt,Et,mn){return ke(s.createElement(gt),gt,Et,mn,!0)}function je(gt,Et){var mn=w(gt);return(Et?mn.each(function(){for(var Nn;Nn=this.firstChild;)3===Nn.nodeType&&0===Nn.data.length?this.removeChild(Nn):this.parentNode.insertBefore(Nn,this)}):mn).remove(),1<mn.length?mn.toArray():mn[0]}function ct(gt,Et,mn){w(gt).toggleClass(Et,mn).each(function(){""===this.className&&po(this).attr("class",null)})}function Dt(gt,Et,mn){return be(Et,function(Nn){return gn.is(Nn,"array")&&(gt=gt.cloneNode(!0)),mn&&sp(Ho(Nn.childNodes),function(wn){gt.appendChild(wn)}),Nn.parentNode.replaceChild(gt,Nn)})}function Ye(gt){if(uo(gt)){var Et="a"===gt.nodeName.toLowerCase()&&!M(gt,"href")&&M(gt,"id");return M(gt,"name")||M(gt,"data-mce-bookmark")||Et?1:void 0}}function rt(){return s.createRange()}function dt(gt){if(gt&&uo(gt)){var Et=gt.getAttribute("data-mce-contenteditable");return Et&&"inherit"!==Et?Et:"inherit"!==gt.contentEditable?gt.contentEditable:null}return null}void 0===d&&(d={});var Vt,Zt,ln,on,Mt,At,zt={},tn=window,On={},er=0,An=vf.forElement(Ut.fromDom(s),{contentCssCors:d.contentCssCors,referrerPolicy:d.referrerPolicy}),Xn=[],Fn=d.schema||Hp({}),Yn=Ku({url_converter:d.url_converter,url_converter_scope:d.url_converter_scope},d.schema),qn=d.ownEvents?new Ba:Ba.Event,xr=Fn.getBlockElements(),Tn=po.overrideDefaults(function(){return{context:s,element:Dr.getRoot()}}),pr=Kl.encodeAllRaw,Hn=function(gt,Et,mn,Nn){if(gn.isArray(gt)){for(var wn=gt.length,or=[];wn--;)or[wn]=Hn(gt[wn],Et,mn,Nn);return or}return!d.collect||gt!==s&&gt!==tn||Xn.push([gt,Et,mn,Nn]),qn.bind(gt,Et,mn,Nn||Dr)},Tr=function(gt,Et,mn){if(gn.isArray(gt)){for(var Nn=gt.length,wn=[];Nn--;)wn[Nn]=Tr(gt[Nn],Et,mn);return wn}if(0<Xn.length&&(gt===s||gt===tn))for(Nn=Xn.length;Nn--;){var or=Xn[Nn];gt!==or[0]||Et&&Et!==or[1]||mn&&mn!==or[2]||qn.unbind(or[0],or[1],or[2])}return qn.unbind(gt,Et,mn)},Dr={doc:s,settings:d,win:tn,files:On,stdMode:!0,boxModel:!0,styleSheetLoader:An,boundEvents:Xn,styles:Yn,schema:Fn,events:qn,isBlock:function(gt){if("string"==typeof gt)return!!xr[gt];if(gt){var Et=gt.nodeType;if(Et)return!(1!==Et||!xr[gt.nodeName])}return!1},$:Tn,$$:w,root:null,clone:function(gt,Et){if(!Fs||1!==gt.nodeType||Et)return gt.cloneNode(Et);var mn=s.createElement(gt.nodeName);return sp(O(gt),function(Nn){L(mn,Nn.nodeName,M(gt,Nn.nodeName))}),mn},getRoot:B,getViewPort:function(gt){var Et=Fy(gt);return{x:Et.x,y:Et.y,w:Et.width,h:Et.height}},getRect:function(gt){var Et=G(gt=v(gt)),mn=re(gt);return{x:Et.x,y:Et.y,w:mn.w,h:mn.h}},getSize:re,getParent:function(gt,Et,mn){var Nn=ue(gt,Et,mn,!1);return Nn&&0<Nn.length?Nn[0]:null},getParents:ue,get:v,getNext:function(gt,Et){return pe(gt,Et,"nextSibling")},getPrev:function(gt,Et){return pe(gt,Et,"previousSibling")},select:function(gt,Et){return Gi(gt,v(Et)||d.root_element||s,[])},is:$,add:ke,create:Ne,createHTML:function(gt,Et,mn){var Nn,wn="";for(Nn in wn+="<"+gt,Et)go(Et,Nn)&&(wn+=" "+Nn+'="'+pr(Et[Nn])+'"');return void 0!==mn?wn+">"+mn+"</"+gt+">":wn+" />"},createFragment:function(gt){var Et,mn=s.createElement("div"),Nn=s.createDocumentFragment();for(Nn.appendChild(mn),gt&&(mn.innerHTML=gt);Et=mn.firstChild;)Nn.appendChild(Et);return Nn.removeChild(mn),Nn},remove:je,setStyle:function(gt,Et,mn){var Nn=Le(Et)?w(gt).css(Et,mn):w(gt).css(Et);d.update_styles&&Cf(Yn,Nn)},getStyle:W,setStyles:function(gt,Et){var mn=w(gt).css(Et);d.update_styles&&Cf(Yn,mn)},removeAllAttribs:function(gt){return be(gt,function(Et){for(var mn=Et.attributes,Nn=mn.length-1;0<=Nn;Nn--)Et.removeAttributeNode(mn.item(Nn))})},setAttrib:L,setAttribs:we,getAttrib:M,getPos:G,parseStyle:function(gt){return Yn.parse(gt)},serializeStyle:function(gt,Et){return Yn.serialize(gt,Et)},addStyle:function(gt){var Et,mn;if(Dr!==Ui.DOM&&s===document){if(zt[gt])return;zt[gt]=!0}(mn=s.getElementById("mceDefaultStyles"))||((mn=s.createElement("style")).id="mceDefaultStyles",mn.type="text/css",(Et=s.getElementsByTagName("head")[0]).firstChild?Et.insertBefore(mn,Et.firstChild):Et.appendChild(mn)),mn.styleSheet?mn.styleSheet.cssText+=gt:mn.appendChild(s.createTextNode(gt))},loadCSS:function(gt){Sn((gt=gt||"").split(","),function(Et){On[Et]=!0,An.load(Et,Z)})},addClass:function(gt,Et){w(gt).addClass(Et)},removeClass:function(gt,Et){ct(gt,Et,!1)},hasClass:function(gt,Et){return w(gt).hasClass(Et)},toggleClass:ct,show:function(gt){w(gt).show()},hide:function(gt){w(gt).hide()},isHidden:function(gt){return"none"===w(gt).css("display")},uniqueId:function(gt){return(gt||"mce_")+er++},setHTML:Me,getOuterHTML:function(gt){var Et="string"==typeof gt?v(gt):gt;return uo(Et)?Et.outerHTML:po("<div></div>").append(po(Et).clone()).html()},setOuterHTML:function(gt,Et){w(gt).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=Et)}catch{}je(po(this).html(Et),!0)})},decode:Kl.decode,encode:pr,insertAfter:function(gt,Et){var mn=v(Et);return be(gt,function(Nn){var wn=mn.parentNode,or=mn.nextSibling;return or?wn.insertBefore(Nn,or):wn.appendChild(Nn),Nn})},replace:Dt,rename:function(gt,Et){var mn;return gt.nodeName!==Et.toUpperCase()&&(mn=Ne(Et),sp(O(gt),function(Nn){L(mn,Nn.nodeName,M(gt,Nn.nodeName))}),Dt(mn,gt,!0)),mn||gt},findCommonAncestor:function(gt,Et){for(var mn,Nn=gt;Nn;){for(mn=Et;mn&&Nn!==mn;)mn=mn.parentNode;if(Nn===mn)break;Nn=Nn.parentNode}return!Nn&&gt.ownerDocument?gt.ownerDocument.documentElement:Nn},toHex:function(gt){return Yn.toHex(gn.trim(gt))},run:be,getAttribs:O,isEmpty:function(gt,Et){var mn,Nn,wn=0;if(Ye(gt))return!1;if(gt=gt.firstChild){var or=new Qs(gt,gt.parentNode),$r=Fn?Fn.getWhiteSpaceElements():{};Et=Et||(Fn?Fn.getNonEmptyElements():null);do{if(mn=gt.nodeType,uo(gt)){var ao=gt.getAttribute("data-mce-bogus");if(ao){gt=or.next("all"===ao);continue}if(Nn=gt.nodeName.toLowerCase(),Et&&Et[Nn]){if("br"!==Nn)return!1;wn++,gt=or.next();continue}if(Ye(gt))return!1}if(8===mn||3===mn&&!Qg(gt.nodeValue)||3===mn&&gt.parentNode&&$r[gt.parentNode.nodeName]&&Qg(gt.nodeValue))return!1;gt=or.next()}while(gt)}return wn<=1},createRng:rt,nodeIndex:Ju,split:function(gt,Et,mn){var Nn,wn,or,$r=rt();if(gt&&Et)return $r.setStart(gt.parentNode,Ju(gt)),$r.setEnd(Et.parentNode,Ju(Et)),Nn=$r.extractContents(),($r=rt()).setStart(Et.parentNode,Ju(Et)+1),$r.setEnd(gt.parentNode,Ju(gt)+1),wn=$r.extractContents(),(or=gt.parentNode).insertBefore(Wp(Dr,Nn),gt),or.insertBefore(mn||Et,gt),or.insertBefore(Wp(Dr,wn),gt),je(gt),mn||Et},bind:Hn,unbind:Tr,fire:function(gt,Et,mn){return qn.fire(gt,Et,mn)},getContentEditable:dt,getContentEditableParent:function(gt){for(var Et=B(),mn=null;gt&&gt!==Et&&null===(mn=dt(gt));gt=gt.parentNode);return mn},destroy:function(){if(0<Xn.length)for(var gt=Xn.length;gt--;){var Et=Xn[gt];qn.unbind(Et[0],Et[1],Et[2])}Rn(On,function(mn,Nn){An.unload(Nn),delete On[Nn]}),Gi.setDocument&&Gi.setDocument()},isChildOf:function(gt,Et){if(Fs){for(;gt;){if(Et===gt)return!0;gt=gt.parentNode}return!1}return gt===Et||Et.contains(gt)},dumpRng:function(gt){return"startContainer: "+gt.startContainer.nodeName+", startOffset: "+gt.startOffset+", endContainer: "+gt.endContainer.nodeName+", endOffset: "+gt.endOffset}},Ao=(Vt=Yn,ln=te(Dr),Mt={set:function(gt,Et,mn){Zt.url_converter&&null!==Et&&(Et=Zt.url_converter.call(Zt.url_converter_scope||ln(),Et,mn,gt[0])),gt.attr("data-mce-"+mn,Et).attr(mn,Et)},get:function(gt,Et){return gt.attr("data-mce-"+Et)||gt.attr(Et)}},At={style:{set:function(gt,Et){null===Et||"object"!=typeof Et?(on&&gt.attr("data-mce-style",Et),null!==Et&&"string"==typeof Et?(gt.removeAttr("style"),gt.css(Vt.parse(Et))):gt.attr("style",Et)):gt.css(Et)},get:function(gt){var Et=gt.attr("data-mce-style")||gt.attr("style");return Vt.serialize(Vt.parse(Et),gt[0].nodeName)}}},(on=(Zt=d).keep_values)&&(At.href=At.src=Mt),At);return Dr};Ui.DOM=Ui(document),Ui.nodeIndex=Ju;var Ii=Ui.DOM,Pv=gn.each,Ts=gn.grep,rc=(ha.prototype._setReferrerPolicy=function(s){this.settings.referrerPolicy=s},ha.prototype.loadScript=function(s,d,v){function w(){M.remove(O),L&&(L.onerror=L.onload=L=null)}var M=Ii,O=M.uniqueId(),L=document.createElement("script");L.id=O,L.type="text/javascript",L.src=gn._addCacheSuffix(s),this.settings.referrerPolicy&&M.setAttrib(L,"referrerpolicy",this.settings.referrerPolicy),L.onload=function(){w(),d()},L.onerror=function(){w(),pt(v)?v():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+s)},(document.getElementsByTagName("head")[0]||document.body).appendChild(L)},ha.prototype.isDone=function(s){return 2===this.states[s]},ha.prototype.markDone=function(s){this.states[s]=2},ha.prototype.add=function(s,d,v,w){var M=this.states[s];this.queue.push(s),void 0===M&&(this.states[s]=0),d&&(this.scriptLoadedCallbacks[s]||(this.scriptLoadedCallbacks[s]=[]),this.scriptLoadedCallbacks[s].push({success:d,failure:w,scope:v||this}))},ha.prototype.load=function(s,d,v,w){return this.add(s,d,v,w)},ha.prototype.remove=function(s){delete this.states[s],delete this.scriptLoadedCallbacks[s]},ha.prototype.loadQueue=function(s,d,v){this.loadScripts(this.queue,s,d,v)},ha.prototype.loadScripts=function(s,d,v,w){function M(G,W){Pv(O.scriptLoadedCallbacks[W],function(re){pt(re[G])&&re[G].call(re.scope)}),O.scriptLoadedCallbacks[W]=void 0}var O=this,L=[];O.queueLoadedCallbacks.push({success:d,failure:w,scope:v||this});var B=function(){var G,W=Ts(s);s.length=0,Pv(W,function(re){2!==O.states[re]?3!==O.states[re]?1!==O.states[re]&&(O.states[re]=1,O.loading++,O.loadScript(re,function(){O.states[re]=2,O.loading--,M("success",re),B()},function(){O.states[re]=3,O.loading--,L.push(re),M("failure",re),B()})):M("failure",re):M("success",re)}),O.loading||(G=O.queueLoadedCallbacks.slice(0),O.queueLoadedCallbacks.length=0,Pv(G,function(re){0===L.length?pt(re.success)&&re.success.call(re.scope):pt(re.failure)&&re.failure.call(re.scope,L)}))};B()},ha.ScriptLoader=new ha,ha);function ha(s){void 0===s&&(s={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=s}function Ya(s){var d=s;return{get:function(){return d},set:function(v){d=v}}}function Hd(){return wr(im,Rv.get())}var im={},Rv=Ya("en"),kf={getData:function(){return ar(im,function(s){return Sr({},s)})},setCode:function(s){s&&Rv.set(s)},getCode:function(){return Rv.get()},add:function(s,d){var v=im[s];v||(im[s]=v={}),Rn(d,function(w,M){v[M.toLowerCase()]=w})},translate:function(s){function d(W){return pt(W)?Object.prototype.toString.call(W):B(W)?"":""+W}function v(W){var re=d(W);return wr(L,re.toLowerCase()).map(d).getOr(re)}function w(W){return W.replace(/{context:\w+}$/,"")}var M,O,L=Hd().getOr({}),B=function(W){return""===W||null==W};if(B(s))return"";if(et(M=s)&&so(M,"raw"))return d(s.raw);if(Qe(O=s)&&1<O.length){var G=s.slice(1);return w(v(s[0]).replace(/\{([0-9]+)\}/g,function(W,re){return so(G,re)?d(G[re]):W}))}return w(v(s))},isRtl:function(){return Hd().bind(function(s){return wr(s,"_dir")}).exists(function(s){return"rtl"===s})},hasCode:function(s){return so(im,s)}},Fa=function(){function s(W,re){Sn(Zn(B,function($){return $.name===W&&$.state===re}),function($){return $.callback()})}function d(W){return(L[W]?L[W].dependencies:void 0)||[]}function v(W,re){return"object"==typeof re?re:"string"==typeof W?{prefix:"",resource:re,suffix:""}:{prefix:W.prefix,resource:re,suffix:W.suffix}}function w(W,re,$){void 0===$&&($="added"),so(L,W)&&"added"===$||so(O,W)&&"loaded"===$?re():B.push({name:W,state:$,callback:re})}var M=[],O={},L={},B=[],G=function(W,re,$,ue,pe){var be,we;O[W]||(0!==(be="string"==typeof re?re:re.prefix+re.resource+re.suffix).indexOf("/")&&-1===be.indexOf("://")&&(be=Fa.baseURL+"/"+be),O[W]=be.substring(0,be.lastIndexOf("/")),we=function(){var Me,ke,Ne;s(W,"loaded"),Me=re,ke=$,Ne=ue,Sn(d(W),function(je){var ct=v(Me,je);G(ct.resource,ct,void 0,void 0)}),ke&&ke.call(Ne||rc)},L[W]?we():rc.ScriptLoader.add(be,we,ue,pe))};return{items:M,urls:O,lookup:L,_listeners:B,get:function(W){if(L[W])return L[W].instance},dependencies:d,requireLangPack:function(W,re){!1!==Fa.languageLoad&&w(W,function(){var $=kf.getCode();!$||re&&-1===(","+(re||"")+",").indexOf(","+$+",")||rc.ScriptLoader.add(O[W]+"/langs/"+$+".js")},"loaded")},add:function(W,re,$){var ue=re;return M.push(ue),L[W]={instance:ue,dependencies:$},s(W,"added"),ue},remove:function(W){delete O[W],delete L[W]},createUrl:v,addComponents:function(W,re){var $=O[W];Sn(re,function(ue){rc.ScriptLoader.add($+"/"+ue)})},load:G,waitFor:w}};function Jf(){var s,d,v=(s=Z,d=Ya(J.none()),{clear:function(){w(),d.set(J.none())},isSet:function(){return d.get().isSome()},get:function(){return d.get()},set:function(M){w(),d.set(J.some(M))}});function w(){return d.get().each(s)}return Sr(Sr({},v),{on:function(M){return v.get().each(M)}})}function $1(s,d){var v=null;return{cancel:function(){st(v)||(clearTimeout(v),v=null)},throttle:function(){for(var w=[],M=0;M<arguments.length;M++)w[M]=arguments[M];st(v)&&(v=setTimeout(function(){v=null,s.apply(null,w)},d))}}}function Wd(s,d){function v(){st(w)||(clearTimeout(w),w=null)}var w=null;return{cancel:v,throttle:function(){for(var M=[],O=0;O<arguments.length;O++)M[O]=arguments[O];v(),w=setTimeout(function(){w=null,s.apply(null,M)},d)}}}function Qf(s,d){var v=du(s,d);return void 0===v||""===v?[]:v.split(" ")}function bh(s){return void 0!==s.dom.classList}function Qu(s,d){var v,w,M;bh(s)?s.dom.classList.add(d):(w=d,M=Qf(v=s,"class").concat([w]),ql(v,"class",M.join(" ")))}function _c(s,d){return bh(s)&&s.dom.classList.contains(d)}function Ol(s,d){return Mn(v=void 0===s?document:s.dom)?[]:It(v.querySelectorAll(d),Ut.fromDom);var v}function xb(s,d){function v(B,G){return(W=B.dom)&&W.hasAttribute&&W.hasAttribute(G)?J.some(du(B,G)):J.none();var W}var w=s.selection.getRng(),M=Ut.fromDom(w.startContainer),O=Ut.fromDom(s.getBody()),L=d.fold(function(){return"."+wc()},function(B){return"["+Yc()+'="'+B+'"]'});return Gf(To(M,w.startOffset).getOr(M),L,function(B){return En(B,O)}).bind(function(B){return v(B,""+Vs()).bind(function(G){return v(B,""+Yc()).map(function(W){var re=xu(s,G);return{uid:G,name:W,elements:re}})})})}function Lv(s){var d=(new Date).getTime();return s+"_"+Math.floor(1e9*Math.random())+ ++Pl+String(d)}function am(s,d){var v,w,M=Ks(s).dom,O=Ut.fromDom(M.createDocumentFragment());Vf(O,(v=d,(w=(M||document).createElement("div")).innerHTML=v,ju(Ut.fromDom(w)))),bv(s),Cs(s,O)}function ed(s,d){return Ut.fromDom(s.dom.cloneNode(d))}function xh(s){return ed(s,!1)}function Do(s){return ed(s,!0)}function td(s,d,v){function w(O){for(var L;(L=M[O]())&&!Er(L)&&!v(L););return J.from(L).filter(Er)}void 0===v&&(v=ht);var M=new Qs(s,d);return{current:function(){return J.from(M.current()).filter(Er)},next:function(){return w("next")},prev:function(){return w("prev")},prev2:function(){return w("prev2")}}}function $p(s,d){var v=d||function(M){return s.isBlock(M)||La(M)||to(M)},w=function(M,O,L,B){if(Er(M)){var G=B(M,O,M.data);if(-1!==G)return J.some({container:M,offset:G})}return L().bind(function(W){return w(W.container,W.offset,L,B)})};return{backwards:function(M,O,L,B){var G=td(M,B,v);return w(M,O,function(){return G.prev().map(function(W){return{container:W,offset:W.length}})},L).getOrNull()},forwards:function(M,O,L,B){var G=td(M,B,v);return w(M,O,function(){return G.next().map(function(W){return{container:W,offset:0}})},L).getOrNull()}}}function El(s){return s?{left:hs(s.left),top:hs(s.top),bottom:hs(s.bottom),right:hs(s.right),width:hs(s.width),height:hs(s.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function J1(s,d){return s=El(s),d||(s.left=s.left+s.width),s.right=s.left,s.width=0,s}function bu(s,d,v){return 0<=s&&s<=Math.min(d.height,v.height)/2}function Gd(s,d){var v=Math.min(d.height/2,s.height/2);return s.bottom-v<d.top||!(s.top>d.bottom)&&bu(d.top-s.bottom,s,d)}function Jp(s,d){return s.top>d.bottom||!(s.bottom<d.top)&&bu(d.bottom-s.top,s,d)}function z_(s,d,v){return d>=s.left&&d<=s.right&&v>=s.top&&v<=s.bottom}function Ud(s){var d=s.startContainer,v=s.startOffset;return d.hasChildNodes()&&s.endOffset===v+1?d.childNodes[v]:null}function qc(s,d){if(uo(s)&&s.hasChildNodes()){var v=s.childNodes;return v[(w=v.length-1,Math.min(Math.max(d,0),w))]}return s;var w}function Zy(s){return"string"==typeof s&&768<=s.charCodeAt(0)&&oc.test(s)}function oi(s){return"createRange"in s?s.createRange():Ui.DOM.createRng()}function Nv(s){return s&&/[\r\n\t ]/.test(s)}function _b(s){return s.setStart&&s.setEnd}function li(s){var d=s.startContainer,v=s.startOffset;if(Nv(s.toString())&&F_(d.parentNode)&&Er(d)){var w=d.data;return Nv(w[v-1])||Nv(w[v+1])?1:void 0}}function Ky(s){return 0===s.left&&0===s.right&&0===s.top&&0===s.bottom}function up(s,d){var v=J1(s,d);return v.width=1,v.right=v.left+1,v}Fa.languageLoad=!0,Fa.baseURL="",Fa.PluginManager=Fa(),Fa.ThemeManager=Fa();var $y=function(s,d){var v=[];return Sn(ju(s),function(w){v=(v=d(w)?v.concat([w]):v).concat($y(w,d))}),v},wc=te("mce-annotation"),Yc=te("data-mce-annotation"),Vs=te("data-mce-annotation-uid"),xu=function(s,d){return Ol(Ut.fromDom(s.getBody()),"["+Vs()+'="'+d+'"]')},Pl=0,hs=Math.round,oc=new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]"),ru=uo,wb=Md,fo=Fp("display","block table"),sm=Fp("float","left right"),$n=function(){for(var s=[],d=0;d<arguments.length;d++)s[d]=arguments[d];return function(v){for(var w=0;w<s.length;w++)if(!s[w](v))return!1;return!0}}(ru,wb,Re(sm)),F_=Re(Fp("white-space","pre pre-line pre-wrap")),Bv=Er,Jy=La,Va=Ui.nodeIndex,Qp=function(s,d){if(!(d<0&&uo(s)&&s.hasChildNodes()))return qc(s,d)},nd=function(s){var d=s.getClientRects(),v=El(0<d.length?d[0]:s.getBoundingClientRect());return!_b(s)&&Jy(s)&&Ky(v)?function(w){var M=w.ownerDocument,O=oi(M),L=M.createTextNode(yc),B=w.parentNode;B.insertBefore(L,w),O.setStart(L,0),O.setEnd(L,1);var G=El(O.getBoundingClientRect());return B.removeChild(L),G}(s):Ky(v)&&_b(s)?function(w){var O=w.endContainer,L=w.startOffset,B=w.endOffset;if(w.startContainer===O&&Er(O)&&0===L&&1===B){var G=w.cloneRange();return G.setEndAfter(O),nd(G)}return null}(s):v},pn=function(s,d,v){function w(){return v=v||function(M){function O(ue){var pe;0!==ue.height&&(0<B.length&&ue.left===(pe=B[B.length-1]).left&&ue.top===pe.top&&ue.bottom===pe.bottom&&ue.right===pe.right||B.push(ue))}function L(ue,pe){var be=oi(ue.ownerDocument);if(pe<ue.data.length){if(Zy(ue.data[pe]))return B;if(Zy(ue.data[pe-1])&&(be.setStart(ue,pe),be.setEnd(ue,pe+1),!li(be)))return O(up(nd(be),!1)),B}0<pe&&(be.setStart(ue,pe-1),be.setEnd(ue,pe),li(be)||O(up(nd(be),!1))),pe<ue.data.length&&(be.setStart(ue,pe),be.setEnd(ue,pe+1),li(be)||O(up(nd(be),!0)))}var B=[],G=M.container(),W=M.offset();if(Bv(G))return L(G,W),B;if(ru(G))if(M.isAtEnd()){var re=Qp(G,W);Bv(re)&&L(re,re.data.length),$n(re)&&!Jy(re)&&O(up(nd(re),!1))}else{if(re=Qp(G,W),Bv(re)&&L(re,0),$n(re)&&M.isAtEnd())return O(up(nd(re),!1)),B;var $=Qp(M.container(),M.offset()-1);$n($)&&!Jy($)&&(!fo($)&&!fo(re)&&$n(re)||O(up(nd($),!1))),$n(re)&&O(up(nd(re),!0))}return B}(pn(s,d))}return{container:te(s),offset:te(d),toRange:function(){var M=oi(s.ownerDocument);return M.setStart(s,d),M.setEnd(s,d),M},getClientRects:w,isVisible:function(){return 0<w().length},isAtStart:function(){return Bv(s),0===d},isAtEnd:function(){return Bv(s)?d>=s.data.length:d>=s.childNodes.length},isEqual:function(M){return M&&s===M.container()&&d===M.offset()},getNode:function(M){return Qp(s,M?d-1:d)}}};function eg(s,d){Er(d)&&0===d.data.length&&s.remove(d)}function um(s,d,v){var w,M,O,L,B,G,W;Vp(v)?(O=s,L=d,G=J.from((B=v).firstChild),W=J.from(B.lastChild),L.insertNode(B),G.each(function(re){return eg(O,re.previousSibling)}),W.each(function(re){return eg(O,re.nextSibling)})):(w=s,d.insertNode(M=v),eg(w,M.previousSibling),eg(w,M.nextSibling))}function lm(s){return function(d){return s===d}}function zv(s){var d,v,w,M;return(Zc(s)?"text()":s.nodeName.toLowerCase())+"["+(w=Ua(v=gm(og(d=s)),lm(d),d),M=va(v=v.slice(0,w+1),function(O,L,B){return Zc(L)&&Zc(v[B-1])&&O++,O},0),Ua(v=Vo(v,hc([d.nodeName])),lm(d),d)-M+"]")}function jd(s,d){var v,w,M,O=[],L=d.container(),B=d.offset();return Zc(L)?v=function(G,W){for(;(G=G.previousSibling)&&Zc(G);)W+=G.data.length;return W}(L,B):(B>=(w=L.childNodes).length?(v="after",B=w.length-1):v="before",L=w[B]),O.push(zv(L)),M=Vo(function(G,W){var re=[];for(W=W.parentNode;W!==G;W=W.parentNode)re.push(W);return re}(s,L),Re(pc)),(O=O.concat(sa(M,zv))).reverse().join("/")+","+v}function Ha(s,d){if(!d)return null;var v=d.split(","),w=v[0].split("/"),M=1<v.length?v[1]:"before",O=va(w,function(L,B){var G,W,re,$,ue=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(B);return ue?("text()"===ue[1]&&(ue[1]="#text"),G=L,W=ue[1],re=parseInt(ue[2],10),$=Vo($=gm(G),function(pe,be){return!Zc(pe)||!Zc($[be-1])}),($=Vo($,hc([W])))[re]):null},s);return O?Zc(O)?function(L,B){for(var G,W=L,re=0;Zc(W);){if(G=W.data.length,re<=B&&B<=re+G){L=W,B-=re;break}if(!Zc(W.nextSibling)){L=W,B=G;break}re+=G,W=W.nextSibling}return Zc(L)&&B>L.data.length&&(B=L.data.length),pn(L,B)}(O,parseInt(M,10)):(M="after"===M?G_(O)+1:G_(O),pn(O.parentNode,M)):null}function ps(s,d,v,w,M){var O,L=w[M?"startContainer":"endContainer"],B=w[M?"startOffset":"endOffset"],G=[],W=0,re=s.getRoot();for(Er(L)?G.push(v?function($,ue,pe){for(var be=$(ue.data.slice(0,pe)).length,we=ue.previousSibling;we&&Er(we);we=we.previousSibling)be+=$(we.data).length;return be}(d,L,B):B):(B>=(O=L.childNodes).length&&O.length&&(W=1,B=Math.max(0,O.length-1)),G.push(s.nodeIndex(O[B],v)+W));L&&L!==re;L=L.parentNode)G.push(s.nodeIndex(L,v));return G}function tg(s,d,v){var w=0;return gn.each(s.select(d),function(M){if("all"!==M.getAttribute("data-mce-bogus"))return M!==v&&void w++}),w}function V_(s,d){var v,w=d?"start":"end",M=s[w+"Container"],O=s[w+"Offset"];uo(M)&&"TR"===M.nodeName&&(M=(v=M.childNodes)[Math.min(d?O:O-1,v.length-1)])&&s["set"+(d?"Start":"End")](M,O=d?0:M.childNodes.length)}function Q1(s){return V_(s,!0),V_(s,!1),s}function Qy(s,d){var v;return uo(s)&&(s=qc(s,d),ig(s))?s:Nr(s)?(v=(s=Er(s)&&Uf(s)?s.parentNode:s).previousSibling,ig(v)||ig(v=s.nextSibling)?v:void 0):void 0}function ex(s,d,v){var w=v.getNode(),M=w?w.nodeName:null,O=v.getRng();if(ig(w)||"IMG"===M)return{name:M,index:tg(v.dom,M,w)};var L,B,G,W,re,$,ue,pe=Qy((L=O).startContainer,L.startOffset)||Qy(L.endContainer,L.endOffset);return pe?{name:M=pe.tagName,index:tg(v.dom,M,pe)}:($=(G=v).dom,(ue={}).start=ps($,B=s,W=d,re=O,!0),G.isCollapsed()||(ue.end=ps($,B,W,re,!1)),W1(re)&&(ue.isFakeCaret=!0),ue)}function tx(s,d,v){var w={"data-mce-type":"bookmark",id:d,style:"overflow:hidden;line-height:0px"};return v?s.create("span",w,"&#xFEFF;"):s.create("span",w)}function Fv(s,d){var v=s.dom,w=s.getRng(),M=v.uniqueId(),O=s.isCollapsed(),L=s.getNode(),B=L.nodeName;if("IMG"===B)return{name:B,index:tg(v,B,L)};var G=Q1(w.cloneRange());return O||(G.collapse(!1),um(v,G,tx(v,M+"_end",d))),(w=Q1(w)).collapse(!0),um(v,w,tx(v,M+"_start",d)),s.moveToBookmark({id:M,keep:!0}),{id:M}}function e0(s,d,v){var w=s.getParam(d,v);return-1===w.indexOf("=")?w:wr(s.getParam(d,"","hash"),s.id).getOr(v)}function rd(s){return s.getParam("content_security_policy","")}function pa(s){if(s.getParam("force_p_newlines",!1))return"p";var d=s.getParam("forced_root_block","p");return!1===d?"":!0===d?"p":d}function t0(s){return s.getParam("forced_root_block_attrs",{})}function ng(s){return s.getParam("automatic_uploads",!0,"boolean")}function Sb(s){return s.getParam("icons","","string")}function Vv(s){return s.getParam("referrer_policy","","string")}function Mf(s){return s.getParam("language","en","string")}function qd(s){return s.getParam("indent_use_margin",!1)}function Cb(s){var d=s.getParam("font_css",[]);return Qe(d)?d:It(d.split(","),Xs)}function n0(s){var d=s.getParam("object_resizing");return!1!==d&&!Wr.iOS&&(Le(d)?d:"table,img,figure.image,div,video,iframe")}function r0(s){return s.getParam("event_root")}function Sc(s){return s.getParam("theme")}function _h(s){return!1!==s.getParam("inline_boundaries")}function kb(s){return s.getParam("plugins","","string")}function Mb(s){var d=s.parentNode;d&&d.removeChild(s)}function Hv(s){var d=xn(s);return{count:s.length-d.length,text:d}}function nx(s){for(var d;-1!==(d=s.data.lastIndexOf(zs));)s.deleteData(d,1)}function H_(s,d){return mm(s),d}function cm(s,d){var v,w=d.container(),M=(-1===(v=_r(Io(w.childNodes),s))?J.none():J.some(v)).map(function(O){return O<d.offset()?pn(w,d.offset()-1):d}).getOr(d);return mm(s),M}function Tf(s,d){return pn.isTextPosition(d)?(w=d,o0(v=s)&&w.container()===v?(L=Hv((M=v).data.substr(0,(O=w).offset())),B=Hv(M.data.substr(O.offset())),0<(L.text+B.text).length?(nx(M),pn(M,O.offset()-L.count)):O):H_(v,w)):(G=s,((W=d).container()===G.parentNode?cm:H_)(G,W));var v,w,M,O,L,B,G,W}function Ds(s,d,v){var w,M,O,L=J1(d.getBoundingClientRect(),v),B="BODY"===s.tagName?(w=s.ownerDocument.documentElement,M=s.scrollLeft||w.scrollLeft,s.scrollTop||w.scrollTop):(O=s.getBoundingClientRect(),M=s.scrollLeft-O.left,s.scrollTop-O.top);L.left+=M,L.right+=M,L.top+=B,L.bottom+=B,L.width=1;var G=d.offsetWidth-d.clientWidth;return 0<G&&(v&&(G*=-1),L.left+=G,L.right+=G),L}function rx(){return Kc.isIE()||Kc.isEdge()||Kc.isFirefox()}function fm(s){return cp(s)||Kg(s)&&rx()}function Fu(s,d){for(var v;v=s(d);)if(!vm(v))return v;return null}function xl(s,d,v,w,M){var O=new Qs(s,w),L=fp(s)||vm(s);if(d<0){if(L&&v(s=Fu(O.prev.bind(O),!0)))return s;for(;s=Fu(O.prev.bind(O),M);)if(v(s))return s}if(0<d){if(L&&v(s=Fu(O.next.bind(O),!0)))return s;for(;s=Fu(O.next.bind(O),M);)if(v(s))return s}return null}function Xc(s,d){for(;s&&s!==d;){if(RS(s))return s;s=s.parentNode}return null}function Cc(s,d,v){return Xc(s.container(),v)===Xc(d.container(),v)}function rg(s,d){if(!d)return null;var v=d.container(),w=d.offset();return dp(v)?v.childNodes[w+s]:null}function dm(s,d){var v=d.ownerDocument.createRange();return s?(v.setStartBefore(d),v.setEndBefore(d)):(v.setStartAfter(d),v.setEndAfter(d)),v}function hm(s,d,v){for(var w,M,O=s?"previousSibling":"nextSibling";v&&v!==d;){var L=v[O];if(_l(L)&&(L=L[O]),fp(L)||jv(L)){if(M=v,Xc(L,w=d)===Xc(M,w))return L;break}if(hp(L))break;v=v.parentNode}return null}function pm(s,d,v){var w,M=ve(hm,!0,d),O=ve(hm,!1,d),L=v.startContainer,B=v.startOffset;if(Uf(L)){var G=(L=dp(L)?L:L.parentNode).getAttribute("data-mce-caret");if("before"===G&&fm(w=L.nextSibling))return ic(w);if("after"===G&&fm(w=L.previousSibling))return kc(w)}if(!v.collapsed)return v;if(Er(L)){if(_l(L)){if(1===s){if(w=O(L))return ic(w);if(w=M(L))return kc(w)}if(-1===s){if(w=M(L))return kc(w);if(w=O(L))return ic(w)}return v}if(Yh(L)&&B>=L.data.length-1)return 1===s&&(w=O(L))?ic(w):v;if(Ad(L)&&B<=1)return-1===s&&(w=M(L))?kc(w):v;if(B===L.data.length)return(w=O(L))?ic(w):v;if(0===B)return(w=M(L))?kc(w):v}return v}function ox(s,d){return J.from(rg(s?0:-1,d)).filter(fp)}function lp(s,d,v){var w=pm(s,d,v);return-1===s?pn.fromRangeStart(w):pn.fromRangeEnd(w)}function Yd(s){return J.from(s.getNode()).map(Ut.fromDom)}function Wv(s,d){for(;d=s(d);)if(d.isVisible())return d;return d}function Gv(s,d){var v=Cc(s,d);return!(v||!La(s.getNode()))||v}pn.fromRangeStart=function(s){return pn(s.startContainer,s.startOffset)},pn.fromRangeEnd=function(s){return pn(s.endContainer,s.endOffset)},pn.after=function(s){return pn(s.parentNode,Va(s)+1)},pn.before=function(s){return pn(s.parentNode,Va(s))},pn.isAbove=function(s,d){return ya(bn(d.getClientRects()),Qt(s.getClientRects()),Gd).getOr(!1)},pn.isBelow=function(s,d){return ya(Qt(d.getClientRects()),bn(s.getClientRects()),Jp).getOr(!1)},pn.isAtStart=function(s){return!!s&&s.isAtStart()},pn.isAtEnd=function(s){return!!s&&s.isAtEnd()},pn.isTextPosition=function(s){return!!s&&Er(s.container())},pn.isElementPosition=function(s){return!1===pn.isTextPosition(s)};var Hs,Tb,Zc=Er,Db=pc,G_=Ui.nodeIndex,og=function(s){var d=s.parentNode;return Db(d)?og(d):d},gm=function(s){return s?va(s.childNodes,function(d,v){return Db(v)&&"BR"!==v.nodeName?d=d.concat(gm(v)):d.push(v),d},[]):[]},ig=to,Ab=ve(ex,le,!0),Ib=Ui.DOM,el=uo,o0=Er,mm=function(s){el(s)&&Nr(s)&&(os(s)?s.removeAttribute("data-mce-caret"):Mb(s)),o0(s)&&(nx(s),0===s.data.length&&Mb(s))},Kc=Sa().browser,Uv=to,gs=Il,U_=ks,cp=function(s){return Uv(s)||gs(s)},fp=to,jv=Il,RS=Fp("display","block table table-cell table-caption list-item"),_l=Nr,vm=Uf,dp=uo,hp=Md,ic=ve(dm,!0),kc=ve(dm,!1);function ym(s,d){return s.hasChildNodes()&&d<s.childNodes.length?s.childNodes[d]:null}function ix(s,d){if(0<s){if(Vu(d.previousSibling)&&!Jc(d.previousSibling))return pn.before(d);if(Jc(d))return pn(d,0)}if(s<0){if(Vu(d.nextSibling)&&!Jc(d.nextSibling))return pn.after(d);if(Jc(d))return pn(d,d.data.length)}return s<0&&!Mm(d)?pn.after(d):pn.before(d)}function Rl(s){return{next:function(d){return ad(Hs.Forwards,d,s)},prev:function(d){return ad(Hs.Backwards,d,s)}}}function Ll(s){return pn.isTextPosition(s)?0===s.offset():Md(s.getNode())}function bm(s){if(pn.isTextPosition(s)){var d=s.container();return s.offset()===d.data.length}return Md(s.getNode(!0))}function wh(s,d){return!pn.isTextPosition(s)&&!pn.isTextPosition(d)&&s.getNode()===d.getNode(!0)}function ag(s,d,v){return Tc(s,d,v).bind(function(w){return Cc(v,w,d)&&(M=v,O=w,s?!wh(M,O)&&(pn.isTextPosition(L=M)||!La(L.getNode()))&&bm(M)&&Ll(O):!wh(O,M)&&Ll(M)&&bm(O))?Tc(s,d,w):J.some(w);var M,O,L})}function qv(s,d){var v,w,M,O,L,B=s?d.firstChild:d.lastChild;return Er(B)?J.some(pn(B,s?0:B.data.length)):B?Md(B)?J.some(s?pn.before(B):La(L=B)?pn.before(L):pn.after(L)):(w=d,M=B,O=(v=s)?pn.before(M):pn.after(M),Tc(v,w,O)):J.none()}function ms(s){return uo(s)&&s.id===cg}function xm(s,d){for(;d&&d!==s;){if(d.id===cg)return d;d=d.parentNode}return null}function ou(s){return gn.isArray(s.start)}function Yv(s,d){return uo(d)&&s.isBlock(d)&&!d.innerHTML&&!Wr.ie&&(d.innerHTML='<br data-mce-bogus="1" />'),d}function Ob(s,d,v){return!1===d.hasChildNodes()&&xm(s,d)&&(M=v,O=(w=d).ownerDocument.createTextNode(zs),w.appendChild(O),M.setStart(O,0),M.setEnd(O,0),1);var w,M,O}function Ws(s,d,v,w){var M,O,L,B,G=v[d?"start":"end"],W=s.getRoot();if(G){for(L=G[0],O=W,M=G.length-1;1<=M;M--){if(B=O.childNodes,Ob(W,O,w))return 1;if(G[M]>B.length-1)return Ob(W,O,w)||function(re){return sd(O).fold(ht,function($){return re.setStart($.container(),$.offset()),re.setEnd($.container(),$.offset()),!0})}(w);O=B[G[M]]}3===O.nodeType&&(L=Math.min(G[0],O.nodeValue.length)),1===O.nodeType&&(L=Math.min(G[0],O.childNodes.length)),d?w.setStart(O,L):w.setEnd(O,L)}return 1}function wl(s){return Er(s)&&0<s.data.length}function j_(s,d,v){var w,M,O,L,B,G,W=s.get(v.id+"_"+d),re=v.keep;if(W){if(w=W.parentNode,M="start"===d?re?W.hasChildNodes()?(w=W.firstChild,1):wl(W.nextSibling)?(w=W.nextSibling,0):wl(W.previousSibling)?(w=W.previousSibling,W.previousSibling.data.length):(w=W.parentNode,s.nodeIndex(W)+1):s.nodeIndex(W):re?W.hasChildNodes()?(w=W.firstChild,1):wl(W.previousSibling)?(w=W.previousSibling,W.previousSibling.data.length):(w=W.parentNode,s.nodeIndex(W)):s.nodeIndex(W),B=w,G=M,!re){for(L=W.previousSibling,O=W.nextSibling,gn.each(gn.grep(W.childNodes),function($){Er($)&&($.nodeValue=$.nodeValue.replace(/\uFEFF/g,""))});W=s.get(v.id+"_"+d);)s.remove(W,!0);L&&O&&L.nodeType===O.nodeType&&Er(L)&&!Wr.opera&&(M=L.nodeValue.length,L.appendData(O.nodeValue),s.remove(O),B=L,G=M)}return J.some(pn(B,G))}return J.none()}function Eb(s,d){(function(v,w){var M,O,L,B,G,W,re,$,ue,pe,be,we,Me=v.dom;if(w){if(ou(w))return be=w,we=(pe=Me).createRng(),Ws(pe,!0,be,we)&&Ws(pe,!1,be,we)?J.some(we):J.none();if(Le(w.start))return J.some((re=w,$=(W=Me).createRng(),ue=Ha(W.getRoot(),re.start),$.setStart(ue.container(),ue.offset()),ue=Ha(W.getRoot(),re.end),$.setEnd(ue.container(),ue.offset()),$));if(so(w,"id"))return ya(G=j_(L=Me,"start",B=w),j_(L,"end",B).or(G),function(ke,Ne){var je=L.createRng();return je.setStart(Yv(L,ke.container()),ke.offset()),je.setEnd(Yv(L,Ne.container()),Ne.offset()),je});if(so(w,"name"))return J.from((M=Me).select((O=w).name)[O.index]).map(function(ke){var Ne=M.createRng();return Ne.selectNode(ke),Ne});if(so(w,"rng"))return J.some(w.rng)}return J.none()})(s,d).each(function(v){s.setRng(v)})}function Sl(s){return uo(s)&&"SPAN"===s.tagName&&"bookmark"===s.getAttribute("data-mce-type")}function Xv(s){return""!==s&&-1!==" \f\n\r\t\v".indexOf(s)}function Xa(s){return!Xv(s)&&!Tm(s)}function Sh(s){return s.nodeType}function vs(s,d,v){var w,M=v.startOffset,O=v.startContainer;if((O!==v.endContainer||!(w=O.childNodes[M])||!/^(IMG)$/.test(w.nodeName))&&uo(O)){var L=O.childNodes,B=void 0;M<L.length?B=new Qs(O=L[M],s.getParent(O,s.isBlock)):(B=new Qs(O=L[L.length-1],s.getParent(O,s.isBlock))).next(!0);for(var G=B.current();G;G=B.next())if(Er(G)&&!Qv(G))return v.setStart(G,0),d.setRng(v),0}}function pp(s,d,v){if(s){var w=d?"nextSibling":"previousSibling";for(s=v?s:s[w];s;s=s[w])if(uo(s)||!Qv(s))return s}}function i0(s,d){return Sh(d)&&(d=d.nodeName),!!s.schema.getTextBlockElements()[d.toLowerCase()]}function od(s,d,v){return s.schema.isValidChild(d,v)}function Nl(s,d){return pt(s)?s=s(d):U(d)&&(s=s.replace(/%(\w+)/g,function(v,w){return d[w]||v})),s}function _m(s,d){return s=""+((s=s||"").nodeName||s),d=""+((d=d||"").nodeName||d),s.toLowerCase()===d.toLowerCase()}function wm(s,d,v){return"color"!==v&&"backgroundColor"!==v||(d=s.toHex(d)),"fontWeight"===v&&700===d&&(d="bold"),""+("fontFamily"===v?d.replace(/[\'\"]/g,"").replace(/,\s+/g,","):d)}function sg(s,d,v){return wm(s,s.getStyle(d,v),v)}function q_(s,d){var v;return s.getParent(d,function(w){return(v=s.getStyle(w,"text-decoration"))&&"none"!==v}),v}function a0(s,d,v){return s.getParents(d,v,s.getRoot())}function ac(s){return go(s,"block")}function jo(s){return go(s,"selector")}function io(s){return go(s,"inline")}function _a(s){return jo(s)&&!1!==s.expand&&!io(s)}function Sm(s,d){for(var v=d;v;){if(uo(v)&&s.getContentEditable(v))return"false"===s.getContentEditable(v)?v:d;v=v.parentNode}return d}function gp(s,d,v,w){for(var M=d.data,O=v;s?0<=O:O<M.length;s?O--:O++)if(w(M.charAt(O)))return s?O+1:O;return-1}function sx(s,d,v){return gp(s,d,v,function(w){return Tm(w)||Xv(w)})}function s0(s,d,v){return gp(s,d,v,Xa)}function Df(s,d,v,w,M,O){function L(W,re,$){var ue=$p(s);return J.from((M?ue.backwards:ue.forwards)(W,re,function(be,we){return Dm(be.parentNode)?-1:$(M,B=be,we)},G))}var B,G=s.getParent(v,s.isBlock)||d;return L(v,w,sx).bind(function(W){return O?L(W.container,W.offset+(M?-1:0),s0):J.some(W)}).orThunk(function(){return B?J.some({container:B,offset:M?0:B.length}):J.none()})}function u0(s,d,v,w,M){Er(w)&&en(w.data)&&w[M]&&(w=w[M]);for(var O=mp(s,w),L=0;L<O.length;L++)for(var B=0;B<d.length;B++){var G=d[B];if((!U(G.collapsed)||G.collapsed===v.collapsed)&&jo(G)&&s.is(O[L],G.selector))return O[L]}return w}function Cm(s,d,v,w){var M,O=v,L=s.dom,B=L.getRoot(),G=d[0];if((O=ac(G)?G.wrapper?null:L.getParent(v,G.block,B):O)||(M=L.getParent(v,"LI,TD,TH"),O=L.getParent(Er(v)?v.parentNode:v,function(W){return W!==B&&f0(s,W)},M)),!(O=O&&ac(G)&&G.wrapper&&mp(L,O,"ul,ol").reverse()[0]||O))for(O=v;O[w]&&!L.isBlock(O[w])&&!_m(O=O[w],"br"););return O||v}function Bl(s,d,v,w,M){var O,L=v,B=M?"previousSibling":"nextSibling",G=s.getRoot();if(Er(v)&&!nl(v)&&(M?0<w:w<v.data.length))return v;for(;;){if(!d[0].block_expand&&s.isBlock(L))return L;for(var W=L[B];W;W=W[B]){var re=Er(W)&&!Am(s,G,W,B);if(!Dm(W)&&(!La(O=W)||!O.getAttribute("data-mce-bogus")||O.nextSibling)&&!nl(W,re))return L}if(L===G||L.parentNode===G){v=L;break}L=L.parentNode}return v}function tl(s){return Dm(s.parentNode)||Dm(s)}function id(s,d,v,w){void 0===w&&(w=!1);var M=d.startContainer,O=d.startOffset,L=d.endContainer,B=d.endOffset,G=s.dom,W=v[0];return uo(M)&&M.hasChildNodes()&&(M=qc(M,O),Er(M)&&(O=0)),uo(L)&&L.hasChildNodes()&&(L=qc(L,d.collapsed?B:B-1),Er(L)&&(B=L.nodeValue.length)),M=Sm(G,M),L=Sm(G,L),tl(M)&&(M=Dm(M)?M:M.parentNode,Er(M=d.collapsed?M.previousSibling||M:M.nextSibling||M)&&(O=d.collapsed?M.length:0)),tl(L)&&(L=Dm(L)?L:L.parentNode,Er(L=d.collapsed?L.nextSibling||L:L.previousSibling||L)&&(B=d.collapsed?0:L.length)),d.collapsed&&(Df(G,s.getBody(),M,O,!0,w).each(function(re){M=re.container,O=re.offset}),Df(G,s.getBody(),L,B,!1,w).each(function(re){L=re.container,B=re.offset})),(io(W)||W.block_expand)&&(io(W)&&Er(M)&&0!==O||(M=Bl(G,v,M,O,!0)),io(W)&&Er(L)&&B!==L.nodeValue.length||(L=Bl(G,v,L,B,!1))),_a(W)&&(M=u0(G,v,d,M,"previousSibling"),L=u0(G,v,d,L,"nextSibling")),(ac(W)||jo(W))&&(M=Cm(s,v,M,"previousSibling"),L=Cm(s,v,L,"nextSibling"),ac(W)&&(G.isBlock(M)||(M=Bl(G,v,M,O,!0)),G.isBlock(L)||(L=Bl(G,v,L,B,!1)))),uo(M)&&(O=G.nodeIndex(M),M=M.parentNode),uo(L)&&(B=G.nodeIndex(L)+1,L=L.parentNode),{startContainer:M,startOffset:O,endContainer:L,endOffset:B}}function Zv(s,d,v){function w(we){var Me=we[0];Er(Me)&&Me===G&&B>=Me.data.length&&we.splice(0,1);var ke=we[we.length-1];return 0===W&&0<we.length&&ke===re&&Er(ke)&&we.splice(we.length-1,1),we}function M(we,Me,ke){for(var Ne=[];we&&we!==ke;we=we[Me])Ne.push(we);return Ne}function O(we,Me){return s.getParent(we,function(ke){return ke.parentNode===Me},Me)}function L(we,Me,ke){for(var Ne=ke?"nextSibling":"previousSibling",je=we;je&&je!==Me;je=ct){var ct=je.parentNode,Dt=M(je===we?je:je[Ne],Ne);Dt.length&&(ke||Dt.reverse(),v(w(Dt)))}}var B=d.startOffset,G=qc(d.startContainer,B),W=d.endOffset,re=qc(d.endContainer,W-1);if(G===re)return v(w([G]));var $=s.findCommonAncestor(G,re);if(s.isChildOf(G,re))return L(G,$,!0);if(s.isChildOf(re,G))return L(re,$);var ue=O(G,$)||G,pe=O(re,$)||re;L(G,ue,!0);var be=M(ue===G?ue:ue.nextSibling,"nextSibling",pe===re?pe.nextSibling:pe);be.length&&v(w(be)),L(re,pe)}function Mc(s){var d=[];if(s)for(var v=0;v<s.rangeCount;v++)d.push(s.getRangeAt(v));return d}function l0(s,d){var v=Ol(d,"td[data-mce-selected],th[data-mce-selected]");return 0<v.length?v:Zn(Ja(s,function(w){var M=Ud(w);return M?[Ut.fromDom(M)]:[]}),Gr)}function Ch(s){return l0(Mc(s.selection.getSel()),Ut.fromDom(s.getBody()))}function $c(s,d){return Lu(s,"table",d)}function kh(s,d){return ya((M=d.startContainer,O=d.startOffset,Er(M)?0===O?J.some(Ut.fromDom(M)):J.none():J.from(M.childNodes[O]).map(Ut.fromDom)),(v=d.endContainer,w=d.endOffset,Er(v)?w===v.data.length?J.some(Ut.fromDom(v)):J.none():J.from(v.childNodes[w-1]).map(Ut.fromDom)),function(L,B){var G=hn(d0(s),ve(En,L)),W=hn(lx(s),ve(En,B));return G.isSome()&&W.isSome()}).getOr(!1);var v,w,M,O}function Cl(s,d,v,w){var M=v,O=new Qs(v,M),L=bo(s.schema.getMoveCaretBeforeOnEnterElements(),function(B,G){return!Ht(["td","th","table"],G.toLowerCase())});do{if(Er(v)&&0!==gn.trim(v.nodeValue).length)return w?d.setStart(v,0):d.setEnd(v,v.nodeValue.length),0;if(L[v.nodeName])return w?d.setStartBefore(v):"BR"===v.nodeName?d.setEndBefore(v):d.setEndAfter(v),0}while(v=w?O.next():O.prev());"BODY"===M.nodeName&&(w?d.setStart(M,0):d.setEnd(M,M.childNodes.length))}function c0(s){var d=s.selection.getSel();return d&&0<d.rangeCount}function Af(s,d){var v=Ch(s);0<v.length?Sn(v,function(w){var M=w.dom,O=s.dom.createRng();O.setStartBefore(M),O.setEndAfter(M),d(O,!0)}):d(s.selection.getRng(),!1)}function km(s,d,v){var w=Fv(s,d);v(w),s.moveToBookmark(w)}function Eo(s){return cx.get(s)}function _u(s,d,v,w){var M=d.uid,O=void 0===M?Lv("mce-annotation"):M,L=function(pe,be){var we={};for(ke in pe)Object.prototype.hasOwnProperty.call(pe,ke)&&be.indexOf(ke)<0&&(we[ke]=pe[ke]);if(null!=pe&&"function"==typeof Object.getOwnPropertySymbols)for(var Me=0,ke=Object.getOwnPropertySymbols(pe);Me<ke.length;Me++)be.indexOf(ke[Me])<0&&Object.prototype.propertyIsEnumerable.call(pe,ke[Me])&&(we[ke[Me]]=pe[ke[Me]]);return we}(d,["uid"]),B=Ut.fromTag("span",s);Qu(B,wc()),ql(B,""+Vs(),O),ql(B,""+Yc(),v);var G,W=w(O,L),re=W.attributes,$=W.classes,ue=void 0===$?[]:$;return Fc(B,void 0===re?{}:re),G=B,Sn(ue,function(pe){Qu(G,pe)}),B}function ux(s){var d,v,w,M=(d={},{register:function(L,B){d[L]={name:L,settings:B}},lookup:function(L){return wr(d,L).map(function(B){return B.settings})}});w=M,(v=s).on("init",function(){v.serializer.addNodeFilter("span",function(L){Sn(L,function(B){J.from(B.attr(Yc())).bind(w.lookup).each(function(G){!1===G.persistent&&B.unwrap()})})})});var O=function ji(s){function d(){return{listeners:[],previous:Jf()}}function v(L,B){w(L,function(G){return B(G),G})}function w(L,B){var G=M.get(),W=B(wr(G,L).getOrThunk(d));G[L]=W,M.set(G)}var M=Ya({}),O=Wd(function(){var L=M.get();Sn(Ci(zr(L)),function(B){w(B,function(G){var W=G.previous.get();return xb(s,J.some(B)).fold(function(){var re;W.isSome()&&(v(re=B,function($){Sn($.listeners,function(ue){return ue(!1,re)})}),G.previous.clear())},function(re){var $,ue,pe,be=re.uid,we=re.name,Me=re.elements;gc(W,be)||(ue=be,pe=Me,v($=we,function(ke){Sn(ke.listeners,function(Ne){return Ne(!0,$,{uid:ue,nodes:It(pe,function(je){return je.dom})})})}),G.previous.set(be))}),{previous:G.previous,listeners:G.listeners}})})},30);return s.on("remove",function(){O.cancel()}),s.on("NodeChange",function(){O.throttle()}),{addListener:function(L,B){w(L,function(G){return{previous:G.previous,listeners:G.listeners.concat([B])}})}}}(s);return{register:function(L,B){M.register(L,B)},annotate:function(L,B){M.lookup(L).each(function(G){var W,re,$,ue;re=L,$=G,ue=B,(W=s).undoManager.transact(function(){var pe,be,we,Me,ke=W.selection,Ne=ke.getRng(),je=0<Ch(W).length;Ne.collapsed&&!je&&(we=id(pe=W,be=Ne,[{inline:"span"}]),be.setStart(we.startContainer,we.startOffset),be.setEnd(we.endContainer,we.endOffset),pe.selection.setRng(be)),ke.getRng().collapsed&&!je?(am(Me=_u(W.getDoc(),ue,re,$.decorate),yc),ke.getRng().insertNode(Me.dom),ke.select(Me.dom)):km(ke,!1,function(){Af(W,function(ct){!function Mh(s,d,v,w,M){function O(){W.clear()}function L($){Sn($,re)}var B=[],G=_u(s.getDoc(),M,v,w),W=Jf(),re=function($){var ue,pe,be,we,ke;switch(be=s,ke=Pa(we=$),$s(we).fold(function(){return"skipping"},function(Ne){return"br"===ke||ka(ct=we)&&Eo(ct)===zs?"valid":mc(je=we)&&_c(je,wc())?"existing":ms(we.dom)?"caret":od(be,"span",ke)&&od(be,Pa(Ne),"span")?"valid":"invalid-child";var je,ct})){case"invalid-child":O(),L(ju($)),O();break;case"valid":cu(ue=$,pe=W.get().getOrThunk(function(){var Ne=xh(G);return B.push(Ne),W.set(Ne),Ne})),Cs(pe,ue)}};Zv(s.dom,d,function($){O(),L(It($,Ut.fromDom))})}(W,ct,re,$.decorate,ue)})})})})},annotationChanged:function(L,B){O.addListener(L,B)},remove:function(L){xb(s,J.some(L)).each(function(B){Sn(B.elements,By)})},getAll:function(L){var B,G,W;return ar((B=L,G=Ol(Ut.fromDom(s.getBody()),"["+Yc()+'="'+B+'"]'),W={},Sn(G,function(re){var $=du(re,Vs()),ue=wr(W,$).getOr([]);W[$]=ue.concat([re])}),W),function(re){return It(re,function($){return $.dom})})}}}function ko(s){return{getBookmark:ve(Y_,s),moveToBookmark:ve(Eb,s)}}function Pb(s){return Rr(s)||!!qf(d=s)&&!0!==cr(Io(d.getElementsByTagName("*")),function(v,w){return v||Id(w)},!1);var d}(Tb=Hs=Hs||{})[Tb.Backwards=-1]="Backwards",Tb[Tb.Forwards=1]="Forwards";var If,ug,$v=to,Jc=Er,As=uo,Mm=La,Vu=Md,lg=G1,ad=function(s,d,v){var w,M,O;if(!As(v)||!d)return null;if(d.isEqual(pn.after(v))&&v.lastChild){if(O=pn.after(v.lastChild),s<0&&Vu(v.lastChild)&&As(v.lastChild))return Mm(v.lastChild)?pn.before(v.lastChild):O}else O=d;var L,B,G,W=O.container(),re=O.offset();if(Jc(W)){if(s<0&&0<re)return pn(W,--re);if(0<s&&re<W.length)return pn(W,++re);w=W}else{if(s<0&&0<re&&($=ym(W,re-1),Vu($)))return!Pb($)&&(M=xl($,s,lg,$))?Jc(M)?pn(M,M.data.length):pn.after(M):Jc($)?pn($,$.data.length):pn.before($);if(0<s&&re<W.childNodes.length&&($=ym(W,re),Vu($)))return Mm($)?(L=v,(G=(B=$).nextSibling)&&Vu(G)?Jc(G)?pn(G,0):pn.before(G):ad(Hs.Forwards,pn.after(B),L)):!Pb($)&&(M=xl($,s,lg,$))?Jc(M)?pn(M,0):pn.before(M):Jc($)?pn($,0):pn.after($);w=$||O.getNode()}if((0<s&&O.isAtEnd()||s<0&&O.isAtStart())&&(w=xl(w,s,sn,v,!0),lg(w,v)))return ix(s,w);var $=xl(w,s,lg,v),ue=ja(Zn(function(pe,be){for(var we=[];pe&&pe!==be;)we.push(pe),pe=pe.parentNode;return we}(W,v),$v));return!ue||$&&ue.contains($)?$?ix(s,$):null:0<s?pn.after(ue):pn.before(ue)},Tc=function(s,d,v){var w=Rl(d);return J.from(s?w.next(v):w.prev(v))},Jv=function(s,d,v,w){return ag(s,d,v).bind(function(M){return w(M)?Jv(s,d,M,w):J.some(M)})},Da=ve(Tc,!0),Aa=ve(Tc,!1),yi=ve(qv,!0),sd=ve(qv,!1),cg="_mce_caret",Y_=function(s,d,v){return 2===d?ex(xn,v,s):3===d?(M=(w=s).getRng(),{start:jd(w.dom.getRoot(),pn.fromRangeStart(M)),end:jd(w.dom.getRoot(),pn.fromRangeEnd(M))}):d?{rng:s.getRng()}:Fv(s,!1);var w,M},Tm=function(s){return"\xa0"===s},Qv=function(s,d){return void 0===d&&(d=!1),!(!U(s)||!Er(s))&&Qg(d?s.data.replace(/ /g,"\xa0"):s.data)},Dm=Sl,mp=a0,nl=Qv,f0=i0,Am=function(s,d,v,w){var M=v.parentNode;return!U(v[w])&&(!(M!==d&&!xe(M)&&!s.isBlock(M))||Am(s,d,M,w))},d0=function(s){return Ny(s).fold(te([s]),function(d){return[s].concat(d0(d))})},lx=function(s){return uh(s).fold(te([s]),function(d){return"br"===Pa(d)?cl(d).map(function(v){return[s].concat(lx(v))}).getOr([]):[s].concat(lx(d))})},cx=(If=ka,{get:function(s){if(!If(s))throw new Error("Can only get text value of a text node");return ug(s).getOr("")},getOption:ug=function(s){return If(s)?J.from(s.dom.nodeValue):J.none()},set:function(s,d){if(!If(s))throw new Error("Can only set raw text value of a text node");s.dom.nodeValue=d}});function fg(s,d){for(;d&&d!==s;){if(Xu(d)||to(d))return d;d=d.parentNode}return null}function qo(s,d,v){if(!v.collapsed){if(Wr.browser.isIE()&&v.startOffset===v.endOffset-1&&v.startContainer===v.endContainer){var w=v.startContainer.childNodes[v.startOffset];if(uo(w))return Te(w.getClientRects(),function(M){return z_(M,s,d)})}return Te(v.getClientRects(),function(M){return z_(M,s,d)})}}function vp(s,d,v){return s.fire(d,v)}function dg(s,d,v,w){return s.fire("FormatApply",{format:d,node:v,vars:w})}function h0(s,d,v,w){return s.fire("FormatRemove",{format:d,node:v,vars:w})}function fx(s,d){function v(Tn){return Tn&&("IMG"===Tn.nodeName||d.dom.is(Tn,"figure.image"))}function w(Tn){return Il(Tn)||Mt.hasClass(Tn,"mce-preview-object")}function M(Tn){var pr=Tn.target;!function(Hn,Tr){if("longpress"!==Hn.type&&0!==Hn.type.indexOf("touch"))return v(Hn.target)&&!qo(Hn.clientX,Hn.clientY,Tr);var Dr=Hn.touches[0];return v(Hn.target)&&!qo(Dr.clientX,Dr.clientY,Tr)}(Tn,d.selection.getRng())||Tn.isDefaultPrevented()||d.selection.select(pr)}function O(Tn){return Mt.is(Tn,"figure.image")?[Tn.querySelector("img")]:Mt.hasClass(Tn,"mce-preview-object")&&U(Tn.firstElementChild)?[Tn,Tn.firstElementChild]:[Tn]}function L(Tn){var pr=n0(d);return!!pr&&"false"!==Tn.getAttribute("data-mce-resize")&&Tn!==d.getBody()&&(Mt.hasClass(Tn,"mce-preview-object")?rr(Ut.fromDom(Tn.firstElementChild),pr):rr(Ut.fromDom(Tn),pr))}function B(Tn,pr,Hn){U(Hn)&&Sn(O(Tn),function(Tr){Tr.style[pr]||!d.schema.isValid(Tr.nodeName.toLowerCase(),pr)?Mt.setStyle(Tr,pr,Hn):Mt.setAttrib(Tr,pr,""+Hn)})}function G(Tn,pr,Hn){B(Tn,"width",pr),B(Tn,"height",Hn)}function W(Tn){var pr,Hn,Et=Tn.screenX-Ne,mn=Tn.screenY-je;dt=(dt=Et*Me[2]+ct)<5?5:dt,Vt=(Vt=mn*Me[3]+Dt)<5?5:Vt,((v(pe)||w(pe))&&!1!==d.getParam("resize_img_proportional",!0,"boolean")?!qr.modifierPressed(Tn):qr.modifierPressed(Tn))&&(On(Et)>On(mn)?(Vt=er(dt*Ye),dt=er(Vt/Ye)):(dt=er(Vt/Ye),Vt=er(dt*Ye))),G(be,dt,Vt),Mt.setStyles(we,{left:pr=0<(pr=Me.startPos.x+Et)?pr:0,top:Hn=0<(Hn=Me.startPos.y+mn)?Hn:0,display:"block"}),we.innerHTML=dt+" &times; "+Vt,Me[2]<0&&be.clientWidth<=dt&&Mt.setStyle(be,"left",void 0+(ct-dt)),Me[3]<0&&be.clientHeight<=Vt&&Mt.setStyle(be,"top",void 0+(Dt-Vt)),(Et=An.scrollWidth-Zt)+(mn=An.scrollHeight-ln)!=0&&Mt.setStyles(we,{left:pr-Et,top:Hn-mn}),rt||(d.fire("ObjectResizeStart",{target:pe,width:ct,height:Dt,origin:"corner-"+Me.name}),rt=!0)}function re(Tn){function pr(Tr,Dr){if(Tr)do{if(Tr===Dr)return 1}while(Tr=Tr.parentNode)}var Hn;rt||d.removed||(At(Mt.select("img[data-mce-selected],hr[data-mce-selected]"),function(Tr){Tr.removeAttribute(on)}),Hn="mousedown"===Tn.type?Tn.target:s.getNode(),pr(Hn=Mt.$(Hn).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],An)&&(ue(),pr(s.getStart(!0),Hn)&&pr(s.getEnd(!0),Hn))?Yn(Hn):qn())}function $(Tn){return px(fg(d.getBody(),Tn))}function ue(){try{d.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}}var pe,be,we,Me,ke,Ne,je,ct,Dt,Ye,rt,dt,Vt,Zt,ln,on="data-mce-selected",Mt=d.dom,At=gn.each,zt=d.getDoc(),tn=document,On=Math.abs,er=Math.round,An=d.getBody(),Xn={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Fn=function(){var Dr=rt;rt=!1,Dr&&(B(pe,"width",dt),B(pe,"height",Vt)),Mt.unbind(zt,"mousemove",W),Mt.unbind(zt,"mouseup",Fn),tn!==zt&&(Mt.unbind(tn,"mousemove",W),Mt.unbind(tn,"mouseup",Fn)),Mt.remove(be),Mt.remove(we),Mt.remove(ke),Yn(pe),Dr&&(d.fire("ObjectResized",{target:pe,width:dt,height:Vt,origin:"corner-"+Me.name}),Mt.setAttrib(pe,"style",Mt.getAttrib(pe,"style"))),d.nodeChanged()},Yn=function(Tn){xr();var pr=Mt.getPos(Tn,An),Hn=pr.x,Tr=pr.y,Dr=Tn.getBoundingClientRect(),Ao=Dr.width||Dr.right-Dr.left,gt=Dr.height||Dr.bottom-Dr.top;pe!==Tn&&(qn(),pe=Tn,dt=Vt=0);var Et=d.fire("ObjectSelected",{target:Tn}),mn=Mt.getAttrib(pe,on,"1");L(Tn)&&!Et.isDefaultPrevented()?At(Xn,function(Nn,wn){var or=Mt.get("mceResizeHandle"+wn);or&&Mt.remove(or),or=Mt.add(An,"div",{id:"mceResizeHandle"+wn,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+wn+"-resize; margin:0; padding:0"}),11===Wr.ie&&(or.contentEditable=!1),Mt.bind(or,"mousedown",function($r){var ao,ea,_o;$r.stopImmediatePropagation(),$r.preventDefault(),ao=$r,_o=O(pe)[0],Ne=ao.screenX,je=ao.screenY,Ye=(Dt=_o.clientHeight)/(ct=_o.clientWidth),(Me=Nn).name=wn,Me.startPos={x:Ao*Nn[0]+Hn,y:gt*Nn[1]+Tr},Zt=An.scrollWidth,ln=An.scrollHeight,ke=Mt.add(An,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),Mt.setStyles(ke,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),be=w(ea=pe)?Mt.create("img",{src:Wr.transparentSrc}):ea.cloneNode(!0),Mt.addClass(be,"mce-clonedresizable"),Mt.setAttrib(be,"data-mce-bogus","all"),be.contentEditable="false",Mt.setStyles(be,{left:Hn,top:Tr,margin:0}),G(be,Ao,gt),be.removeAttribute(on),An.appendChild(be),Mt.bind(zt,"mousemove",W),Mt.bind(zt,"mouseup",Fn),tn!==zt&&(Mt.bind(tn,"mousemove",W),Mt.bind(tn,"mouseup",Fn)),we=Mt.add(An,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},ct+" &times; "+Dt)}),Nn.elm=or,Mt.setStyles(or,{left:Ao*Nn[0]+Hn-or.offsetWidth/2,top:gt*Nn[1]+Tr-or.offsetHeight/2})}):qn(),Mt.getAttrib(pe,on)||pe.setAttribute(on,mn)},qn=function(){xr(),pe&&pe.removeAttribute(on),Rn(Xn,function(Tn,pr){var Hn=Mt.get("mceResizeHandle"+pr);Hn&&(Mt.unbind(Hn),Mt.remove(Hn))})},xr=function(){Rn(Xn,function(Tn){Tn.elm&&(Mt.unbind(Tn.elm),delete Tn.elm)})};return d.on("init",function(){var Tn;ue(),(Wr.browser.isIE()||Wr.browser.isEdge())&&(d.on("mousedown click",function(Hn){var Tr=Hn.target,Dr=Tr.nodeName;rt||!/^(TABLE|IMG|HR)$/.test(Dr)||$(Tr)||(2!==Hn.button&&d.selection.select(Tr,"TABLE"===Dr),"mousedown"===Hn.type&&d.nodeChanged())}),Mt.bind(An,"mscontrolselect",Tn=function(Hn){function Tr(Dr){Bt.setEditorTimeout(d,function(){return d.selection.select(Dr)})}if($(Hn.target)||Il(Hn.target))return Hn.preventDefault(),void Tr(Hn.target);/^(TABLE|IMG|HR)$/.test(Hn.target.nodeName)&&(Hn.preventDefault(),"IMG"===Hn.target.tagName&&Tr(Hn.target))}),d.on("remove",function(){return Mt.unbind(An,"mscontrolselect",Tn)}));var pr=Bt.throttle(function(Hn){d.composing||re(Hn)});d.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",pr),d.on("keyup compositionend",function(Hn){pe&&"TABLE"===pe.nodeName&&pr(Hn)}),d.on("hide blur",qn),d.on("contextmenu longpress",M,!0)}),d.on("remove",xr),{isResizable:L,showResizeRect:Yn,hideResizeRect:qn,updateResizeRect:re,destroy:function(){pe=be=ke=null}}}function LS(s){return Xu(s)||to(s)}function dx(s,d,v){var w,M,O,L,B,G=v;if(G.caretPositionFromPoint)(M=G.caretPositionFromPoint(s,d))&&((w=v.createRange()).setStart(M.offsetNode,M.offset),w.collapse(!0));else if(G.caretRangeFromPoint)w=G.caretRangeFromPoint(s,d);else if(G.body.createTextRange){w=G.body.createTextRange();try{w.moveToPoint(s,d),w.collapse(!0)}catch{w=function(re,$,ue){var pe,be=ue.elementFromPoint(re,$),we=ue.body.createTextRange();if(be&&"HTML"!==be.tagName||(be=ue.body),we.moveToElementText(be),0<(pe=(pe=gn.toArray(we.getClientRects())).sort(function(Me,ke){return(Me=Math.abs(Math.max(Me.top-$,Me.bottom-$)))-Math.abs(Math.max(ke.top-$,ke.bottom-$))})).length){$=(pe[0].bottom+pe[0].top)/2;try{return we.moveToPoint(re,$),we.collapse(!0),we}catch{}}return null}(s,d,v)}return L=v.body,B=(O=w)&&O.parentElement?O.parentElement():null,to(function(W,re,$){for(;W&&W!==re;){if($(W))return W;W=W.parentNode}return null}(B,L,LS))?null:O}return w}function Pi(s,d){return s&&d&&s.startContainer===d.startContainer&&s.startOffset===d.startOffset&&s.endContainer===d.endContainer&&s.endOffset===d.endOffset}function hx(s,d,v){return null!==function(w,M,O){for(;w&&w!==M;){if(O(w))return w;w=w.parentNode}return null}(s,d,v)}function Im(s){return s&&"TABLE"===s.nodeName}function Xd(s,d,v){for(var w=new Qs(d,s.getParent(d.parentNode,s.isBlock)||s.getRoot());d=w[v?"prev":"next"]();)if(La(d))return 1}function lr(s,d,v,w,M){var O,L,B=s.getRoot(),G=s.schema.getNonEmptyElements(),W=s.getParent(M.parentNode,s.isBlock)||B;if(w&&La(M)&&d&&s.isEmpty(W))return J.some(pn(M.parentNode,s.nodeIndex(M)));for(var re,$,ue=new Qs(M,W);L=ue[w?"prev":"next"]();){if("false"===s.getContentEditableParent(L)||($=B,Nr(re=L)&&!1===hx(re,$,ms)))return J.none();if(Er(L)&&0<L.nodeValue.length)return!1===hx(L,B,function(pe){return"A"===pe.nodeName})?J.some(pn(L,w?L.nodeValue.length:0)):J.none();if(s.isBlock(L)||G[L.nodeName.toLowerCase()])return J.none();O=L}return v&&O?J.some(pn(O,0)):J.none()}function yp(s,d,v,w){var M,O=s.getRoot(),L=!1,B=w[(v?"start":"end")+"Container"],G=w[(v?"start":"end")+"Offset"],W=uo(B)&&G===B.childNodes.length,re=s.schema.getNonEmptyElements(),$=v;if(Nr(B))return J.none();if(uo(B)&&G>B.childNodes.length-1&&($=!1),Yu(B)&&(B=O,G=0),B===O){if($&&(ue=B.childNodes[0<G?G-1:0])&&(Nr(ue)||re[ue.nodeName]||Im(ue)))return J.none();if(B.hasChildNodes()){if(G=Math.min(!$&&0<G?G-1:G,B.childNodes.length-1),G=Er(B=B.childNodes[G])&&W?B.data.length:0,!d&&B===O.lastChild&&Im(B)||function(be,we){for(;we&&we!==be;){if(to(we))return 1;we=we.parentNode}}(O,B)||Nr(B))return J.none();if(B.hasChildNodes()&&!1===Im(B)){var ue=B,pe=new Qs(B,O);do{if(to(ue)||Nr(ue)){L=!1;break}if(Er(ue)&&0<ue.nodeValue.length){G=$?0:ue.nodeValue.length,B=ue,L=!0;break}if(re[ue.nodeName.toLowerCase()]&&(!(M=ue)||!/^(TD|TH|CAPTION)$/.test(M.nodeName))){G=s.nodeIndex(ue),B=ue.parentNode,$||G++,L=!0;break}}while(ue=$?pe.next():pe.prev())}}}return d&&(Er(B)&&0===G&&lr(s,W,d,!0,B).each(function(be){B=be.container(),G=be.offset(),L=!0}),uo(B)&&(!(ue=(ue=B.childNodes[G])||B.childNodes[G-1])||!La(ue)||ue.previousSibling&&"A"===ue.previousSibling.nodeName||Xd(s,ue,!1)||Xd(s,ue,!0)||lr(s,W,d,!0,ue).each(function(be){B=be.container(),G=be.offset(),L=!0}))),$&&!d&&Er(B)&&G===B.nodeValue.length&&lr(s,W,d,!1,B).each(function(be){B=be.container(),G=be.offset(),L=!0}),L?J.some(pn(B,G)):J.none()}function Qc(s,d){var v=d.collapsed,w=d.cloneRange(),M=pn.fromRangeStart(d);return yp(s,v,!0,w).each(function(O){v&&pn.isAbove(M,O)||w.setStart(O.container(),O.offset())}),v||yp(s,v,!1,w).each(function(O){w.setEnd(O.container(),O.offset())}),v&&w.collapse(!0),Pi(d,w)?J.none():J.some(w)}function hg(s,d){return s.splitText(d)}function bp(s){var d=s.startContainer,v=s.startOffset,w=s.endContainer,M=s.endOffset;return d===w&&Er(d)?0<v&&v<d.nodeValue.length&&(d=(w=hg(d,v)).previousSibling,v<M?(d=w=hg(w,M-=v).previousSibling,M=w.nodeValue.length,v=0):M=0):(Er(d)&&0<v&&v<d.nodeValue.length&&(d=hg(d,v),v=0),Er(w)&&0<M&&M<w.nodeValue.length&&(M=(w=hg(w,M).previousSibling).nodeValue.length)),{startContainer:d,startOffset:v,endContainer:w,endOffset:M}}function Om(s){return{walk:function(d,v){return Zv(s,d,v)},split:bp,normalize:function(d){return Qc(s,d).fold(ht,function(v){return d.setStart(v.startContainer,v.startOffset),d.setEnd(v.endContainer,v.endOffset),!0})}}}ko.isBookmarkNode=Sl;var qr={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(s){return s.shiftKey||s.ctrlKey||s.altKey||qr.metaKeyPressed(s)},metaKeyPressed:function(s){return Wr.mac?s.metaKey:s.ctrlKey&&!s.altKey}},px=to;Om.compareRanges=Pi,Om.getCaretRangeFromPoint=dx,Om.getSelectedNode=Ud,Om.getNode=qc;var ey,ty,Rb=(ey="height",ty=function(s){var d=s.dom;return Po(s)?d.getBoundingClientRect().height:d.offsetHeight},{set:function(s,d){if(!He(d)&&!d.match(/^[0-9]+$/))throw new Error(ey+".set accepts only positive integer values. Value was "+d);var v=s.dom;Bs(v)&&(v.style[ey]=d+"px")},get:Em,getOuter:Em,aggregate:ny,max:function(s,d,v){var w=ny(s,v);return w<d?d-w:0}});function Em(s){var d=ty(s);if(d<=0||null===d){var v=Hf(s,ey);return parseFloat(v)||0}return d}function ny(s,d){return cr(d,function(v,w){var M=Hf(s,w),O=void 0===M?0:parseInt(M,10);return isNaN(O)?v:v+O},0)}function xp(s){return"textarea"===Pa(s)}function _p(s,d){var v=function(M){var O=M.dom.ownerDocument,L=O.body,B=O.defaultView,G=O.documentElement;if(L===M.dom)return Al(L.offsetLeft,L.offsetTop);var W=lh(null==B?void 0:B.pageYOffset,G.scrollTop),re=lh(null==B?void 0:B.pageXOffset,G.scrollLeft),$=lh(G.clientTop,L.clientTop),ue=lh(G.clientLeft,L.clientLeft);return Ma(M).translate(re-ue,W-$)}(s),w=Rb.get(s);return{element:s,bottom:v.top+w,height:w,pos:v,cleanup:d}}function pg(s,d,v,w){xg(s,function(M,O){return Sp(s,d,v,w)},v)}function gg(s,d,v,w,M){var O={elm:w.element.dom,alignToTop:M};s.fire("ScrollIntoView",O).isDefaultPrevented()||(v(d,Vh(d).top,w,M),s.fire("AfterScrollIntoView",O))}function Pm(s,d,v,w){var M=Ut.fromDom(s.getDoc());gg(s,M,v,_p(Ut.fromDom(d),Z),w)}function zl(s,d,v,w){var O=s.pos;zy(O.left,v?O.top:O.top-d+s.height,w)}function Zd(s,d,v,w,M){var O=v+d,L=w.pos.top,B=w.bottom,G=v<=B-L;L<d?zl(w,v,!1!==M,s):O<L?zl(w,v,G?!1!==M:!0===M,s):O<B&&!G&&zl(w,v,!0===M,s)}function NS(s,d,v,w){Zd(s,d,s.dom.defaultView.innerHeight,v,w)}function Is(s,d,v,w){Zd(s,d,s.dom.defaultView.innerHeight,v,w);var M,O,L,B,G,W,re,$=(M=v.element,B=Vh(Ut.fromDom(document)),L=(O=Fm).owner(M),G=au(O,L),W=Ma(M),re=Bn(G,function(pe,be){var we=Ma(be);return{left:pe.left+we.left,top:pe.top+we.top}},{left:0,top:0}),Al(re.left+W.left+B.left,re.top+W.top+B.top)),ue=Fy(window);$.top<ue.y?Zg(v.element,!1!==w):$.top>ue.bottom&&Zg(v.element,!0===w)}function ud(s,d,v){return pg(s,NS,d,v)}function Kd(s,d,v){return Pm(s,d,NS,v)}function ry(s,d,v){return pg(s,Is,d,v)}function Rm(s,d,v){return Pm(s,d,Is,v)}function ld(s,d,v){(s.inline?ud:ry)(s,d,v)}function oy(s){var d=fl(s).dom;return s.dom===d.activeElement}function mg(s){return void 0===s&&(s=Ut.fromDom(document)),J.from(s.dom.activeElement).map(Ut.fromDom)}function iy(s,d){var v=ka(d)?Eo(d).length:ju(d).length+1;return v<s?v:s<0?0:s}function Lm(s){return H.range(s.start,iy(s.soffset,s.start),s.finish,iy(s.foffset,s.finish))}function BS(s,d){return!xv(d.dom)&&(Wt(s,d)||En(s,d))}function Lb(s){return function(d){return BS(s,d.start)&&BS(s,d.finish)}}function Wo(s){return!0===s.inline||Q.isIE()}function gx(s){return H.range(Ut.fromDom(s.startContainer),s.startOffset,Ut.fromDom(s.endContainer),s.endOffset)}function Nb(s){var d=document.createRange();try{return d.setStart(s.start.dom,s.soffset),d.setEnd(s.finish.dom,s.foffset),J.some(d)}catch{return J.none()}}function $d(s){var d,v,w=Wo(s)?((v=es(d=Ut.fromDom(s.getBody())).dom.getSelection())&&0!==v.rangeCount?J.from(v.getRangeAt(0)):J.none()).map(gx).filter(Lb(d)):J.none();s.bookmark=w.isSome()?w:s.bookmark}function ay(s){return(s.bookmark||J.none()).bind(function(d){return v=Ut.fromDom(s.getBody()),J.from(d).filter(Lb(v)).map(Lm);var v}).bind(Nb)}function Vr(s,d){var v=s.getParam("custom_ui_selector","","string");return null!==ge.getParent(d,function(w){return ce.isEditorUIElement(w)||!!v&&s.dom.is(w,v)})}function vg(s,d){var v=d.editor;(function Nm(s){var d=$1(function(){$d(s)},0);s.on("init",function(){function v(){M.throttle()}var w,M,O,L,B,G;s.inline&&(w=s,M=d,Ui.DOM.bind(document,"mouseup",v),w.on("remove",function(){Ui.DOM.unbind(document,"mouseup",v)})),O=s,L=d,Sa().browser.isIE()?(G=O).on("focusout",function(){$d(G)}):(B=L,O.on("mouseup touchend",function(W){B.throttle()})),O.on("keyup NodeChange",function(W){"nodechange"===W.type&&W.selectionChange||$d(O)})}),s.on("remove",function(){d.cancel()})})(v),v.on("focusin",function(){var w=s.focusedEditor;w!==v&&(w&&w.fire("blur",{focusedEditor:v}),s.setActive(v),(s.focusedEditor=v).fire("focus",{blurredEditor:w}),v.focus(!0))}),v.on("focusout",function(){Bt.setEditorTimeout(v,function(){var w=s.focusedEditor;Vr(v,function(M){try{return mg(fl(Ut.fromDom(M.getElement()))).fold(function(){return document.body},function(O){return O.dom})}catch{return document.body}}(v))||w!==v||(v.fire("blur",{focusedEditor:null}),s.focusedEditor=null)})}),rl||(rl=function(w){var M=s.activeEditor;M&&function(O){if(Yl()&&U(O.target)){var L=Ut.fromDom(O.target);if(mc(L)&&U(L.dom.shadowRoot)&&O.composed&&O.composedPath){var B=O.composedPath();if(B)return bn(B)}}return J.from(O.target)}(w).each(function(O){O.ownerDocument===document&&(O===document.body||Vr(M,O)||s.focusedEditor!==M||(M.fire("blur",{focusedEditor:null}),s.focusedEditor=null))})},ge.bind(document,"focusin",rl))}function $o(s,d){s.focusedEditor===d.editor&&(s.focusedEditor=null),s.activeEditor||(ge.unbind(document,"focusin",rl),rl=null)}function X_(s,d){var v,w;v=Ut.fromDom(s.getBody()),((w=d).collapsed?J.from(qc(w.startContainer,w.startOffset)).map(Ut.fromDom):J.none()).bind(function(M){return Bo(M)?J.some(M):!1===Wt(v,M)?J.some(v):J.none()}).bind(function(M){return yi(M.dom)}).fold(function(){s.selection.normalize()},function(M){return s.selection.setRng(M.toRange())})}function Of(s){if(s.setActive)try{s.setActive()}catch{s.focus()}else s.focus()}function wu(s){return s.inline?(w=s.getBody())&&(oy(d=Ut.fromDom(w))||mg(fl(v=d)).filter(function(M){return v.dom.contains(M.dom)}).isSome()):s.iframeElement&&oy(Ut.fromDom(s.iframeElement));var d,v,w}function Bm(s,d,v,w,M){var L=v?d.startOffset:d.endOffset;return J.from(v?d.startContainer:d.endContainer).map(Ut.fromDom).map(function(B){return w&&d.collapsed?B:To(B,M(B,L)).getOr(B)}).bind(function(B){return mc(B)?J.some(B):$s(B).filter(mc)}).map(function(B){return B.dom}).getOr(s)}function iu(s,d,v){return Bm(s,d,!0,v,function(w,M){return Math.min(Yg(w),M)})}function yg(s,d,v){return Bm(s,d,!1,v,function(w,M){return 0<M?M-1:M})}function bg(s,d){for(var v=s;s&&Er(s)&&0===s.length;)s=d?s.nextSibling:s.previousSibling;return s||v}function zm(s,d){return It(d,function(v){var w=s.fire("GetSelectionRange",{range:v});return w.range!==v?w.range:v})}function Dc(s,d,v){var w=v?"lastChild":"firstChild",M=v?"prev":"next";if(s[w])return s[w];if(s!==d){var O=s[M];if(O)return O;for(var L=s.parent;L&&L!==d;L=L.parent)if(O=L[M])return O}}function wp(s){var d="a"===s.name&&!s.attr("href")&&s.attr("id");return s.attr("name")||s.attr("id")&&!s.firstChild||s.attr("data-mce-bookmark")||d}var rl,au=function(s,d){return s.view(d).fold(te([]),function(v){var w=s.owner(v),M=au(s,w);return[v].concat(M)})},Fm=Object.freeze({__proto__:null,view:function(s){var d;return(s.dom===document?J.none():J.from(null===(d=s.dom.defaultView)||void 0===d?void 0:d.frameElement)).map(Ut.fromDom)},owner:sh}),Sp=function(s,d,v,w){Ut.fromDom(s.getBody());var G,W,O=Ut.fromDom(s.getDoc()),re=(G=function($,ue){var pe=ju($);if(0===pe.length||xp($))return{element:$,offset:ue};if(ue<pe.length&&!xp(pe[ue]))return{element:pe[ue],offset:0};var be=pe[pe.length-1];return xp(be)?{element:$,offset:ue}:"img"===Pa(be)?{element:be,offset:1}:ka(be)?{element:be,offset:Eo(be).length}:{element:be,offset:ju(be).length}}(Ut.fromDom(v.startContainer),v.startOffset),W=Ut.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">\ufeff</span>'),cu(G.element,W),_p(W,function(){return Js(W)}));gg(s,O,d,re,w),re.cleanup()},xg=function(s,d,v){var w=v.startContainer,M=v.startOffset,O=v.endContainer,L=v.endOffset;d(Ut.fromDom(w),Ut.fromDom(O));var B=s.dom.createRng();B.setStart(w,M),B.setEnd(O,L),s.selection.setRng(v)},T=(hu([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),function(s){return s.fold(le,le,le)}),R=hu([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),H={domRange:R.domRange,relative:R.relative,exact:R.exact,exactFromRange:function(s){return R.exact(s.start,s.soffset,s.finish,s.foffset)},getWin:function(s){return es(s.match({domRange:function(d){return Ut.fromDom(d.startContainer)},relative:function(d,v){return T(d)},exact:function(d,v,w,M){return d}}))},range:function(s,d,v,w){return{start:s,soffset:d,finish:v,foffset:w}}},Q=Sa().browser,ce={isEditorUIElement:function(s){var d=s.className.toString();return-1!==d.indexOf("tox-")||-1!==d.indexOf("mce-")}},ge=Ui.DOM,Ie=function(s){return s.editorManager.setActive(s)},Be={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},$e=(ot.create=function(s,d){var v=new ot(s,Be[s]||1);return d&&Rn(d,function(w,M){v.attr(M,w)}),v},ot.prototype.replace=function(s){return s.parent&&s.remove(),this.insert(s,this),this.remove(),this},ot.prototype.attr=function(s,d){var v,w=this;if("string"!=typeof s)return null!=s&&Rn(s,function(O,L){w.attr(L,O)}),w;if(v=w.attributes){if(void 0===d)return v.map[s];if(null===d){if(s in v.map){delete v.map[s];for(var M=v.length;M--;)if(v[M].name===s)return v.splice(M,1),w}return w}if(s in v.map){for(M=v.length;M--;)if(v[M].name===s){v[M].value=d;break}}else v.push({name:s,value:d});return v.map[s]=d,w}},ot.prototype.clone=function(){var s,d=new ot(this.name,this.type);if(s=this.attributes){var v=[];v.map={};for(var w=0,M=s.length;w<M;w++){var O=s[w];"id"!==O.name&&(v[v.length]={name:O.name,value:O.value},v.map[O.name]=O.value)}d.attributes=v}return d.value=this.value,d.shortEnded=this.shortEnded,d},ot.prototype.wrap=function(s){return this.parent.insert(s,this),s.append(this),this},ot.prototype.unwrap=function(){for(var s=this.firstChild;s;){var d=s.next;this.insert(s,this,!0),s=d}this.remove()},ot.prototype.remove=function(){var s=this.parent,d=this.next,v=this.prev;return s&&(s.firstChild===this?(s.firstChild=d)&&(d.prev=null):v.next=d,s.lastChild===this?(s.lastChild=v)&&(v.next=null):d.prev=v,this.parent=this.next=this.prev=null),this},ot.prototype.append=function(s){s.parent&&s.remove();var d=this.lastChild;return d?((d.next=s).prev=d,this.lastChild=s):this.lastChild=this.firstChild=s,s.parent=this,s},ot.prototype.insert=function(s,d,v){s.parent&&s.remove();var w=d.parent||this;return v?(d===w.firstChild?w.firstChild=s:d.prev.next=s,s.prev=d.prev,(s.next=d).prev=s):(d===w.lastChild?w.lastChild=s:d.next.prev=s,s.next=d.next,(s.prev=d).next=s),s.parent=w,s},ot.prototype.getAll=function(s){for(var d=[],v=this.firstChild;v;v=Dc(v,this))v.name===s&&d.push(v);return d},ot.prototype.children=function(){for(var s=[],d=this.firstChild;d;d=d.next)s.push(d);return s},ot.prototype.empty=function(){if(this.firstChild){for(var s=[],d=this.firstChild;d;d=Dc(d,this))s.push(d);for(var v=s.length;v--;)(d=s[v]).parent=d.firstChild=d.lastChild=d.next=d.prev=null}return this.firstChild=this.lastChild=null,this},ot.prototype.isEmpty=function(s,d,v){void 0===d&&(d={});var w=this.firstChild;if(wp(this))return!1;if(w)do{if(1===w.type){if(w.attr("data-mce-bogus"))continue;if(s[w.name]||wp(w))return!1}if(8===w.type||3===w.type&&!function(M){if(Qg(M.value)){var O=M.parent;return!O||"span"===O.name&&!O.attr("style")||!/^[ ]+$/.test(M.value)}}(w)||3===w.type&&w.parent&&d[w.parent.name]&&Qg(w.value)||v&&v(w))return!1}while(w=Dc(w,this));return!0},ot.prototype.walk=function(s){return Dc(this,null,s)},ot);function ot(s,d){this.name=s,1===(this.type=d)&&(this.attributes=[],this.attributes.map={})}function xt(s,d){return s.replace(d.re,function(v){return wr(d.uris,v).getOr(v)})}var St=gn.each,wt=gn.trim,Nt="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),Tt={ftp:21,http:80,https:443,mailto:25},$t=["img","video"],an=(kt.parseDataUri=function(s){var d,v=decodeURIComponent(s).split(","),w=/data:([^;]+)/.exec(v[0]);return{type:d=w?w[1]:d,data:v[1]}},kt.isDomSafe=function(s,d,v){if((v=void 0===v?{}:v).allow_script_urls)return!0;var w,M,O,L,B=Kl.decode(s).replace(/[\s\u0000-\u001F]+/g,"");try{B=decodeURIComponent(B)}catch{B=unescape(B)}return!(/((java|vb)script|mhtml):/i.test(B)||(M=B,O=d,!(w=v).allow_html_data_urls&&(/^data:image\//i.test(M)?(U(L=w.allow_svg_data_urls)?!L:!U(O)||!Ht($t,O))&&/^data:image\/svg\+xml/i.test(M):/^data:/i.test(M))))},kt.getDocumentBaseUrl=function(s){var d=0!==s.protocol.indexOf("http")&&"file:"!==s.protocol?s.href:s.protocol+"//"+s.host+s.pathname;return/^[^:]+:\/\/\/?[^\/]+\//.test(d)&&(d=d.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(d)||(d+="/")),d},kt.prototype.setPath=function(s){var d=/^(.*?)\/?(\w+)?$/.exec(s);this.path=d[0],this.directory=d[1],this.file=d[2],this.source="",this.getURI()},kt.prototype.toRelative=function(s){var d;if("./"===s)return s;var v=new kt(s,{base_uri:this});if("mce_host"!==v.host&&this.host!==v.host&&v.host||this.port!==v.port||this.protocol!==v.protocol&&""!==v.protocol)return v.getURI();var w=this.getURI(),M=v.getURI();return w===M||"/"===w.charAt(w.length-1)&&w.substr(0,w.length-1)===M?w:(d=this.toRelPath(this.path,v.path),v.query&&(d+="?"+v.query),v.anchor&&(d+="#"+v.anchor),d)},kt.prototype.toAbsolute=function(s,d){var v=new kt(s,{base_uri:this});return v.getURI(d&&this.isSameOrigin(v))},kt.prototype.isSameOrigin=function(s){if(this.host==s.host&&this.protocol==s.protocol){if(this.port==s.port)return!0;var d=Tt[this.protocol];if(d&&(this.port||d)==(s.port||d))return!0}return!1},kt.prototype.toRelPath=function(s,d){var v,w,M=0,O="",L=s.substring(0,s.lastIndexOf("/")).split("/"),B=d.split("/");if(L.length>=B.length)for(v=0,w=L.length;v<w;v++)if(v>=B.length||L[v]!==B[v]){M=v+1;break}if(L.length<B.length)for(v=0,w=B.length;v<w;v++)if(v>=L.length||L[v]!==B[v]){M=v+1;break}if(1===M)return d;for(v=0,w=L.length-(M-1);v<w;v++)O+="../";for(v=M-1,w=B.length;v<w;v++)O+=v!==M-1?"/"+B[v]:B[v];return O},kt.prototype.toAbsPath=function(s,d){var v,w,M=0,O=[],L=/\/$/.test(d)?"/":"",B=s.split("/"),G=d.split("/");for(St(B,function(W){W&&O.push(W)}),B=O,v=G.length-1,O=[];0<=v;v--)0!==G[v].length&&"."!==G[v]&&(".."!==G[v]?0<M?M--:O.push(G[v]):M++);return 0!==(w=(v=B.length-M)<=0?fr(O).join("/"):B.slice(0,v).join("/")+"/"+fr(O).join("/")).indexOf("/")&&(w="/"+w),L&&w.lastIndexOf("/")!==w.length-1&&(w+=L),w},kt.prototype.getURI=function(s){var d;return void 0===s&&(s=!1),this.source&&!s||(d="",s||(d+=this.protocol?this.protocol+"://":"//",this.userInfo&&(d+=this.userInfo+"@"),this.host&&(d+=this.host),this.port&&(d+=":"+this.port)),this.path&&(d+=this.path),this.query&&(d+="?"+this.query),this.anchor&&(d+="#"+this.anchor),this.source=d),this.source},kt);function kt(s,d){s=wt(s),this.settings=d||{};var v,w,M,O,L=this.settings.base_uri,B=this;/^([\w\-]+):([^\/]{2})/i.test(s)||/^\s*#/.test(s)?B.source=s:(v=0===s.indexOf("//"),0!==s.indexOf("/")||v||(s=(L&&L.protocol||"http")+"://mce_host"+s),/^[\w\-]*:?\/\//.test(s)||(w=this.settings.base_uri?this.settings.base_uri.path:new kt(document.location.href).directory,s=this.settings.base_uri&&""==this.settings.base_uri.protocol?"//mce_host"+B.toAbsPath(w,s):(M=/([^#?]*)([#?]?.*)/.exec(s),(L&&L.protocol||"http")+"://mce_host"+B.toAbsPath(w,M[1])+M[2])),s=s.replace(/@@/g,"(mce_at)"),O=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(s),St(Nt,function(G,W){var re=(re=O[W])&&re.replace(/\(mce_at\)/g,"@@");B[G]=re}),L&&(B.protocol||(B.protocol=L.protocol),B.userInfo||(B.userInfo=L.userInfo),B.port||"mce_host"!==B.host||(B.port=L.port),B.host&&"mce_host"!==B.host||(B.host=L.host),B.source=""),v&&(B.protocol=""))}function Yt(s,d,v){for(var w=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,M=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,O=s.getShortEndedElements(),L=1,B=v;0!==L;)for(w.lastIndex=B;;){var G=w.exec(d);if(null===G)return B;if("!"===G[1]){B=oo(G[2],"--")?cn(d,!1,G.index+3):cn(d,!0,G.index+1);break}M.lastIndex=w.lastIndex;var W=M.exec(d);if(!st(W)&&W.index===w.lastIndex){"/"===G[1]?--L:so(O,G[2])||(L+=1),B=w.lastIndex+W[0].length;break}}return B}function Pn(s,d){void 0===d&&(d=Hp()),s=s||{};var v=Ln(),w=v.createElement("form");!1!==s.fix_self_closing&&(s.fix_self_closing=!0);var O=s.comment||Z,L=s.cdata||Z,B=s.text||Z,G=s.start||Z,W=s.end||Z,re=s.pi||Z,$=s.doctype||Z;return{parse:function(ue,pe){void 0===pe&&(pe="html"),function M(ue,pe){void 0===pe&&(pe="html");for(var be,we,Me,ke,Ne,je,ct,Dt,Ye,rt,dt,Vt,Zt,ln,on,Mt,At,zt,tn,On=ue.html,er=0,An=[],Xn=0,Fn=Kl.decode,Yn=gn.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),qn="html"===pe?0:1,xr=function(_o){for(var ro,_i=An.length;_i--&&An[_i].name!==_o;);if(0<=_i){for(ro=An.length-1;_i<=ro;ro--)(_o=An[ro]).valid&&W(_o.name);An.length=_i}},Tn=function(_o,ro){return B(xt(_o,ue),ro)},pr=function(_o){""!==_o&&(">"===_o.charAt(0)&&(_o=" "+_o),s.allow_conditional_comments||"[if"!==_o.substr(0,3).toLowerCase()||(_o=" "+_o),O(xt(_o,ue)))},Hn=function(_o,ro){var _i=_o||"",xs=!oo(_i,"--"),Wu=cn(On,xs,ro);return _o=On.substr(ro,Wu-ro),pr(xs?_i+_o:_o),Wu+1},Tr=new RegExp("<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'\">]+(?:\"[^\"]*\"|'[^']*'))*[^\"'>]*(?:\"[^\">]*|'[^'>]*)?|\\s*|\\/)>))","g"),Dr=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,Ao=d.getShortEndedElements(),gt=s.self_closing_elements||d.getSelfClosingElements(),Et=d.getBoolAttrs(),mn=s.validate,Nn=s.remove_internals,wn=s.fix_self_closing,or=d.getSpecialElements(),$r=On+">";be=Tr.exec($r);){var ao=be[0];if(er<be.index&&Tn(Fn(On.substr(er,be.index-er))),we=be[7])xr(we=":"===(we=we.toLowerCase()).charAt(0)?we.substr(1):we);else if(we=be[8]){if(be.index+ao.length>On.length){Tn(Fn(On.substr(be.index))),er=be.index+ao.length;continue}Ye=(we=":"===(we=we.toLowerCase()).charAt(0)?we.substr(1):we)in Ao,wn&&gt[we]&&0<An.length&&An[An.length-1].name===we&&xr(we);var ea=function(_o,ro){var _i=_o.exec(ro);if(_i){var xs=_i[1],Wu=_i[2];return"string"==typeof xs&&"data-mce-bogus"===xs.toLowerCase()?Wu:null}return null}(Dr,be[9]);if(null!==ea){if("all"===ea){er=Yt(d,On,Tr.lastIndex),Tr.lastIndex=er;continue}dt=!1}if(!mn||(rt=d.getElementRule(we))){if(dt=!0,mn&&(ln=rt.attributes,on=rt.attributePatterns),(Zt=be[9])?((Dt=-1!==Zt.indexOf("data-mce-type"))&&Nn&&(dt=!1),(ke=[]).map={},Zt.replace(Dr,function(_o,ro,_i,xs,Wu){return function(Tl,Cu,Wl,cv,xd){var Pp;if(Wl=xt((Cu=Cu.toLowerCase())in Et?Cu:Fn(Wl||cv||xd||""),ue),mn&&!Dt&&0==(0===(Pp=Cu).indexOf("data-")||0===Pp.indexOf("aria-"))){var Lh=ln[Cu];if(!Lh&&on){for(var ib=on.length;ib--&&!(Lh=on[ib]).pattern.test(Cu););-1===ib&&(Lh=null)}if(!Lh||Lh.validValues&&!(Wl in Lh.validValues))return}("name"===Cu||"id"===Cu)&&Tl in Lt&&(Wl in v||Wl in w)||Yn[Cu]&&!an.isDomSafe(Wl,Tl,s)||Dt&&(Cu in Yn||0===Cu.indexOf("on"))||(ke.map[Cu]=Wl,ke.push({name:Cu,value:Wl}))}(we,ro,_i,xs,Wu),""})):(ke=[]).map={},mn&&!Dt){if(Mt=rt.attributesRequired,At=rt.attributesDefault,rt.removeEmptyAttrs&&!ke.length&&(dt=!1),zt=rt.attributesForced)for(Ne=zt.length;Ne--;)ct=(Vt=zt[Ne]).name,"{$uid}"===(tn=Vt.value)&&(tn="mce_"+Xn++),ke.map[ct]=tn,ke.push({name:ct,value:tn});if(At)for(Ne=At.length;Ne--;)(ct=(Vt=At[Ne]).name)in ke.map||("{$uid}"===(tn=Vt.value)&&(tn="mce_"+Xn++),ke.map[ct]=tn,ke.push({name:ct,value:tn}));if(Mt){for(Ne=Mt.length;Ne--&&!(Mt[Ne]in ke.map););-1===Ne&&(dt=!1)}if(Vt=ke.map["data-mce-bogus"]){if("all"===Vt){er=Yt(d,On,Tr.lastIndex),Tr.lastIndex=er;continue}dt=!1}}dt&&G(we,ke,Ye)}else dt=!1;if(Me=or[we]){Me.lastIndex=er=be.index+ao.length,er=(be=Me.exec(On))?(dt&&(je=On.substr(er,be.index-er)),be.index+be[0].length):(je=On.substr(er),On.length),dt&&(0<je.length&&Tn(je,!0),W(we)),Tr.lastIndex=er;continue}Ye||(Zt&&Zt.indexOf("/")===Zt.length-1?dt&&W(we):An.push({name:we,valid:dt}))}else if(we=be[1])pr(we);else if(we=be[2]){if(!(1==qn||s.preserve_cdata||0<An.length&&d.isValidChild(An[An.length-1].name,"#cdata"))){er=Hn("",be.index+2),Tr.lastIndex=er;continue}L(we)}else if(we=be[3])$(we);else{if((we=be[4])||"<!"===ao){er=Hn(we,be.index+ao.length),Tr.lastIndex=er;continue}if(we=be[5]){if(1!=qn){er=Hn("?",be.index+2),Tr.lastIndex=er;continue}re(we,be[6])}}er=be.index+ao.length}for(er<On.length&&Tn(Fn(On.substr(er))),Ne=An.length-1;0<=Ne;Ne--)(we=An[Ne]).valid&&W(we.name)}(function(be){for(var we,Me=/data:[^;<"'\s]+;base64,([a-z0-9\+\/=\s]+)/gi,ke=[],Ne={},je=Lv("img"),ct=0,Dt=0;we=Me.exec(be);){var Ye=we[0],rt=je+"_"+Dt++;Ne[rt]=Ye,ct<we.index&&ke.push(be.substr(ct,we.index-ct)),ke.push(rt),ct=we.index+Ye.length}var dt=new RegExp(je+"_[0-9]+","g");return 0===ct?{prefix:je,uris:Ne,html:be,re:dt}:(ct<be.length&&ke.push(be.substr(ct)),{prefix:je,uris:Ne,html:ke.join(""),re:dt})}(ue),pe)}}}var Lt=gn.makeMap("button,fieldset,form,iframe,img,image,input,object,output,select,textarea"),Ln=Wn(function(){return document.implementation.createHTMLDocument("parser")}),cn=function(s,d,v){void 0===v&&(v=0);var w=s.toLowerCase();if(-1!==w.indexOf("[if ",v)&&/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(w.substr(v))){var M=w.indexOf("[endif]",v);return w.indexOf(">",M)}if(d){var O=w.indexOf(">",v);return-1!==O?O:w.length}var L=/--!?>/g;L.lastIndex=v;var G=L.exec(s);return G?G.index+G[0].length:w.length};function Ar(s,d){for(var v,w,M,O,L=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,B=s.schema,G=(v=s.getTempAttrs(),w=d,M=new RegExp(["\\s?("+v.join("|")+')="[^"]+"'].join("|"),"gi"),w.replace(M,"")),W=B.getShortEndedElements();O=L.exec(G);){var re=L.lastIndex,$=O[0].length,ue=W[O[1]]?re:Pn.findEndTag(B,G,re);G=G.substring(0,re-$)+G.substring(ue),L.lastIndex=re-$}return xn(G)}function Vn(s){return{compare:function(d,v){return d.nodeName===v.nodeName&&!(!M(w(d),w(v))||!M(s.parseStyle(s.getAttrib(d,"style")),s.parseStyle(s.getAttrib(v,"style")))||Sl(d)||Sl(v));function w(O){var L={};return xo(s.getAttribs(O),function(B){var G=B.nodeName.toLowerCase();0!==G.indexOf("_")&&"style"!==G&&0!==G.indexOf("data-")&&(L[G]=s.getAttrib(O,G))}),L}function M(O,L){var B,G;for(G in O)if(so(O,G)){if(void 0===(B=L[G])||O[G]!==B)return;delete L[G]}for(G in L)if(so(L,G))return;return 1}}}}function Pr(s){var d=[],v=(s=s||{}).indent,w=Go(s.indent_before||""),M=Go(s.indent_after||""),O=Kl.getEncodeFunc(s.entity_encoding||"raw",s.entities),L="html"===s.element_format;return{start:function(B,G,W){var re,$,ue,pe;if(v&&w[B]&&0<d.length&&0<(pe=d[d.length-1]).length&&"\n"!==pe&&d.push("\n"),d.push("<",B),G)for(re=0,$=G.length;re<$;re++)d.push(" ",(ue=G[re]).name,'="',O(ue.value,!0),'"');d[d.length]=!W||L?">":" />",W&&v&&M[B]&&0<d.length&&0<(pe=d[d.length-1]).length&&"\n"!==pe&&d.push("\n")},end:function(B){var G;d.push("</",B,">"),v&&M[B]&&0<d.length&&0<(G=d[d.length-1]).length&&"\n"!==G&&d.push("\n")},text:function(B,G){0<B.length&&(d[d.length]=G?B:O(B))},cdata:function(B){d.push("<![CDATA[",B,"]]>")},comment:function(B){d.push("\x3c!--",B,"--\x3e")},pi:function(B,G){G?d.push("<?",B," ",O(G),"?>"):d.push("<?",B,"?>"),v&&d.push("\n")},doctype:function(B){d.push("<!DOCTYPE",B,">",v?"\n":"")},reset:function(){d.length=0},getContent:function(){return d.join("").replace(/\n$/,"")}}}function Yr(s,d){void 0===d&&(d=Hp());var v=Pr(s);return(s=s||{}).validate=!("validate"in s)||s.validate,{serialize:function(w){var M=s.validate,O={3:function(B){v.text(B.value,B.raw)},8:function(B){v.comment(B.value)},7:function(B){v.pi(B.name,B.value)},10:function(B){v.doctype(B.value)},4:function(B){v.cdata(B.value)},11:function(B){if(B=B.firstChild)for(;L(B),B=B.next;);}};v.reset();var L=function(B){var G=O[B.type];if(G)G(B);else{var W=B.name,re=B.shortEnded,$=B.attributes;if(M&&$&&1<$.length){var ue=[];ue.map={};var pe=d.getElementRule(B.name);if(pe){for(var be=0,we=pe.attributesOrder.length;be<we;be++)(Me=pe.attributesOrder[be])in $.map&&(ue.map[Me]=ke=$.map[Me],ue.push({name:Me,value:ke}));var Me,ke;for(be=0,we=$.length;be<we;be++)(Me=$[be].name)in ue.map||(ue.map[Me]=ke=$.map[Me],ue.push({name:Me,value:ke}));$=ue}}if(v.start(B.name,$,re),!re){if(B=B.firstChild)for(;L(B),B=B.next;);v.end(W)}}};return 1!==w.type||s.inner?O[11](w):L(w),v.getContent()}}}Pn.findEndTag=Yt;var Kr=Ar,xo=gn.each,Go=gn.makeMap,vo=new Set;function Yo(s,d){return zr(s.parseStyle(s.getAttrib(d,"style")))}function bi(s,d,v){return J.from(v.container()).filter(Er).exists(function(w){var M=s?0:-1;return d(w.data.charAt(v.offset()+M))})}function Ji(s){var d=s.container();return Er(d)&&(0===d.data.length||qh(d.data)&&ko.isBookmarkNode(d.parentNode))}function sr(s,d){return function(v){return J.from(rg(s?0:-1,v)).filter(d).isSome()}}function Fi(s){return Oo(s)&&"block"===Hf(Ut.fromDom(s),"display")}function Jo(s){return to(s)&&!(uo(d=s)&&"all"===d.getAttribute("data-mce-bogus"));var d}function xi(s){bv(s),Cs(s,Ut.fromHtml('<br data-mce-bogus="1">'))}function as(s){uh(s).each(function(d){cl(d).each(function(v){$u(s)&&Li(d)&&$u(v)&&Js(d)})})}function Ac(s,d){return M=ht,Wt(w=d,v=s)?function(O,L){for(var B=pt(L)?L:ht,G=O.dom,W=[];null!=G.parentNode;){var re=G.parentNode,$=Ut.fromDom(re);if(W.push($),!0===B($))break;G=re}return W}(v,function(O){return M(O)||En(O,w)}).slice(0,-1):[];var v,w,M}function ss(s,d){return[s].concat(Ac(s,d))}function Wa(s,d,v){return Jv(s,d,v,Ji)}function cd(s,d){return hn(ss(Ut.fromDom(d.container()),s),$u)}function Vm(s,d,v){return Wa(s,d.dom,v).forall(function(w){return cd(d,v).fold(function(){return!1===Cc(w,v,d.dom)},function(M){return!1===Cc(w,v,d.dom)&&Wt(M,Ut.fromDom(w.container()))})})}function wg(s,d,v){return cd(d,v).fold(function(){return Wa(s,d.dom,v).forall(function(w){return!1===Cc(w,v,d.dom)})},function(w){return Wa(s,w.dom,v).isNone()})}function Ef(s){return Yd(s).exists(Li)}function Ic(s,d,v){var w=bn(Zn(ss(Ut.fromDom(v.container()),d),$u)).getOr(d);return Tc(s,w.dom,v).filter(Ef)}function Th(s,d){return Yd(d).exists(Li)||Ic(!0,s,d).isSome()}function Hm(s,d){return J.from(d.getNode(!0)).map(Ut.fromDom).exists(Li)||Ic(!1,s,d).isSome()}function ol(s){return pn.isTextPosition(s)&&!s.isAtStart()&&!s.isAtEnd()}function Jd(s,d){return bn(Zn(ss(Ut.fromDom(d.container()),s),$u)).getOr(s)}function Za(s,d){return ol(d)?Cx(d):Cx(d)||Aa(Jd(s,d).dom,d).exists(Cx)}function ef(s,d){return ol(d)?Sx(d):Sx(d)||Da(Jd(s,d).dom,d).exists(Sx)}function fd(s){return Yd(s).bind(function(d){return Uh(d,mc)}).exists(function(d){return Ht(["pre","pre-wrap"],Hf(d,"white-space"))})}function mx(s,d){return!fd(d)&&(Gm(s,d)||b0(s,d)||Hm(s,d)||Za(s,d))}function Z_(s,d){return!fd(d)&&(Ka(s,d)||Cp(s,d)||Th(s,d)||ef(s,d))}function Pk(s,d){return mx(s,d)||Z_(s,(w=(v=d).container(),M=v.offset(),Er(w)&&M<w.data.length?pn(w,M+1):v));var v,w,M}function Rk(s,d){return Tm(s.charAt(d))}function UD(s){var d=s.container();return Er(d)&&Rt(d.data,yc)}function di(s){var d=Ut.fromDom(s.getBody());s.selection.isCollapsed()&&function Lk(s,d){return J.some(d).filter(UD).bind(function(v){var w,M,O,L,B,G,W,re,$,ue=v.container(),pe=s,be=(B=ue).data,we=pn(B,0);return(!Rk(be,0)||Pk(pe,we)?(re=(G=ue).data,($=It(W=re.split(""),function(Me,ke){return Tm(Me)&&0<ke&&ke<W.length-1&&Xa(W[ke-1])&&Xa(W[ke+1])?" ":Me}).join(""))!==re&&(G.data=$,1)):(B.data=" "+be.slice(1),1))||(w=s,O=(M=ue).data,L=pn(M,O.length-1),Rk(O,O.length-1)&&!Pk(w,L)&&(M.data=O.slice(0,-1)+" ",1))?J.some(v):J.none()})}(d,pn.fromRangeStart(s.selection.getRng())).each(function(v){s.selection.setRng(v.toRange())})}function K_(s,d,v){var w,M,O,L,B,G,W,re;0!==v&&(M=jr(w=Ut.fromDom(s),$u).getOr(w),O=s.data.slice(d,d+v),L=d+v>=s.data.length&&Z_(M,pn(s,s.data.length)),B=0===d&&mx(M,pn(s,0)),s.replaceData(d,v,(W=B,re=L,cr(G=O,function($,ue){return Xv(ue)||Tm(ue)?$.previousCharIsSpace||""===$.str&&W||$.str.length===G.length-1&&re?{previousCharIsSpace:!1,str:$.str+yc}:{previousCharIsSpace:!0,str:$.str+" "}:{previousCharIsSpace:!1,str:$.str+ue}},{previousCharIsSpace:!1,str:""}).str)))}function Bb(s,d){var v=s.data.slice(d);K_(s,d,v.length-Or(v).length)}function $_(s,d){var v=s.data.slice(0,d),w=v.length-wo(v).length;K_(s,d-w,w)}function J_(s,d,v,w){void 0===w&&(w=!0);var M=wo(s.data).length,O=w?s:d,L=w?d:s;return w?O.appendData(L.data):O.insertData(0,L.data),Js(Ut.fromDom(L)),v&&Bb(O,M),O}function Nk(s,d){return w=s,M=(v=d).container(),O=v.offset(),!1===pn.isTextPosition(v)&&M===w.parentNode&&O>pn.before(w).offset()?pn(d.container(),d.offset()-1):d;var v,w,M,O}function p0(s){return Md(s.previousSibling)?J.some(Er(d=s.previousSibling)?pn(d,d.data.length):pn.after(d)):s.previousSibling?sd(s.previousSibling):J.none();var d}function tf(s){return Md(s.nextSibling)?J.some(Er(d=s.nextSibling)?pn(d,0):pn.before(d)):s.nextSibling?yi(s.nextSibling):J.none();var d}function g0(s,d){return p0(d).orThunk(function(){return tf(d)}).orThunk(function(){return v=s,M=pn.before((w=d).previousSibling||w.parentNode),Aa(v,M).fold(function(){return Da(v,pn.after(w))},J.some);var v,w,M})}function Bk(s,d){return tf(d).orThunk(function(){return p0(d)}).orThunk(function(){return Da(v=s,pn.after(w=d)).fold(function(){return Aa(v,pn.before(w))},J.some);var v,w})}function zS(s,d,v){v.fold(function(){s.focus()},function(w){s.selection.setRng(w.toRange(),d)})}function FS(s,d){return d&&so(s.schema.getBlockElements(),Pa(d))}function zk(s){if(No(s)){var d=Ut.fromHtml('<br data-mce-bogus="1">');return bv(s),Cs(s,d),J.some(pn.before(d.dom))}return J.none()}function sy(s,d,v,w){void 0===w&&(w=!0);var M,O,L,B,G,W,re,$,ue,pe,be,ke,Ne=(d?Bk:g0)(s.getBody(),ke=v.dom).map(ve(Nk,ke)),je=jr(v,ve(FS,s),(M=s.getBody(),function(Dt){return Dt.dom===M})),ct=(B=Ne,O=L=v,G=so(s.schema.getTextInlineElements(),Pa(O)),pe=cl(L).filter(ka),be=ts(L).filter(ka),Js(L),re=be,$=B,ue=function(Dt,Ye,rt){var dt=Dt.dom,Vt=Ye.dom,Zt=dt.data.length;return J_(dt,Vt,G),rt.container()===Vt?pn(dt,Zt):rt},((W=pe).isSome()&&re.isSome()&&$.isSome()?J.some(ue(W.getOrDie(),re.getOrDie(),$.getOrDie())):J.none()).orThunk(function(){return G&&(pe.each(function(Dt){return $_(Dt.dom,Dt.dom.length)}),be.each(function(Dt){return Bb(Dt.dom,0)})),B}));s.dom.isEmpty(s.getBody())?(s.setContent(""),s.selection.setCursorLocation()):je.bind(zk).fold(function(){w&&zS(s,d,ct)},function(Dt){w&&zS(s,d,J.some(Dt))})}function Q_(s){return Ol(s,"td,th")}function ew(s,d){return{start:s,end:d}}function vx(s,d){return Gf(Ut.fromDom(s),"td,th",d)}function VS(s){return!En(s.start,s.end)}function yx(s,d){return $c(s.start,d).bind(function(v){return $c(s.end,d).bind(function(w){return En(v,w)?J.some(v):J.none()})})}function tw(s){return function(d){return yx(d,s).map(function(v){return{rng:d,table:v,cells:Q_(v)}})}}function HS(s,d,v,w){if(v.collapsed||!s.forall(VS))return J.none();if(d.isSameTable){var M=s.bind(tw(w));return J.some({start:M,end:M})}var O,L,B=vx(v.startContainer,w),G=vx(v.endContainer,w),W=B.bind((L=w,function($){return $c($,L).bind(function(ue){return Qt(Q_(ue)).map(function(pe){return ew($,pe)})})})).bind(tw(w)),re=G.bind((O=w,function($){return $c($,O).bind(function(ue){return bn(Q_(ue)).map(function(pe){return ew(pe,$)})})})).bind(tw(w));return J.some({start:W,end:re})}function DT(s,d){return Un(s,function(v){return En(v,d)})}function WS(s){return ya(DT(s.cells,s.rng.start),DT(s.cells,s.rng.end),function(d,v){return s.cells.slice(d,v+1)})}function Fk(s,d){var v=d.startTable,w=d.endTable,M=s.cloneRange();return v.each(function(O){return M.setStartAfter(O.dom)}),w.each(function(O){return M.setEndBefore(O.dom)}),M}function Vk(s){return Sn(s,function(d){Hh(d,"contenteditable"),xi(d)}),0}function nw(s,d,v,w){var M=v.cloneRange();w?(M.setStart(v.startContainer,v.startOffset),M.setEndAfter(d.dom.lastChild)):(M.setStartBefore(d.dom.firstChild),M.setEnd(v.endContainer,v.endOffset)),iw(s,M,d,!1)}function AT(s){var d=Ch(s),v=Ut.fromDom(s.selection.getNode());ks(v.dom)&&No(v)?s.selection.setCursorLocation(v.dom,0):s.selection.collapse(!0),1<d.length&&Te(d,function(w){return En(w,v)})&&ql(v,"data-mce-selected","1")}function GS(s,d,v){var w=s.selection.getRng();return Vk(v.bind(function(M){var L,B,G=M.rng,W=M.isStartInTable,re=J.from(s.dom.getParent(W?G.endContainer:G.startContainer,s.dom.isBlock)).map(Ut.fromDom);G.deleteContents(),L=s,B=W,re.filter(No).each(function(ue){B?Js(ue):(xi(ue),L.selection.setCursorLocation(ue.dom,0))});var $=W?d[0]:d[d.length-1];return nw(s,$,w,W),No($)?J.none():J.some(W?d.slice(1):d.slice(0,-1))}).getOr(d)),AT(s),!0}function US(s,d,v,w){var M=s.selection.getRng(),O=d[0],L=v[v.length-1];nw(s,O,M,!0),nw(s,L,M,!1);var B=No(O)?d:d.slice(1),G=No(L)?v:v.slice(0,-1);return Vk(B.concat(G)),w.deleteContents(),AT(s),!0}function bx(s,d){return sy(s,!1,d),!0}function IT(s,d){return hn(ss(d,s),Gr)}function jS(s,d){return(s?Zk:Fl)(d)}function m0(s,d){var v,w,M,O,L,B,G,W,re=Ut.fromDom(s.selection.getStart(!0)),$=Ch(s);return s.selection.isCollapsed()&&0===$.length?function OT(s,d,v){var w=Ut.fromDom(s.getBody());return aw(w,v).fold(function(){return O=d,L=w,B=v,G=pn.fromRangeStart((M=s).selection.getRng()),IT(L,B).bind(function(ue){return No(ue)?Sg(M,ue):(pe=L,be=ue,we=G,ag(O,M.getBody(),we).bind(function(Me){return IT(pe,Ut.fromDom(Me.getNode())).map(function(ke){return!1===En(ke,be)})}));var pe,be,we}).getOr(!1)||(re=d,$=pn.fromRangeStart((W=s).selection.getRng()),jS(re,$)||Tc(re,W.getBody(),$).exists(function(ue){return jS(re,ue)}));var M,O,L,B,G,W,re,$},function(M){return $=d,ue=w,pe=M,be=pn.fromRangeStart((re=s).selection.getRng()),(No(pe)?Sg(re,pe):(L=ue,G=pe,W=be,ag(B=$,(O=re).getBody(),W).bind(function(we){return Ne=B,je=W,ct=we,yi((ke=G).dom).bind(function(Dt){return sd(ke.dom).map(function(Ye){return Ne?je.isEqual(Dt)&&ct.isEqual(Ye):je.isEqual(Ye)&&ct.isEqual(Dt)})}).getOr(!0)?Sg(O,G):(Me=G,aw(L,Ut.fromDom(we.getNode())).map(function(Dt){return!1===En(Dt,Me)}));var Me,ke,Ne,je,ct}).or(J.some(!0)))).getOr(!1);var O,L,B,G,W,re,$,ue,pe,be})}(s,d,re):(w=re,M=$,O=Ut.fromDom((v=s).getBody()),L=v.selection.getRng(),0!==M.length?GS(v,M,J.none()):(B=v,W=L,aw(G=O,w).fold(function(){return ue=B,function jD(s,d){var v,w,M,O,L,B,G,W,re,$,ue,pe,be,we,Me,ke,Ne=(v=s,function(Ye){return En(v,Ye)}),je=ya(vx((w=d).startContainer,M=Ne),vx(w.endContainer,M),ew),ct=(re=Ne,$=Dt((W=d).startContainer),ue=Dt(W.endContainer),pe=$.isSome(),be=ue.isSome(),{startTable:$,endTable:ue,isStartInTable:pe,isEndInTable:be,isSameTable:we=ya($,ue,En).getOr(!1),isMultiTable:!we&&pe&&be});function Dt(Ye){return $c(Ut.fromDom(Ye),re)}return Me=d,ke=Ne,je.exists(function(Ye){return!VS(rt=Ye)&&yx(rt,ke).exists(function(dt){var Vt=dt.dom.rows;return 1===Vt.length&&1===Vt[0].cells.length})&&kh(Ye.start,Me);var rt})?je.map(function(Ye){return il.singleCellTable(d,Ye.start)}):ct.isMultiTable?HS(je,B=ct,G=d,Ne).bind(function(Ye){var dt=Ye.end,Vt=Ye.start.bind(WS).getOr([]),Zt=dt.bind(WS).getOr([]);if(0<Vt.length&&0<Zt.length){var ln=Fk(G,B);return J.some(il.multiTable(Vt,Zt,ln))}return J.none()}):HS(je,O=ct,L=d,Ne).bind(function(Ye){return Ye.start.or(Ye.end)}).bind(function(Ye){var rt=O.isSameTable,dt=WS(Ye).getOr([]);if(rt&&Ye.cells.length===dt.length)return J.some(il.fullTable(Ye.table));if(0<dt.length){if(rt)return J.some(il.partialTable(dt,J.none()));var Vt=Fk(L,O);return J.some(il.partialTable(dt,J.some(Sr(Sr({},O),{rng:Vt}))))}return J.none()})}(G,W).map(function(pe){return pe.fold(ve(iw,ue),ve(bx,ue),ve(GS,ue),ve(US,ue))});var ue},function(ue){return Sg(B,ue)}).getOr(!1)))}function Hk(s){return s.collapsed?s:(v=pn.fromRangeStart(d=s),w=pn.fromRangeEnd(d),Tc(!1,M=d.commonAncestorContainer,w).map(function(O){return!Cc(v,w,M)&&Cc(v,O,M)?(L=v.container(),B=v.offset(),G=O.container(),W=O.offset(),(re=document.createRange()).setStart(L,B),re.setEnd(G,W),re):d;var L,B,G,W,re}).getOr(d));var d,v,w,M}function Wk(s,d){var v=s.getParent(d,s.isBlock);return v&&"LI"===v.nodeName?v:null}function Gk(s,d){var v=pn.after(s),w=Rl(d).prev(v);return w?w.toRange():null}function qD(s,d,v){var w,M,O,L,B=s.selection,G=s.dom;/^ | $/.test(d)&&(w=G,M=B.getRng(),O=d,O=mx(L=Ut.fromDom(w.getRoot()),pn.fromRangeStart(M))?O.replace(/^ /,"&nbsp;"):O.replace(/^&nbsp;/," "),d=O=Z_(L,pn.fromRangeEnd(M))?O.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):O.replace(/&nbsp;(<br( \/)?>)?$/," "));var W=s.parser,re=v.merge,$=Yr({validate:s.getParam("validate")},s.schema),ue='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',pe=s.fire("BeforeSetContent",{content:d,format:"html",selection:!0,paste:v.paste});if(pe.isDefaultPrevented())s.fire("SetContent",{content:pe.content,format:"html",selection:!0,paste:v.paste});else{-1===(d=pe.content).indexOf("{$caret}")&&(d+="{$caret}"),d=d.replace(/\{\$caret\}/,ue);var be,we,Me=(be=B.getRng()).startContainer||(be.parentElement?be.parentElement():null),ke=s.getBody();Me===ke&&B.isCollapsed()&&G.isBlock(ke.firstChild)&&(we=ke.firstChild)&&!s.schema.getShortEndedElements()[we.nodeName]&&G.isEmpty(ke.firstChild)&&((be=G.createRng()).setStart(ke.firstChild,0),be.setEnd(ke.firstChild,0),B.setRng(be)),B.isCollapsed()||function(Yn){var qn=Yn.dom,xr=Hk(Yn.selection.getRng());Yn.selection.setRng(xr);var Tn,pr=qn.getParent(xr.startContainer,_0),Hn=xr;null!==(Tn=pr)&&Tn===qn.getParent(Hn.endContainer,_0)&&kh(Ut.fromDom(Tn),Hn)?iw(Yn,xr,Ut.fromDom(pr)):Yn.getDoc().execCommand("Delete",!1,null)}(s);var Ne,je,ct,Dt,rt,dt,Vt,Zt,ln,on,Mt,At,zt,tn={context:(Xn=B.getNode()).nodeName.toLowerCase(),data:v.data,insert:!0},On=W.parse(d,tn);if(!0===v.paste&&function ET(s,d){var v,w,M,O,L,B=d.firstChild,G=d.lastChild;return B&&"meta"===B.name&&(B=B.next),w=G=G&&"mce_marker"===G.attr("id")?G.prev:G,M=(v=s).getNonEmptyElements(),w&&(w.isEmpty(M)||(O=w,v.getBlockElements()[O.name]&&O.firstChild&&O.firstChild===O.lastChild&&("br"===(L=O.firstChild).name||L.value===yc)))&&(G=G.prev),B&&B===G&&("ul"===B.name||"ol"===B.name)}(s.schema,On)&&Wk(G,Xn))return be=function PT(s,d,v,w){function M(tn){var On=pn.fromRangeStart(v),er=Rl(d.getRoot()),An=1===tn?er.prev(On):er.next(On);return!An||Wk(d,An.getNode())!==Mt}var O,L,B,G,W,re,$,ue,pe,be,we,Me,ke,Ne,je,ct,Dt,Ye,rt,dt,Vt,Zt,ln,on=(O=d,W=s.serialize(w),B=(L=O.createFragment(W)).firstChild,G=L.lastChild,B&&"META"===B.nodeName&&B.parentNode.removeChild(B),G&&"mce_marker"===G.id&&G.parentNode.removeChild(G),L),Mt=Wk(d,v.startContainer),At=function v0(s){return 0<s.length&&(!(w=s[s.length-1]).firstChild||(d=w)&&d.firstChild&&d.firstChild===d.lastChild&&((v=d.firstChild).data===yc||La(v)))?s.slice(0,-1):s;var d,v,w}(Zn(on.firstChild.childNodes,function(tn){return"LI"===tn.nodeName})),zt=d.getRoot();return M(1)?(rt=zt,ln=(Ye=Mt).parentNode,gn.each(At,function(tn){ln.insertBefore(tn,Ye)}),dt=rt,Vt=pn.before(Ye),(Zt=Rl(dt).next(Vt))?Zt.toRange():null):M(2)?(re=Mt,ue=zt,d.insertAfter(($=At).reverse(),re),Gk($[0],ue)):(be=At,we=zt,Me=pe=Mt,Ne=(ke=v).cloneRange(),je=ke.cloneRange(),Ne.setStartBefore(Me),je.setEndAfter(Me),ct=[Ne.cloneContents(),je.cloneContents()],(Dt=pe.parentNode).insertBefore(ct[0],pe),gn.each(be,function(tn){Dt.insertBefore(tn,pe)}),Dt.insertBefore(ct[1],pe),Dt.removeChild(pe),Gk(be[be.length-1],we))}($,G,B.getRng(),On),B.setRng(be),void s.fire("SetContent",pe);if(function(){for(var Yn=On;Yn=Yn.walk();)1===Yn.type&&Yn.attr("data-mce-fragment","1")}(),"mce_marker"===(An=On.lastChild).attr("id"))for(var er=An,An=An.prev;An;An=An.walk(!0))if(3===An.type||!G.isBlock(An.name)){s.schema.isValidChild(An.parent.name,"span")&&An.parent.insert(er,An,"br"===An.name);break}if(s._selectionOverrides.showBlockCaretContainer(Xn),tn.invalid){s.selection.setContent(ue);var Xn=B.getNode(),Fn=s.getBody();for(9===Xn.nodeType?Xn=An=Fn:An=Xn;An!==Fn;)An=(Xn=An).parentNode;d=Xn===Fn?Fn.innerHTML:G.getOuterHTML(Xn),d=$.serialize(W.parse(d.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return $.serialize(On)}))),Xn===Fn?G.setHTML(Fn,d):G.setOuterHTML(Xn,d)}else Ne=s,je=d=$.serialize(On),"all"===(ct=Xn).getAttribute("data-mce-bogus")?ct.parentNode.insertBefore(Ne.dom.createFragment(je),ct):!(Dt=ct.firstChild)||Dt===ct.lastChild&&"BR"===Dt.nodeName?Ne.dom.setHTML(ct,je):Ne.selection.setContent(je);dt=re,ln=(rt=s).schema.getTextInlineElements(),on=rt.dom,dt&&(Vt=rt.getBody(),Zt=Vn(on),gn.each(on.select("*[data-mce-fragment]"),function(Yn){if(U(ln[Yn.nodeName.toLowerCase()])&&hr(Yo(on,Yn),function(xr){return!vo.has(xr)}))for(var qn=Yn.parentNode;U(qn)&&qn!==Vt&&!function(xr,Tn,pr){function Hn(Ao){var gt=xr.getStyle(Tn,Ao),Et=xr.getStyle(pr,Ao);return un(gt)&&un(Et)&&gt!==Et}var Tr=Yo(xr,Tn),Dr=Yo(xr,pr);return Te(Tr,function(Ao){function gt(mn){return Te(mn,function(Nn){return Nn===Ao})}if(gt(Dr)||!gt(ow))return Hn(Ao);var Et=Zn(Dr,function(mn){return Te(ow,function(Nn){return oo(mn,Nn)})});return Te(Et,Hn)})}(on,Yn,qn);qn=qn.parentNode)if(Zt.compare(qn,Yn)){on.remove(Yn,!0);break}})),function(Yn,qn){var xr,Tn=Yn.dom,pr=Yn.selection;if(qn){pr.scrollIntoView(qn);var Hn=fg(Yn.getBody(),qn);if("false"===Tn.getContentEditable(Hn))return Tn.remove(qn),pr.select(Hn);var Tr,Dr=Tn.createRng(),Ao=qn.previousSibling;Er(Ao)?(Dr.setStart(Ao,Ao.nodeValue.length),Wr.ie||Er(Tr=qn.nextSibling)&&(Ao.appendData(Tr.data),Tr.parentNode.removeChild(Tr))):(Dr.setStartBefore(qn),Dr.setEndBefore(qn));var gt=Tn.getParent(qn,Tn.isBlock);Tn.remove(qn),gt&&Tn.isEmpty(gt)&&(Yn.$(gt).empty(),Dr.setStart(gt,0),Dr.setEnd(gt,0),_0(gt)||gt.getAttribute("data-mce-fragment")||!(xr=function(Et){var mn=pn.fromRangeStart(Et);if(mn=Rl(Yn.getBody()).next(mn))return mn.toRange()}(Dr))?Tn.add(gt,Tn.create("br",{"data-mce-bogus":"1"})):(Dr=xr,Tn.remove(gt))),pr.setRng(Dr)}}(s,G.get("mce_marker")),Mt=s.getBody(),gn.each(Mt.getElementsByTagName("*"),function(Yn){Yn.removeAttribute("data-mce-fragment")}),At=G,zt=B.getStart(),J.from(At.getParent(zt,"td,th")).map(Ut.fromDom).each(as),s.fire("SetContent",pe),s.addVisual()}}function qS(s){return s instanceof $e}function Uk(s,d,v){var w;s.dom.setHTML(s.getBody(),d),!0!==v&&wu(w=s)&&yi(w.getBody()).each(function(M){var O=M.getNode(),L=Kg(O)?yi(O).getOr(M):M;w.selection.setRng(L.toRange())})}function RT(s){return pt(s)?s:ht}function jk(s,d,v){var w=d(s),M=RT(v);return w.orThunk(function(){return M(s)?J.none():function(O){for(var L=s.dom,B=RT(M);L.parentNode;){var G=Ut.fromDom(L=L.parentNode),W=O(G);if(W.isSome())return W;if(B(G))break}return J.none()}(d)})}function LT(s,d,v){var w=s.formatter.get(v);if(w)for(var M=0;M<w.length;M++){var O=w[M];if(jo(O)&&!1===O.inherit&&s.dom.is(d,O.selector))return 1}}function Zr(s,d,v,w,M){var O=s.dom.getRoot();return d!==O&&(d=s.dom.getParent(d,function(L){return!!LT(s,L,v)||L.parentNode===O||!!Cg(s,L,v,w,!0)}),!!Cg(s,d,v,w,M))}function xx(s,d,v){return!!ga(d,v.inline)||!!ga(d,v.block)||(v.selector?1===d.nodeType&&s.is(d,v.selector):void 0)}function yo(s,d,v,w,M,O){var L=v[w];if(pt(v.onmatch))return v.onmatch(d,v,w);if(L)if(Ke(L.length)){for(var B in L)if(so(L,B)){var G="attributes"===w?s.getAttrib(d,B):sg(s,d,B),W=Nl(L[B],O),re=xe(G)||en(G);if((!re||!xe(W))&&(M&&re&&!v.exact||(!M||v.exact)&&!ga(G,wm(s,W,B))))return}}else for(var $=0;$<L.length;$++)if("attributes"===w?s.getAttrib(d,L[$]):sg(s,d,L[$]))return 1;return 1}function qk(s,d,v,w,M){if(w)return Zr(s,w,d,v,M);if(w=s.selection.getNode(),Zr(s,w,d,v,M))return!0;var O=s.selection.getStart();return!(O===w||!Zr(s,O,d,v,M))}function YS(s){return 0<function(d){for(var v=[];d;){if(3===d.nodeType&&d.nodeValue!==zb||1<d.childNodes.length)return[];1===d.nodeType&&v.push(d),d=d.firstChild}return v}(s).length}function co(s){if(s){var d=new Qs(s,s);for(s=d.current();s;s=d.next())if(Er(s))return s}return null}function _x(s){var d=Ut.fromTag("span");return Fc(d,{id:Kk,"data-mce-bogus":"1","data-mce-type":"format-caret"}),s&&Cs(d,Ut.fromText(zb)),d}function Yk(s,d,v){void 0===v&&(v=!0);var w,M,O,L,B,G,W,re,$=s.dom,ue=s.selection;YS(d)?sy(s,!1,Ut.fromDom(d),v):(w=ue.getRng(),M=$.getParent(d,$.isBlock),O=w.startContainer,L=w.startOffset,B=w.endContainer,G=w.endOffset,(re=co(d))&&re.nodeValue.charAt(0)===zb&&re.deleteData(0,1),W=re,$.remove(d,!0),O===W&&0<L&&w.setStart(W,L-1),B===W&&0<G&&w.setEnd(W,G-1),M&&$.isEmpty(M)&&xi(Ut.fromDom(M)),ue.setRng(w))}function ci(s,d,v){void 0===v&&(v=!0);var w=s.dom,M=s.selection;if(d)Yk(s,d,v);else if(!(d=xm(s.getBody(),M.getStart())))for(;d=w.get(Kk);)Yk(s,d,!1)}function XS(s,d){return s.appendChild(d),d}function ZS(s,d){var v=Bn(s,function(w,M){return XS(w,M.cloneNode(!1))},d);return XS(v,v.ownerDocument.createTextNode(zb))}function NT(s,d){var v=s.schema.getTextInlineElements();return so(v,Pa(d))&&!ms(d.dom)&&!pc(d.dom)}Sn(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],function(s){vo.add(s)});var KS,ow=["font","text-decoration","text-emphasis"],Sx=ve(bi,!0,Xv),Cx=ve(bi,!1,Xv),BT=sr(!0,Fi),zT=sr(!1,Fi),y0=sr(!0,Il),Dh=sr(!1,Il),Zk=sr(!0,Kg),Fl=sr(!1,Kg),Wm=sr(!0,Jo),uy=sr(!1,Jo),Gm=ve(wg,!1),Ka=ve(wg,!0),b0=ve(Vm,!1),Cp=ve(Vm,!0),x0=ve(Ic,!1),ly=ve(Ic,!0),il=hu([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Ah=function(s){var d;return(8===Ly(d=s)||"#comment"===Pa(d)?cl:uh)(s).bind(Ah).orThunk(function(){return J.some(s)})},iw=function(s,d,v,w){void 0===w&&(w=!0),d.deleteContents();var M,O=Ah(v).getOr(v),L=Ut.fromDom(s.dom.getParent(O.dom,s.dom.isBlock));return No(L)&&(xi(L),w&&s.selection.setCursorLocation(L.dom,0)),En(v,L)||Sn((gc($s(L),v)?[]:$s(M=L).map(ju).map(function(B){return Zn(B,function(G){return!En(M,G)})}).getOr([])).concat(ju(v)),function(B){En(B,L)||Wt(B,L)||!No(B)||Js(B)}),!0},aw=function(s,d){return hn(ss(d,s),function(v){return mc(v)&&"caption"===Pa(v)})},Sg=function(s,d){return xi(d),s.selection.setCursorLocation(d.dom,0),J.some(!0)},_0=ks,w0=function(s,d){d(s),s.firstChild&&w0(s.firstChild,d),s.next&&w0(s.next,d)},ga=_m,Cg=function(s,d,v,w,M){var O=s.formatter.get(v),L=s.dom;if(O&&d)for(var B=0;B<O.length;B++){var G=O[B];if(xx(s.dom,d,G)&&yo(L,d,G,"attributes",M,w)&&yo(L,d,G,"styles",M,w)){var W=G.classes;if(W)for(var re=0;re<W.length;re++)if(!s.dom.hasClass(d,Nl(W[re],w)))return;return G}}},zb=zs,Kk="_mce_caret",kx={},sw=Vo,$S=ni;function Mx(s){return uo(s)&&!Sl(s)&&!ms(s)&&!pc(s)}function Ga(s,d){for(var v=s;v;v=v[d]){if(Er(v)&&un(v.data))return s;if(uo(v)&&!Sl(v))return v}return s}function S0(s,d,v){var w=Vn(s);if(d&&v&&(d=Ga(d,"previousSibling"),v=Ga(v,"nextSibling"),w.compare(d,v))){for(var M=d.nextSibling;M&&M!==v;){var O=M;M=M.nextSibling,d.appendChild(O)}return s.remove(v),gn.each(gn.grep(v.childNodes),function(L){d.appendChild(L)}),d}return v}function JS(s,d,v,w){var M;w&&!1!==d.merge_siblings&&(M=S0(s,pp(w),w),S0(s,M,pp(M,!0)))}function uw(s,d){return function(v){return!(!v||!sg(s,v,d))}}function ma(s,d,v){return function(w){var M,O;s.setStyle(w,d,v),""===w.getAttribute("style")&&w.removeAttribute("style"),M=s,"SPAN"===(O=w).nodeName&&0===M.getAttribs(O).length&&M.remove(O,!0)}}function Tx(s,d,v){return s.isChildOf(d,v)&&d!==v&&!s.isBlock(v)}function Fb(s,d,v){var w,M=d[v?"startContainer":"endContainer"],O=d[v?"startOffset":"endOffset"];return uo(M)&&(!v&&O&&O--,M=M.childNodes[(w=M.childNodes.length-1)<O?w:O]),Er(M)&&v&&O>=M.nodeValue.length&&(M=new Qs(M,s.getBody()).next()||M),Er(M)&&!v&&0===O&&new Qs(M,s.getBody()).prev()||M}function $k(s,d){var v=d?"firstChild":"lastChild";if(/^(TR|TH|TD)$/.test(s.nodeName)&&s[v]){var w=s[v];return"TR"===s.nodeName&&w[v]||w}return s}function QS(s,d,v,w){var M=s.create(v,w);return d.parentNode.insertBefore(M,d),M.appendChild(d),M}function Jk(s,d,v,w,M){var O=Ut.fromDom(d),L=Ut.fromDom(s.create(w,M));return Vf(L,(v?Bp:qg)(O)),v?(cu(O,L),dc(L,O)):(fu(O,L),Cs(L,O)),L.dom}function Vb(s,d,v,w){var M=pp(d,v,w);return xe(M)||"BR"===M.nodeName||s.isBlock(M)}function Qk(s,d,v,w,M){var O,L,B=s.dom,G=B,W=w;if(!(io(L=d)&&Ih(W,L.inline)||ac(L)&&Ih(W,L.block)||jo(L)&&uo(W)&&G.is(W,L.selector)||d.links&&"A"===w.nodeName))return cy.keep();var re,$,ue,pe,be,we,Me,ke,Ne=w;if(io(d)&&"all"===d.remove&&Qe(d.preserve_attributes)){var je=Zn(B.getAttribs(Ne),function(rt){return Ht(d.preserve_attributes,rt.name.toLowerCase())});if(B.removeAllAttribs(Ne),Sn(je,function(rt){return B.setAttrib(Ne,rt.name,rt.value)}),0<je.length)return cy.rename("span")}if("all"!==d.remove){gw(d.styles,function(rt,dt){rt=wm(B,Nl(rt,v),dt+""),He(dt)&&(dt=rt,M=null),!d.remove_similar&&M&&!Ih(sg(B,M,dt),rt)||B.setStyle(Ne,dt,""),O=!0}),O&&""===B.getAttrib(Ne,"style")&&(Ne.removeAttribute("style"),Ne.removeAttribute("data-mce-style")),gw(d.attributes,function(rt,dt){var Vt;if(rt=Nl(rt,v),He(dt)&&(dt=rt,M=null),d.remove_similar||!M||Ih(B.getAttrib(M,dt),rt))if("class"===dt&&(rt=B.getAttrib(Ne,dt))&&(Vt="",Sn(rt.split(/\s+/),function(Zt){/mce\-\w+/.test(Zt)&&(Vt+=(Vt?" ":"")+Zt)}),Vt))B.setAttrib(Ne,dt,Vt);else{if(oM.test(dt)&&Ne.removeAttribute("data-mce-"+dt),"style"===dt&&hc(["li"])(Ne)&&"none"===B.getStyle(Ne,"list-style-type"))return Ne.removeAttribute(dt),void B.setStyle(Ne,"list-style-type","none");"class"===dt&&Ne.removeAttribute("className"),Ne.removeAttribute(dt)}}),gw(d.classes,function(rt){rt=Nl(rt,v),M&&!B.hasClass(M,rt)||B.removeClass(Ne,rt)});for(var ct=B.getAttribs(Ne),Dt=0;Dt<ct.length;Dt++){var Ye=ct[Dt].nodeName;if(0!==Ye.indexOf("_")&&0!==Ye.indexOf("data-"))return cy.keep()}}return"none"!==d.remove?(ue=d,we=($=Ne).parentNode,Me=(re=s).dom,ke=pa(re),ac(ue)&&(ke?we===Me.getRoot()&&(ue.list_block&&Ih($,ue.list_block)||Sn(Io($.childNodes),function(rt){od(re,ke,rt.nodeName.toLowerCase())?pe?pe.appendChild(rt):(pe=QS(Me,rt,ke),Me.setAttribs(pe,re.settings.forced_root_block_attrs)):pe=null})):Me.isBlock($)&&!Me.isBlock(we)&&(Vb(Me,$,!1)||Vb(Me,$.firstChild,!0,!0)||$.insertBefore(Me.create("br"),$.firstChild),Vb(Me,$,!0)||Vb(Me,$.lastChild,!1,!0)||$.appendChild(Me.create("br")))),jo(be=ue)&&io(be)&&gc(wr(be,"mixed"),!0)&&!Ih(ue.inline,$)||Me.remove($,!0),cy.removed()):cy.keep()}function kg(s,d,v,w,M){return Qk(s,d,v,w,M).fold(ht,function(O){return s.dom.rename(w,O),!0},sn)}function lw(s,d,v,w,M){function O(ke){var Ne,je,ct,Dt,Ye,rt=(je=d,ct=v,Dt=M,Sn(a0((Ne=s).dom,ke.parentNode).reverse(),function(dt){var Vt;Ye||"_start"===dt.id||"_end"===dt.id||(Vt=Cg(Ne,dt,je,ct,Dt))&&!1!==Vt.split&&(Ye=dt)}),Ye);return function(dt,Vt,Zt,ln,on,Mt,At,zt){var tn,On,er=dt.dom;if(Zt){for(var An=Zt.parentNode,Xn=ln.parentNode;Xn&&Xn!==An;Xn=Xn.parentNode){for(var Fn=er.clone(Xn,!1),Yn=0;Yn<Vt.length&&null!==(Fn=function(qn,xr,Tn){return Qk(qn,xr,zt,Tn,Tn).fold(te(Tn),function(pr){return qn.dom.createFragment().appendChild(Tn),qn.dom.rename(Tn,pr)},te(null))}(dt,Vt[Yn],Fn));Yn++);Fn&&(tn&&Fn.appendChild(tn),On=On||Fn,tn=Fn)}At.mixed&&er.isBlock(Zt)||(ln=er.split(Zt,ln)),tn&&(on.parentNode.insertBefore(tn,on),On.appendChild(on),io(At)&&JS(er,At,0,tn))}return ln}(s,re,rt,ke,ke,0,$,v)}function L(ke){return Te(re,function(Ne){return kg(s,Ne,v,ke,ke)})}function B(ke){var Ne,je=pe.get(ke?"_start":"_end"),ct=je[ke?"firstChild":"lastChild"];return Sl(Ne=ct)&&uo(Ne)&&("_start"===Ne.id||"_end"===Ne.id)&&(ct=ct[ke?"firstChild":"lastChild"]),Er(ct)&&0===ct.data.length&&(ct=ke?je.previousSibling||je.nextSibling:je.nextSibling||je.previousSibling),pe.remove(je,!0),ct}function G(ke){var Ne=id(s,ke,re,ke.collapsed);if($.split){if(Ne=bp(Ne),(ct=Fb(s,Ne,!0))!==(Dt=Fb(s,Ne))){if(ct=$k(ct,!0),Dt=$k(Dt,!1),Tx(pe,ct,Dt)){var je=J.from(ct.firstChild).getOr(ct);return O(Jk(pe,je,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void B(!0)}if(Tx(pe,Dt,ct))return je=J.from(Dt.lastChild).getOr(Dt),O(Jk(pe,je,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void B(!1);var ct=QS(pe,ct,"span",{id:"_start","data-mce-type":"bookmark"}),Dt=QS(pe,Dt,"span",{id:"_end","data-mce-type":"bookmark"}),Ye=pe.createRng();Ye.setStartAfter(ct),Ye.setEndBefore(Dt),Zv(pe,Ye,function(rt){Sn(rt,function(dt){Sl(dt)||Sl(dt.parentNode)||O(dt)})}),O(ct),O(Dt),ct=B(!0),Dt=B()}else ct=Dt=O(ct);Ne.startContainer=ct.parentNode||ct,Ne.startOffset=pe.nodeIndex(ct),Ne.endContainer=Dt.parentNode||Dt,Ne.endOffset=pe.nodeIndex(Dt)+1}Zv(pe,Ne,function(rt){Sn(rt,we)})}var W,re=s.formatter.get(d),$=re[0],ue=!0,pe=s.dom,be=s.selection,we=function(ke){var Ne=!0,je=!1;uo(ke)&&pe.getContentEditable(ke)&&(Ne=ue,ue="true"===pe.getContentEditable(ke),je=!0);var ct,Dt,Ye=Io(ke.childNodes);if(ue&&!je&&(ct=L(ke)||Te(re,function(dt){return xx(pe,ke,dt)}),Dt=ke.parentNode,!ct&&U(Dt)&&_a($)&&L(Dt)),$.deep&&Ye.length){for(var rt=0;rt<Ye.length;rt++)we(Ye[rt]);je&&(ue=Ne)}Sn(["underline","line-through","overline"],function(dt){uo(ke)&&s.dom.getStyle(ke,"text-decoration")===dt&&ke.parentNode&&q_(pe,ke.parentNode)===dt&&kg(s,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:dt}},null,ke)})};if(w)return Sh(w)?((W=pe.createRng()).setStartBefore(w),W.setEndAfter(w),G(W)):G(w),void h0(s,d,w,v);if("false"!==pe.getContentEditable(be.getNode()))be.isCollapsed()&&io($)&&!Ch(s).length?function rw(s,d,v,w){var M,O,L,B,G,W,re,$,ue,pe,be,we,Me,ke,Ne,je=s.dom,ct=s.selection,Dt=[],Ye=ct.getRng(),rt=Ye.startContainer,Vt=rt;for(3===rt.nodeType&&(Ye.startOffset!==rt.nodeValue.length&&(M=!0),Vt=Vt.parentNode);Vt;){if(Cg(s,Vt,d,v,w)){O=Vt;break}Vt.nextSibling&&(M=!0),Dt.push(Vt),Vt=Vt.parentNode}O&&(M?(L=ct.getBookmark(),Ye.collapse(!0),B=bp(id(s,Ye,s.formatter.get(d),!0)),s.formatter.remove(d,v,B,w),ct.moveToBookmark(L)):(G=xm(s.getBody(),O),ue=W=_x(!1).dom,(we=(be=s.dom).getParent(pe=null!==G?G:O,ve(i0,s)))&&be.isEmpty(we)?pe.parentNode.replaceChild(ue,pe):(ke=Ol(Me=Ut.fromDom(pe),"br"),Ne=Zn(function(){for(var Zt=[],ln=Me.dom;ln;)Zt.push(Ut.fromDom(ln)),ln=ln.lastChild;return Zt}().slice(-1),Li),ke.length===Ne.length&&Sn(Ne,Js),be.isEmpty(pe)?pe.parentNode.replaceChild(ue,pe):be.insertAfter(ue,pe)),re=function Xk(s,d,v,w,M,O){var L,B,G=s.formatter,W=s.dom,re=Zn(zr(G.get()),function(ue){return ue!==w&&!Rt(ue,"removeformat")});if(0<Zn((L=s,B=v,cr(re,function(ue,pe){var be=function ax(s,d){return Te(s.formatter.get(d),function(v){function w(M){return 1<M.length&&"%"===M.charAt(0)}return Te(["styles","attributes"],function(M){return wr(v,M).exists(function(O){var L,B;return Te(Qe(O)?O:(L=le,B=[],Rn(O,function(G,W){B.push(L(G,W))}),B),w)})})})}(L,pe);return L.formatter.matchNode(B,pe,{},be)?ue.concat([pe]):ue},[])),function(ue){return we=w,Me=["inline","block","selector","attributes","styles","classes"],!Te((be=s).formatter.get(ue),function(ke){var Ne=pe(ke);return Te(be.formatter.get(we),function(je){var ct,Dt=pe(je),Ye=Ne,rt=Dt;return yt(ct=void 0===ct?De:ct).eq(Ye,rt)})});function pe(ke){return bo(ke,function(Ne,je){return Te(Me,function(ct){return ct===je})})}var be,we,Me}).length){var $=v.cloneNode(!1);return W.add(d,$),G.remove(w,M,$,O),W.remove($),J.some($)}return J.none()}(s,W,O,d,v,w),$=ZS(Dt.concat(re.toArray()),W),Yk(s,G,!1),ct.setCursorLocation($,1),je.isEmpty(O)&&je.remove(O)))}(s,d,v,M):(km(be,!0,function(){Af(s,G)}),io($)&&qk(s,d,v,be.getStart())&&vs(pe,be,be.getRng()),s.nodeChanged()),h0(s,d,w,v);else{w=be.getNode();for(var Me=0;Me<re.length&&(!re[Me].ceFalseOverride||!kg(s,re[Me],v,w,w));Me++);h0(s,d,w,v)}}function C0(s){return uo(s)&&!Sl(s)&&!ms(s)&&!pc(s)}function Dx(s){return so(s,"vars")}function eC(s,d,v,w,M){return tt(d,function(O){var L=s.formatter.matchNode(O,v,null!=M?M:{},w);return!Ke(L)},function(O){return LT(s,O,v)||!w&&U(s.formatter.matchNode(O,v,M,!0))})}function eM(s,d){var v=null!=d?d:iM(s);return Zn(a0(s.dom,v),function(w){return uo(w)&&!pc(w)})}function tC(s,d){var v=(d||document).createDocumentFragment();return Sn(s,function(w){v.appendChild(w.dom)}),Ut.fromDom(v)}function nC(s,d,v){return{element:s,width:d,rows:v}}function FT(s,d){return{element:s,cells:d}}function Ax(s,d){var v=parseInt(du(s,d),10);return isNaN(v)?1:v}function VT(s){return cr(s,function(d,v){return v.cells.length>d?v.cells.length:d},0)}function tM(s,d){for(var v=s.rows,w=0;w<v.length;w++)for(var M=v[w].cells,O=0;O<M.length;O++)if(En(M[O],d))return J.some({x:O,y:w});return J.none()}function Hb(s,d,v,w,M){for(var O=[],L=s.rows,B=v;B<=M;B++){var G=L[B].cells,W=d<w?G.slice(d,w+1):G.slice(w,d+1);O.push(FT(L[B].element,W))}return O}function oC(){return tC([])}function Gb(s,d){return 0<=d&&d<s.length&&Xv(s.charAt(d))}function Um(s,d){var v=xn(s.innerText);return d?v.replace(/^[ \f\n\r\t\v]+/,""):v}function WT(s){return uo(s)?s.outerHTML:Er(s)?Kl.encodeRaw(s.data,!1):qu(s)?"\x3c!--"+s.data+"--\x3e":""}function cw(s){var d,v=Ja((d=s.getBody(),Zn(It(Io(d.childNodes),WT),function(M){return 0<M.length})),function(M){var O=Ar(s.serializer,M);return 0<O.length?[O]:[]}),w=v.join("");return-1!==w.indexOf("</iframe>")?{type:"fragmented",fragments:v,content:"",bookmark:null,beforeBookmark:null}:{type:"complete",fragments:null,content:w,bookmark:null,beforeBookmark:null}}function aC(s,d,v){var w,M,O,L,B,G,W,re,$,ue,pe,be=v?d.beforeBookmark:d.bookmark;function we(Me,ke,Ne,je){for(var ct=Me;ct-ke<je&&ct<Ne&&L[ct]===B[ct-ke];)++ct;return{start:Me,end:ct,diag:ke}}"fragmented"===d.type?(w=d.fragments,M=s.getBody(),O=It(Io(M.childNodes),WT),function iC(s,d){var v=0;Sn(s,function(w){var M,O,L,B,W,re,$;0===w[0]?v++:1===w[0]?(B=d,W=v,$=function(ue){var pe,be=document.createElement("div"),we=document.createDocumentFragment();for(ue&&(be.innerHTML=ue);pe=be.firstChild;)we.appendChild(pe);return we}(w[1]),B.hasChildNodes()&&W<B.childNodes.length?(re=B.childNodes[W]).parentNode.insertBefore($,re):B.appendChild($),v++):2===w[0]&&(O=v,(M=d).hasChildNodes()&&O<M.childNodes.length&&(L=M.childNodes[O]).parentNode.removeChild(L))})}((G=(L=O).length+(B=w).length+2,W=new Array(G),re=new Array(G),$=function(Me,ke,Ne,je,ct){var Dt=ue(Me,ke,Ne,je);if(null===Dt||Dt.start===ke&&Dt.diag===ke-je||Dt.end===Me&&Dt.diag===Me-Ne)for(var Ye=Me,rt=Ne;Ye<ke||rt<je;)Ye<ke&&rt<je&&L[Ye]===B[rt]?(ct.push([0,L[Ye]]),++Ye,++rt):je-Ne<ke-Me?(ct.push([2,L[Ye]]),++Ye):(ct.push([1,B[rt]]),++rt);else{$(Me,Dt.start,Ne,Dt.start-Dt.diag,ct);for(var dt=Dt.start;dt<Dt.end;++dt)ct.push([0,L[dt]]);$(Dt.end,ke,Dt.end-Dt.diag,je,ct)}},ue=function(Me,ke,Ne,je){var ct=ke-Me,Dt=je-Ne;if(0==ct||0==Dt)return null;var Ye,rt,dt,Vt,Zt,ln=ct-Dt,on=Dt+ct,Mt=(on%2==0?on:1+on)/2;for(W[1+Mt]=Me,re[1+Mt]=ke+1,Ye=0;Ye<=Mt;++Ye){for(rt=-Ye;rt<=Ye;rt+=2){for(W[dt=rt+Mt]=rt===-Ye||rt!==Ye&&W[dt-1]<W[dt+1]?W[dt+1]:W[dt-1]+1,Zt=(Vt=W[dt])-Me+Ne-rt;Vt<ke&&Zt<je&&L[Vt]===B[Zt];)W[dt]=++Vt,++Zt;if(ln%2!=0&&ln-Ye<=rt&&rt<=ln+Ye&&re[dt-ln]<=W[dt])return we(re[dt-ln],rt+Me-Ne,ke,je)}for(rt=ln-Ye;rt<=ln+Ye;rt+=2){for(re[dt=rt+Mt-ln]=rt===ln-Ye||rt!==ln+Ye&&re[dt+1]<=re[dt-1]?re[dt+1]-1:re[dt-1],Zt=(Vt=re[dt]-1)-Me+Ne-rt;Me<=Vt&&Ne<=Zt&&L[Vt]===B[Zt];)re[dt]=Vt--,Zt--;if(ln%2==0&&-Ye<=rt&&rt<=Ye&&re[dt]<=W[dt+ln])return we(re[dt],rt+Me-Ne,ke,je)}}},$(0,L.length,0,B.length,pe=[]),pe),M)):s.setContent(d.content,{format:"raw",no_selection:!U(be)||!ou(be)||!be.isFakeCaret}),s.selection.moveToBookmark(be)}function Ub(s){return"fragmented"===s.type?s.fragments.join(""):s.content}function jb(s){var d=Ut.fromTag("body",ZD());return am(d,Ub(s)),Sn(Ol(d,"*[data-mce-bogus]"),By),d.dom.innerHTML}function Ix(s,d){return!(!s||!d)&&(w=d,Ub(s)===Ub(w)||(v=d,jb(s)===jb(v)));var v,w}function fw(s){return 0===s.get()}function qb(s,d,v){fw(v)&&(s.typing=d)}function rM(s,d){s.typing&&(qb(s,!1,d),s.add())}function Oc(s){return{undoManager:{beforeChange:function(d,v){var w=s,M=v;fw(d)&&M.set(Ab(w.selection))},add:function(d,v,w,M,O,L){return function(B,G,W,re,$,ue,pe){var be=cw(B);if(ue=gn.extend(ue=ue||{},be),!1===fw(re)||B.removed)return null;var we=G.data[W.get()];if(B.fire("BeforeAddUndo",{level:ue,lastLevel:we,originalEvent:pe}).isDefaultPrevented()||we&&Ix(we,ue))return null;G.data[W.get()]&&$.get().each(function(je){G.data[W.get()].beforeBookmark=je});var Me=B.getParam("custom_undo_redo_levels",0,"number");if(Me&&G.data.length>Me){for(var ke=0;ke<G.data.length-1;ke++)G.data[ke]=G.data[ke+1];G.data.length--,W.set(G.data.length)}ue.bookmark=Ab(B.selection),W.get()<G.data.length-1&&(G.data.length=W.get()+1),G.data.push(ue),W.set(G.data.length-1);var Ne={level:ue,lastLevel:we,originalEvent:pe};return 0<W.get()?(B.setDirty(!0),B.fire("AddUndo",Ne),B.fire("change",Ne)):B.fire("AddUndo",Ne),ue}(s,d,v,w,M,O,L)},undo:function(d,v,w){return M=s,L=v,B=w,(O=d).typing&&(O.add(),O.typing=!1,qb(O,!1,L)),0<B.get()&&(B.set(B.get()-1),aC(M,G=O.data[B.get()],!0),M.setDirty(!0),M.fire("Undo",{level:G})),G;var M,O,L,B,G},redo:function(d,v){return w=s,O=v,(M=d).get()<O.length-1&&(M.set(M.get()+1),aC(w,L=O[M.get()],!1),w.setDirty(!0),w.fire("Redo",{level:L})),L;var w,M,O,L},clear:function(d,v){var w,M=s,O=v;(w=d).data=[],O.set(0),w.typing=!1,M.fire("ClearUndos")},reset:function(d){var v;(v=d).clear(),v.add()},hasUndo:function(d,v){return w=s,M=d,0<v.get()||M.typing&&M.data[0]&&!Ix(cw(w),M.data[0]);var w,M},hasRedo:function(d,v){return w=d,v.get()<w.data.length-1&&!w.typing;var w},transact:function(d,v,w){return O=w,rM(M=d,v),M.beforeChange(),M.ignore(O),M.add();var M,O},ignore:function(d,v){try{d.set(d.get()+1),v()}finally{d.set(d.get()-1)}},extra:function(d,v,w,M){var O,L,B=s,G=v,W=M;(O=d).transact(w)&&(L=O.data[G.get()].bookmark,aC(B,O.data[G.get()-1],!0),O.transact(W)&&(O.data[G.get()-1].beforeBookmark=L))}},formatter:{match:function(d,v,w,M){return qk(s,d,v,w,M)},matchAll:function(d,v){return M=d,O=v,L=[],B={},G=(w=s).selection.getStart(),w.dom.getParent(G,function(W){for(var re=0;re<M.length;re++){var $=M[re];!B[$]&&Cg(w,W,$,O)&&(B[$]=!0,L.push($))}},w.dom.getRoot()),L;var w,M,O,L,B,G},matchNode:function(d,v,w,M){return Cg(s,d,v,w,M)},canApply:function(d){return function(v){var w=v.formatter.get(d),M=v.dom;if(w)for(var O=a0(M,v.selection.getStart()),L=w.length-1;0<=L;L--){var B=w[L];if(!jo(B)||U(B.defaultBlock))return!0;for(var G=O.length-1;0<=G;G--)if(M.is(O[G],B.selector))return!0}return!1}(s)},closest:function(d){return M=d,J.from((w=s).selection.getStart(!0)).bind(function(O){return jk(Ut.fromDom(O),function(L){return jn(M,function(B){return Cg(w,L.dom,G=B)?J.some(G):J.none();var G})},v)}).getOrNull();function v(O){return En(O,Ut.fromDom(w.getBody()))}var w,M},apply:function(d,v,w){return uC(s,d,v,w)},remove:function(d,v,w,M){return lw(s,d,v,w,M)},toggle:function(d,v,w){var M,O=d,L=v,B=w,G=(M=s).formatter.get(O);(!qk(M,O,L,B)||"toggle"in G[0]&&!G[0].toggle?uC:lw)(M,O,L,B)},formatChanged:function(d,v,w,M,O){return function XD(s,d,v,w,M,O){var L,B,G,W,re,$,ue,pe,be;return null===d.get()&&(B=s,(L=d).set({}),B.on("NodeChange",function(we){GT(B,we.element,L.get())}),B.on("FormatApply FormatRemove",function(we){var Me=J.from(we.node).map(function(ke){return Sh(ke)?ke:ke.startContainer}).bind(function(ke){return uo(ke)?J.some(ke):J.from(ke.parentElement)}).getOrThunk(function(){return iM(B)});GT(B,Me,L.get())})),G=s,re=v,$=w,ue=M,pe=O,be=(W=d).get(),Sn(re.split(","),function(we){function Me(){var je=eM(G);return eC(G,je,we,ue,pe).isSome()}var ke,Ne=wr(be,we).getOrThunk(function(){var je={withSimilar:{state:Ya(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Ya(!1),similar:!1,callbacks:[]},withVars:[]};return be[we]=je});Ke(pe)?((ke=ue?Ne.withSimilar:Ne.withoutSimilar).callbacks.push($),1===ke.callbacks.length&&ke.state.set(Me())):Ne.withVars.push({state:Ya(Me()),similar:ue,vars:pe,callback:$})}),W.set(be),{unbind:function(){var we,Me=v,ke=w,Ne=(we=d).get();Sn(Me.split(","),function(je){return wr(Ne,je).each(function(ct){Ne[je]={withSimilar:Sr(Sr({},ct.withSimilar),{callbacks:Zn(ct.withSimilar.callbacks,function(Dt){return Dt!==ke})}),withoutSimilar:Sr(Sr({},ct.withoutSimilar),{callbacks:Zn(ct.withoutSimilar.callbacks,function(Dt){return Dt!==ke})}),withVars:Zn(ct.withVars,function(Dt){return Dt.callback!==ke})}})}),we.set(Ne)}}}(s,d,v,w,M,O)}},editor:{getContent:function(d,v){return M=d,O=v,J.from((w=s).getBody()).fold(te("tree"===M.format?new $e("body",11):""),function(L){return B=w,W=L,re=O,we=Sr(Sr({},G=M),{format:re,get:!0,getInner:!0}),ke="raw"===(Me=G.no_events?we:B.fire("BeforeGetContent",we)).format?gn.trim(Kr(B.serializer,W.innerHTML)):"text"===Me.format?B.dom.isEmpty(W)?"":xn(W.innerText||W.textContent):"tree"===Me.format?B.serializer.serialize(W,Me):(ue=($=B).serializer.serialize(W,Me),pe=pa($),be=new RegExp("^(<"+pe+"[^>]*>(&nbsp;|&#160;|\\s|\xa0|<br \\/>|)<\\/"+pe+">[\r\n]*|<br \\/>[\r\n]*)$"),ue.replace(be,"")),Me.content=Ht(["text","tree"],Me.format)||Dd(Ut.fromDom(W))?ke:gn.trim(ke),(Me.no_events?Me:B.fire("GetContent",Me)).content;var B,G,W,re,$,ue,pe,be,we,Me,ke});var w,M,O},setContent:function(d,v){return function YD(s,d,v){var w,M=(w=d,Sr(Sr({format:"html"},v),{set:!0,content:qS(w)?"":w})),O=v.no_events?M:s.fire("BeforeSetContent",M);return qS(d)||(d=O.content),J.from(s.getBody()).fold(te(d),function(L){return qS(d)?function(pe,be,we,Me){var ke,Ne,je,ct;ke=pe.parser.getNodeFilters(),Ne=pe.parser.getAttributeFilters(),je=we,ct=function(Ye,rt){var dt,Vt,Zt={},ln={},on=[];for(dt in je.firstChild&&w0(je.firstChild,function(Mt){Sn(Ye,function(At){At.name===Mt.name&&(Zt[At.name]?Zt[At.name].nodes.push(Mt):Zt[At.name]={filter:At,nodes:[Mt]})}),Sn(rt,function(At){"string"==typeof Mt.attr(At.name)&&(ln[At.name]?ln[At.name].nodes.push(Mt):ln[At.name]={filter:At,nodes:[Mt]})})}),Zt)so(Zt,dt)&&on.push(Zt[dt]);for(Vt in ln)so(ln,Vt)&&on.push(ln[Vt]);return on}(ke,Ne),Sn(ct,function(Ye){Sn(Ye.filter.callbacks,function(rt){rt(Ye.nodes,Ye.filter.name,{})})});var Dt=Yr({validate:pe.validate},pe.schema).serialize(we);return Me.content=Dd(Ut.fromDom(be))?Dt:gn.trim(Dt),Uk(pe,Me.content,Me.no_selection),Me.no_events||pe.fire("SetContent",Me),we}(s,L,d,O):(B=s,G=L,re=O,0===(W=d).length||/^\s+$/.test(W)?($='<br data-mce-bogus="1">',"TABLE"===G.nodeName?W="<tr><td>"+$+"</td></tr>":/^(UL|OL)$/.test(G.nodeName)&&(W="<li>"+$+"</li>"),W=(ue=pa(B))&&B.schema.isValidChild(G.nodeName.toLowerCase(),ue.toLowerCase())?(W=$,B.dom.createHTML(ue,t0(B),W)):W||'<br data-mce-bogus="1">',Uk(B,W,re.no_selection),B.fire("SetContent",re)):("raw"!==re.format&&(W=Yr({validate:B.validate},B.schema).serialize(B.parser.parse(W,{isRootContent:!0,insert:!0}))),re.content=Dd(Ut.fromDom(G))?W:gn.trim(W),Uk(B,re.content,re.no_selection),re.no_events||B.fire("SetContent",re)),re.content);var B,G,W,re,$,ue})}(s,d,v)},insertContent:function(d,v){return qD(s,d,v)},addVisual:function(d){var v,w=d,M=(v=s).dom,O=U(w)?w:v.getBody();Ke(v.hasVisual)&&(v.hasVisual=v.getParam("visual",!0,"boolean")),Sn(M.select("table,a",O),function(L){switch(L.nodeName){case"TABLE":var B=v.getParam("visual_table_class","mce-item-table","string"),G=M.getAttrib(L,"border");G&&"0"!==G||!v.hasVisual?M.removeClass(L,B):M.addClass(L,B);break;case"A":var W,re;M.getAttrib(L,"href")||(W=M.getAttrib(L,"name")||L.id,re=v.getParam("visual_anchor_class","mce-item-anchor","string"),W&&v.hasVisual?M.addClass(L,re):M.removeClass(L,re))}}),v.fire("VisualAid",{element:w,hasVisual:v.hasVisual})}},selection:{getContent:function(d,v){return function(w,M,O){var L,B=(L=M,Sr(Sr({},O=void 0===O?{}:O),{format:L,get:!0,selection:!0})),G=w.fire("BeforeGetContent",B);if(G.isDefaultPrevented())return w.fire("GetContent",G),G.content;if("text"===G.format)return J.from((Me=w).selection.getRng()).map(function(Ne){var je=J.from(Me.dom.getParent(Ne.commonAncestorContainer,Me.dom.isBlock)),ct=Me.getBody(),Dt=je.map(function(on){return on.nodeName}).getOr("div").toLowerCase(),Ye=Wr.browser.isIE()&&"pre"!==Dt,rt=Me.dom.add(ct,Dt,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},Ne.cloneContents()),dt=Um(rt,Ye),Vt=xn(rt.textContent);if(Me.dom.remove(rt),Gb(Vt,0)||Gb(Vt,Vt.length-1)){var Zt=Um(je.getOr(ct),Ye),ln=Zt.indexOf(dt);return-1===ln?dt:(Gb(Zt,ln-1)?" ":"")+dt+(Gb(Zt,ln+dt.length)?" ":"")}return dt}).getOr("");G.getInner=!0;var W,re,$,ue,pe,be,we,Me,ke=(re=G,$=(W=w).selection.getRng(),ue=W.dom.create("body"),pe=W.selection.getSel(),be=zm(W,Mc(pe)),(we=re.contextual?function nM(s,d){var v,w,M,O,L,B,G,W=l0(d,s);return 0<W.length?function HT(s,d){return Lu(d[0],"table",ve(En,s)).bind(function(v){var w,M,O=d[0],L=d[d.length-1],B=function Wb(s){var d=nC(xh(s),0,[]);return Sn(Ol(s,"tr"),function(v,w){Sn(Ol(v,"td,th"),function(M,O){!function(L,B,G,W,re){for(var $=Ax(re,"rowspan"),ue=Ax(re,"colspan"),pe=L.rows,be=G;be<G+$;be++){pe[be]||(pe[be]=FT(Do(W),[]));for(var we=B;we<B+ue;we++)pe[be].cells[we]=be===G&&we===B?re:xh(re)}}(d,function(L,B,G){for(;((re=L.rows)[G]?re[G].cells:[])[B];)B++;var re;return B}(d,O,w),w,v,M)})}),nC(d.element,VT(d.rows),d.rows)}(v);return M=L,tM(w=B,O).bind(function(G){return tM(w,M).map(function(W){return re=w,$=G.x,pe=W.x,we=(ue=G.y)<(be=W.y)?Hb(re,$,ue,pe,be):Hb(re,$,be,pe,ue),nC(re.element,VT(we),we);var re,$,ue,pe,be,we})}).map(function(G){return tC([(re=It((W=G).rows,function(pe){var be=It(pe.cells,function(Me){var ke=Do(Me);return Hh(ke,"colspan"),Hh(ke,"rowspan"),ke}),we=xh(pe.element);return Vf(we,be),we}),$=xh(W.element),Vf(ue=Ut.fromTag("tbody"),re),Cs($,ue),$)]);var W,re,$,ue})}).getOrThunk(oC)}(s,W):(v=s,0<(w=d).length&&w[0].collapsed?oC():(M=v,L=Ut.fromDom((O=w[0]).cloneContents()),G=cr(B=function rC(s,d){var v,w,M,O=Ut.fromDom(d.commonAncestorContainer),L=ss(O,s),B=Zn(L,function(W){return rs(W)||em(W)}),G=(M=d,hn(w=L,function(W){return"li"===Pa(W)&&kh(W,M)}).fold(te([]),function(W){return hn(w,function(re){return"ul"===Pa(re)||"ol"===Pa(re)}).map(function(re){var $=Ut.fromTag(Pa(re));return function fb(s,d){var v=s.dom;Rn(d,function(w,M){!function(O,L,B){if(!Le(B))throw console.error("Invalid call to CSS.set. Property ",L,":: Value ",B,":: Element ",O),new Error("CSS value must be a string: "+B);Bs(O)&&O.style.setProperty(L,B)}(v,M,w)})}($,bo(Ca(re),function(ue,pe){return oo(pe,"list-style")})),[Ut.fromTag("li"),$]}).getOr([])}));return It(B.concat(G.length?G:Bi(v=O)?$s(v).filter(dh).fold(te([]),function(W){return[v,W]}):dh(v)?[v]:[]),xh)}(M,O),function(re,$){return Cs($,re),$},L),0<B.length?tC([G]):G))}(Ut.fromDom(W.getBody()),be).dom:$.cloneContents())&&ue.appendChild(we),W.selection.serializer.serialize(ue,re));return"tree"===G.format?ke:(G.content=w.selection.isCollapsed()?"":ke,w.fire("GetContent",G),G.content)}(s,d,v)}},raw:{getModel:function(){return J.none()}}}}function kp(s){return so(s.plugins,"rtc")}function nf(s){return s.rtcInstance||Oc(s)}function Gs(s){var d=s.rtcInstance;if(d)return d;throw new Error("Failed to get RTC instance not yet initialized.")}function k0(s){return 0===s.dom.length?(Js(s),J.none()):J.some(s)}function Ox(s,d,v,w){s.bind(function(M){return(w?$_:Bb)(M.dom,w?M.dom.length:0),d.filter(ka).map(function(O){var L=v,B=w,G=M.dom,W=O.dom,re=(B?G:W).length;B?(J_(G,W,!1,!B),L.setStart(W,re)):(J_(W,G,!1,!B),L.setEnd(W,re))})}).orThunk(function(){var M=w;return d.filter(function(O){return ko.isBookmarkNode(O.dom)}).bind(M?ts:cl).or(d).filter(ka).map(function(O){var L,B=w;$s(L=O).each(function(G){var W=L.dom;B&&mx(G,pn(W,0))?Bb(W,0):!B&&Z_(G,pn(W,W.length))&&$_(W,W.length)})})})}function sC(s,d,v){var w;s&&so(s,d)&&(0===(w=Zn(s[d],function(M){return M!==v})).length?delete s[d]:s[d]=w)}KS=function(s){var d,v=s.selection.getRng(),w=hc(["pre"]);v.collapsed||(d=s.selection.getSelectedBlocks(),$S(sw(sw(d,w),function(M){return w(M.previousSibling)&&-1!==cs(d,M.previousSibling)}),function(M){var O,L=M.previousSibling;po(O=M).remove(),po(L).append("<br><br>").append(O.childNodes)}))},kx.pre||(kx.pre=[]),kx.pre.push(KS);var hw=gn.each,pw=function(s,d,v){hw(s.childNodes,function(w){Mx(w)&&(d(w)&&v(w),w.hasChildNodes()&&pw(w,d,v))})},cy=hu([{keep:[]},{rename:["name"]},{removed:[]}]),oM=/^(src|href|style)$/,gw=gn.each,Ih=_m,fy=gn.each,M0=gn.each,uC=function(s,d,v,w){function M(je,ct){var Dt;pt((ct=void 0===ct?ue:ct).onformat)&&ct.onformat(je,ct,v,w),M0(ct.styles,function(Ye,rt){be.setStyle(je,rt,Nl(Ye,v))}),!ct.styles||(Dt=be.getAttrib(je,"style"))&&be.setAttrib(je,"data-mce-style",Dt),M0(ct.attributes,function(Ye,rt){be.setAttrib(je,rt,Nl(Ye,v))}),M0(ct.classes,function(Ye){Ye=Nl(Ye,v),be.hasClass(je,Ye)||be.addClass(je,Ye)})}function O(je,ct){var Dt=!1;return M0(je,function(Ye){return!!jo(Ye)&&(U(Ye.collapsed)&&Ye.collapsed!==pe||!be.is(ct,Ye.selector)||ms(ct)?void 0:(M(ct,Ye),!(Dt=!0)))}),Dt}function L(je,ct,Dt){var Ye=[],rt=!0,dt=ue.inline||ue.block,Vt=function(Zt){if(Le(Zt)){var ln=be.create(Zt);return M(ln),ln}return null}(dt);Zv(je,ct,function(Zt){var ln,on=function(Mt){var At=!1,zt=rt,tn=Mt.nodeName.toLowerCase(),On=Mt.parentNode,er=On.nodeName.toLowerCase();if(uo(Mt)&&je.getContentEditable(Mt)&&(zt=rt,rt="true"===je.getContentEditable(Mt),At=!0),La(Mt)&&!function(Fn,Yn,qn,xr){if(Fn.getParam("format_empty_lines",!1,"boolean")&&io(Yn)){var Tn=Mv(Fn.schema),pr=(Hn=Ut.fromDom(qn),Dr=function(gt){return ms(gt.dom)},((Ao=(Tr=Hn).dom).parentNode?function(s,d){return hn(s.dom.childNodes,function(v){return gt=Ut.fromDom(v),!En(Tr,gt)&&Dr(gt);var gt}).map(Ut.fromDom)}(Ut.fromDom(Ao.parentNode)):J.none()).isSome());return go(Tn,xr)&&No(Ut.fromDom(qn.parentNode),!1)&&!pr}var Hn,Tr,Dr,Ao}(s,ue,Mt,er))return ln=null,void(ac(ue)&&je.remove(Mt));if(ac(ue)&&ue.wrapper&&Cg(s,Mt,d,v))ln=null;else{if(rt&&!At&&ac(ue)&&!ue.wrapper&&i0(s,tn)&&od(s,er,dt)){var An=je.rename(Mt,dt);return M(An),Ye.push(An),void(ln=null)}if(jo(ue)){var Xn=O($,Mt);if(!Xn&&U(On)&&_a(ue)&&(Xn=O($,On)),!io(ue)||Xn)return void(ln=null)}!rt||At||!od(s,dt,tn)||!od(s,er,dt)||!Dt&&Er(Mt)&&qh(Mt.data)||ms(Mt)||io(ue)&&je.isBlock(Mt)?(ln=null,Sn(Io(Mt.childNodes),on),At&&(rt=zt),ln=null):(ln||(ln=je.clone(Vt,!1),Mt.parentNode.insertBefore(ln,Mt),Ye.push(ln)),ln.appendChild(Mt))}};Sn(Zt,on)}),!0===ue.links&&Sn(Ye,function(Zt){var ln=function(on){"A"===on.nodeName&&M(on,ue),Sn(Io(on.childNodes),ln)};ln(Zt)}),Sn(Ye,function(Zt){var ln,on,Mt,At,zt,On,er,An,Xn,Fn,Yn,qn,xr,Tn,pr,Hn,Tr,Dr=(ln=0,Sn(Zt.childNodes,function(gt){var Et;U(Et=gt)&&Er(Et)&&0===Et.length||Sl(gt)||ln++}),ln);function Ao(gt){var Et;1===gt.nodeType&&gt.parentNode&&1===gt.parentNode.nodeType&&(Et=q_(qn,gt.parentNode),qn.getStyle(gt,"color")&&Et?qn.setStyle(gt,"text-decoration",Et):qn.getStyle(gt,"text-decoration")===Et&&qn.setStyle(gt,"text-decoration",null))}!(1<Ye.length)&&je.isBlock(Zt)||0!==Dr?(io(ue)||ac(ue)&&ue.wrapper)&&(ue.exact||1!==Dr||(Zt=hn((Yn=Zt).childNodes,C0).filter(function(gt){return xx(je,gt,ue)}).map(function(gt){var Et=je.clone(gt,!1);return M(Et),je.replace(Et,Yn,!0),je.remove(gt,!0),Et}).getOr(Yn)),pr=s,Hn=v,Tr=Zt,fy($,function(gt){var Et,mn;io(gt)&&fy(pr.dom.select(gt.inline,Tr),function(wn){Mx(wn)&&kg(pr,gt,Hn,wn,gt.exact?wn:null)}),Et=pr.dom,(mn=gt).clear_child_styles&&hw(Et.select(mn.links?"*:not(a)":"*",Tr),function(wn){Mx(wn)&&hw(mn.styles,function(or,$r){Et.setStyle(wn,$r,"")})})}),er=ue,Cg(On=s,(Fn=Zt).parentNode,An=d,Xn=v)&&kg(On,er,Xn,Fn)||er.merge_with_parents&&On.dom.getParent(Fn.parentNode,function(gt){if(Cg(On,gt,An,Xn))return kg(On,er,Xn,Fn),!0}),(zt=ue).styles&&zt.styles.backgroundColor&&pw(Zt,uw(je,"fontSize"),ma(je,"backgroundColor",Nl(zt.styles.backgroundColor,v))),qn=je,Tn=Zt,(xr=ue).styles&&(xr.styles.color||xr.styles.textDecoration)&&(gn.walk(Tn,Ao,"childNodes"),Ao(Tn)),on=je,At=Zt,!io(Mt=ue)||"sub"!==Mt.inline&&"sup"!==Mt.inline||(pw(At,uw(on,"fontSize"),ma(on,"fontSize","")),on.remove(on.select("sup"===Mt.inline?"sub":"sup",At),!0)),JS(je,ue,0,Zt)):je.remove(Zt,!0)})}var B,G,W,re,$=s.formatter.get(d),ue=$[0],pe=!w&&s.selection.isCollapsed(),be=s.dom,we=s.selection;if("false"!==be.getContentEditable(we.getNode()))ue&&(w?Sh(w)?O($,w)||((B=be.createRng()).setStartBefore(w),B.setEndAfter(w),L(be,id(s,B,$),!0)):L(be,w,!0):pe&&io(ue)&&!Ch(s).length?function(je,ct,Dt){var Ye,rt=je.selection,dt=rt.getRng(),Vt=dt.startOffset,Zt=dt.startContainer.nodeValue,ln=xm(je.getBody(),rt.getStart());ln&&(Ye=co(ln));var on,Mt,At,zt,tn=/[^\s\u00a0\u00ad\u200b\ufeff]/;Zt&&0<Vt&&Vt<Zt.length&&tn.test(Zt.charAt(Vt))&&tn.test(Zt.charAt(Vt-1))?(on=rt.getBookmark(),dt.collapse(!0),Mt=bp(id(je,dt,je.formatter.get(ct))),je.formatter.apply(ct,Dt,Mt),rt.moveToBookmark(on)):(ln&&Ye.nodeValue===zb||(At=je.getDoc(),zt=_x(!0).dom,Ye=(ln=At.importNode(zt,!0)).firstChild,dt.insertNode(ln),Vt=1),je.formatter.apply(ct,Dt,ln),rt.setCursorLocation(Ye,Vt))}(s,d,v):(G=we.getNode(),W=$[0],s.settings.forced_root_block||!W.defaultBlock||be.getParent(G,be.isBlock)||uC(s,W.defaultBlock),we.setRng(Hk(we.getRng())),km(we,!0,function(){Af(s,function(je,ct){var Dt=ct?je:id(s,je,$);L(be,Dt,!1)})}),vs(be,we,we.getRng()),s.nodeChanged()),re=s,$S(kx[d],function(je){je(re)})),dg(s,d,w,v);else{w=we.getNode();for(var Me=0,ke=$.length;Me<ke;Me++){var Ne=$[Me];if(Ne.ceFalseOverride&&jo(Ne)&&be.is(w,Ne.selector)){M(w,Ne);break}}dg(s,d,w,v)}},iM=function(s){return s.selection.getStart()},GT=function(s,d,v){var w=eM(s,d);Rn(v,function(M,O){function L(B){var G,W=eC(s,w,O,B.similar,Dx(B)?B.vars:void 0),re=W.isSome();B.state.get()!==re&&(B.state.set(re),G=W.getOr(d),Dx(B)?B.callback(re,{node:G,format:O,parents:w}):Sn(B.callbacks,function($){return $(re,{node:G,format:O,parents:w})}))}Sn([M.withSimilar,M.withoutSimilar],L),Sn(M.withVars,L)})},ZD=Wn(function(){return document.implementation.createHTMLDocument("undo")});function UT(s){return s.select}function jT(s){return s&&s.ownerDocument&&Wt(Ut.fromDom(s.ownerDocument),Ut.fromDom(s))}function qT(s,d,v,w){function M(Ye,rt){return function Mp(s,d,v){var w,M=(w=d,Sr(Sr({format:"html"},v=void 0===v?{}:v),{set:!0,selection:!0,content:w})),O=M;if(!M.no_events){var L=s.fire("BeforeSetContent",M);if(L.isDefaultPrevented())return void s.fire("SetContent",L);O=L}O.content=function(G,W){if("raw"===W.format)return W.content;var re=G.selection.getRng(),$=G.dom.getParent(re.commonAncestorContainer,G.dom.isBlock),ue=$?{context:$.nodeName.toLowerCase()}:{},pe=G.parser.parse(W.content,Sr(Sr({isRootContent:!0,forced_root_block:!1},ue),W));return Yr({validate:G.validate},G.schema).serialize(pe)}(s,O);var B=s.selection.getRng();(function(G,W){var re=J.from(W.firstChild).map(Ut.fromDom),$=J.from(W.lastChild).map(Ut.fromDom);G.deleteContents(),G.insertNode(W);var ue=re.bind(cl).filter(ka).bind(k0),pe=$.bind(ts).filter(ka).bind(k0);Ox(ue,re,G,!0),Ox(pe,$,G,!1),G.collapse(!1)})(B,B.createContextualFragment(O.content)),s.selection.setRng(B),ld(s,B),O.no_events||s.fire("SetContent",O)}(w,Ye,rt)}function O(){var Ye=B(),rt=null==Ye?void 0:Ye.anchorNode,dt=null==Ye?void 0:Ye.focusNode;if(!Ye||!rt||!dt||xv(rt)||xv(dt))return!0;var Vt=s.createRng();Vt.setStart(rt,Ye.anchorOffset),Vt.collapse(!0);var Zt=s.createRng();return Zt.setStart(dt,Ye.focusOffset),Zt.collapse(!0),Vt.compareBoundaryPoints(Vt.START_TO_START,Zt)<=0}function L(Ye){var rt=we();rt.collapse(!!Ye),Me(rt)}function B(){return d.getSelection?d.getSelection():d.document.selection}var G,W,re,$,ue,pe,be=function(Ye,rt){return ue||(ue={},pe={},$.on("NodeChange",function(dt){var Vt=dt.element,Zt=Dt(Vt),ln={};gn.each(ue,function(on,Mt){ct(Mt,Zt).each(function(At){pe[Mt]||(Sn(on,function(zt){zt(!0,{node:At,selector:Mt,parents:Zt})}),pe[Mt]=on),ln[Mt]=on})}),gn.each(pe,function(on,Mt){ln[Mt]||(delete pe[Mt],gn.each(on,function(At){At(!1,{node:Vt,selector:Mt,parents:Zt})}))})})),ue[Ye]||(ue[Ye]=[]),ue[Ye].push(rt),ct(Ye,Dt($.selection.getStart())).each(function(){pe[Ye]=ue[Ye]}),{unbind:function(){sC(ue,Ye,rt),sC(pe,Ye,rt)}}},we=function(){function Ye(on,Mt,At){try{return Mt.compareBoundaryPoints(on,At)}catch{return-1}}var rt,dt,Vt,Zt=d.document;if(void 0!==w.bookmark&&!1===wu(w)){var ln=ay(w);if(ln.isSome())return ln.map(function(on){return zm(w,[on])[0]}).getOr(Zt.createRange())}try{(rt=B())&&!xv(rt.anchorNode)&&(dt=0<rt.rangeCount?rt.getRangeAt(0):(rt.createRange?rt:Zt).createRange(),dt=zm(w,[dt])[0])}catch{}return(dt=dt||(Zt.createRange?Zt.createRange():Zt.body.createTextRange())).setStart&&9===dt.startContainer.nodeType&&dt.collapsed&&(Vt=s.getRoot(),dt.setStart(Vt,0),dt.setEnd(Vt,0)),G&&W&&(0===Ye(dt.START_TO_START,dt,G)&&0===Ye(dt.END_TO_END,dt,G)?dt=W:W=G=null),dt},Me=function(Ye,rt){var dt;if((Vt=Ye)&&(UT(Vt)||jT(Vt.startContainer)&&jT(Vt.endContainer))){var Vt,Zt=UT(Ye)?Ye:null;if(Zt){W=null;try{Zt.select()}catch{}}else{var ln=B();if(Ye=w.fire("SetSelectionRange",{range:Ye,forward:rt}).range,ln){W=Ye;try{ln.removeAllRanges(),ln.addRange(Ye)}catch{}!1===rt&&ln.extend&&(ln.collapse(Ye.endContainer,Ye.endOffset),ln.extend(Ye.startContainer,Ye.startOffset)),G=0<ln.rangeCount?ln.getRangeAt(0):null}Ye.collapsed||Ye.startContainer!==Ye.endContainer||!ln.setBaseAndExtent||Wr.ie||Ye.endOffset-Ye.startOffset<2&&Ye.startContainer.hasChildNodes()&&(dt=Ye.startContainer.childNodes[Ye.startOffset])&&"IMG"===dt.tagName&&(ln.setBaseAndExtent(Ye.startContainer,Ye.startOffset,Ye.endContainer,Ye.endOffset),ln.anchorNode===Ye.startContainer&&ln.focusNode===Ye.endContainer||ln.setBaseAndExtent(dt,0,dt,1)),w.fire("AfterSetSelectionRange",{range:Ye,forward:rt})}}},ke={bookmarkManager:null,controlSelection:null,dom:re=s,win:d,serializer:v,editor:$=w,collapse:L,setCursorLocation:function(Ye,rt){var dt=s.createRng();U(Ye)&&U(rt)?(dt.setStart(Ye,rt),dt.setEnd(Ye,rt),Me(dt),L(!1)):(Cl(s,dt,w.getBody(),!0),Me(dt))},getContent:function(Ye){return dt=(rt=void 0===(rt=Ye)?{}:rt).format||"html",Vt=rt,Gs(w).selection.getContent(dt,Vt);var rt,dt,Vt},setContent:M,getBookmark:function(Ye,rt){return Ne.getBookmark(Ye,rt)},moveToBookmark:function(Ye){return Ne.moveToBookmark(Ye)},select:function(Ye,rt){var dt=s,Vt=rt;return J.from(Ye).map(function(Zt){var ln=dt.nodeIndex(Zt),on=dt.createRng();return on.setStart(Zt.parentNode,ln),on.setEnd(Zt.parentNode,ln+1),Vt&&(Cl(dt,on,Zt,!0),Cl(dt,on,Zt,!1)),on}).each(Me),Ye},isCollapsed:function(){var Ye=we(),rt=B();return!(!Ye||Ye.item)&&(Ye.compareEndPoints?0===Ye.compareEndPoints("StartToEnd",Ye):!rt||Ye.collapsed)},isForward:O,setNode:function(Ye){return M(s.getOuterHTML(Ye)),Ye},getNode:function(){return function(Ye,rt){if(!rt)return Ye;var dt=rt.startContainer,Vt=rt.endContainer,Zt=rt.startOffset,ln=rt.endOffset,on=rt.commonAncestorContainer;return!rt.collapsed&&(dt===Vt&&ln-Zt<2&&dt.hasChildNodes()&&(on=dt.childNodes[Zt]),3===dt.nodeType&&3===Vt.nodeType&&(dt=dt.length===Zt?bg(dt.nextSibling,!0):dt.parentNode,Vt=0===ln?bg(Vt.previousSibling,!1):Vt.parentNode,dt&&dt===Vt))?dt:on&&3===on.nodeType?on.parentNode:on}(w.getBody(),we())},getSel:B,setRng:Me,getRng:we,getStart:function(Ye){return iu(w.getBody(),we(),Ye)},getEnd:function(Ye){return yg(w.getBody(),we(),Ye)},getSelectedBlocks:function(Ye,rt){return function(dt,Vt,Zt,ln){var on=[],Mt=dt.getRoot();if(Zt=dt.getParent(Zt||iu(Mt,Vt,Vt.collapsed),dt.isBlock),ln=dt.getParent(ln||yg(Mt,Vt,Vt.collapsed),dt.isBlock),Zt&&Zt!==Mt&&on.push(Zt),Zt&&ln&&Zt!==ln)for(var At,zt=new Qs(Zt,Mt);(At=zt.next())&&At!==ln;)dt.isBlock(At)&&on.push(At);return ln&&Zt!==ln&&ln!==Mt&&on.push(ln),on}(s,we(),Ye,rt)},normalize:function(){var Ye=we();if(1<Mc(B()).length||!c0(w))return Ye;var rt=Qc(s,Ye);return rt.each(function(dt){Me(dt,O())}),rt.getOr(Ye)},selectorChanged:function(Ye,rt){return be(Ye,rt),ke},selectorChangedWithUnbind:be,getScrollContainer:function(){for(var Ye,rt=s.getRoot();rt&&"BODY"!==rt.nodeName;){if(rt.scrollHeight>rt.clientHeight){Ye=rt;break}rt=rt.parentNode}return Ye},scrollIntoView:function(Ye,rt){U(Ye)?(w.inline?Kd:Rm)(w,Ye,rt):ld(w,we(),rt)},placeCaretAt:function(Ye,rt){return Me(dx(Ye,rt,w.getDoc()))},getBoundingClientRect:function(){var Ye=we();return Ye.collapsed?pn.fromRangeStart(Ye).getClientRects()[0]:Ye.getBoundingClientRect()},destroy:function(){d=G=W=null,je.destroy()}},Ne=ko(ke),je=fx(ke,w);function ct(Ye,rt){return hn(rt,function(dt){return re.is(dt,Ye)})}function Dt(Ye){return re.getParents(Ye,null,re.getRoot())}return ke.bookmarkManager=Ne,ke.controlSelection=je,ke}function aM(s){var d,v=decodeURIComponent(s).split(","),w=/data:([^;]+)/.exec(v[0]);return{type:d=w?w[1]:d,data:v[1]}}function Yb(s,d){var v;try{v=atob(d)}catch{return J.none()}for(var w=new Uint8Array(v.length),M=0;M<w.length;M++)w[M]=v.charCodeAt(M);return J.some(new Blob([w],{type:s}))}function Hu(s){return 0===s.indexOf("blob:")?(d=s,new Wi(function(w,M){function O(){M("Cannot convert "+d+" to Blob. Resource might not exist or is inaccessible.")}try{var L=new XMLHttpRequest;L.open("GET",d,!0),L.responseType="blob",L.onload=function(){200===L.status?w(L.response):O()},L.onerror=O,L.send()}catch{O()}})):0===s.indexOf("data:")?(v=s,new Wi(function(w){var M=aM(v);Yb(M.type,M.data).fold(function(){return w(new Blob([]))},w)})):null;var d,v}function Xb(s){return(s||"blobid")+Qb++}function dy(s,d,v,w){(s.padd_empty_with_br||d.insert)&&v[w.name]?w.empty().append(new $e("br",1)).shortEnded=!0:w.empty().append(new $e("#text",3)).value=yc}function Kb(s,d,v,w){return w.isEmpty(d,v,function(M){return(O=s.getElementRule(M.name))&&O.paddEmpty;var O})}function T0(s,d){void 0===d&&(d=Hp());var v={},w=[],M={},O={};function L(G){var W=G.name;W in v&&(($=M[W])?$.push(G):M[W]=[G]);for(var re=w.length;re--;){var $,ue=w[re].name;ue in G.attributes.map&&(($=O[ue])?$.push(G):O[ue]=[G])}return G}(s=s||{}).validate=!("validate"in s)||s.validate,s.root_name=s.root_name||"body";var B={schema:d,addAttributeFilter:function(G,W){Rx(e1(G),function(re){for(var $=0;$<w.length;$++)if(w[$].name===re)return void w[$].callbacks.push(W);w.push({name:re,callbacks:[W]})})},getAttributeFilters:function(){return[].concat(w)},addNodeFilter:function(G,W){Rx(e1(G),function(re){var $=v[re];$||(v[re]=$=[]),$.push(W)})},getNodeFilters:function(){var G,W=[];for(G in v)so(v,G)&&W.push({name:G,callbacks:v[G]});return W},filterNode:L,parse:function(G,W){var re,$,ue,pe,be,we,Me,ke,Ne=[];function je(Xn){for(var Fn=d.getBlockElements(),Yn=Xn.prev;Yn&&3===Yn.type;){var qn=Yn.value.replace(At,"");if(0<qn.length)return Yn.value=qn,0;var xr=Yn.next;if(xr){if(3===xr.type&&xr.value.length){Yn=Yn.prev;continue}if(!Fn[xr.name]&&"script"!==xr.name&&"style"!==xr.name){Yn=Yn.prev;continue}}var Tn=Yn.prev;Yn.remove(),Yn=Tn}}function ct(Xn,Fn){var Yn,qn=new $e(Xn,Fn);return Xn in v&&((Yn=M[Xn])?Yn.push(qn):M[Xn]=[qn]),qn}W=W||{},M={},O={};var Dt=Lx($a("script,style,head,html,body,title,meta,param"),d.getBlockElements()),Ye=Mv(d),rt=d.getNonEmptyElements(),dt=d.children,Vt=s.validate,Zt=("forced_root_block"in W?W:s).forced_root_block,ln=!1===Zt?"":!0===Zt?"p":Zt,on=d.getWhiteSpaceElements(),Mt=/^[ \t\r\n]+/,At=/[ \t\r\n]+$/,zt=/[ \t\r\n]+/g,tn=/^[ \t\r\n]+$/,On=so(on,W.context)||so(on,s.root_name),er=Pn({validate:Vt,document:s.document,allow_html_data_urls:s.allow_html_data_urls,allow_svg_data_urls:s.allow_svg_data_urls,allow_script_urls:s.allow_script_urls,allow_conditional_comments:s.allow_conditional_comments,preserve_cdata:s.preserve_cdata,self_closing_elements:function(Xn){var Fn,Yn={};for(Fn in Xn)"li"!==Fn&&"p"!==Fn&&(Yn[Fn]=Xn[Fn]);return Yn}(d.getSelfClosingElements()),cdata:function(Xn){ke.append(ct("#cdata",4)).value=Xn},text:function(Xn,Fn){var Yn,qn;On||(Xn=Xn.replace(zt," "),(qn=ke.lastChild)&&(so(Dt,qn.name)||"br"===qn.name)&&(Xn=Xn.replace(Mt,""))),0!==Xn.length&&((Yn=ct("#text",3)).raw=!!Fn,ke.append(Yn).value=Xn)},comment:function(Xn){ke.append(ct("#comment",8)).value=Xn},pi:function(Xn,Fn){ke.append(ct(Xn,7)).value=Fn,je(ke)},doctype:function(Xn){ke.append(ct("#doctype",10)).value=Xn,je(ke)},start:function(Xn,Fn,Yn){var qn=Vt?d.getElementRule(Xn):{};if(qn){var xr=ct(qn.outputName||Xn,1);xr.attributes=Fn,xr.shortEnded=Yn,ke.append(xr);var Tn=dt[ke.name];Tn&&dt[xr.name]&&!Tn[xr.name]&&Ne.push(xr);for(var pr=w.length;pr--;){var Hn=w[pr].name;Hn in Fn.map&&((we=O[Hn])?we.push(xr):O[Hn]=[xr])}Dt[Xn]&&je(xr),Yn||(ke=xr),!On&&on[Xn]&&(On=!0)}},end:function(Xn){var Fn,Yn,qn,xr,Tn=Vt?d.getElementRule(Xn):{};if(Tn){if(Dt[Xn]&&!On){if((Fn=ke.firstChild)&&3===Fn.type)if(0<(Yn=Fn.value.replace(Mt,"")).length)Fn.value=Yn,Fn=Fn.next;else for(qn=Fn.next,Fn.remove(),Fn=qn;Fn&&3===Fn.type;)qn=Fn.next,0!==(Yn=Fn.value).length&&!tn.test(Yn)||(Fn.remove(),Fn=qn),Fn=qn;if((Fn=ke.lastChild)&&3===Fn.type)if(0<(Yn=Fn.value.replace(At,"")).length)Fn.value=Yn,Fn=Fn.prev;else for(qn=Fn.prev,Fn.remove(),Fn=qn;Fn&&3===Fn.type;)qn=Fn.prev,0!==(Yn=Fn.value).length&&!tn.test(Yn)||(Fn.remove(),Fn=qn),Fn=qn}On&&on[Xn]&&(On=!1);var pr=Kb(d,rt,on,ke),Hn=ke.parent;Tn.paddInEmptyBlock&&pr&&function(){for(var Tr=ke;U(Tr);){if(Tr.name in Ye)return Kb(d,rt,on,Tr);Tr=Tr.parent}}()?dy(s,W,Dt,ke):Tn.removeEmpty&&pr?Dt[ke.name]?ke.empty().remove():ke.unwrap():Tn.paddEmpty&&(fC(xr=ke,"#text")&&xr.firstChild.value===yc||pr)&&dy(s,W,Dt,ke),ke=Hn}}},d),An=ke=new $e(W.context||s.root_name,11);if(er.parse(G,W.format),Vt&&Ne.length&&(W.context?W.invalid=!0:function(Xn){for(var Fn=$a("tr,td,th,tbody,thead,tfoot,table"),Yn=d.getNonEmptyElements(),qn=d.getWhiteSpaceElements(),xr=d.getTextBlockElements(),Tn=d.getSpecialElements(),pr=function(ao,ea){if(void 0===ea&&(ea=ao.parent),Tn[ao.name])ao.empty().remove();else{for(var _o=0,ro=ao.children();_o<ro.length;_o++){var _i=ro[_o];d.isValidChild(ea.name,_i.name)||pr(_i,ea)}ao.unwrap()}},Hn=0;Hn<Xn.length;Hn++){var Tr,Dr=Xn[Hn],Ao=void 0,gt=void 0;if(Dr.parent&&!Dr.fixed)if(xr[Dr.name]&&"li"===Dr.parent.name){for(var Et=Dr.next;Et&&xr[Et.name];)Et.name="li",Et.fixed=!0,Dr.parent.insert(Et,Dr.parent),Et=Et.next;Dr.unwrap()}else{var mn=[Dr];for(Ao=Dr.parent;Ao&&!d.isValidChild(Ao.name,Dr.name)&&!Fn[Ao.name];Ao=Ao.parent)mn.push(Ao);if(Ao&&1<mn.length)if(d.isValidChild(Ao.name,Dr.name)){mn.reverse();for(var Nn=Tr=L(mn[0].clone()),wn=0;wn<mn.length-1;wn++){d.isValidChild(Nn.name,mn[wn].name)?(gt=L(mn[wn].clone()),Nn.append(gt)):gt=Nn;for(var or=mn[wn].firstChild;or&&or!==mn[wn+1];){var $r=or.next;gt.append(or),or=$r}Nn=gt}Kb(d,Yn,qn,Tr)?Ao.insert(Dr,mn[0],!0):(Ao.insert(Tr,mn[0],!0),Ao.insert(Dr,Tr)),(Kb(d,Yn,qn,Ao=mn[0])||fC(Ao,"br"))&&Ao.empty().remove()}else pr(Dr);else Dr.parent&&("li"!==Dr.name?d.isValidChild(Dr.parent.name,"div")&&d.isValidChild("div",Dr.name)?Dr.wrap(L(new $e("div",1))):pr(Dr):!(Et=Dr.prev)||"ul"!==Et.name&&"ol"!==Et.name?!(Et=Dr.next)||"ul"!==Et.name&&"ol"!==Et.name?Dr.wrap(L(new $e("ul",1))):Et.insert(Dr,Et.firstChild,!0):Et.append(Dr))}}}(Ne)),ln&&("body"===An.name||W.isRootContent)&&function(){function Xn(xr){xr&&((Fn=xr.firstChild)&&3===Fn.type&&(Fn.value=Fn.value.replace(Mt,"")),(Fn=xr.lastChild)&&3===Fn.type&&(Fn.value=Fn.value.replace(At,"")))}var Fn=An.firstChild,Yn=null;if(d.isValidChild(An.name,ln.toLowerCase())){for(;Fn;){var qn=Fn.next;3===Fn.type||1===Fn.type&&"p"!==Fn.name&&!Dt[Fn.name]&&!Fn.attr("data-mce-type")?(Yn||((Yn=ct(ln,1)).attr(s.forced_root_block_attrs),An.insert(Yn,Fn)),Yn.append(Fn)):(Xn(Yn),Yn=null),Fn=qn}Xn(Yn)}}(),!W.invalid){for(Me in M)if(so(M,Me)){for(we=v[Me],pe=(re=M[Me]).length;pe--;)re[pe].parent||re.splice(pe,1);for($=0,ue=we.length;$<ue;$++)we[$](re,Me,W)}for($=0,ue=w.length;$<ue;$++)if((we=w[$]).name in O){for(pe=(re=O[we.name]).length;pe--;)re[pe].parent||re.splice(pe,1);for(pe=0,be=we.callbacks.length;pe<be;pe++)we.callbacks[pe](re,we.name,W)}}return An}};return function lC(s,d){var w,M,O=s.schema;function L(B){var G,W,re=B.attr("src");(G=B).attr("src")===Wr.transparentSrc||U(G.attr("data-mce-placeholder"))||U(B.attr("data-mce-bogus"))||((W=/data:([^;]+);base64,([a-z0-9\+\/=\s]+)/i.exec(re))?J.some({type:W[1],data:decodeURIComponent(W[2])}):J.none()).filter(function(){return function($,ue){if(ue.images_dataimg_filter){var pe=new Image;return pe.src=$.attr("src"),Rn($.attributes.map,function(be,we){pe.setAttribute(we,be)}),ue.images_dataimg_filter(pe)}return!0}(B,w)}).bind(function($){var ue=$.type,pe=$.data;return J.from(M.getByData(pe,ue)).orThunk(function(){return Yb(ue,pe).map(function(be){var we=M.create(Xb(),be,pe);return M.add(we),we})})}).each(function($){B.attr("src",$.blobUri())})}d.remove_trailing_brs&&s.addNodeFilter("br",function(B,G,W){var re,$,ue,pe,be,we,Me,ke,Ne=B.length,je=gn.extend({},O.getBlockElements()),ct=O.getNonEmptyElements(),Dt=O.getWhiteSpaceElements();for(je.body=1,re=0;re<Ne;re++)if(ue=($=B[re]).parent,je[$.parent.name]&&$===ue.lastChild){for(be=$.prev;be;){if("span"!==(we=be.name)||"bookmark"!==be.attr("data-mce-type")){"br"===we&&($=null);break}be=be.prev}$&&($.remove(),Kb(O,ct,Dt,ue)&&(Me=O.getElementRule(ue.name))&&(Me.removeEmpty?ue.remove():Me.paddEmpty&&dy(d,W,je,ue)))}else{for(pe=$;ue&&ue.firstChild===pe&&ue.lastChild===pe&&!je[(pe=ue).name];)ue=ue.parent;pe===ue&&!0!==d.padd_empty_with_br&&((ke=new $e("#text",3)).value=yc,$.replace(ke))}}),s.addAttributeFilter("href",function(B){var G,W,re=B.length;if(!d.allow_unsafe_link_target)for(;re--;){var $=B[re];"a"===$.name&&"_blank"===$.attr("target")&&$.attr("rel",(W=void 0,W=(G=$.attr("rel"))?gn.trim(G):"",/\b(noopener)\b/g.test(W)?W:W.split(" ").filter(function(ue){return 0<ue.length}).concat(["noopener"]).sort().join(" ")))}}),d.allow_html_in_named_anchor||s.addAttributeFilter("id,name",function(B){for(var G,W,re,$,ue=B.length;ue--;)if("a"===($=B[ue]).name&&$.firstChild&&!$.attr("href"))for(re=$.parent,G=$.lastChild;W=G.prev,re.insert(G,$),G=W;);}),d.fix_list_elements&&s.addNodeFilter("ul,ol",function(B){for(var G,W,re,$=B.length;$--;)"ul"!==(re=(W=B[$]).parent).name&&"ol"!==re.name||(W.prev&&"li"===W.prev.name?W.prev.append(W):((G=new $e("li",1)).attr("style","list-style-type: none"),W.wrap(G)))}),d.validate&&O.getValidClasses()&&s.addAttributeFilter("class",function(B){for(var G=O.getValidClasses(),W=B.length;W--;){for(var re=B[W],$=re.attr("class").split(" "),ue="",pe=0;pe<$.length;pe++){var be=$[pe],we=!1,Me=G["*"];Me&&Me[be]&&(we=!0),Me=G[re.name],(we=!(we||!Me||!Me[be])||we)&&(ue&&(ue+=" "),ue+=be)}ue.length||(ue=null),re.attr("class",ue)}}),(M=(w=d).blob_cache)&&s.addAttributeFilter("src",function(B){return Sn(B,L)})}(B,s),s.inline_styles&&function mw(s,d){var v,w,M,O,L=Ku();d.convert_fonts_to_spans&&(w=s,M=L,O=gn.explode(d.font_size_legacy_values),w.addNodeFilter("font",function(B){Sn(B,function(G){var W,re=M.parse(G.attr("style")),$=G.attr("color"),ue=G.attr("face"),pe=G.attr("size");$&&(re.color=$),ue&&(re["font-family"]=ue),pe&&(re["font-size"]=O[parseInt(G.attr("size"),10)-1]),G.name="span",G.attr("style",M.serialize(re)),W=G,Sn(["color","face","size"],function(be){W.attr(be,null)})})})),v=L,s.addNodeFilter("strike",function(B){Sn(B,function(G){var W=v.parse(G.attr("style"));W["text-decoration"]="line-through",G.name="span",G.attr("style",v.serialize(W))})})}(B,s),B}function Ex(s,d,v){-1===gn.inArray(d,v)&&(s.addAttributeFilter(v,function(w,M){for(var O=w.length;O--;)w[O].attr(M,null)}),d.push(v))}function hy(s,d){var v=function YT(s,d){var v=["data-mce-selected"],w=d&&d.dom?d.dom:Ui.DOM,M=d&&d.schema?d.schema:Hp(s);s.entity_encoding=s.entity_encoding||"named",s.remove_trailing_brs=!("remove_trailing_brs"in s)||s.remove_trailing_brs;var O,L=T0(s,M),B=s,G=w;return(O=L).addAttributeFilter("data-mce-tabindex",function(W,re){for(var $=W.length;$--;){var ue=W[$];ue.attr("tabindex",ue.attr("data-mce-tabindex")),ue.attr(re,null)}}),O.addAttributeFilter("src,href,style",function(W,re){for(var $="data-mce-"+re,ue=B.url_converter,pe=B.url_converter_scope,be=W.length;be--;){var we=W[be],Me=we.attr($);void 0!==Me?(we.attr(re,0<Me.length?Me:null),we.attr($,null)):(Me=we.attr(re),"style"===re?Me=G.serializeStyle(G.parseStyle(Me),we.name):ue&&(Me=ue.call(pe,Me,re,we.name)),we.attr(re,0<Me.length?Me:null))}}),O.addAttributeFilter("class",function(W){for(var re=W.length;re--;){var $,ue=W[re];ue.attr("class")&&($=ue.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),ue.attr("class",0<$.length?$:null))}}),O.addAttributeFilter("data-mce-type",function(W,re,$){for(var ue=W.length;ue--;){var pe=W[ue];"bookmark"!==pe.attr("data-mce-type")||$.cleanup||(J.from(pe.firstChild).exists(function(be){return!qh(be.value)})?pe.unwrap():pe.remove())}}),O.addNodeFilter("noscript",function(W){for(var re=W.length;re--;){var $=W[re].firstChild;$&&($.value=Kl.decode($.value))}}),O.addNodeFilter("script,style",function(W,re){for(var $=function(Me){return Me.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")},ue=W.length;ue--;){var pe,be=W[ue],we=be.firstChild?be.firstChild.value:"";"script"===re?((pe=be.attr("type"))&&be.attr("type","mce-no/type"===pe?null:pe.replace(/^mce\-/,"")),"xhtml"===B.element_format&&0<we.length&&(be.firstChild.value="// <![CDATA[\n"+$(we)+"\n// ]]>")):"xhtml"===B.element_format&&0<we.length&&(be.firstChild.value="\x3c!--\n"+$(we)+"\n--\x3e")}}),O.addNodeFilter("#comment",function(W){for(var re=W.length;re--;){var $=W[re];B.preserve_cdata&&0===$.value.indexOf("[CDATA[")?($.name="#cdata",$.type=4,$.value=G.decode($.value.replace(/^\[CDATA\[|\]\]$/g,""))):0===$.value.indexOf("mce:protected ")&&($.name="#text",$.type=3,$.raw=!0,$.value=unescape($.value).substr(14))}}),O.addNodeFilter("xml:namespace,input",function(W,re){for(var $=W.length;$--;){var ue=W[$];7===ue.type?ue.remove():1===ue.type&&("input"!==re||ue.attr("type")||ue.attr("type","text"))}}),O.addAttributeFilter("data-mce-type",function(W){Sn(W,function(re){"format-caret"===re.attr("data-mce-type")&&(re.isEmpty(O.schema.getNonEmptyElements())?re.remove():re.unwrap())})}),O.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(W,re){for(var $=W.length;$--;)W[$].attr(re,null)}),{schema:M,addNodeFilter:L.addNodeFilter,addAttributeFilter:L.addAttributeFilter,serialize:function(W,re){var $,ue,pe,be,we,Me,ke,Ne,je,ct,Dt,Ye,rt,dt,Vt,Zt,ln,on,Mt,At,zt,tn,On,er,An,Xn,Fn,Yn,qn,xr=Sr({format:"html"},re=void 0===re?{}:re),Tn=(Ye=W,On=rt=xr,$=(Dt=d)&&Dt.hasEventListeners("PreProcess")&&!On.no_events?(Vt=rt,At=(dt=Dt).dom,zt=Ye.cloneNode(!0),(tn=document.implementation).createHTMLDocument&&(ln=tn.createHTMLDocument(""),gn.each("BODY"===zt.nodeName?zt.childNodes:[zt],function(Tr){ln.body.appendChild(ln.importNode(Tr,!0))}),zt="BODY"!==zt.nodeName?ln.body.firstChild:ln.body,Zt=At.doc,At.doc=ln),on=dt,Mt=Sr(Sr({},Vt),{node:zt}),on.fire("PreProcess",Mt),Zt&&(At.doc=Zt),zt):Ye,pe=xn((ue=xr).getInner?$.innerHTML:w.getOuterHTML($)),ue.selection||Dd(Ut.fromDom($))?pe:gn.trim(pe)),pr=(be=L,we=Tn,ke=(Me=xr).selection?Sr({forced_root_block:!1},Me):Me,!Hn(ct=(Ne=be.parse(we,ke)).lastChild)||Hn(je=ct.prev)&&(ct.remove(),je.remove()),Ne);function Hn(Tr){return Tr&&"br"===Tr.name}return"tree"===xr.format?pr:(er=d,An=xr,Xn=pr,qn=Yr(s,M).serialize(Xn),An.no_events||!er?qn:(Fn=er,Yn=Sr(Sr({},An),{content:qn}),Fn.fire("PostProcess",Yn).content))},addRules:M.addValidElements,setRules:M.setValidElements,addTempAttr:ve(Ex,L,v),getTempAttrs:te(v),getNodeFilters:L.getNodeFilters,getAttributeFilters:L.getAttributeFilters}}(s,d);return{schema:v.schema,addNodeFilter:v.addNodeFilter,addAttributeFilter:v.addAttributeFilter,serialize:v.serialize,addRules:v.addRules,setRules:v.setRules,addTempAttr:v.addTempAttr,getTempAttrs:v.getTempAttrs,getNodeFilters:v.getNodeFilters,getAttributeFilters:v.getAttributeFilters}}function D0(s,d,v){return w=v=void 0===v?{}:v,nf(s).editor.setContent(d,w);var w}function $b(s){return J.from(s).each(function(d){return d.destroy()})}function Jb(s){var d=Qe(s)?s.join(" "):s;return Zn(It(Le(d)?d.split(" "):[],Xs),function(v){return 0<v.length})}function jm(s,d){return so(s.sections(),d)}function sM(s,d){return wr(s,"toolbar_mode").orThunk(function(){return wr(s,"toolbar_drawer").map(function(v){return!1===v?"wrap":v})}).getOr(d)}function py(s,d,v){return J.from(d.settings[v]).filter(s)}function cC(s,d){return d.dom[s]}function Pf(s,d){return parseInt(Hf(d,s),10)}function gy(s,d,v){var w,M,O,L,B,G,W=Ut.fromDom(s.getBody()),re=s.inline?W:Ut.fromDom(sh(W).dom.documentElement),$=(w=s.inline,O=d,L=v,B=(M=re).dom.getBoundingClientRect(),{x:O-(w?B.left+M.dom.clientLeft+t1(M):0),y:L-(w?B.top+M.dom.clientTop+I0(M):0)}),ue=$.x,pe=$.y,be=uM(G=re),we=lM(G);return 0<=ue&&0<=pe&&ue<=be&&pe<=we}function yw(s){function d(){var W=s.theme;return W&&W.getNotificationManagerImpl?W.getNotificationManagerImpl():{open:re,close:re,reposition:re,getArgs:re};function re(){throw new Error("Theme did not provide a NotificationManager implementation.")}}function v(){return J.from(B[0])}function w(){0<B.length&&d().reposition(B)}function M(W){Un(B,function(re){return re===W}).each(function(re){B.splice(re,1)})}function O(W,re){if(void 0===re&&(re=!0),!s.removed&&(ue=($=s).inline?$.getBody():$.getContentAreaContainer(),J.from(ue).map(Ut.fromDom).map(Po).getOr(!1)))return re&&s.fire("BeforeOpenNotification",{notification:W}),hn(B,function(pe){return!((be=d().getArgs(pe)).type!==W.type||be.text!==W.text||be.progressBar||be.timeout||W.progressBar||W.timeout);var be}).getOrThunk(function(){s.editorManager.setActive(s);var pe=d().open(W,function(){M(pe),w(),v().fold(function(){return s.focus()},function(be){return Ut.fromDom(be.getEl()).dom.focus()})});return B.push(pe),w(),s.fire("OpenNotification",{notification:Sr({},pe)}),pe});var $,ue}var L,B=[],G=te(B);return(L=s).on("SkinLoaded",function(){var W=L.getParam("service_message");W&&O({text:W,type:"warning",timeout:0},!1),w()}),L.on("show ResizeEditor ResizeWindow NodeChange",function(){Bt.requestAnimationFrame(w)}),L.on("remove",function(){Sn(B.slice(),function(W){d().close(W)})}),{open:O,close:function(){v().each(function(W){d().close(W),M(W),w()})},getNotifications:G}}var my,vy,Qb=0,fC=function(s,d){return s&&s.firstChild&&s.firstChild===s.lastChild&&s.firstChild.name===d},$a=gn.makeMap,Rx=gn.each,e1=gn.explode,Lx=gn.extend,sc=Ui.DOM,A0=(my=function(s,d){return et(s)&&et(d)?A0(s,d):d},function(){for(var s=[],d=0;d<arguments.length;d++)s[d]=arguments[d];if(0===s.length)throw new Error("Can't merge zero objects");for(var v={},w=0;w<s.length;w++){var M,O=s[w];for(M in O)so(O,M)&&(v[M]=my(v[M],O[M]))}return v}),dC="autoresize_on_init,content_editable_state,convert_fonts_to_spans,inline_styles,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),hC="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),bw="imagetools,toc".split(","),pC=Sa().deviceType,Rf=pC.isTouch(),Lf=pC.isPhone(),gC=pC.isTablet(),Nx=["lists","autolink","autosave"],xw={table_grid:!1,object_resizing:!1,resize:!1},Bx=(vy={},{add:function(s,d){vy[s]=d},get:function(s){return vy[s]||{icons:{}}},has:function(s){return so(vy,s)}}),uM=ve(cC,"clientWidth"),lM=ve(cC,"clientHeight"),I0=ve(Pf,"margin-top"),t1=ve(Pf,"margin-left"),kl=Fa.PluginManager,rf=Fa.ThemeManager;function _w(s){function d(){var L=s.theme;return L&&L.getWindowManagerImpl?L.getWindowManagerImpl():{open:B,openUrl:B,alert:B,confirm:B,close:B,getParams:B,setParams:B};function B(){throw new Error("Theme did not provide a WindowManager implementation.")}}function v(L,B){return function(){for(var G=[],W=0;W<arguments.length;W++)G[W]=arguments[W];return B?B.apply(L,G):void 0}}function w(L){s.fire("CloseWindow",{dialog:L}),0===(O=Zn(O,function(B){return B!==L})).length&&s.focus()}function M(L){s.editorManager.setActive(s),$d(s);var B,G=L();return O.push(B=G),s.fire("OpenWindow",{dialog:B}),G}var O=[];return s.on("remove",function(){Sn(O,function(L){d().close(L)})}),{open:function(L,B){return M(function(){return d().open(L,B,w)})},openUrl:function(L){return M(function(){return d().openUrl(L,w)})},alert:function(L,B,G){var W=d();W.alert(L,v(G||W,B))},confirm:function(L,B,G){var W=d();W.confirm(L,v(G||W,B))},close:function(){J.from(O[O.length-1]).each(function(L){d().close(L),w(L)})}}}function O0(s,d){s.notificationManager.open({type:"error",text:d})}function n1(s,d){s._skinLoaded?O0(s,d):s.on("SkinLoaded",function(){O0(s,d)})}function E0(s,d,v){vp(s,d,{message:v}),console.error(v)}function P0(s,d,v){return v?"Failed to load "+s+": "+v+" from url "+d:"Failed to load "+s+" url: "+d}function zx(s,d,v){E0(s,"PluginLoadError",P0("plugin",d,v))}function Vx(){function s(w,M){return{status:w,resultUri:M}}function d(w){return w in v}var v={};return{hasBlobUri:d,getResultUri:function(w){var M=v[w];return M?M.resultUri:null},isPending:function(w){return!!d(w)&&1===v[w].status},isUploaded:function(w){return!!d(w)&&2===v[w].status},markPending:function(w){v[w]=s(1,null)},markUploaded:function(w,M){v[w]=s(2,M)},removeFailed:function(w){delete v[w]},destroy:function(){v={}}}}function mC(s){return s+ai+++"s"+(new Date).getTime().toString(36)+d()+d()+d();function d(){return Math.round(4294967295*Math.random()).toString(36)}}function yC(s){return function(){return s.notificationManager.open({text:s.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}}function dd(s,d){return function cM(s,d){function v(B,G,W,re){var $=new XMLHttpRequest;$.open("POST",d.url),$.withCredentials=d.credentials,$.upload.onprogress=function(pe){re(pe.loaded/pe.total*100)},$.onerror=function(){W("Image upload failed due to a XHR Transport error. Code: "+$.status)},$.onload=function(){var pe,be,we;$.status<200||300<=$.status?W("HTTP Error: "+$.status):(pe=JSON.parse($.responseText))&&"string"==typeof pe.location?G((we=pe.location,(be=d.basePath)?be.replace(/\/$/,"")+"/"+we.replace(/^\//,""):we)):W("Invalid JSON: "+$.responseText)};var ue=new FormData;ue.append("file",B.blob(),B.filename()),$.send(ue)}function w(B,G){return{url:G,blobInfo:B,status:!0}}function M(B,G,W){return{url:"",blobInfo:B,status:!1,error:{message:G,options:W}}}function O(B,G){gn.each(L[B],function(W){W(G)}),delete L[B]}var L={};return!1===pt(d.handler)&&(d.handler=v),{upload:function(B,G){return d.url||d.handler!==v?(re=G,W=gn.grep(B,function($){return!s.isUploaded($.blobUri())}),Wi.all(gn.map(W,function($){return s.isPending($.blobUri())?(we=$.blobUri(),new Wi(function(Me){L[we]=L[we]||[],L[we].push(Me)})):(pe=d.handler,be=re,s.markPending((ue=$).blobUri()),new Wi(function(Me){var ke;try{var Ne=function(){ke&&ke.close()};pe(ue,function(je){Ne(),s.markUploaded(ue.blobUri(),je),O(ue.blobUri(),w(ue,je)),Me(w(ue,je))},function(je,ct){var Dt=ct||{};Ne(),s.removeFailed(ue.blobUri()),O(ue.blobUri(),M(ue,je,Dt)),Me(M(ue,je,Dt))},function(je){je<0||100<je||J.from(ke).orThunk(function(){return J.from(be).map(Ve)}).each(function(ct){(ke=ct).progressBar.value(je)})})}catch(je){Me(M(ue,je.message,{}))}}));var ue,pe,be,we}))):new Wi(function($){$([])});var W,re}}}(d,{url:s.getParam("images_upload_url","","string"),basePath:s.getParam("images_upload_base_path","","string"),credentials:s.getParam("images_upload_credentials",!1,"boolean"),handler:s.getParam("images_upload_handler",null,"function")})}function R0(s,d){function v(G){var W,re=ei.create((M="string"==typeof G?{name:G,classes:[],attrs:{}}:G).name),$=re;return(W=M).classes.length&&ei.addClass($,W.classes.join(" ")),ei.setAttribs($,W.attrs),re}var w,M,O,L=d&&d.schema||Hp({}),B=function(G,W,re){var $,ue,pe,be,we,Me,ke,Ne=0<W.length&&W[0],je=Ne&&Ne.name,ct=(be=je,we="string"!=typeof(pe=G)?pe.nodeName.toLowerCase():pe,!(!(ke=(Me=L.getElementRule(we))&&Me.parentsRequired)||!ke.length)&&(be&&-1!==gn.inArray(ke,be)?be:ke[0]));if(ct)je===ct?(ue=W[0],W=W.slice(1)):ue=ct;else if(Ne)ue=W[0],W=W.slice(1);else if(!re)return G;return ue&&($=v(ue)).appendChild(G),re&&($||($=ei.create("div")).appendChild(G),gn.each(re,function(Dt){var Ye=v(Dt);$.insertBefore(Ye,G)})),B($,W,ue&&ue.siblings)};return s&&s.length?(w=v(M=s[0]),(O=ei.create("div")).appendChild(B(w,s.slice(1),M.siblings)),O):""}function bC(s){var d,v={classes:[],attrs:{}};return"*"!==(s=v.selector=gn.trim(s))&&(d=s.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(w,M,O,L,B){switch(M){case"#":v.attrs.id=O;break;case".":v.classes.push(O);break;case":":-1!==gn.inArray("checked disabled enabled read-only required".split(" "),O)&&(v.attrs[O]=O)}var G;return"["!==L||(G=B.match(/([\w\-]+)(?:\=\"([^\"]+))?/))&&(v.attrs[G[1]]=G[2]),""})),v.name=d||"div",v}function xC(s,d){var v,w,M="",O=(w=s.getParam("preview_styles","font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),Le(w)?w:"");if(""===O)return"";function L(pe){return pe.replace(/%(\w+)/g,"")}if("string"==typeof d){if(!(d=s.formatter.get(d)))return;d=d[0]}if("preview"in d){var B=wr(d,"preview");if(gc(B,!1))return"";O=B.getOr(O)}var G,W=d.block||d.inline||"span",re=(G=d.selector)&&"string"==typeof G?(G=(G=G.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),gn.map(G.split(/(?:>|\s+(?![^\[\]]+\]))/),function(pe){var be=gn.map(pe.split(/(?:~\+|~|\+)/),bC),we=be.pop();return be.length&&(we.siblings=be),we}).reverse()):[],$=re.length?(re[0].name||(re[0].name=W),W=d.selector,R0(re,s)):R0([W],s),ue=ei.select(W,$)[0]||$.firstChild;return Pw(d.styles,function(pe,be){var we=L(pe);we&&ei.setStyle(ue,be,we)}),Pw(d.attributes,function(pe,be){var we=L(pe);we&&ei.setAttrib(ue,be,we)}),Pw(d.classes,function(pe){var be=L(pe);ei.hasClass(ue,be)||ei.addClass(ue,be)}),s.fire("PreviewFormats"),ei.setStyles($,{position:"absolute",left:-65535}),s.getBody().appendChild($),v=ei.getStyle(s.getBody(),"fontSize",!0),v=/px$/.test(v)?parseInt(v,10):0,Pw(O.split(" "),function(pe){var be=ei.getStyle(ue,pe,!0);if(!("background-color"===pe&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(be)&&(be=ei.getStyle(s.getBody(),pe,!0),"#ffffff"===ei.toHex(be).toLowerCase())||"color"===pe&&"#000000"===ei.toHex(be).toLowerCase())){if("font-size"===pe&&/em|%$/.test(be)){if(0===v)return;be=parseFloat(be)/(/%$/.test(be)?100:1)*v+"px"}"border"===pe&&be&&(M+="padding:0 2px;"),M+=pe+":"+be+";"}}),s.fire("AfterPreviewFormats"),ei.remove($),M}function yy(s){var d,v,w,M,O,L,B=(M={},(O=function(W,re){W&&(Le(W)?(Sn(re=Qe(re)?re:[re],function($){Ke($.deep)&&($.deep=!jo($)),Ke($.split)&&($.split=!jo($)||io($)),Ke($.remove)&&jo($)&&!io($)&&($.remove="none"),jo($)&&io($)&&($.mixed=!0,$.block_expand=!0),Le($.classes)&&($.classes=$.classes.split(/\s+/))}),M[W]=re):Rn(W,function($,ue){O(ue,$)}))})((v=(d=s).dom,w={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(W,re,$){return uo(W)&&W.hasAttribute("href")},onformat:function(W,re,$){gn.each($,function(ue,pe){v.setAttrib(W,pe,ue)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":function(W){var re;return null!==(re=null==W?void 0:W.customValue)&&void 0!==re?re:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]},gn.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),function(W){w[W]={block:W,remove:"all"}}),w)),O(d.getParam("formats")),{get:function(W){return U(W)?M[W]:M},has:function(W){return so(M,W)},register:O,unregister:function(W){return W&&M[W]&&delete M[W],M}}),G=Ya(null);return function(W){W.addShortcut("meta+b","","Bold"),W.addShortcut("meta+i","","Italic"),W.addShortcut("meta+u","","Underline");for(var re=1;re<=6;re++)W.addShortcut("access+"+re,"",["FormatBlock",!1,"h"+re]);W.addShortcut("access+7","",["FormatBlock",!1,"p"]),W.addShortcut("access+8","",["FormatBlock",!1,"div"]),W.addShortcut("access+9","",["FormatBlock",!1,"address"])}(s),(L=s).on("mouseup keydown",function(W){var re=L,$=W.keyCode,ue=re.selection,pe=re.getBody();ci(re,null,!1),8!==$&&46!==$||!ue.isCollapsed()||ue.getStart().innerHTML!==zb||ci(re,xm(pe,ue.getStart())),37!==$&&39!==$||ci(re,xm(pe,ue.getStart()))}),{get:B.get,has:B.has,register:B.register,unregister:B.unregister,apply:function(W,re,$){var ue=W,pe=re,be=$;Gs(s).formatter.apply(ue,pe,be)},remove:function(W,re,$,ue){var pe=W,be=re,we=$,Me=ue;Gs(s).formatter.remove(pe,be,we,Me)},toggle:function(W,re,$){var ue=W,pe=re,be=$;Gs(s).formatter.toggle(ue,pe,be)},match:function(W,re,$,ue){return pe=W,be=re,we=$,Me=ue,Gs(s).formatter.match(pe,be,we,Me);var pe,be,we,Me},closest:function(W){return re=W,Gs(s).formatter.closest(re);var re},matchAll:function(W,re){return $=W,ue=re,Gs(s).formatter.matchAll($,ue);var $,ue},matchNode:function(W,re,$,ue){return pe=W,be=re,we=$,Me=ue,Gs(s).formatter.matchNode(pe,be,we,Me);var pe,be,we,Me},canApply:function(W){return re=W,Gs(s).formatter.canApply(re);var re},formatChanged:function(W,re,$,ue){return pe=G,be=W,we=re,Me=$,ke=ue,Gs(s).formatter.formatChanged(pe,be,we,Me,ke);var pe,be,we,Me,ke},getCssText:ve(xC,s)}}function _C(s){switch(s.toLowerCase()){case"undo":case"redo":case"mcerepaint":case"mcefocus":return 1;default:return}}function KT(s){var d,v,w,M,O,L=Jf(),B=Ya(0),G=Ya(0),W={data:[],typing:!1,beforeChange:function(){var $=B,ue=L;Gs(s).undoManager.beforeChange($,ue)},add:function($,ue){return pe=W,be=G,we=B,Me=L,ke=$,Ne=ue,Gs(s).undoManager.add(pe,be,we,Me,ke,Ne);var pe,be,we,Me,ke,Ne},undo:function(){return $=W,ue=B,pe=G,Gs(s).undoManager.undo($,ue,pe);var $,ue,pe},redo:function(){return $=G,ue=W.data,Gs(s).undoManager.redo($,ue);var $,ue},clear:function(){var $=W,ue=G;Gs(s).undoManager.clear($,ue)},reset:function(){var $=W;Gs(s).undoManager.reset($)},hasUndo:function(){return $=W,ue=G,Gs(s).undoManager.hasUndo($,ue);var $,ue},hasRedo:function(){return $=W,ue=G,Gs(s).undoManager.hasRedo($,ue);var $,ue},transact:function($){return ue=W,pe=B,be=$,Gs(s).undoManager.transact(ue,pe,be);var ue,pe,be},ignore:function($){var ue=B,pe=$;Gs(s).undoManager.ignore(ue,pe)},extra:function($,ue){var pe=W,be=G,we=$,Me=ue;Gs(s).undoManager.extra(pe,be,we,Me)}};return kp(s)||(w=W,M=B,O=Ya(!1),(v=s).on("init",function(){w.add()}),v.on("BeforeExecCommand",function($){_C($.command)||(rM(w,M),w.beforeChange())}),v.on("ExecCommand",function($){_C($.command)||re($)}),v.on("ObjectResizeStart cut",function(){w.beforeChange()}),v.on("SaveContent ObjectResized blur",re),v.on("dragend",re),v.on("keyup",function($){var ue=$.keyCode;$.isDefaultPrevented()||((33<=ue&&ue<=36||37<=ue&&ue<=40||45===ue||$.ctrlKey)&&(re(),v.nodeChanged()),46!==ue&&8!==ue||v.nodeChanged(),O.get()&&w.typing&&!1===Ix(cw(v),w.data[0])&&(!1===v.isDirty()&&(v.setDirty(!0),v.fire("change",{level:w.data[0],lastLevel:null})),v.fire("TypingUndo"),O.set(!1),v.nodeChanged()))}),v.on("keydown",function($){var pe=$.keyCode;$.isDefaultPrevented()||(33<=pe&&pe<=36||37<=pe&&pe<=40||45===pe?w.typing&&re($):!(pe<16||20<pe)||224===pe||91===pe||w.typing||$.ctrlKey&&!$.altKey||$.metaKey||(w.beforeChange(),qb(w,!0,M),w.add({},$),O.set(!0)))}),v.on("mousedown",function($){w.typing&&re($)}),v.on("input",function($){$.inputType&&("insertReplacementText"===$.inputType||"insertText"===$.inputType&&null===$.data||"insertFromPaste"===$.inputType||"insertFromDrop"===$.inputType)&&re($)}),v.on("AddUndo Undo Redo ClearUndos",function($){$.isDefaultPrevented()||v.nodeChanged()})),(d=s).addShortcut("meta+z","","Undo"),d.addShortcut("meta+y,meta+shift+z","","Redo"),W;function re($){qb(w,!1,M),w.add({},$)}}function Hx(s){return"keydown"===s.type||"keyup"===s.type}function r1(s){var d=s.keyCode;return d===qr.BACKSPACE||d===qr.DELETE}function qm(s,d){return rr(Ut.fromDom(d),s.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string"))}function Mg(s,d,v){var w,M,O=(w=s,M=d,Zn(Ui.DOM.getParents(v.container(),"*",M),w));return J.from(O[O.length-1])}function of(s,d){if(!d)return d;var v=d.container(),w=d.offset();return s?Jg(v)?Er(v.nextSibling)?pn(v.nextSibling,0):pn.after(v):Cv(d)?pn(v,w+1):d:Jg(v)?Er(v.previousSibling)?pn(v.previousSibling,v.previousSibling.data.length):pn.before(v):kd(d)?pn(v,w-1):d}function ww(s){return Gy(s)||Bi(s)}function Wx(s,d){return Wt(s,d)?Uh(d,ww,(v=s,function(w){return En(v,Ut.fromDom(w.dom.parentNode))})):J.none();var v}function L0(s){var d,v,w;s.dom.isEmpty(s.getBody())&&(s.setContent(""),w=(v=(d=s).getBody()).firstChild&&d.dom.isBlock(v.firstChild)?v.firstChild:v,d.selection.setCursorLocation(w,0))}function Sw(s,d){return{from:s,to:d}}function Gx(s,d){return Wx(Ut.fromDom(s),Ut.fromDom(d.container())).map(function(v){return{block:v,position:d}})}function fM(s){var d,v=Un(d=ju(s),$u).fold(te(d),function(w){return d.slice(0,w)});return Sn(v,Js),v}function Cw(s,d){return hn(ss(d,s).reverse(),function(v){return No(v)}).each(Js)}function wC(s,d,v,w){if(No(v))return xi(v),yi(v.dom);0===Zn(qg(w),function(O){return!No(O)}).length&&No(d)&&cu(w,Ut.fromTag("br"));var M=Aa(v.dom,pn.before(w.dom));return Sn(fM(d),function(O){cu(w,O)}),Cw(s,d),M}function $T(s,d,v){if(No(v))return Js(v),No(d)&&xi(d),yi(d.dom);var w=sd(v.dom);return Sn(fM(d),function(M){Cs(v,M)}),Cw(s,d),w}function kw(s,d){qv(s,d.dom).map(function(v){return v.getNode()}).map(Ut.fromDom).filter(Li).each(Js)}function Mw(s,d,v){return kw(!0,d),kw(!1,v),(Wt(M=v,w=d)?(O=ss(w,M),J.from(O[O.length-1])):J.none()).fold(ve($T,s,d,v),ve(wC,s,d,v));var w,M,O}function Ux(s,d,v,w){return d?Mw(s,w,v):Mw(s,v,w)}function o1(s,d){var v,w,M,O,L,B,G,W=Ut.fromDom(s.getBody()),re=(v=W.dom,w=d,((M=s.selection.getRng()).collapsed?(L=w,B=Gx(O=v,pn.fromRangeStart(M)),G=B.bind(function($){return Tc(L,O,$.position).bind(function(ue){return Gx(O,ue).map(function(pe){return be=O,we=L,La((Me=pe).position.getNode())&&!1===No(Me.block)?qv(!1,Me.block.dom).bind(function(ke){return ke.isEqual(Me.position)?Tc(we,be,ke).bind(function(Ne){return Gx(be,Ne)}):J.some(Me)}).getOr(Me):Me;var be,we,Me})})}),ya(B,G,Sw).filter(function($){return!1===En($.from.block,$.to.block)&&$s((pe=$).from.block).bind(function(be){return $s(pe.to.block).filter(function(we){return En(be,we)})}).isSome()&&!1===to((ue=$).from.block.dom)&&!1===to(ue.to.block.dom);var ue,pe})):J.none()).bind(function($){return Ux(W,d,$.from.block,$.to.block)}));return re.each(function($){s.selection.setRng($.toRange())}),re.isSome()}function SC(s,d){var v=Ut.fromDom(d),w=ve(En,s);return jr(v,Gr,w).isSome()}function N0(s,d){return!s.selection.isCollapsed()&&function dM(s){var d,v,w,M,O,L,B,G,W,re,$=Ut.fromDom(s.getBody()),ue=s.selection.getRng();return W=Aa((O=$).dom,pn.fromRangeStart(L=ue)).isNone(),re=Da(O.dom,pn.fromRangeEnd(L)).isNone(),!SC(B=O,(G=L).startContainer)&&!SC(B,G.endContainer)&&W&&re?((M=s).setContent(""),M.selection.setCursorLocation(),!0):(d=$,w=(v=s.selection).getRng(),ya(Wx(d,Ut.fromDom(w.startContainer)),Wx(d,Ut.fromDom(w.endContainer)),function(pe,be){return!1===En(pe,be)&&(w.deleteContents(),Ux(d,!0,pe,be).each(function(we){v.setRng(we.toRange())}),!0)}).getOr(!1))}(s)}function Vl(s,d,v,w,M){return J.from(d._selectionOverrides.showCaret(s,v,w,M))}function by(s,d){var v,w;return s.fire("BeforeObjectSelected",{target:d}).isDefaultPrevented()?J.none():J.some(((w=(v=d).ownerDocument.createRange()).selectNode(v),w))}function jx(s,d,v){var w=pm(1,s.getBody(),d),M=pn.fromRangeStart(w),O=M.getNode();if(cp(O))return Vl(1,s,O,!M.isAtEnd(),!1);var L=M.getNode(!0);if(cp(L))return Vl(1,s,L,!1,!1);var B=s.dom.getParent(M.getNode(),function(G){return Dp(G)||u1(G)});return cp(B)?Vl(1,s,B,!1,v):J.none()}function Tg(s,d,v){return d.collapsed?jx(s,d,v).getOr(d):d}function Tw(s){return Wm(s)||y0(s)}function qx(s){return uy(s)||Dh(s)}function Us(s,d,v,w,M,O){var L,B;return Vl(w,s,O.getNode(!M),M,!0).each(function(G){var W;d.collapsed?(W=d.cloneRange(),M?W.setEnd(G.startContainer,G.startOffset):W.setStart(G.endContainer,G.endOffset),W.deleteContents()):d.deleteContents(),s.selection.setRng(G)}),L=s.dom,Er(B=v)&&0===B.data.length&&L.remove(B),!0}function Dw(s,d){var v=s.selection.getRng();if(!Er(v.commonAncestorContainer))return!1;var w=d?Hs.Forwards:Hs.Backwards,M=Rl(s.getBody()),O=ve(Wv,d?M.next:M.prev),L=d?Tw:qx,B=lp(w,s.getBody(),v),G=of(d,O(B));if(!G||!Gv(B,G))return!1;if(L(G))return Us(s,v,B.getNode(),w,d,G);var W=O(G);return!!(W&&L(W)&&Gv(G,W))&&Us(s,v,B.getNode(),w,d,W)}function CC(s,d,v){return Tc(d,s,v).bind(function(w){return $=w.getNode(),Gr(Ut.fromDom($))||Bi(Ut.fromDom($))||(B=s,re=w,ox(!(G=d),W=v).fold(function(){return ox(G,re).fold(ht,ue)},ue))?J.none():d&&to(w.getNode())||!1===d&&to(w.getNode(!0))?(M=s,O=v,L=w.getNode(!1===d),Wx(Ut.fromDom(M),Ut.fromDom(O.getNode())).map(function(pe){return No(pe)?af.remove(pe.dom):af.moveToElement(L)}).orThunk(function(){return J.some(af.moveToElement(L))})):d&&uy(v)||!1===d&&Wm(v)?J.some(af.moveToPosition(w)):J.none();var M,O,L,B,G,W,re,$;function ue(pe){return rs(Ut.fromDom(pe))&&!Cc(W,re,B)}})}function Aw(s,d){return J.from(fg(s.getBody(),d))}function JT(s,d){var v=s.selection.getNode();return Aw(s,v).filter(to).fold(function(){return $=s.getBody(),pe=pm((ue=d)?1:-1,$,s.selection.getRng()),be=pn.fromRangeStart(pe),we=Ut.fromDom($),(!1===ue&&uy(be)?J.some(af.remove(be.getNode(!0))):ue&&Wm(be)?J.some(af.remove(be.getNode())):!1===ue&&Wm(be)&&Hm(we,be)?x0(we,be).map(function(Me){return af.remove(Me.getNode())}):ue&&uy(be)&&Th(we,be)?ly(we,be).map(function(Me){return af.remove(Me.getNode())}):(w=$,M=ue,W=(O=be).getNode(!1===(G=M)),re=G?"after":"before",uo(W)&&W.getAttribute("data-mce-caret")===re?(B=O.getNode(!1===(L=M)),(L&&to(B.nextSibling)?J.some(af.moveToElement(B.nextSibling)):!1===L&&to(B.previousSibling)?J.some(af.moveToElement(B.previousSibling)):J.none()).fold(function(){return CC(w,M,O)},J.some)):CC(w,M,O).bind(function(Me){return ke=w,Ne=O,Me.fold(function(je){return J.some(af.remove(je))},function(je){return J.some(af.moveToElement(je))},function(je){return Cc(Ne,je,ke)?J.none():J.some(af.moveToPosition(je))});var ke,Ne}))).exists(function(Me){return Me.fold(function(Ye){return ct._selectionOverrides.hideFakeCaret(),sy(ct,Dt,Ut.fromDom(Ye)),!0},(je=Dt=d,function(Ye){var rt=je?pn.before(Ye):pn.after(Ye);return Ne.selection.setRng(rt.toRange()),!0}),(ke=Ne=ct=s,function(Ye){return ke.selection.setRng(Ye.toRange()),!0}));var ke,Ne,je,ct,Dt});var w,M,O,L,B,G,W,re,$,ue,pe,be,we},sn)}function ii(s,d){var v=s.selection.getNode();return!(!to(v)||ks(v))&&Aw(s,v.parentNode).filter(to).fold(function(){return Sn(Ol(Ut.fromDom(s.getBody()),".mce-offscreen-selection"),Js),sy(s,d,Ut.fromDom(s.selection.getNode())),L0(s),!0},sn)}function i1(s){var d,v=s.dom,w=s.selection,M=fg(s.getBody(),w.getNode());return Xu(M)&&v.isBlock(M)&&v.isEmpty(M)&&(d=v.create("br",{"data-mce-bogus":"1"}),v.setHTML(M,""),M.appendChild(d),w.setRng(pn.before(d).toRange())),!0}function Yx(s,d){return(s.selection.isCollapsed()?JT:ii)(s,d)}function Tp(s,d){return!!s.selection.isCollapsed()&&(w=d,M=pn.fromRangeStart((v=s).selection.getRng()),Tc(w,v.getBody(),M).filter(function(O){return(w?BT:zT)(O)}).bind(function(O){return J.from(rg(w?0:-1,O))}).exists(function(O){return v.selection.select(O),!0}));var v,w,M}function hM(s){return Xm(s)&&s.data[0]===zs}function kC(s){return Xm(s)&&s.data[s.data.length-1]===zs}function Iw(s){return s.ownerDocument.createTextNode(zs)}function a1(s,d){return(s?function(v){if(Xm(v.previousSibling))return kC(v.previousSibling)||v.previousSibling.appendData(zs),v.previousSibling;if(Xm(v))return hM(v)||v.insertData(0,zs),v;var w=Iw(v);return v.parentNode.insertBefore(w,v),w}:function(v){if(Xm(v.nextSibling))return hM(v.nextSibling)||v.nextSibling.insertData(0,zs),v.nextSibling;if(Xm(v))return kC(v)||v.appendData(zs),v;var w=Iw(v);return v.nextSibling?v.parentNode.insertBefore(w,v.nextSibling):v.parentNode.appendChild(w),w})(d)}function QT(s,d){return Er(s.container())?a1(d,s.container()):a1(d,s.getNode())}function e2(s,d){var v=d.get();return v&&s.container()===v&&Jg(v)}function Ow(s,d){return d.fold(function(v){mm(s.get());var w=IC(v);return s.set(w),J.some(pn(w,w.length-1))},function(v){return yi(v).map(function(w){if(e2(w,s))return pn(s.get(),1);mm(s.get());var M=QT(w,!0);return s.set(M),pn(M,1)})},function(v){return sd(v).map(function(w){if(e2(w,s))return pn(s.get(),s.get().length-1);mm(s.get());var M=QT(w,!1);return s.set(M),pn(M,M.length-1)})},function(v){mm(s.get());var w=vM(v);return s.set(w),J.some(pn(w,1))})}function MC(s,d){for(var v=0;v<s.length;v++){var w=s[v].apply(null,d);if(w.isSome())return w}return J.none()}function s1(s,d){return Xc(d,s)||s}function pM(s,d,v){var w=pd(v),M=s1(d,w.container());return Mg(s,M,w).fold(function(){return Da(M,w).bind(ve(Mg,s,M)).map(function(O){return Ml.before(O)})},J.none)}function gM(s,d){return null===xm(s,d)}function TC(s,d,v){return Mg(s,d,v).filter(ve(gM,d))}function DC(s,d,v){var w=F0(v);return TC(s,d,w).bind(function(M){return Aa(M,w).isNone()?J.some(Ml.start(M)):J.none()})}function Xx(s,d,v){var w=pd(v);return TC(s,d,w).bind(function(M){return Da(M,w).isNone()?J.some(Ml.end(M)):J.none()})}function Zx(s,d,v){var w=F0(v),M=s1(d,w.container());return Mg(s,M,w).fold(function(){return Aa(M,w).bind(ve(Mg,s,M)).map(function(O){return Ml.after(O)})},J.none)}function AC(s){return d=l1(s),!1===("rtl"===Ui.DOM.getStyle(d,"direction",!0)||Ig.test(d.textContent));var d}function Qd(s,d,v){return MC([pM,DC,Xx,Zx],[s,d,v]).filter(AC)}function B0(s){return s.fold(te("before"),te("start"),te("end"),te("after"))}function hd(s){return s.fold(Ml.before,Ml.before,Ml.after,Ml.after)}function Dg(s){return s.fold(Ml.start,Ml.start,Ml.end,Ml.end)}function t2(s,d,v,w,M,O){return ya(Mg(d,v,w),Mg(d,v,M),function(L,B){return L!==B&&(W=B,re=Xc(L,G=v),$=Xc(W,G),re&&re===$)?Ml.after(s?L:B):O;var G,W,re,$}).getOr(O)}function KD(s,d){return s.fold(sn,function(v){return M=d,!(B0(w=v)===B0(M)&&l1(w)===l1(M));var w,M})}function Ew(s,d){return s?d.fold(de(J.some,Ml.start),J.none,de(J.some,Ml.after),J.none):d.fold(J.none,de(J.some,Ml.before),J.none,de(J.some,Ml.end))}function uc(s,d,v,w){var M=of(s,w),O=Qd(d,v,M);return Qd(d,v,M).bind(ve(Ew,s)).orThunk(function(){return B=d,G=v,W=O,re=of(L=s,w),Tc(L,G,re).map(ve(of,L)).fold(function(){return W.map(hd)},function($){return Qd(B,G,$).map(ve(t2,L,B,G,re,$)).filter(ve(KD,W))}).filter(AC);var L,B,G,W,re})}function Ym(s){for(var d=[],v=1;v<arguments.length;v++)d[v-1]=arguments[v];var w=window.console;w&&(w.error||w.log).apply(w,qt([s],d,!1))}var Os,z0,n2=function(s,d){var v=s.editorManager.baseURL+"/skins/content",w="content"+s.editorManager.suffix+".css",M=!0===s.inline;return It(d,function(O){return/^[a-z0-9\-]+$/i.test(O)&&!M?v+"/"+O+"/"+w:s.documentBaseURI.toAbsolute(O)})},ai=0,Pw=gn.each,ei=Ui.DOM,mM=[9,27,qr.HOME,qr.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,qr.DOWN,qr.UP,qr.LEFT,qr.RIGHT].concat(Wr.browser.isFirefox()?[224]:[]),Ag="data-mce-placeholder",Ig=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,pd=ve(of,!0),F0=ve(of,!1),u1=Xu,Dp=to,af=hu([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Xm=Er,IC=ve(a1,!0),vM=ve(a1,!1),Ml=hu([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),l1=function(s){return s.fold(le,le,le,le)};function xy(s,d,v){var w=s?1:-1;return d.setRng(pn(v.container(),v.offset()+w).toRange()),d.getSel().modify("move",s?"forward":"backward","word"),!0}function V0(s,d){return s===Hs.Backwards?fr(d):d}function Zm(s,d,v,w){for(var M,O,L,B,G=Rl(v),W=w,re=[];W;){var $=(L=G,B=W,d===Hs.Forwards?L.next(B):L.prev(B));if(!$)break;if(La($.getNode(!1)))return d===Hs.Forwards?{positions:V0(d,re).concat([$]),breakType:Os.Br,breakAt:J.some($)}:{positions:V0(d,re),breakType:Os.Br,breakAt:J.some($)};if($.isVisible()){if(s(W,$)){var ue=(M=W,La((O=$).getNode(d===Hs.Forwards))?Os.Br:!1===Cc(M,O)?Os.Block:Os.Wrap);return{positions:V0(d,re),breakType:ue,breakAt:J.some($)}}re.push($),W=$}else W=$}return{positions:V0(d,re),breakType:Os.Eol,breakAt:J.none()}}function Km(s,d,v,w){return d(v,w).breakAt.map(function(M){var O=d(v,M).positions;return s===Hs.Backwards?O.concat(M):[M].concat(O)}).getOr([])}function Rw(s,d){return cr(s,function(v,w){return v.fold(function(){return J.some(w)},function(M){return ya(bn(M.getClientRects()),bn(w.getClientRects()),function(O,L){var B=Math.abs(d-O.left);return Math.abs(d-L.left)<=B?w:M}).or(v)})},J.none())}function yM(s,d){return bn(d.getClientRects()).bind(function(v){return Rw(s,v.left)})}function Og(s){function d(w){return It(w,function(M){var O=El(M);return O.node=s,O})}if(uo(s))return d(s.getClientRects());if(Er(s)){var v=s.ownerDocument.createRange();return v.setStart(s,0),v.setEnd(s,s.data.length),d(v.getClientRects())}}function Kx(s){return Ja(s,Og)}ve(uc,!1),ve(uc,!0),(z0=Os={})[z0.Br=0]="Br",z0[z0.Block=1]="Block",z0[z0.Wrap=2]="Wrap",z0[z0.Eol=3]="Eol";var Eg,Nf,_y=ve(Zm,pn.isAbove,-1),eh=ve(Zm,pn.isBelow,1),OC=ve(Km,-1,_y),r2=ve(Km,1,eh);function H0(s,d,v,w,M,O){function L($){var ue=Kx([$]);-1===s&&(ue=ue.reverse());for(var pe=0;pe<ue.length;pe++){var be=ue[pe];if(!v(be,W)){if(0<G.length&&d(be,ja(G))&&B++,be.line=B,M(be))return!0;G.push(be)}}}var B=0,G=[],W=ja(O.getClientRects());if(!W)return G;var re=O.getNode();return L(re),function($,ue,pe,be){for(;be=xl(be,$,G1,ue);)if(pe(be))return}(s,w,L,re),G}function $m(s){return function(d){return d.line>s}}function Ap(s){return function(d){return d.line===s}}function Lw(s,d){return Math.abs(s.left-d)}function $x(s,d){return Math.abs(s.right-d)}function o2(s,d){return s>=d.left&&s<=d.right}function Jm(s,d){return s>=d.top&&s<=d.bottom}function EC(s,d,v){return void 0===v&&(v=sn),va(s,function(w,M){if(o2(d,M))return v(M)?M:w;if(o2(d,w))return v(w)?w:M;var O=Math.min(Lw(w,d),$x(w,d)),L=Math.min(Lw(M,d),$x(M,d));return L===O&&go(M,"node")&&Jw(M.node)||L<O?M:w})}function ys(s,d,v,w,M){var O=i_(w,s,G1,d,!M);do{if(!O||v(O))return}while(O=i_(O,s,G1,d))}function Qm(s,d){s.selection.setRng(d),ld(s,s.selection.getRng())}function Nw(s,d,v){return J.some(Tg(s,d,v))}function W0(s,d,v,w,M,O){var L=d===Hs.Forwards,B=Rl(s.getBody()),G=ve(Wv,L?B.next:B.prev),W=L?w:M;if(!v.collapsed){var re=Ud(v);if(O(re))return Vl(d,s,re,d===Hs.Backwards,!1)}var $=lp(d,s.getBody(),v);if(W($))return by(s,$.getNode(!L));var ue=of(L,G($)),pe=W1(v);if(!ue)return pe?J.some(v):J.none();if(W(ue))return Vl(d,s,ue.getNode(!L),L,!1);var be=G(ue);return be&&W(be)&&Gv(ue,be)?Vl(d,s,be.getNode(!L),L,!1):pe?Nw(s,ue.toRange(),!1):J.none()}function c1(s,d,v,w,M,O){var L=lp(d,s.getBody(),v),B=ja(L.getClientRects()),G=d===Eg.Down;if(!B)return J.none();var W,re=Zn((G?d2:m1)(s.getBody(),$m(1),L),Ap(1)),$=B.left,ue=EC(re,$);if(ue&&O(ue.node)){var pe=Math.abs($-ue.left),be=Math.abs($-ue.right);return Vl(d,s,ue.node,pe<be,!1)}if(W=w(L)?L.getNode():M(L)?L.getNode(!0):Ud(v)){var we=function(ke,Ne,je,ct){function Dt(tn){return ja(tn.getClientRects())}var Ye,rt,dt,Vt=Rl(Ne),Zt=[],ln=0,on=1===ke?(Ye=Vt.next,rt=Jp,dt=Gd,pn.after(ct)):(Ye=Vt.prev,rt=Gd,dt=Jp,pn.before(ct)),Mt=Dt(on);do{if(on.isVisible()){var At=Dt(on);if(!dt(At,Mt)){0<Zt.length&&rt(At,ja(Zt))&&ln++;var zt=El(At);if(zt.position=on,zt.line=ln,je(zt))return Zt;Zt.push(zt)}}}while(on=Ye(on));return Zt}(d,s.getBody(),$m(1),W),Me=EC(Zn(we,Ap(1)),$);if(Me||(Me=ja(Zn(we,Ap(0)))))return Nw(s,Me.position.toRange(),!1)}return 0===re.length?v1(s,G).filter(G?M:w).map(function(ke){return Tg(s,ke.toRange(),!1)}):J.none()}function bM(s,d,v){return v1(s,d).filter(v).exists(function(w){return s.selection.setRng(w.toRange()),!0})}function Jx(s,d){var v=s.dom.createRng();v.setStart(d.container(),d.offset()),v.setEnd(d.container(),d.offset()),s.selection.setRng(v)}function Qx(s,d){s?d.setAttribute("data-mce-selected","inline-boundary"):d.removeAttribute("data-mce-selected")}function th(s,d,v){return Ow(d,v).map(function(w){return Jx(s,w),v})}function Pg(s,d,v){return!!_h(s)&&(M=d,O=v,L=(w=s).getBody(),B=pn.fromRangeStart(w.selection.getRng()),uc(O,ve(qm,w),L,B).bind(function(G){return th(w,M,G)}).isSome());var w,M,O,L,B}function Bw(s,d,v){return!!_h(d)&&(w=s,O=(M=d).selection.getRng(),L=w?pn.fromRangeEnd(O):pn.fromRangeStart(O),!!pt(M.selection.getSel().modify)&&(w&&Cv(L)?xy(!0,M.selection,L):!(w||!kd(L))&&xy(!1,M.selection,L)));var w,M,O,L}function tv(s,d,v){if(_h(s)){var w=v1(s,d).getOrThunk(function(){var M=s.selection.getRng();return d?pn.fromRangeEnd(M):pn.fromRangeStart(M)});return Qd(ve(qm,s),s.getBody(),w).exists(function(M){var O=hd(M);return Ow(v,O).exists(function(L){return Jx(s,L),!0})})}return!1}function zw(s,d){return function(v){return Ow(d,v).exists(function(w){return Jx(s,w),!0})}}function Fw(s,d,v,w){var M=s.getBody(),O=ve(qm,s);s.undoManager.ignore(function(){var L,B,G;s.selection.setRng((L=v,B=w,(G=document.createRange()).setStart(L.container(),L.offset()),G.setEnd(B.container(),B.offset()),G)),s.execCommand("Delete"),Qd(O,M,pn.fromRangeStart(s.selection.getRng())).map(Dg).map(zw(s,d))}),s.nodeChanged()}function Rg(s,d,v){if(s.selection.isCollapsed()&&_h(s)){var w=pn.fromRangeStart(s.selection.getRng());return O=d,L=v,B=w,G=(M=s).getBody(),W=Xc(B.container(),G)||G,re=ve(qm,M),($=Qd(re,W,B)).bind(function(ue){return L?ue.fold(te(J.some(Dg(ue))),J.none,te(J.some(hd(ue))),J.none):ue.fold(J.none,te(J.some(hd(ue))),J.none,te(J.some(Dg(ue))))}).map(zw(M,O)).getOrThunk(function(){var ue=ag(L,W,B),pe=ue.bind(function(be){return Qd(re,W,be)});return ya($,pe,function(){return Mg(re,W,B).exists(function(be){return!!ya(yi(we=be),sd(we),function(Me,ke){var Ne=of(!0,Me),je=of(!1,ke);return Da(we,Ne).forall(function(ct){return ct.isEqual(je)})}).getOr(!0)&&(sy(M,L,Ut.fromDom(be)),!0);var we})}).orThunk(function(){return pe.bind(function(be){return ue.map(function(we){return L?Fw(M,O,B,we):Fw(M,O,we,B),!0})})}).getOr(!1)})}var M,O,L,B,G,W,re,$;return!1}function nv(s){return 1===Yg(s)}function Oh(s,d){return!!s.selection.isCollapsed()&&function Vw(s,d){var v,w=Ut.fromDom(s.getBody()),M=Ut.fromDom(s.selection.getStart()),O=Zn(Un(v=ss(M,w),$u).fold(te(v),function(L){return v.slice(0,L)}),nv);return Qt(O).exists(function(L){var B,G,W,re,$,ue,pe,be,we,Me=pn.fromRangeStart(s.selection.getRng()),ke=d,Ne=Me,je=L.dom;return!(!ya(yi(je),sd(je),function(ct,Dt){var Ye=of(!0,ct),rt=of(!1,Dt),dt=of(!1,Ne);return ke?Da(je,dt).exists(function(Vt){return Vt.isEqual(rt)&&Ne.isEqual(Ye)}):Aa(je,dt).exists(function(Vt){return Vt.isEqual(Ye)&&Ne.isEqual(rt)})}).getOr(!0)||ms((B=L).dom)&&YS(B.dom)||(G=d,re=L,0===(we=It(Zn(O,ve(NT,W=s)),function(ct){return ct.dom})).length?sy(W,G,re):(ue=re.dom,be=ZS(we,(pe=_x(!1)).dom),cu(Ut.fromDom(ue),pe),Js(Ut.fromDom(ue)),$=pn(be,0),W.selection.setRng($.toRange())),0))})}(s,d)}function G0(s,d,v){return s._selectionOverrides.hideFakeCaret(),sy(s,d,Ut.fromDom(v)),!0}function rv(s,d){return s.selection.isCollapsed()?(B=(L=d)?y0:Dh,W=lp(L?Hs.Forwards:Hs.Backwards,(O=s).getBody(),O.selection.getRng()),B(W)?G0(O,L,W.getNode(!L)):J.from(of(L,W)).filter(function(re){return B(re)&&Gv(W,re)}).exists(function(re){return G0(O,L,re.getNode(!L))})):(w=d,M=(v=s).selection.getNode(),!!Il(M)&&G0(v,w,M));var v,w,M,O,L,B,W}function f1(s){var d=parseInt(s,10);return isNaN(d)?0:d}function xM(s,d){return(s||"table"===Pa(d)?"margin":"padding")+("rtl"===Hf(d,"direction")?"-right":"-left")}function Hw(s){var d,v=WC(s);return!s.mode.isReadOnly()&&(1<v.length||(d=s,hr(v,function(w){var M=Sd(w,xM(qd(d),w)).map(f1).getOr(0);return"false"!==d.dom.getContentEditable(w.dom)&&0<M})))}function U0(s){return dh(s)||Bi(s)}function e_(s,d){var v=s.dom,w=s.selection,M=s.formatter,O=s.getParam("indentation","40px","string"),L=/[a-z%]+$/i.exec(O)[0],B=parseInt(O,10),G=qd(s),W=pa(s);s.queryCommandState("InsertUnorderedList")||s.queryCommandState("InsertOrderedList")||""!==W||v.getParent(w.getNode(),v.isBlock)||M.apply("div"),Sn(WC(s),function(re){var $,ue=v,pe=d,be=B,we=L,Me=re.dom,ke=xM(G,Ut.fromDom(Me));"outdent"===pe?($=Math.max(0,f1(Me.style[ke])-be),ue.setStyle(Me,ke,$?$+we:"")):($=f1(Me.style[ke])+be+we,ue.setStyle(Me,ke,$))})}function j0(s,d){if(s.selection.isCollapsed()&&Hw(s)){var v=s.dom,w=s.selection.getRng(),M=pn.fromRangeStart(w),O=v.getParent(w.startContainer,v.isBlock);if(null!==O&&Gm(Ut.fromDom(O),M))return e_(s,"outdent"),!0}return!1}function _M(s,d){s.getDoc().execCommand(d,!1,null)}function Ww(s){return void 0===s.touches||1!==s.touches.length?J.none():J.some(s.touches[0])}function Gw(s,d){return so(s,d.nodeName)}function q0(s){var d,v,w,M=s.dom,O=s.selection,L=s.schema,B=L.getBlockElements(),G=O.getStart(),W=s.getBody(),re=pa(s);if(G&&uo(G)&&re){var $=W.nodeName.toLowerCase();if(L.isValidChild($,re.toLowerCase())&&(ue=B,pe=W,!Te(Ac(Ut.fromDom(G),Ut.fromDom(pe)),function(rt){return Gw(ue,rt.dom)}))){var ue,pe,we,Me,ke=O.getRng(),Ne=ke.startContainer,je=ke.startOffset,ct=ke.endContainer,Dt=ke.endOffset,Ye=wu(s);for(G=W.firstChild;G;)we=B,Er(Me=G)||uo(Me)&&!Gw(we,Me)&&!Sl(Me)?function(dt,Vt){if(Er(Vt)&&(0===Vt.nodeValue.length||/^\s+$/.test(Vt.nodeValue)&&(!Vt.nextSibling||Gw(dt,Vt.nextSibling))))return 1}(B,G)?(G=(v=G).nextSibling,M.remove(v)):(d||(d=M.create(re,t0(s)),G.parentNode.insertBefore(d,G),w=!0),G=(v=G).nextSibling,d.appendChild(v)):(d=null,G=G.nextSibling);w&&Ye&&(ke.setStart(Ne,je),ke.setEnd(ct,Dt),O.setRng(ke),s.nodeChanged())}}}function wM(s,d){d.hasAttribute("data-mce-caret")&&(jh(d),s.selection.setRng(s.selection.getRng()),s.selection.scrollIntoView(d))}function PC(s,d){var v=Wf(Ut.fromDom(s.getBody()),"*[data-mce-caret]").map(function(w){return w.dom}).getOrNull();if(v)return"compositionstart"===d.type?(d.preventDefault(),d.stopPropagation(),void wM(s,v)):void(os(v)&&(wM(s,v),s.undoManager.add()))}function Lg(s,d,v){var w,M,O,L=Rl(s.getBody()),B=ve(Wv,1===d?L.next:L.prev);!v.collapsed||""===pa(s)||(w=s.dom.getParent(v.startContainer,"PRE"))&&(B(pn.fromRangeStart(v))||(O=s.dom.create(pa(s)),(!Wr.ie||11<=Wr.ie)&&(O.innerHTML='<br data-mce-bogus="1">'),M=O,1===d?s.$(w).after(M):s.$(w).before(M),s.selection.select(M,!0),s.selection.collapse()))}function ov(s,d){return w=d?Hs.Forwards:Hs.Backwards,M=(v=s).selection.getRng(),W0(v,w,M,Wm,uy,GC).orThunk(function(){return Lg(v,w,M),J.none()}).exists(function(O){return Qm(s,O),!0});var v,w,M}function nh(s,d){return w=d?1:-1,M=(v=s).selection.getRng(),c1(v,w,M,function(O){return Wm(O)||Zk(O)},function(O){return uy(O)||Fl(O)},GC).orThunk(function(){return Lg(v,w,M),J.none()}).exists(function(O){return Qm(s,O),!0});var v,w,M}function Uw(s,d){return bM(s,d,d?uy:Wm)}function RC(s){return Ht(["figcaption"],Pa(s))}function SM(s){var d=document.createRange();return d.setStartBefore(s.dom),d.setEndBefore(s.dom),d}function LC(s,d,v){(v?Cs:dc)(s,d)}function Eh(s,d){return!!s.selection.isCollapsed()&&function CM(s,d){var v=Ut.fromDom(s.getBody()),w=pn.fromRangeStart(s.selection.getRng()),M=pa(s),O=t0(s),L=w,B=ve(En,v);return Uh(Ut.fromDom(L.container()),$u,B).filter(RC).exists(function(){if(ct=v,Dt=w,d?eh(ct.dom,Dt).breakAt.isNone():_y(ct.dom,Dt).breakAt.isNone()){var G=(W=v,$=O,ue=d,""===(re=M)?(Ne=ue,LC(W,je=Ut.fromTag("br"),Ne),SM(je)):(pe=W,be=ue,we=$,Me=Ut.fromTag(re),ke=Ut.fromTag("br"),Fc(Me,we),Cs(Me,ke),LC(pe,Me,be),SM(ke)));return s.selection.setRng(G),!0}var W,re,$,ue,pe,be,we,Me,ke,Ne,je,ct,Dt;return!1})}(s,d)}function ti(s){for(var d=[],v=1;v<arguments.length;v++)d[v-1]=arguments[v];return function(){return s.apply(null,d)}}function d1(s,d){return hn((v=d,Ja(It(s,function(w){return Sr({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:Z},w)}),function(w){return v.keyCode===w.keyCode&&v.shiftKey===w.shiftKey&&v.altKey===w.altKey&&v.ctrlKey===w.ctrlKey&&v.metaKey===w.metaKey?[w]:[]})),function(w){return w.action()});var v}function jw(s,d){var v=d?Hs.Forwards:Hs.Backwards,w=s.selection.getRng();return W0(s,v,w,y0,Dh,Il).exists(function(M){return Qm(s,M),!0})}function kM(s,d){var v=d?1:-1,w=s.selection.getRng();return c1(s,v,w,y0,Dh,Il).exists(function(M){return Qm(s,M),!0})}function MM(s,d){return bM(s,d,d?Dh:y0)}function h1(s,d,v,w,M){var O,L=Ol(Ut.fromDom(v),"td,th,caption").map(function(re){return re.dom}),B=Zn((O=s,Ja(L,function(re){var $,ue={left:($=El(re.getBoundingClientRect())).left- -1,top:$.top- -1,right:$.right+-2,bottom:$.bottom+-2,width:$.width+-1,height:$.height+-1};return[{x:ue.left,y:O(ue),cell:re},{x:ue.right,y:O(ue),cell:re}]})),function(re){return d(re,M)}),G=w,W=M;return cr(B,function(re,$){return re.fold(function(){return J.some($)},function(ue){var pe=Math.sqrt(Math.abs(ue.x-G)+Math.abs(ue.y-W)),be=Math.sqrt(Math.abs($.x-G)+Math.abs($.y-W));return J.some(be<pe?$:ue)})},J.none()).map(function(re){return re.cell})}function TM(s,d,v){var w,M,O=s(d,v);return O.breakType===Os.Wrap&&0===O.positions.length||!La(v.getNode())&&O.breakType===Os.Br&&1===O.positions.length?(w=s,M=d,!O.breakAt.exists(function(L){return w(M,L).breakAt.isSome()})):O.breakAt.isNone()}function a2(s,d,v,w){var M,O,L,B=s.selection.getRng(),G=d?1:-1;return!(!rx()||(M=d,O=v,L=pn.fromRangeStart(B),!qv(!M,O).exists(function(W){return W.isEqual(L)}))||(Vl(G,s,v,!d,!1).each(function(W){Qm(s,W)}),0))}function t_(s,d,v){var M,O=(M=v.getNode(!!d),uo(M)&&"TABLE"===M.nodeName?J.some(M):J.none()),L=!1===d;O.fold(function(){return Qm(s,v.toRange())},function(B){return qv(L,s.getBody()).filter(function(G){return G.isEqual(v)}).fold(function(){return Qm(s,v.toRange())},function(G){var W,re,$=d,ue=B,pe=v;(re=pa(W=s))?W.undoManager.transact(function(){var be=Ut.fromTag(re);Fc(be,t0(W)),Cs(be,Ut.fromTag("br")),($?fu:cu)(Ut.fromDom(ue),be);var we=W.dom.createRng();we.setStart(be.dom,0),we.setEnd(be.dom,0),Qm(W,we)}):Qm(W,pe.toRange())})})}function NC(s,d,v,w){var M,O,L,B,G,W,re,$,ue,pe,be=s.selection.getRng(),we=pn.fromRangeStart(be),Me=s.getBody();if(d||!UC(w,we))return!(!d||!PM(w,we)||(M=Me,ue=O=v,t_(s,d,ke=Qt((pe=L=we).getClientRects()).bind(function(Ne){return h2(ue,Ne.left,Ne.top)}).bind(function(Ne){return yM(yi(je=Ne).map(function(ct){return[ct].concat(eh(je,ct).positions)}).getOr([]),pe);var je}).orThunk(function(){return bn(L.getClientRects()).bind(function(Ne){return Rw(r2(M,pn.after(O)),Ne.left)})}).getOr(pn.after(O))),0));var ke=(B=Me,re=G=v,bn(($=W=we).getClientRects()).bind(function(Ne){return a_(re,Ne.left,Ne.top)}).bind(function(Ne){return yM(sd(je=Ne).map(function(ct){return _y(je,ct).positions.concat(ct)}).getOr([]),$);var je}).orThunk(function(){return bn(W.getClientRects()).bind(function(Ne){return Rw(OC(B,pn.before(G)),Ne.left)})}).getOr(pn.before(G)));return t_(s,d,ke),!0}function BC(s,d,v){return J.from(s.dom.getParent(s.selection.getNode(),"td,th")).bind(function(w){return J.from(s.dom.getParent(w,"table")).map(function(M){return v(s,d,M,w)})}).getOr(!1)}function qw(s,d){return BC(s,d,a2)}function n_(s,d){return BC(s,d,NC)}function Y0(s,d){var v,w,M=d,O=s.dom,L=s.schema.getMoveCaretBeforeOnEnterElements();if(d){!/^(LI|DT|DD)$/.test(d.nodeName)||(w=function(W){for(;W;){if(1===W.nodeType||3===W.nodeType&&W.data&&/[\r\n\s]/.test(W.data))return W;W=W.nextSibling}}(d.firstChild))&&/^(UL|OL|DL)$/.test(w.nodeName)&&d.insertBefore(O.doc.createTextNode(yc),d.firstChild);var B=O.createRng();if(d.normalize(),d.hasChildNodes()){for(var G=new Qs(d,d);v=G.current();){if(Er(v)){B.setStart(v,0),B.setEnd(v,0);break}if(L[v.nodeName.toLowerCase()]){B.setStartBefore(v),B.setEndBefore(v);break}M=v,v=G.next()}v||(B.setStart(M,0),B.setEnd(M,0))}else La(d)?d.nextSibling&&O.isBlock(d.nextSibling)?(B.setStartBefore(d),B.setEndBefore(d)):(B.setStartAfter(d),B.setEndAfter(d)):(B.setStart(d,0),B.setEnd(d,0));s.selection.setRng(B),ld(s,B)}}function Yw(s){return J.from(s.dom.getParent(s.selection.getStart(!0),s.dom.isBlock))}function gd(s,d){return s&&s.parentNode&&s.parentNode.nodeName===d}function r_(s){return s&&/^(OL|UL|LI)$/.test(s.nodeName)}function Ng(s){var d=s.parentNode;return/^(LI|DT|DD)$/.test(d.nodeName)?d:s}function Ph(s,d,v){for(var w=s[v?"firstChild":"lastChild"];w&&!uo(w);)w=w[v?"nextSibling":"previousSibling"];return w===d}function zC(s){s.innerHTML='<br data-mce-bogus="1">'}function DM(s,d){return s.nodeName===d||s.previousSibling&&s.previousSibling.nodeName===d}function s2(s,d){return d&&s.isBlock(d)&&!/^(TD|TH|CAPTION|FORM)$/.test(d.nodeName)&&!/^(fixed|absolute)/i.test(d.style.position)&&"true"!==s.getContentEditable(d)}function o_(s,d,v){return!1===Er(d)?v:s?1===v&&d.data.charAt(v-1)===zs?0:v:v===d.data.length-1&&d.data.charAt(v)===zs?d.data.length:v}function FC(s,d){for(var v,w=s.getRoot(),M=d;M!==w&&"false"!==s.getContentEditable(M);)"true"===s.getContentEditable(M)&&(v=M),M=M.parentNode;return M!==w?v:w}function md(s,d){var v=pa(s);v&&v.toLowerCase()===d.tagName.toLowerCase()&&function(w,M,O){var L=w.dom;J.from(O.style).map(L.parseStyle).each(function(W){var re=Ca(Ut.fromDom(M)),$=Sr(Sr({},re),W);L.setStyles(M,$)}),ya(J.from(O.class).map(function(W){return W.split(/\s+/)}),J.from(M.className).map(function(W){return Zn(W.split(/\s+/),function(re){return""!==re})}),function(W,re){var $=Zn(re,function(pe){return!Ht(W,pe)}),ue=qt(qt([],W,!0),$,!0);L.setAttrib(M,"class",ue.join(" "))});var B=["style","class"],G=bo(O,function(W,re){return!Ht(B,re)});L.setAttribs(M,G)}(s,d,t0(s))}function AM(s,d,v){var w=s.dom.createRng();v?(w.setStartBefore(d),w.setEndBefore(d)):(w.setStartAfter(d),w.setEndAfter(d)),s.selection.setRng(w),ld(s,w)}function Ip(s,d){var v=Ut.fromTag("br");cu(Ut.fromDom(d),v),s.undoManager.add()}function us(s,d){p2(s.getBody(),d)||fu(Ut.fromDom(d),Ut.fromTag("br"));var v=Ut.fromTag("br");fu(Ut.fromDom(d),v),AM(s,v.dom,!1),s.undoManager.add()}function Es(s){return s&&"A"===s.nodeName&&"href"in s}function vd(s){return s.fold(ht,Es,Es,ht)}function iv(s,d){d.fold(Z,ve(Ip,s),ve(us,s),Z)}function Xw(s,d){var v,w,M,O=(w=ve(qm,v=s),M=pn.fromRangeStart(v.selection.getRng()),Qd(w,v.getBody(),M).filter(vd));O.isSome()?O.each(ve(iv,s)):function(L,B){var G,W,$=L.dom,ue=L.selection.getRng();Qc($,ue).each(function(ct){ue.setStart(ct.startContainer,ct.startOffset),ue.setEnd(ct.endContainer,ct.endOffset)});var pe,be=ue.startOffset,we=ue.startContainer;1===we.nodeType&&we.hasChildNodes()&&(pe=be>we.childNodes.length-1,we=we.childNodes[Math.min(be,we.childNodes.length-1)]||we,be=pe&&3===we.nodeType?we.nodeValue.length:0);var Me=$.getParent(we,$.isBlock),ke=Me?$.getParent(Me.parentNode,$.isBlock):null;"LI"!==(ke?ke.nodeName.toUpperCase():"")||!(!B||!B.ctrlKey)||(Me=ke),we&&3===we.nodeType&&be>=we.nodeValue.length&&!function(ct){for(var Dt,Ye=new Qs(we,Me),rt=ct.getNonEmptyElements();Dt=Ye.next();)if(rt[Dt.nodeName.toLowerCase()]||0<Dt.length)return 1}(L.schema)&&(G=$.create("br"),ue.insertNode(G),ue.setStartAfter(G),ue.setEndAfter(G),W=!0),G=$.create("br"),um($,ue,G),AM(L,G,W),L.undoManager.add()}(s,d)}function p1(s,d){return Yw(s).filter(function(v){return 0<d.length&&rr(Ut.fromDom(v),d)}).isSome()}function Bf(s,d){return p1(s,s.getParam("no_newline_selector",""))}function Zw(s){return function(d,v){return""===pa(d)===s}}function X0(s){return function(d,v){return Yw(d).filter(function(w){return Bi(Ut.fromDom(w))}).isSome()===s}}function IM(s,d){return function(v,w){return Yw(v).fold(te(""),function(M){return M.nodeName.toUpperCase()})===s.toUpperCase()===d}}function Z0(s){return IM("pre",s)}function g1(s){return function(d,v){return d.getParam("br_in_pre",!0)===s}}function Kw(s,d){return p1(s,s.getParam("br_newline_selector",".mce-toc h2,figcaption,caption"))}function K0(s,d){return d}function VC(s){var d=pa(s),v=function(w,M){for(var O,L=w.getRoot(),B=M;B!==L&&"false"!==w.getContentEditable(B);)"true"===w.getContentEditable(B)&&(O=B),B=B.parentNode;return B!==L?O:L}(s.dom,s.selection.getStart());return v&&s.schema.isValidChild(v.nodeName,d||"P")}function yd(s,d){return function(v,w){return cr(s,function(M,O){return M&&O(v,w)},!0)?J.some(d):J.none()}}function OM(s,d){var v,w;v=s,w=d,MC([yd([Bf],Ec.none()),yd([IM("summary",!0)],Ec.br()),yd([Z0(!0),g1(!1),K0],Ec.br()),yd([Z0(!0),g1(!1)],Ec.block()),yd([Z0(!0),g1(!0),K0],Ec.block()),yd([Z0(!0),g1(!0)],Ec.br()),yd([X0(!0),K0],Ec.br()),yd([X0(!0)],Ec.block()),yd([Zw(!0),K0,VC],Ec.block()),yd([Zw(!0)],Ec.br()),yd([Kw],Ec.br()),yd([Zw(!1),K0],Ec.br()),yd([VC],Ec.block())],[v,!(!w||!w.shiftKey)]).getOr(Ec.none()).fold(function(){Xw(s,d)},function(){!function u2(s,d){function v(qn){var xr,Tn=pe,pr=re.getTextInlineElements(),Hn=qn||"TABLE"===je||"HR"===je?W.create(qn||rt):ke.cloneNode(!1),Tr=Hn;if(!1===s.getParam("keep_styles",!0))W.setAttrib(Hn,"style",null),W.setAttrib(Hn,"class",null);else for(;pr[Tn.nodeName]&&(ms(Tn)||Sl(Tn)||(xr=Tn.cloneNode(!1),W.setAttrib(xr,"id",""),Hn.hasChildNodes()?xr.appendChild(Hn.firstChild):Tr=xr,Hn.appendChild(xr))),(Tn=Tn.parentNode)&&Tn!==Yn;);return md(s,Hn),zC(Tr),Hn}function w(qn){var xr,Tn,pr=o_(qn,pe,be);if(!Er(pe)||!(qn?0<pr:pr<pe.nodeValue.length)){if(pe.parentNode===ke&&G&&!qn||qn&&uo(pe)&&pe===ke.firstChild)return 1;if(DM(pe,"TABLE")||DM(pe,"HR"))return G&&!qn||!G&&qn;var Hn=new Qs(pe,ke);for(Er(pe)&&(qn&&0===pr?Hn.prev():qn||pr!==pe.nodeValue.length||Hn.next());xr=Hn.current();){if(uo(xr)){if(!xr.getAttribute("data-mce-bogus")&&(Tn=xr.nodeName.toLowerCase(),$[Tn]&&"br"!==Tn))return}else if(Er(xr)&&!Qg(xr.nodeValue))return;qn?Hn.prev():Hn.next()}return 1}}function M(){L=/^(H[1-6]|PRE|FIGURE)$/.test(je)&&"HGROUP"!==ct?v(rt):v(),s.getParam("end_container_on_empty_block",!1)&&s2(W,Ne)&&W.isEmpty(ke)?L=W.split(Ne,ke):W.insertAfter(L,ke),Y0(s,L)}var O,L,B,G,W=s.dom,re=s.schema,$=re.getNonEmptyElements(),ue=s.selection.getRng();Qc(W,ue).each(function(qn){ue.setStart(qn.startContainer,qn.startOffset),ue.setEnd(qn.endContainer,qn.endOffset)});var pe=ue.startContainer,be=ue.startOffset,rt=pa(s),we=!(!d||!d.shiftKey),Me=!(!d||!d.ctrlKey);uo(pe)&&pe.hasChildNodes()&&(G=be>pe.childNodes.length-1,pe=pe.childNodes[Math.min(be,pe.childNodes.length-1)]||pe,be=G&&Er(pe)?pe.nodeValue.length:0);var ke,Ne,je,ct,Dt,Ye,dt,Vt,Zt,ln,on,Mt,At,zt,tn,On,er,An,Xn,Fn,Yn=FC(W,pe);Yn&&((rt&&!we||!rt&&we)&&(pe=function(qn,xr,Tn,pr){var Hn,Tr,Dr,Ao,gt,Et,mn=rt||"P",Nn=qn.dom,wn=FC(Nn,Tn),or=Nn.getParent(Tn,Nn.isBlock);if(!or||!s2(Nn,or)){if(gt=((or=or||wn)===qn.getBody()||(Et=or)&&/^(TD|TH|CAPTION)$/.test(Et.nodeName)?or:or.parentNode).nodeName.toLowerCase(),!or.hasChildNodes())return md(qn,Hn=Nn.create(mn)),or.appendChild(Hn),xr.setStart(Hn,0),xr.setEnd(Hn,0),Hn;for(Dr=Tn;Dr.parentNode!==or;)Dr=Dr.parentNode;for(;Dr&&!Nn.isBlock(Dr);)Dr=(Tr=Dr).previousSibling;if(Tr&&qn.schema.isValidChild(gt,mn.toLowerCase())){for(md(qn,Hn=Nn.create(mn)),Tr.parentNode.insertBefore(Hn,Tr),Dr=Tr;Dr&&!Nn.isBlock(Dr);)Ao=Dr.nextSibling,Hn.appendChild(Dr),Dr=Ao;xr.setStart(Tn,pr),xr.setEnd(Tn,pr)}}return Tn}(s,ue,pe,be)),Ne=(ke=W.getParent(pe,W.isBlock))?W.getParent(ke.parentNode,W.isBlock):null,je=ke?ke.nodeName.toUpperCase():"","LI"!==(ct=Ne?Ne.nodeName.toUpperCase():"")||Me||(Ne=(ke=Ne).parentNode,je=ct),/^(LI|DT|DD)$/.test(je)&&W.isEmpty(ke)?(Vt=v,Zt=Ne,ln=ke,on=rt,Xn=(dt=s).dom,Fn=dt.selection.getRng(),Zt!==dt.getBody()&&(At=(on=r_(Mt=Zt)&&r_(Mt.parentNode)?"LI":on)?Vt(on):Xn.create("BR"),Ph(Zt,ln,!0)&&Ph(Zt,ln,!1)?gd(Zt,"LI")?(zt=Ng(Zt),Xn.insertAfter(At,zt),(null===(An=(er=Zt).parentNode)||void 0===An?void 0:An.firstChild)===er?Xn.remove(zt):Xn.remove(Zt)):Xn.replace(At,Zt):(Ph(Zt,ln,!0)?gd(Zt,"LI")?(Xn.insertAfter(At,Ng(Zt)),At.appendChild(Xn.doc.createTextNode(" ")),At.appendChild(Zt)):Zt.parentNode.insertBefore(At,Zt):Ph(Zt,ln,!1)?Xn.insertAfter(At,Ng(Zt)):(Zt=Ng(Zt),(tn=Fn.cloneRange()).setStartAfter(ln),tn.setEndAfter(Zt),On=tn.extractContents(),"LI"===on&&On.firstChild&&"LI"===On.firstChild.nodeName?(At=On.firstChild,Xn.insertAfter(On,Zt)):(Xn.insertAfter(On,Zt),Xn.insertAfter(At,Zt))),Xn.remove(ln)),Y0(dt,At))):rt&&ke===s.getBody()||(rt=rt||"P",Uf(ke)?(L=jh(ke),W.isEmpty(ke)&&zC(ke),md(s,L),Y0(s,L)):w()?M():w(!0)?(L=ke.parentNode.insertBefore(v(),ke),Y0(s,DM(ke,"HR")?L:ke)):((Ye=(Dt=ue).cloneRange()).setStart(Dt.startContainer,o_(!0,Dt.startContainer,Dt.startOffset)),Ye.setEnd(Dt.endContainer,o_(!1,Dt.endContainer,Dt.endOffset)),(O=Ye.cloneRange()).setEndAfter(ke),B=O.extractContents(),Sn($y(Ut.fromDom(B),ka),function(qn){var xr=qn.dom;xr.nodeValue=xn(xr.nodeValue)}),function(qn){for(;Er(qn)&&(qn.nodeValue=qn.nodeValue.replace(/^[\r\n]+/,"")),qn=qn.firstChild;);}(B),L=B.firstChild,W.insertAfter(B,ke),function(qn,xr){var Tn,pr,Hn=L,Tr=[];if(Hn){for(;Hn=Hn.firstChild;){if(qn.isBlock(Hn))return;uo(Hn)&&!xr[Hn.nodeName.toLowerCase()]&&Tr.push(Hn)}for(Tn=Tr.length;Tn--;)(!(Hn=Tr[Tn]).hasChildNodes()||Hn.firstChild===Hn.lastChild&&""===Hn.firstChild.nodeValue||(pr=Hn)&&"A"===pr.nodeName&&qn.isEmpty(pr))&&qn.remove(Hn)}}(W,$),function(qn,xr){xr.normalize();var Tn=xr.lastChild;Tn&&!/^(left|right)$/gi.test(qn.getStyle(Tn,"float",!0))||qn.add(xr,"br")}(W,ke),W.isEmpty(ke)&&zC(ke),L.normalize(),W.isEmpty(L)?(W.remove(L),M()):(md(s,L),Y0(s,L))),W.setAttrib(L,"id",""),s.fire("NewBlock",{newBlock:L})))}(s,d)},Z)}function l2(s){return s.stopImmediatePropagation()}function c2(s){return s.keyCode===qr.PAGE_UP||s.keyCode===qr.PAGE_DOWN}function EM(s,d,v){v&&!s.get()?d.on("NodeChange",l2,!0):!v&&s.get()&&d.off("NodeChange",l2),s.set(v)}function rh(s,d){var v=d.container(),w=d.offset();return Er(v)?(v.insertData(w,s),J.some(pn(v,w+s.length))):Yd(d).map(function(M){var O=Ut.fromText(s);return(d.isAtEnd()?fu:cu)(M,O),pn(O.dom,s.length)})}function f2(s){var d,v,w=pn.fromRangeStart(s.selection.getRng()),M=Ut.fromDom(s.getBody());if(s.selection.isCollapsed()){var O=ve(qm,s),L=pn.fromRangeStart(s.selection.getRng());return Qd(O,s.getBody(),L).bind((v=M,function(B){return B.fold(function(G){return Aa(v.dom,pn.before(G))},function(G){return yi(G)},function(G){return sd(G)},function(G){return Da(v.dom,pn.after(G))})})).bind(function HC(s,d){return function(v){return O=s,(!fd(L=v)&&(Aa((w=O).dom,M=L).isNone()||Da(w.dom,M).isNone()||Gm(w,M)||Ka(w,M)||Hm(w,M)||Th(w,M)||Za(O,L)||ef(O,L))?Hl:Qw)(d);var w,M,O,L}}(M,w)).exists((d=s,function(B){return d.selection.setRng(B.toRange()),d.nodeChanged(),!0}))}return!1}(Nf=Eg=Eg||{})[Nf.Up=-1]="Up",Nf[Nf.Down=1]="Down";var m1=ve(H0,Eg.Up,Gd,Jp),d2=ve(H0,Eg.Down,Jp,Gd),Jw=to,i_=xl,v1=function(s,d){var v=s.selection.getRng(),w=s.getBody();if(d){var M=pn.fromRangeEnd(v),O=eh(w,M);return Qt(O.positions)}return M=pn.fromRangeStart(v),bn((O=_y(w,M)).positions)},y1=ve(Bw,!0),b1=ve(Bw,!1),WC=function(s){return Zn(It(s.selection.getSelectedBlocks(),Ut.fromDom),function(d){return!U0(d)&&!$s(d).exists(U0)&&Uh(d,function(v){return Xu(v.dom)||to(v.dom)}).exists(function(v){return Xu(v.dom)})})},GC=to,a_=ve(h1,function(s){return s.bottom},function(s,d){return s.y<d}),h2=ve(h1,function(s){return s.top},function(s,d){return s.y>d}),UC=ve(TM,_y),PM=ve(TM,eh),p2=function(s,d){return v=pn.after(d),!!La(v.getNode())||Da(s,pn.after(d)).map(function(w){return La(w.getNode())}).getOr(!1);var v},Ec=hu([{br:[]},{block:[]},{none:[]}]),RM=Sa().browser,jC=Sa(),Hl=ve(rh,yc),Qw=ve(rh," "),qC=(YC.prototype.nodeChanged=function(s){var d,v,w,M=this.editor.selection;this.editor.initialized&&M&&!this.editor.getParam("disable_nodechange")&&!this.editor.mode.isReadOnly()&&(w=this.editor.getBody(),(d=M.getStart(!0)||w).ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(d,w)||(d=w),v=[],this.editor.dom.getParent(d,function(O){return O===w||void v.push(O)}),(s=s||{}).element=d,s.parents=v,this.editor.fire("NodeChange",s))},YC.prototype.isSameElementPath=function(s){var d,v=this.editor.$(s).parentsUntil(this.editor.getBody()).add(s);if(v.length===this.lastPath.length){for(d=v.length;0<=d&&v[d]===this.lastPath[d];d--);if(-1===d)return this.lastPath=v,!0}return this.lastPath=v,!1},YC);function YC(s){var d;this.lastPath=[],this.editor=s;var v=this;"onselectionchange"in s.getDoc()||s.on("NodeChange click mouseup keyup focus",function(w){var M=s.selection.getRng(),O={startContainer:M.startContainer,startOffset:M.startOffset,endContainer:M.endContainer,endOffset:M.endOffset};"nodechange"!==w.type&&Pi(O,d)||s.fire("SelectionChange"),d=O}),s.on("contextmenu",function(){s.fire("SelectionChange")}),s.on("SelectionChange",function(){var w=s.selection.getStart(!0);!w||!Wr.range&&s.selection.isCollapsed()||c0(s)&&!v.isSameElementPath(w)&&s.dom.isChildOf(w,s.getBody())&&s.nodeChanged({selectionChange:!0})}),s.on("mouseup",function(w){!w.isDefaultPrevented()&&c0(s)&&("IMG"===s.selection.getNode().nodeName?Bt.setEditorTimeout(s,function(){s.nodeChanged()}):s.nodeChanged())})}function eS(s){return uo(s)&&Gy(Ut.fromDom(s))}function $0(s){var d=s.getBoundingClientRect(),v=s.ownerDocument,w=v.documentElement,M=v.defaultView;return{top:d.top+M.pageYOffset-w.clientTop,left:d.left+M.pageXOffset-w.clientLeft}}function J0(s){s&&s.parentNode&&s.parentNode.removeChild(s)}function s_(s,d){return fg(s.getBody(),d)}function tS(s){function d(Ye){return Ye!==Me&&(zf(Ye)||Il(Ye))&&be.isChildOf(Ye,Me)}function v(Ye){return Wm(Ye)||uy(Ye)||y0(Ye)||Dh(Ye)}function w(Ye){Ye&&pe.setRng(Ye)}function M(Ye,rt,dt,Vt){return void 0===Vt&&(Vt=!0),s.fire("ShowCaret",{target:rt,direction:Ye,before:dt}).isDefaultPrevented()?null:(Vt&&pe.scrollIntoView(rt,-1===Ye),ke.show(dt,rt))}function O(Ye){return Nr(Ye)||Ad(Ye)||Yh(Ye)}function L(Ye){return O(Ye.startContainer)||O(Ye.endContainer)}function B(Ye,rt){if(!Ye)return null;if(Ye.collapsed){if(!L(Ye)){var dt=rt?1:-1,Vt=lp(dt,Me,Ye),Zt=Vt.getNode(!rt);if(fm(Zt))return M(dt,Zt,!!rt&&!Vt.isAtEnd(),!1);var ln=Vt.getNode(rt);if(fm(ln))return M(dt,ln,!rt&&!Vt.isAtEnd(),!1)}return null}var on=Ye.startContainer,Mt=Ye.startOffset,At=Ye.endOffset;if(3===on.nodeType&&0===Mt&&zf(on.parentNode)&&(Mt=be.nodeIndex(on=on.parentNode),on=on.parentNode),1!==on.nodeType)return null;if(At===Mt+1&&on===Ye.endContainer){var zt=on.childNodes[Mt];if(d(zt))return function(tn){var On=tn.cloneNode(!0),er=s.fire("ObjectSelected",{target:tn,targetClone:On});if(er.isDefaultPrevented())return null;var An=function(Fn,Yn,qn){var xr=s.$,Tn=Wf(Ut.fromDom(s.getBody()),"#"+Ne).fold(function(){return xr([])},function(Tr){return xr([Tr.dom])});0===Tn.length&&(Tn=xr('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",Ne)).appendTo(s.getBody());var pr=be.createRng();Yn===qn&&Wr.ie?(Tn.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xa0</p>').append(Yn),pr.setStartAfter(Tn[0].firstChild.firstChild),pr.setEndAfter(Yn)):(Tn.empty().append(yc).append(Yn).append(yc),pr.setStart(Tn[0].firstChild,1),pr.setEnd(Tn[0].lastChild,0)),Tn.css({top:be.getPos(Fn,s.getBody()).y}),Tn[0].focus();var Hn=pe.getSel();return Hn.removeAllRanges(),Hn.addRange(pr),pr}(tn,er.targetClone,On),Xn=Ut.fromDom(tn);return Sn(Ol(Ut.fromDom(s.getBody()),"*[data-mce-selected]"),function(Fn){En(Xn,Fn)||Hh(Fn,je)}),be.getAttrib(tn,je)||tn.setAttribute(je,"1"),W=tn,Dt(),An}(zt)}return null}function G(){W&&W.removeAttribute(je),Wf(Ut.fromDom(s.getBody()),"#"+Ne).each(Js),W=null}var W,re,$,ue,pe=s.selection,be=s.dom,we=be.isBlock,Me=s.getBody(),ke=function W_(s,d,v,w){function M(){(function(){for(var re=Ol(Ut.fromDom(d),"*[contentEditable=false],video,audio,embed,object"),$=0;$<re.length;$++){var ue,pe=re[$].dom,be=pe.previousSibling;Yh(be)&&(1===(ue=be.data).length?be.parentNode.removeChild(be):be.deleteData(ue.length-1,1)),Ad(be=pe.nextSibling)&&(1===(ue=be.data).length?be.parentNode.removeChild(be):be.deleteData(0,1))}})(),L&&(mm(L),L=null),B.on(function(re){po(re.caret).remove(),B.clear()}),O&&(Bt.clearInterval(O),O=void 0)}var O,L,B=Jf(),G=pa(s),W=0<G.length?G:"p";return{show:function(re,$){var ue;if(M(),U_($))return null;if(!v($))return L=function(we,Me){var ke=we.ownerDocument.createTextNode(zs),Ne=we.parentNode;if(Me){if(gl(je=we.previousSibling)){if(Nr(je))return je;if(Yh(je))return je.splitText(je.data.length-1)}Ne.insertBefore(ke,we)}else{var je=we.nextSibling;if(gl(je)){if(Nr(je))return je;if(Ad(je))return je.splitText(1),je}we.nextSibling?Ne.insertBefore(ke,we.nextSibling):Ne.appendChild(ke)}return ke}($,re),ue=$.ownerDocument.createRange(),cp(L.nextSibling)?(ue.setStart(L,0),ue.setEnd(L,0)):(ue.setStart(L,1),ue.setEnd(L,1)),ue;L=function(we,Me,ke){var Ne,je=Me.ownerDocument.createElement(we);je.setAttribute("data-mce-caret",ke?"before":"after"),je.setAttribute("data-mce-bogus","all"),je.appendChild(((Ne=document.createElement("br")).setAttribute("data-mce-bogus","1"),Ne));var ct=Me.parentNode;return ke?ct.insertBefore(je,Me):Me.nextSibling?ct.insertBefore(je,Me.nextSibling):ct.appendChild(je),je}(W,$,re);var pe=Ds(d,$,re);po(L).css("top",pe.top);var be=po('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(Sr({},pe)).appendTo(d)[0];return B.set({caret:be,element:$,before:re}),re&&po(be).addClass("mce-visual-caret-before"),O=Bt.setInterval(function(){w()?po("div.mce-visual-caret",d).toggleClass("mce-visual-caret-hidden"):po("div.mce-visual-caret",d).addClass("mce-visual-caret-hidden")},500),(ue=$.ownerDocument.createRange()).setStart(L,0),ue.setEnd(L,0),ue},hide:M,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:function(){B.on(function(re){var $=Ds(d,re.element,re.before);po(re.caret).css(Sr({},$))})},destroy:function(){return Bt.clearInterval(O)}}}(s,Me,we,function(){return wu(s)}),Ne="sel-"+be.uniqueId(),je="data-mce-selected",ct=pe.getRng,Dt=function(){ke.hide()};return Wr.ceFalse&&!kp(s)&&(s.on("mouseup",function(Ye){var rt=ct();rt.collapsed&&gy(s,Ye.clientX,Ye.clientY)&&jx(s,rt,!1).each(w)}),s.on("click",function(Ye){var rt=s_(s,Ye.target);rt&&(zf(rt)&&(Ye.preventDefault(),s.focus()),QC(rt)&&be.isChildOf(rt,pe.getNode())&&G())}),s.on("blur NewBlock",G),s.on("ResizeWindow FullscreenStateChanged",ke.reposition),s.on("tap",function(Ye){var rt=Ye.target,dt=s_(s,rt);zf(dt)?(Ye.preventDefault(),by(s,dt).each(B)):d(rt)&&by(s,rt).each(B)},!0),s.on("mousedown",function(Ye){var rt,dt,Vt,Zt,ln,on,Mt,At=Ye.target;At!==Me&&"HTML"!==At.nodeName&&!be.isChildOf(At,Me)||!1===gy(s,Ye.clientX,Ye.clientY)||((rt=s_(s,At))?zf(rt)?(Ye.preventDefault(),by(s,rt).each(B)):(G(),QC(rt)&&Ye.shiftKey||qo(Ye.clientX,Ye.clientY,pe.getRng())||(Dt(),pe.placeCaretAt(Ye.clientX,Ye.clientY))):d(At)?by(s,At).each(B):!1===fm(At)&&(G(),Dt(),(dt=function i2(s,d,v){function w(W){return!Kg(W.node)&&!Il(W.node)}var M,O,L,B=Kx(Zn(Io(s.getElementsByTagName("*")),fm));return(L=EC(Zn(B,ve(Jm,v)),d,w))&&(L=EC(function(W,re,$){function ue(be,we){var Me=Zn(Kx([we]),function(ke){return!be(ke,re)});return pe=pe.concat(Me),0===Me.length}void 0===$&&($=!0);var pe=[];return pe.push(re),ys(Eg.Up,W,ve(ue,Gd),re.node,$),ys(Eg.Down,W,ve(ue,Jp),re.node,$),pe}(s,L,w(L)),d,w))&&fm(L.node)?{node:(M=L).node,before:Lw(M,O=d)<$x(M,O)}:null}(Me,Ye.clientX,Ye.clientY))&&(Zt=dt.node,on=be.getParent(Vt=At,we),Mt=be.getParent(Zt,we),!xe(on)&&(Vt!==Mt&&be.isChildOf(on,Mt)&&!1===zf(s_(s,on))||!be.isChildOf(Mt,on)&&(ln=Mt,be.getParent(on,we)!==be.getParent(ln,we))&&function(zt){var tn=zt.firstChild;if(!xe(tn)){var On=pn.before(tn);if(La(On.getNode())&&1===zt.childNodes.length)return!v(On);var er=Rl(zt).next(On);return er&&!v(er)}}(on))||(Ye.preventDefault(),w(M(1,dt.node,dt.before,!1)),s.getBody().focus()))))}),s.on("keypress",function(Ye){qr.modifierPressed(Ye)||zf(pe.getNode())&&Ye.preventDefault()}),s.on("GetSelectionRange",function(Ye){var rt=Ye.range;W&&(W.parentNode?((rt=rt.cloneRange()).selectNode(W),Ye.range=rt):W=null)}),s.on("SetSelectionRange",function(Ye){var rt,dt,Vt,Zt,ln,on,Mt;Ye.range=(rt=Ye.range,dt=s.schema.getShortEndedElements(),Vt=be.createRng(),ln=rt.startOffset,on=rt.endContainer,Mt=rt.endOffset,so(dt,(Zt=rt.startContainer).nodeName.toLowerCase())?0===ln?Vt.setStartBefore(Zt):Vt.setStartAfter(Zt):Vt.setStart(Zt,ln),so(dt,on.nodeName.toLowerCase())?0===Mt?Vt.setEndBefore(on):Vt.setEndAfter(on):Vt.setEnd(on,Mt),Vt);var At=B(Ye.range,Ye.forward);At&&(Ye.range=At)}),s.on("AfterSetSelectionRange",function(Ye){var rt=Ye.range,dt=rt.startContainer.parentNode;L(rt)||"mcepastebin"===dt.id||Dt(),be.hasClass(dt,"mce-offscreen-selection")||G()}),s.on("copy",function(Ye){var rt,dt,Vt=Ye.clipboardData;Ye.isDefaultPrevented()||!Ye.clipboardData||Wr.ie||(rt=(dt=be.get(Ne))&&dt.getElementsByTagName("*")[0])&&(Ye.preventDefault(),Vt.clearData(),Vt.setData("text/html",rt.outerHTML),Vt.setData("text/plain",rt.outerText||rt.innerText))}),function LM(s){var d,v;function w(L){var B;L.isDefaultPrevented()||(B=L.dataTransfer)&&(Ht(B.types,"Files")||0<B.files.length)&&(L.preventDefault(),"drop"===L.type&&n1(v,"Dropped file type is not supported"))}function M(L){Vr(v,L.target)&&w(L)}function O(){var L=Ui.DOM,B=v.dom,G=document,W=v.inline?v.getBody():v.getDoc(),re=["drop","dragover"];Sn(re,function($){L.bind(G,$,M),B.bind(W,$,w)}),v.on("remove",function(){Sn(re,function($){L.unbind(G,$,M),B.unbind(W,$,w)})})}(function g2(s){var w,M,O,L,B,G,W=Jf(),re=Ui.DOM,$=document,ue=function $D(s,d){var v=Bt.throttle(function(w,M){d._selectionOverrides.hideFakeCaret(),d.selection.placeCaretAt(w,M)},0);return d.on("remove",v.stop),function(w){return s.on(function(M){var O,L,B,G,W,re,$,ue,pe,be,we,Me,ke,Ne,je,ct,Dt,Ye,rt,dt,Vt=Math.max(Math.abs(w.screenX-M.screenX),Math.abs(w.screenY-M.screenY));if(!M.dragging&&10<Vt){if(d.fire("dragstart",{target:M.element}).isDefaultPrevented())return;M.dragging=!0,d.focus()}M.dragging&&(Me=M,O={pageX:(je=w,ct=(Ne=d).inline?$0(Ne.getBody()):{left:0,top:0},dt=(rt=Ne).getBody(),Dt=rt.inline?{left:dt.scrollLeft,top:dt.scrollTop}:{left:0,top:0},(ke={pageX:(Ye=function(Zt,ln){if(ln.target.ownerDocument===Zt.getDoc())return{left:ln.pageX,top:ln.pageY};var on,Mt,At,On=$0(Zt.getContentAreaContainer()),er=(Mt=(on=Zt).getBody(),At=on.getDoc().documentElement,on.inline?{left:Mt.scrollLeft,top:Mt.scrollTop}:{left:Mt.scrollLeft||At.scrollLeft,top:Mt.scrollTop||At.scrollTop});return{left:ln.pageX-On.left+er.left,top:ln.pageY-On.top+er.top}}(Ne,je)).left-ct.left+Dt.left,pageY:Ye.top-ct.top+Dt.top}).pageX-Me.relX),pageY:ke.pageY+5},be=M.ghost,we=d.getBody(),be.parentNode!==we&&we.appendChild(be),G=M.width,W=M.height,re=M.maxX,$=M.maxY,pe=ue=0,(L=M.ghost).style.left=(B=O).pageX+"px",L.style.top=B.pageY+"px",$<B.pageY+W&&(pe=B.pageY+W-$),L.style.width=G-(ue=re<B.pageX+G?B.pageX+G-re:ue)+"px",L.style.height=W-pe+"px",v(w.clientX,w.clientY))})}}(B=W,G=s),pe=(w=O=W,function(){w.on(function(be){be.dragging&&M.fire("dragend")}),x2(w)});(M=L=s).on("mousedown",function d(be){var we,Me,ke,Ne,je,ct;0===be.button&&(we=hn(G.dom.getParents(be.target),function(){for(var Dt=[],Ye=0;Ye<arguments.length;Ye++)Dt[Ye]=arguments[Ye];return function(rt){for(var dt=0;dt<Dt.length;dt++)if(Dt[dt](rt))return!0;return!1}}(oS,WM)).getOr(null),je=G.getBody(),oS(ct=we)&&ct!==je&&(Me=G.dom.getPos(we),ke=G.getBody(),Ne=G.getDoc().documentElement,B.set({element:we,dragging:!1,screenX:be.screenX,screenY:be.screenY,maxX:(G.inline?ke.scrollWidth:Ne.offsetWidth)-2,maxY:(G.inline?ke.scrollHeight:Ne.offsetHeight)-2,relX:be.pageX-Me.x,relY:be.pageY-Me.y,width:we.offsetWidth,height:we.offsetHeight,ghost:function(Dt,Ye,rt){var dt=G.dom,Vt=Dt.cloneNode(!0);dt.setStyles(Vt,{width:Ye,height:rt}),dt.setAttrib(Vt,"data-mce-selected",null);var Zt=dt.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return dt.setStyles(Zt,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:Ye,height:rt}),dt.setStyles(Vt,{margin:0,boxSizing:"border-box"}),Zt.appendChild(Vt),Zt}(we,we.offsetWidth,we.offsetHeight)})))}),s.on("mousemove",ue),s.on("mouseup",function v(be){O.on(function(we){var Me,ke,Ne,je,ct,Dt;we.dragging&&((je=3===(Dt=(Ne=L).selection.getSel().getRangeAt(0).startContainer).nodeType?Dt.parentNode:Dt)===(ct=we.element)||Ne.dom.isChildOf(je,ct)||oS(je)||((ke=we.element.cloneNode(!0)).removeAttribute("data-mce-selected"),Me=ke,L.fire("drop",{clientX:be.clientX,clientY:be.clientY}).isDefaultPrevented()||L.undoManager.transact(function(){J0(we.element),L.insertContent(L.dom.getOuterHTML(Me)),L._selectionOverrides.hideFakeCaret()})),L.fire("dragend"))}),x2(O)}),re.bind($,"mousemove",ue),re.bind($,"mouseup",pe),s.on("remove",function(){re.unbind($,"mousemove",ue),re.unbind($,"mouseup",pe)}),s.on("keydown",function(be){be.keyCode===qr.ESC&&pe()})})(s),(d=s).on("drop",function(L){var B=void 0!==L.clientX?d.getDoc().elementFromPoint(L.clientX,L.clientY):null;!oS(B)&&"false"!==d.dom.getContentEditableParent(B)||L.preventDefault()}),s.getParam("block_unsupported_drop",!0,"boolean")&&(v=s).on("init",function(){Bt.setEditorTimeout(v,O,0)})}(s),$=$1(function(){var Ye,rt;re.removed||!re.getBody().contains(document.activeElement)||(Ye=re.selection.getRng()).collapsed&&(rt=Tg(re,Ye,!1),re.selection.setRng(rt))},0),(re=s).on("focus",function(){$.throttle()}),re.on("blur",function(){$.cancel()}),(ue=s).on("init",function(){ue.on("focusin",function(Ye){var rt,dt,Vt=Ye.target;Il(Vt)&&(rt=fg(ue.getBody(),Vt),dt=to(rt)?rt:Vt,ue.selection.getNode()!==dt&&by(ue,dt).each(function(Zt){return ue.selection.setRng(Zt)}))})})),{showCaret:M,showBlockCaretContainer:function(Ye){Ye.hasAttribute("data-mce-caret")&&(jh(Ye),w(ct()),pe.scrollIntoView(Ye))},hideFakeCaret:Dt,destroy:function(){ke.destroy(),W=null}}}function XC(s){return bo(s,function(d){return!1===Ke(d)})}function NM(s){var d=s.settings;return XC({block_elements:d.block_elements,boolean_attributes:d.boolean_attributes,custom_elements:d.custom_elements,extended_valid_elements:d.extended_valid_elements,invalid_elements:d.invalid_elements,invalid_styles:d.invalid_styles,move_caret_before_on_enter_elements:d.move_caret_before_on_enter_elements,non_empty_elements:d.non_empty_elements,schema:d.schema,self_closing_elements:d.self_closing_elements,short_ended_elements:d.short_ended_elements,special:d.special,text_block_elements:d.text_block_elements,text_inline_elements:d.text_inline_elements,valid_children:d.valid_children,valid_classes:d.valid_classes,valid_elements:d.valid_elements,valid_styles:d.valid_styles,verify_html:d.verify_html,whitespace_elements:d.whitespace_elements,padd_empty_block_inline_children:d.format_empty_lines})}function bd(s){var d=s.settings,v=s.editorUpload.blobCache;return XC({allow_conditional_comments:d.allow_conditional_comments,allow_html_data_urls:d.allow_html_data_urls,allow_svg_data_urls:d.allow_svg_data_urls,allow_html_in_named_anchor:d.allow_html_in_named_anchor,allow_script_urls:d.allow_script_urls,allow_unsafe_link_target:d.allow_unsafe_link_target,convert_fonts_to_spans:d.convert_fonts_to_spans,fix_list_elements:d.fix_list_elements,font_size_legacy_values:d.font_size_legacy_values,forced_root_block:d.forced_root_block,forced_root_block_attrs:d.forced_root_block_attrs,padd_empty_with_br:d.padd_empty_with_br,preserve_cdata:d.preserve_cdata,remove_trailing_brs:d.remove_trailing_brs,inline_styles:d.inline_styles,root_name:s.inline?s.getElement().nodeName.toLowerCase():void 0,validate:!0,blob_cache:v,document:s.getDoc(),images_dataimg_filter:d.images_dataimg_filter})}function nS(s){return(s.inline?s.ui:s.dom).styleSheetLoader}function ZC(s){function d(){M.unloadAll(L),s.inline||s.ui.styleSheetLoader.unloadAll(O)}function v(){s.removed?d():s.on("remove",d)}var w,M=nS(s),O=Cb(s),L=s.contentCSS;0<s.contentStyles.length&&(w="",gn.each(s.contentStyles,function(ke){w+=ke+"\r\n"}),s.dom.addStyle(w));var B,G,W,re,$,ue,pe,be,we,Me=Wi.all((B=s,G=L,W=O,re=[new Wi(function(ke,Ne){return nS(B).loadAll(G,ke,Ne)})],B.inline?re:re.concat([new Wi(function(ke,Ne){return B.ui.styleSheetLoader.loadAll(W,ke,Ne)})]))).then(v).catch(v);return s.settings.content_style&&(ue=($=s).settings.content_style,pe=Ut.fromDom($.getBody()),be=lu(fl(pe)),ql(we=Ut.fromTag("style"),"type","text/css"),Cs(we,Ut.fromText(ue)),Cs(be,we),$.on("remove",function(){Js(we)})),Me}function rS(s){var d;!0!==s.removed&&(kp(d=s)||d.load({initial:!0,format:"html"}),d.startContent=d.getContent({format:"raw"}),function l_(s){var d,v,w;s.bindPendingEventDelegates(),s.initialized=!0,s.fire("Init"),s.focus(!0),w=(v=s).dom.getRoot(),v.inline||c0(v)&&v.selection.getStart(!0)!==w||yi(w).each(function(M){var O,L,B,G,W=M.getNode(),re=Kg(W)?yi(W).getOr(M):M;Wr.browser.isIE()?(O=v,L=re.toRange(),B=Ut.fromDom(O.getBody()),G=(Wo(O)?J.from(L):J.none()).map(gx).filter(Lb(B)),O.bookmark=G.isSome()?G:O.bookmark):v.selection.setRng(re.toRange())}),s.nodeChanged({initial:!0}),s.execCallback("init_instance_callback",s),(d=s).settings.auto_focus&&Bt.setEditorTimeout(d,function(){var M=!0===d.settings.auto_focus?d:d.editorManager.get(d.settings.auto_focus);M.destroyed||M.focus()},100)}(s))}function KC(s,d){var v=s.settings,w=s.getElement(),M=s.getDoc();v.inline||(s.getElement().style.visibility=s.orgVisibility),d||s.inline||(M.open(),M.write(s.iframeHTML),M.close()),s.inline&&(GM.addClass(w,"mce-content-body"),s.contentDocument=M=document,s.contentWindow=window,s.bodyElement=w,s.contentAreaContainer=w);var O,L,B,G,W,re,$,ue,pe,be,we,Me,ke=s.getBody();ke.disabled=!0,s.readonly=!!v.readonly,s.readonly||(s.inline&&"static"===GM.getStyle(ke,"position",!0)&&(ke.style.position="relative"),ke.contentEditable=s.getParam("content_editable_state",!0)),ke.disabled=!1,s.editorUpload=function ZT(s){function d(Ne){return function(je){return s.selection?Ne(je):[]}}function v(Ne,je,ct){for(var Dt=0;-1!==(Dt=Ne.indexOf(je,Dt))&&(Ne=Ne.substring(0,Dt)+ct+Ne.substr(Dt+je.length),Dt+=ct.length-je.length+1),-1!==Dt;);return Ne}function w(Ne,je,ct){return Ne=v(Ne,'src="'+je+'"','src="'+ct+'"'+(ct===Wr.transparentSrc?' data-mce-placeholder="1"':"")),v(Ne,'data-mce-src="'+je+'"','data-mce-src="'+ct+'"')}function M(Ne,je){Sn(s.undoManager.data,function(ct){"fragmented"===ct.type?ct.fragments=It(ct.fragments,function(Dt){return w(Dt,Ne,je)}):ct.content=w(ct.content,Ne,je)})}function O(Ne){return W=W||dd(s,be),ke().then(d(function(je){var ct=It(je,function(Dt){return Dt.blobInfo});return W.upload(ct,yC(s)).then(d(function(Dt){var Ye=[],rt=It(Dt,function(dt,Vt){var ln,on,Mt,At=je[Vt].blobInfo,zt=je[Vt].image;return dt.status&&s.getParam("images_replace_blob_uris",!0,"boolean")?(pe.removeByUri(zt.src),kp(s)||(ln=zt,Mt=s.convertURL(on=dt.url,"src"),M(ln.src,on),s.$(ln).attr({src:s.getParam("images_reuse_filename",!1,"boolean")?on+(-1===on.indexOf("?")?"?":"&")+(new Date).getTime():on,"data-mce-src":Mt}))):dt.error&&(dt.error.options.remove&&(M(zt.getAttribute("src"),Wr.transparentSrc),Ye.push(zt)),n1(s,kf.translate(["Failed to upload image: {0}",dt.error.message]))),{element:zt,status:dt.status,uploadUri:dt.url,blobInfo:At}});return 0<rt.length&&Me.fireIfChanged(),0<Ye.length&&(kp(s)?console.error("Removing images on failed uploads is currently unsupported for RTC"):s.undoManager.transact(function(){Sn(Ye,function(dt){s.dom.remove(dt),pe.removeByUri(dt.src)})})),Ne&&Ne(rt),rt}))}))}function L(Ne){if(ng(s))return O(Ne)}function B(Ne){return!1!==hr(we,function(je){return je(Ne)})&&(0!==Ne.getAttribute("src").indexOf("data:")||s.getParam("images_dataimg_filter",sn,"function")(Ne))}function G(Ne){return Ne.replace(/src="(blob:[^"]+)"/g,function(je,ct){var Dt=be.getResultUri(ct);if(Dt)return'src="'+Dt+'"';var Ye=(Ye=pe.getByUri(ct))||cr(s.editorManager.get(),function(rt,dt){return rt||dt.editorUpload&&dt.editorUpload.blobCache.getByUri(ct)},null);return Ye?'src="data:'+Ye.blob().type+";base64,"+Ye.base64()+'"':je})}var W,re,$,ue,pe=function vC(){function s(M){return hn(w,M).getOrUndefined()}function d(M){if(!M.blob||!M.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var O=M.id||mC("blobid"),L=M.name||O,B=M.blob;return{id:te(O),name:te(L),filename:te(M.filename||L+"."+({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}[B.type.toLowerCase()]||"dat")),blob:te(B),base64:te(M.base64),blobUri:te(M.blobUri||URL.createObjectURL(B)),uri:te(M.uri)}}function v(M){return s(function(O){return O.id()===M})}var w=[];return{create:function(M,O,L,B,G){if(Le(M))return d({id:M,name:B,filename:G,blob:O,base64:L});if(et(M))return d(M);throw new Error("Unknown input type")},add:function(M){v(M.id())||w.push(M)},get:v,getByUri:function(M){return s(function(O){return O.blobUri()===M})},getByData:function(M,O){return s(function(L){return L.base64()===M&&L.blob().type===O})},findFirst:s,removeByUri:function(M){w=Zn(w,function(O){return O.blobUri()!==M||void URL.revokeObjectURL(O.blobUri())})},destroy:function(){Sn(w,function(M){URL.revokeObjectURL(M.blobUri())}),w=[]}}}(),be=Vx(),we=[],Me=(ue=Ya(null),($=s).on("change AddUndo",function(Ne){ue.set(Sr({},Ne.level))}),{fireIfChanged:function(){var Ne=$.undoManager.data;Qt(Ne).filter(function(je){return!Ix(ue.get(),je)}).each(function(je){$.setDirty(!0),$.fire("change",{level:je,lastLevel:Oa(Ne,Ne.length-2).getOrNull()})})}}),ke=function(){return(re=re||function Zb(s,d){var v={};return{findAll:function(w,M){M=M||sn;var O=It(Zn(w?Io(w.getElementsByTagName("img")):[],function(L){var B=L.src;return Wr.fileApi&&!L.hasAttribute("data-mce-bogus")&&!L.hasAttribute("data-mce-placeholder")&&B&&B!==Wr.transparentSrc&&(0===B.indexOf("blob:")?!s.isUploaded(B)&&M(L):0===B.indexOf("data:")&&M(L))}),function(L){if(void 0!==v[L.src])return new Wi(function(G){v[L.src].then(function(W){return"string"==typeof W?W:void G({image:L,blobInfo:W.blobInfo})})});var B=new Wi(function(G,W){var re,$,ue,pe,be,we,ke,Ne;re=d,ue=G,pe=W,0!==($=L).src.indexOf("blob:")?(we=(be=aM($.src)).data,(Ne=re.getByData(ke=we,be.type))?ue({image:$,blobInfo:Ne}):Hu($.src).then(function(je){Ne=re.create(Xb(),je,ke),re.add(Ne),ue({image:$,blobInfo:Ne})},function(je){pe(je)})):(Ne=re.getByUri($.src))?ue({image:$,blobInfo:Ne}):Hu($.src).then(function(je){var ct=je;new Wi(function(Dt){var Ye=new FileReader;Ye.onloadend=function(){Dt(Ye.result)},Ye.readAsDataURL(ct)}).then(function(Dt){ke=aM(Dt).data,Ne=re.create(Xb(),je,ke),re.add(Ne),ue({image:$,blobInfo:Ne})})},function(je){pe(je)})}).then(function(G){return delete v[G.image.src],G}).catch(function(G){return delete v[L.src],G});return v[L.src]=B});return Wi.all(O)}}}(be,pe)).findAll(s.getBody(),B).then(d(function(Ne){return Ne=Zn(Ne,function(je){return"string"!=typeof je||void n1(s,je)}),kp(s)||Sn(Ne,function(je){M(je.image.src,je.blobInfo.blobUri()),je.image.src=je.blobInfo.blobUri(),je.image.removeAttribute("data-mce-src")}),Ne}))};return s.on("SetContent",function(){(ng(s)?L:ke)()}),s.on("RawSaveContent",function(Ne){Ne.content=G(Ne.content)}),s.on("GetContent",function(Ne){Ne.source_view||"raw"===Ne.format||"tree"===Ne.format||(Ne.content=G(Ne.content))}),s.on("PostRender",function(){s.parser.addNodeFilter("img",function(Ne){Sn(Ne,function(je){var ct,Dt=je.attr("src");pe.getByUri(Dt)||(ct=be.getResultUri(Dt))&&je.attr("src",ct)})})}),{blobCache:pe,addFilter:function(Ne){we.push(Ne)},uploadImages:O,uploadImagesAuto:L,scanForImages:ke,destroy:function(){pe.destroy(),be.destroy(),re=W=null}}}(s),s.schema=Hp(NM(s)),s.dom=Ui(M,{keep_values:!0,url_converter:s.convertURL,url_converter_scope:s,hex_colors:v.force_hex_style_colors,update_styles:!0,root_element:s.inline?s.getBody():null,collect:function(){return s.inline},schema:s.schema,contentCssCors:s.getParam("content_css_cors",!1,"boolean"),referrerPolicy:Vv(s),onSetAttrib:function(Mt){s.fire("SetAttrib",Mt)}}),s.parser=((L=T0(bd(O=s),O.schema)).addAttributeFilter("src,href,style,tabindex",function(Mt,At){for(var zt,tn,On=Mt.length,er=O.dom,An="data-mce-"+At;On--;)(tn=(zt=Mt[On]).attr(At))&&!zt.attr(An)&&0!==tn.indexOf("data:")&&0!==tn.indexOf("blob:")&&("style"===At?((tn=er.serializeStyle(er.parseStyle(tn),zt.name)).length||(tn=null),zt.attr(An,tn),zt.attr(At,tn)):"tabindex"===At?(zt.attr(An,tn),zt.attr(At,null)):zt.attr(An,O.convertURL(tn,At,zt.name)))}),L.addNodeFilter("script",function(Mt){for(var At=Mt.length;At--;){var zt=Mt[At],tn=zt.attr("type")||"no/type";0!==tn.indexOf("mce-")&&zt.attr("type","mce-"+tn)}}),O.settings.preserve_cdata&&L.addNodeFilter("#cdata",function(Mt){for(var At=Mt.length;At--;){var zt=Mt[At];zt.type=8,zt.name="#comment",zt.value="[CDATA["+O.dom.encode(zt.value)+"]]"}}),L.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(Mt){for(var At=Mt.length,zt=O.schema.getNonEmptyElements();At--;){var tn=Mt[At];tn.isEmpty(zt)&&0===tn.getAll("br").length&&(tn.append(new $e("br",1)).shortEnded=!0)}}),L),s.serializer=hy((G=(B=s).settings,Sr(Sr(Sr({},bd(B)),NM(B)),XC({url_converter:G.url_converter,url_converter_scope:G.url_converter_scope,element_format:G.element_format,entities:G.entities,entity_encoding:G.entity_encoding,indent:G.indent,indent_after:G.indent_after,indent_before:G.indent_before}))),s),s.selection=qT(s.dom,s.getWin(),s.serializer,s),s.annotator=ux(s),s.formatter=yy(s),s.undoManager=KT(s),s._nodeChangeDispatcher=new qC(s),s._selectionOverrides=tS(s),pe=s,be=Jf(),we=Ya(!1),Me=Wd(function(Mt){pe.fire("longpress",Sr(Sr({},Mt),{type:"longpress"})),we.set(!0)},400),pe.on("touchstart",function(Mt){Ww(Mt).each(function(At){Me.cancel();var zt={x:At.clientX,y:At.clientY,target:Mt.target};Me.throttle(Mt),we.set(!1),be.set(zt)})},!0),pe.on("touchmove",function(Mt){Me.cancel(),Ww(Mt).each(function(At){be.on(function(zt){var tn=At,On=zt,er=Math.abs(tn.clientX-On.x),An=Math.abs(tn.clientY-On.y);(5<er||5<An)&&(be.clear(),we.set(!1),pe.fire("longpresscancel"))})})},!0),pe.on("touchend touchcancel",function(Mt){Me.cancel(),"touchcancel"!==Mt.type&&be.get().filter(function(At){return At.target.isEqualNode(Mt.target)}).each(function(){we.get()?Mt.preventDefault():pe.fire("tap",Sr(Sr({},Mt),{type:"tap"}))})},!0),($=re=s).on("click",function(Mt){$.dom.getParent(Mt.target,"details")&&Mt.preventDefault()}),(ue=re).parser.addNodeFilter("details",function(Mt){Sn(Mt,function(At){At.attr("data-mce-open",At.attr("open")),At.attr("open","open")})}),ue.serializer.addNodeFilter("details",function(Mt){Sn(Mt,function(At){var zt=At.attr("data-mce-open");At.attr("open",Le(zt)?zt:null),At.attr("data-mce-open",null)})}),kp(s)||(W=s).on("click",function(Mt){var At,zt,tn,On,er;3<=Mt.detail&&(tn=(At=W).selection.getRng(),On=pn.fromRangeStart(tn),er=pn.fromRangeEnd(tn),!pn.isElementPosition(On)||eS(zt=On.container())&&yi(zt).each(function(An){return tn.setStart(An.container(),An.offset())}),!pn.isElementPosition(er)||eS(zt=On.container())&&sd(zt).each(function(An){return tn.setEnd(An.container(),An.offset())}),At.selection.setRng(Hk(tn)))});var Ne,je,ct,Dt,Ye,rt,dt,Vt,Zt,ln=kp(Ne=s)?Ya(null):function $w(s){var d,v,w,M,O,L,B,G,W,re,$,ue,pe,be,we=function ev(s){var d=Ya(null),v=ve(qm,s);return s.on("NodeChange",function(w){var M,O,L,B,G,re,$,ue,pe,be,we,Me;!_h(s)||Wr.browser.isIE()&&w.initial||(G=v,re=w.parents,Sn(aa($=Zn(It(Ol(Ut.fromDom(s.dom.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(ke){return ke.dom}),G),ue=Zn(re,G)),ve(Qx,!1)),Sn(aa(ue,$),ve(Qx,!0)),be=d,(pe=s).selection.isCollapsed()&&!0!==pe.composing&&be.get()&&(we=pn.fromRangeStart(pe.selection.getRng()),pn.isTextPosition(we)&&!1===(Cv(Me=we)||kd(Me))&&(Jx(pe,Tf(be.get(),we)),be.set(null))),M=v,L=d,B=w.parents,(O=s).selection.isCollapsed()&&Sn(Zn(B,M),function(ke){var Ne=pn.fromRangeStart(O.selection.getRng());Qd(M,O.getBody(),Ne).bind(function(je){return th(O,L,je)})}))}),d}(s);return s.on("keyup compositionstart",ve(PC,s)),be=we,(pe=s).on("keydown",function(Me){var ke,Ne,je,ct;!1===Me.isDefaultPrevented()&&(ke=pe,Ne=be,je=Me,ct=Sa().os,d1([{keyCode:qr.RIGHT,action:ti(ov,ke,!0)},{keyCode:qr.LEFT,action:ti(ov,ke,!1)},{keyCode:qr.UP,action:ti(nh,ke,!1)},{keyCode:qr.DOWN,action:ti(nh,ke,!0)},{keyCode:qr.RIGHT,action:ti(qw,ke,!0)},{keyCode:qr.LEFT,action:ti(qw,ke,!1)},{keyCode:qr.UP,action:ti(n_,ke,!1)},{keyCode:qr.DOWN,action:ti(n_,ke,!0)},{keyCode:qr.RIGHT,action:ti(jw,ke,!0)},{keyCode:qr.LEFT,action:ti(jw,ke,!1)},{keyCode:qr.UP,action:ti(kM,ke,!1)},{keyCode:qr.DOWN,action:ti(kM,ke,!0)},{keyCode:qr.RIGHT,action:ti(Pg,ke,Ne,!0)},{keyCode:qr.LEFT,action:ti(Pg,ke,Ne,!1)},{keyCode:qr.RIGHT,ctrlKey:!ct.isOSX(),altKey:ct.isOSX(),action:ti(y1,ke,Ne)},{keyCode:qr.LEFT,ctrlKey:!ct.isOSX(),altKey:ct.isOSX(),action:ti(b1,ke,Ne)},{keyCode:qr.UP,action:ti(Eh,ke,!1)},{keyCode:qr.DOWN,action:ti(Eh,ke,!0)}],je).each(function(Dt){je.preventDefault()}))}),ue=we,($=s).on("keydown",function(Me){var ke,Ne,je;!1===Me.isDefaultPrevented()&&(Ne=ue,je=Me,d1([{keyCode:qr.BACKSPACE,action:ti(j0,ke=$,!1)},{keyCode:qr.BACKSPACE,action:ti(Yx,ke,!1)},{keyCode:qr.DELETE,action:ti(Yx,ke,!0)},{keyCode:qr.BACKSPACE,action:ti(Dw,ke,!1)},{keyCode:qr.DELETE,action:ti(Dw,ke,!0)},{keyCode:qr.BACKSPACE,action:ti(Rg,ke,Ne,!1)},{keyCode:qr.DELETE,action:ti(Rg,ke,Ne,!0)},{keyCode:qr.BACKSPACE,action:ti(m0,ke,!1)},{keyCode:qr.DELETE,action:ti(m0,ke,!0)},{keyCode:qr.BACKSPACE,action:ti(Tp,ke,!1)},{keyCode:qr.DELETE,action:ti(Tp,ke,!0)},{keyCode:qr.BACKSPACE,action:ti(rv,ke,!1)},{keyCode:qr.DELETE,action:ti(rv,ke,!0)},{keyCode:qr.BACKSPACE,action:ti(N0,ke,!1)},{keyCode:qr.DELETE,action:ti(N0,ke,!0)},{keyCode:qr.BACKSPACE,action:ti(o1,ke,!1)},{keyCode:qr.DELETE,action:ti(o1,ke,!0)},{keyCode:qr.BACKSPACE,action:ti(Oh,ke,!1)},{keyCode:qr.DELETE,action:ti(Oh,ke,!0)}],je).each(function(ct){je.preventDefault()}))}),$.on("keyup",function(Me){var ke,Ne;!1===Me.isDefaultPrevented()&&(Ne=Me,d1([{keyCode:qr.BACKSPACE,action:ti(i1,ke=$)},{keyCode:qr.DELETE,action:ti(i1,ke)}],Ne))}),(re=s).on("keydown",function(Me){var ke,Ne,je;Me.keyCode===qr.ENTER&&(ke=re,(Ne=Me).isDefaultPrevented()||(Ne.preventDefault(),(je=ke.undoManager).typing&&(je.typing=!1,je.add()),ke.undoManager.transact(function(){!1===ke.selection.isCollapsed()&&ke.execCommand("Delete"),OM(ke,Ne)})))}),(W=s).on("keydown",function(Me){var ke;!1===Me.isDefaultPrevented()&&(ke=Me,d1([{keyCode:qr.SPACEBAR,action:ti(f2,W)}],ke).each(function(Ne){ke.preventDefault()}))}),B=L=s,G=$1(function(){B.composing||di(B)},0),RM.isIE()&&(B.on("keypress",function(Me){G.throttle()}),B.on("remove",function(Me){G.cancel()})),L.on("input",function(Me){!1===Me.isComposing&&di(L)}),O=we,(M=s).on("keydown",function(Me){var ke,Ne,je;!1===Me.isDefaultPrevented()&&(Ne=O,je=Me,d1([{keyCode:qr.END,action:ti(Uw,ke=M,!0)},{keyCode:qr.HOME,action:ti(Uw,ke,!1)},{keyCode:qr.END,action:ti(MM,ke,!0)},{keyCode:qr.HOME,action:ti(MM,ke,!1)},{keyCode:qr.END,action:ti(tv,ke,!0,Ne)},{keyCode:qr.HOME,action:ti(tv,ke,!1,Ne)}],je).each(function(ct){je.preventDefault()}))}),d=s,v=we,jC.os.isOSX()||(w=Ya(!1),d.on("keydown",function(Me){c2(Me)&&EM(w,d,!0)}),d.on("keyup",function(Me){var ke,Ne,je;!1===Me.isDefaultPrevented()&&(je=Me,d1([{keyCode:qr.PAGE_UP,action:ti(tv,ke=d,!1,Ne=v)},{keyCode:qr.PAGE_DOWN,action:ti(tv,ke,!0,Ne)}],je)),c2(Me)&&w.get()&&(EM(w,d,!1),d.nodeChanged())})),we}(Ne);Zt=ln,(Vt=s).addCommand("delete",function(){var Mt,At=Zt;j0(Mt=Vt)||Yx(Mt,!1)||Dw(Mt,!1)||Rg(Mt,At,!1)||o1(Mt,!1)||m0(Mt)||Tp(Mt,!1)||rv(Mt,!1)||N0(Mt)||Oh(Mt,!1)||(_M(Mt,"Delete"),L0(Mt))}),Vt.addCommand("forwardDelete",function(){var Mt,At=Zt;Yx(Mt=Vt,!0)||Dw(Mt,!0)||Rg(Mt,At,!0)||o1(Mt,!0)||m0(Mt)||Tp(Mt,!0)||rv(Mt,!0)||N0(Mt)||Oh(Mt,!0)||_M(Mt,"ForwardDelete")}),pa(je=s)&&je.on("NodeChange",ve(q0,je)),Dt=(ct=s).dom,Ye=pa(ct),rt=ct.getParam("placeholder",Ib.getAttrib(ct.getElement(),"placeholder"),"string"),dt=function(Mt,At){var zt,tn,On;!function(er){if(Hx(er)){var An=er.keyCode;return!r1(er)&&(qr.metaKeyPressed(er)||er.altKey||112<=An&&An<=123||Ht(mM,An))}}(Mt)&&(zt=ct.getBody(),tn=!(Hx(On=Mt)&&!(r1(On)||"keyup"===On.type&&229===On.keyCode))&&function(er,An,Xn){if(No(Ut.fromDom(An),!1)){var Fn=""===Xn,Yn=An.firstElementChild;return!Yn||!er.getStyle(An.firstElementChild,"padding-left")&&!er.getStyle(An.firstElementChild,"padding-right")&&(Fn?!er.isBlock(Yn):Xn===Yn.nodeName.toLowerCase())}return!1}(Dt,zt,Ye),""!==Dt.getAttrib(zt,Ag)===tn&&!At||(Dt.setAttrib(zt,Ag,tn?rt:null),Dt.setAttrib(zt,"aria-placeholder",tn?rt:null),ct.fire("PlaceholderToggle",{state:tn}),ct.on(tn?"keydown":"keyup",dt),ct.off(tn?"keyup":"keydown",dt)))},rt&&ct.on("init",function(Mt){dt(Mt,!0),ct.on("change SetContent ExecCommand",dt),ct.on("paste",function(At){return Bt.setEditorTimeout(ct,function(){return dt(At)})})});var on=function dw(s){var d=s;return wr(s.plugins,"rtc").bind(function(v){return J.from(v.setup)}).fold(function(){return d.rtcInstance=Oc(s),J.none()},function(v){var w,M;return d.rtcInstance=(w=te(null),M=te(""),{undoManager:{beforeChange:Z,add:w,undo:w,redo:w,clear:Z,reset:Z,hasUndo:ht,hasRedo:ht,transact:w,ignore:Z,extra:Z},formatter:{match:ht,matchAll:te([]),matchNode:te(void 0),canApply:ht,closest:M,apply:Z,remove:Z,toggle:Z,formatChanged:te({unbind:Z})},editor:{getContent:M,setContent:M,insertContent:Z,addVisual:Z},selection:{getContent:M},raw:{getModel:te(J.none())}}),J.some(function(){return v().then(function(O){return d.rtcInstance=(re=O.selection,$=O.raw,{undoManager:{beforeChange:(B=O.undoManager).beforeChange,add:B.add,undo:B.undo,redo:B.redo,clear:B.clear,reset:B.reset,hasUndo:B.hasUndo,hasRedo:B.hasRedo,transact:function(ue,pe,be){return B.transact(be)},ignore:function(ue,pe){return B.ignore(pe)},extra:function(ue,pe,be,we){return B.extra(be,we)}},formatter:{match:function(ue,pe,be,we){return G.match(ue,L(pe),we)},matchAll:(G=O.formatter).matchAll,matchNode:G.matchNode,canApply:function(ue){return G.canApply(ue)},closest:function(ue){return G.closest(ue)},apply:function(ue,pe,be){return G.apply(ue,L(pe))},remove:function(ue,pe,be,we){return G.remove(ue,L(pe))},toggle:function(ue,pe,be){return G.toggle(ue,L(pe))},formatChanged:function(ue,pe,be,we,Me){return G.formatChanged(pe,be,we,Me)}},editor:{getContent:function(ue,pe){return W.getContent(ue)},setContent:function(ue,pe){return W.setContent(ue,pe)},insertContent:function(ue,pe){return W.insertContent(ue)},addVisual:(W=O.editor).addVisual},selection:{getContent:function(ue,pe){return re.getContent(pe)}},raw:{getModel:function(){return J.some($.getRawModel())}}}),O.rtc.isRemote;function L(ue){return et(ue)?ue:{}}var B,G,W,re,$})})})}(s);(function(Mt){var At=Mt.settings,zt=Mt.getDoc(),tn=Mt.getBody();Mt.fire("PreInit"),At.browser_spellcheck||At.gecko_spellcheck||(zt.body.spellcheck=!1,GM.setAttrib(tn,"spellcheck","false")),Mt.quirks=function u_(s){function d(At,zt){try{s.getDoc().execCommand(At,!1,zt)}catch{}}function v(At){return At.isDefaultPrevented()}function w(){s.shortcuts.add("meta+a",null,"SelectAll")}function M(){s.inline||Ne.bind(s.getDoc(),"mousedown mouseup",function(At){var zt;At.target===s.getDoc().documentElement&&(zt=je.getRng(),s.getBody().focus(),"mousedown"===At.type?Nr(zt.startContainer)||je.placeCaretAt(At.clientX,At.clientY):je.setRng(zt))})}function O(){Range.prototype.getClientRects||s.on("mousedown",function(At){var zt;v(At)||"HTML"!==At.target.nodeName||((zt=s.getBody()).blur(),Bt.setEditorTimeout(s,function(){zt.focus()}))})}function L(){s.on("click",function(At){var zt=At.target;/^(IMG|HR)$/.test(zt.nodeName)&&"false"!==Ne.getContentEditableParent(zt)&&(At.preventDefault(),s.selection.select(zt),s.nodeChanged()),"A"===zt.nodeName&&Ne.hasClass(zt,"mce-item-anchor")&&(At.preventDefault(),je.select(zt))})}function B(){s.on("keydown",function(At){if(!v(At)&&At.keyCode===Me&&je.isCollapsed()&&0===je.getRng().startOffset){var zt=je.getNode().previousSibling;if(zt&&zt.nodeName&&"table"===zt.nodeName.toLowerCase())return At.preventDefault(),!1}})}function G(){s.getParam("readonly")||s.on("BeforeExecCommand mousedown",function(){d("StyleWithCSS",!1),d("enableInlineTableEditing",!1),n0(s)||d("enableObjectResizing",!1)})}function W(){s.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}function re(){s.inline||s.on("keydown",function(){document.activeElement===document.body&&s.getWin().focus()})}function $(){s.inline||(s.contentStyles.push("body {min-height: 150px}"),s.on("click",function(At){var zt;"HTML"===At.target.nodeName&&(11<Wr.ie?s.getBody().focus():(zt=s.selection.getRng(),s.getBody().focus(),s.selection.setRng(zt),s.selection.normalize(),s.nodeChanged()))}))}function ue(){Wr.mac&&s.on("keydown",function(At){!qr.metaKeyPressed(At)||At.shiftKey||37!==At.keyCode&&39!==At.keyCode||(At.preventDefault(),s.selection.getSel().modify("move",37===At.keyCode?"backward":"forward","lineboundary"))})}function pe(){s.on("click",function(At){var zt=At.target;do{if("A"===zt.tagName)return void At.preventDefault()}while(zt=zt.parentNode)}),s.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}function be(){s.on("init",function(){s.dom.bind(s.getBody(),"submit",function(At){At.preventDefault()})})}var we=gn.each,Me=qr.BACKSPACE,ke=qr.DELETE,Ne=s.dom,je=s.selection,ct=s.parser,Dt=Wr.gecko,rt=Wr.webkit,dt="data:text/mce-internal,",Vt=Wr.ie?"Text":"URL",Zt=Z;return kp(s)?(rt&&(M(),L(),be(),w(),Wr.iOS&&(re(),$(),pe())),Dt&&(O(),G(),W(),ue())):(s.on("keydown",function(At){if(!v(At)&&At.keyCode===qr.BACKSPACE){var zt,tn=(zt=je.getRng()).startContainer,On=zt.startOffset,er=Ne.getRoot(),An=tn;if(zt.collapsed&&0===On){for(;An&&An.parentNode&&An.parentNode.firstChild===An&&An.parentNode!==er;)An=An.parentNode;"BLOCKQUOTE"===An.tagName&&(s.formatter.toggle("blockquote",null,An),(zt=Ne.createRng()).setStart(tn,0),zt.setEnd(tn,0),je.setRng(zt))}}}),s.on("keydown",function(At){var zt,tn,On,er,An=At.keyCode;v(At)||An!==ke&&An!==Me||(zt=s.selection.isCollapsed(),tn=s.getBody(),zt&&!Ne.isEmpty(tn)||!zt&&(On=Mt(s.selection.getRng()),(er=Ne.createRng()).selectNode(s.getBody()),On!==Mt(er))||(At.preventDefault(),s.setContent(""),tn.firstChild&&Ne.isBlock(tn.firstChild)?s.selection.setCursorLocation(tn.firstChild,0):s.selection.setCursorLocation(tn,0),s.nodeChanged()))}),Wr.windowsPhone||s.on("keyup focusin mouseup",function(At){qr.modifierPressed(At)||je.normalize()},!0),rt&&(M(),L(),pa(s)&&s.on("init",function(){d("DefaultParagraphSeparator",pa(s))}),be(),B(),ct.addNodeFilter("br",function(At){for(var zt=At.length;zt--;)"Apple-interchange-newline"===At[zt].attr("class")&&At[zt].remove()}),Wr.iOS?(re(),$(),pe()):w()),11<=Wr.ie&&($(),B()),Wr.ie&&(w(),d("AutoUrlDetect",!1),s.on("dragstart",function(At){var zt,tn,On;(zt=At).dataTransfer&&(s.selection.isCollapsed()&&"IMG"===zt.target.tagName&&je.select(zt.target),0<(tn=s.selection.getContent()).length&&(On=dt+escape(s.id)+","+escape(tn),zt.dataTransfer.setData(Vt,On)))}),s.on("drop",function(At){var zt,tn,On,er;v(At)||(zt=At.dataTransfer&&(er=At.dataTransfer.getData(Vt))&&0<=er.indexOf(dt)?(er=er.substr(dt.length).split(","),{id:unescape(er[0]),html:unescape(er[1])}):null)&&zt.id!==s.id&&(At.preventDefault(),tn=dx(At.x,At.y,s.getDoc()),je.setRng(tn),On=zt.html,s.queryCommandSupported("mceInsertClipboardContent")?s.execCommand("mceInsertClipboardContent",!1,{content:On,internal:!0}):s.execCommand("mceInsertContent",!1,On))})),Dt&&(s.on("keydown",function(At){if(!v(At)&&At.keyCode===Me&&s.getBody().getElementsByTagName("hr").length&&je.isCollapsed()&&0===je.getRng().startOffset){var zt=je.getNode(),tn=zt.previousSibling;if("HR"===zt.nodeName)return Ne.remove(zt),void At.preventDefault();tn&&tn.nodeName&&"hr"===tn.nodeName.toLowerCase()&&(Ne.remove(tn),At.preventDefault())}}),O(),s.on("keypress",function(At){var zt;if(!v(At)&&(8===At.keyCode||46===At.keyCode)&&on())return zt=ln(),s.getDoc().execCommand("delete",!1,null),zt(),At.preventDefault(),!1}),Ne.bind(s.getDoc(),"cut",function(At){var zt;!v(At)&&on()&&(zt=ln(),Bt.setEditorTimeout(s,function(){zt()}))}),G(),s.on("SetContent ExecCommand",function(At){"setcontent"!==At.type&&"mceInsertLink"!==At.command||we(Ne.select("a"),function(zt){var tn=zt.parentNode,On=Ne.getRoot();if(tn.lastChild===zt){for(;tn&&!Ne.isBlock(tn);){if(tn.parentNode.lastChild!==tn||tn===On)return;tn=tn.parentNode}Ne.add(tn,"br",{"data-mce-bogus":1})}})}),W(),ue(),B())),{refreshContentEditable:Zt,isHidden:function(){if(!Dt||s.removed)return!1;var At=s.selection.getSel();return!At||!At.rangeCount||0===At.rangeCount}};function ln(){var At=Ne.getAttribs(je.getStart().cloneNode(!1));return function(){var zt=je.getStart();zt!==s.getBody()&&(Ne.setAttrib(zt,"style",null),we(At,function(tn){zt.setAttributeNode(tn.cloneNode(!0))}))}}function on(){return!je.isCollapsed()&&Ne.getParent(je.getStart(),Ne.isBlock)!==Ne.getParent(je.getEnd(),Ne.isBlock)}function Mt(At){var zt=Ne.create("body"),tn=At.cloneContents();return zt.appendChild(tn),je.serializer.serialize(zt,{format:"html"})}}(Mt),Mt.fire("PostRender");var On=Mt.getParam("directionality",kf.isRtl()?"rtl":void 0);void 0!==On&&(tn.dir=On),At.protect&&Mt.on("BeforeSetContent",function(er){gn.each(At.protect,function(An){er.content=er.content.replace(An,function(Xn){return"\x3c!--mce:protected "+escape(Xn)+"--\x3e"})})}),Mt.on("SetContent",function(){Mt.addVisual(Mt.getBody())}),Mt.on("compositionstart compositionend",function(er){Mt.composing="compositionstart"===er.type})})(s),on.fold(function(){ZC(s).then(function(){return rS(s)})},function(Mt){s.setProgressState(!0),ZC(s).then(function(){Mt().then(function(At){s.setProgressState(!1),rS(s)},function(At){s.notificationManager.open({type:"error",text:String(At)}),rS(s)})})})}function m2(s){return s.replace(/^\-/,"")}function zM(s){return{editorContainer:s,iframeContainer:s,api:{}}}function FM(s){var d,v,w,M,O,L,B,G;s.fire("ScriptsLoaded"),v=gn.trim(Sb(d=s)),w=d.ui.registry.getAll().icons,Rn(Sr(Sr({},Bx.get("default").icons),Bx.get(v).icons),function(ke,Ne){so(w,Ne)||d.ui.registry.addIcon(Ne,ke)}),L=Sc(M=s),Le(L)?(M.settings.theme=m2(L),O=rf.get(L),M.theme=new O(M,rf.urls[L]),M.theme.init&&M.theme.init(M,rf.urls[L]||M.documentBaseUrl.replace(/\/$/,""),M.$)):M.theme={},G=[],gn.each(kb(B=s).split(/[ ,]/),function(ke){UM(B,G,m2(ke))});var W=function v2(s){var d,v,w,M,O,L,B,G=s.getElement();return s.orgDisplay=G.style.display,Le(Sc(s))?s.theme.renderUI():pt(Sc(s))?(v=(d=s).getElement(),(w=Sc(d)(d,v)).editorContainer.nodeType&&(w.editorContainer.id=w.editorContainer.id||d.id+"_parent"),w.iframeContainer&&w.iframeContainer.nodeType&&(w.iframeContainer.id=w.iframeContainer.id||d.id+"_iframecontainer"),w.height=w.iframeHeight||v.offsetHeight,w):(B=(M=s).getElement(),M.inline?zM(null):(O=B,L=iS.create("div"),iS.insertAfter(L,O),zM(L)))}(s),re=s,$=J.from(W.api).getOr({}),ue={show:J.from($.show).getOr(Z),hide:J.from($.hide).getOr(Z),disable:J.from($.disable).getOr(Z),isDisabled:J.from($.isDisabled).getOr(ht),enable:function(){re.mode.isReadOnly()||J.from($.enable).map(vt)}};re.ui=Sr(Sr({},re.ui),ue);var pe,be,we,Me={editorContainer:W.editorContainer,iframeContainer:W.iframeContainer};return s.editorContainer=Me.editorContainer||null,function Fx(s){var d,v;s.contentCSS=s.contentCSS.concat(n2(s,(v=(d=s).getParam("content_css"),Le(v)?It(v.split(","),Xs):Qe(v)?v:!1===v||d.inline?[]:["default"])),n2(s,Cb(s)))}(s),s.inline?KC(s):(we=function BM(s,d){var v,w,M,O,L=s.translate("Rich Text Area"),B=(v=s.id,w=L,M=s.getParam("iframe_attrs",{}),Fc(O=Ut.fromTag("iframe"),M),Fc(O,{id:v+"_ifr",frameBorder:"0",allowTransparency:"true",title:w}),Qu(O,"tox-edit-area__iframe"),O.dom);B.onload=function(){B.onload=null,s.fire("load")};var G=function(W,re){if(document.domain!==window.location.hostname&&Wr.browser.isIE()){var $=mC("mce");W[$]=function(){KC(W)};var ue='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+W.id+'");document.write(ed.iframeHTML);document.close();ed.'+$+"(true);})()";return wy.setAttrib(re,"src",ue),!0}return!1}(s,B);return s.contentAreaContainer=d.iframeContainer,s.iframeElement=B,s.iframeHTML=function(W){var re=W.getParam("doctype","<!DOCTYPE html>")+"<html><head>";W.getParam("document_base_url","")!==W.documentBaseUrl&&(re+='<base href="'+W.documentBaseURI.getURI()+'" />'),re+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var $=e0(W,"body_id","tinymce"),ue=e0(W,"body_class",""),pe=W.translate(W.getParam("iframe_aria_text","Rich Text Area. Press ALT-0 for help.","string"));return rd(W)&&(re+='<meta http-equiv="Content-Security-Policy" content="'+rd(W)+'" />'),re+'</head><body id="'+$+'" class="mce-content-body '+ue+'" data-id="'+W.id+'" aria-label="'+pe+'"><br></body></html>'}(s),wy.add(d.iframeContainer,B),G}(pe=s,be=Me),be.editorContainer&&(wy.get(be.editorContainer).style.display=pe.orgDisplay,pe.hidden=wy.isHidden(be.editorContainer)),pe.getElement().style.display="none",wy.setAttrib(pe.id,"aria-hidden","true"),void(we||KC(pe)))}function VM(s){return"-"===s.charAt(0)}function y2(s,d,v){return J.from(d).filter(function(w){return 0<w.length&&!Bx.has(w)}).map(function(w){return{url:s.editorManager.baseURL+"/icons/"+w+"/icons"+v+".js",name:J.some(w)}})}function Bg(s){return function(d,v){return J.from(v).map(Ut.fromDom).filter(mc).bind(function(w){return M=s,O=d,jk(Ut.fromDom(w.dom),function(G){return Sd(W=G,M).orThunk(function(){return"font"===Pa(W)?wr(jM,M).bind(function(re){return Ra(W,re)}):J.none()});var W},function(G){return En(Ut.fromDom(O),G)}).or(J.from(Ui.DOM.getStyle(w.dom,s,!0)));var M,O}).getOr("")}}function $C(s){return yi(s.getBody()).map(function(d){var v=d.container();return Er(v)?v.parentNode:v})}function JC(s,d){return v=s,w=ne(J.some,d),J.from((M=v).selection.getRng()).bind(function(O){var L=M.getBody();return O.startContainer===L&&0===O.startOffset?J.none():J.from(M.selection.getStart(!0))}).orThunk(ve($C,v)).map(Ut.fromDom).filter(mc).bind(w);var v,w,M}function HM(s,d){if(/^[0-9.]+$/.test(d)){var v=parseInt(d,10);if(1<=v&&v<=7){var w=gn.explode(s.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large")),M=gn.explode(s.getParam("font_size_classes",""));return M?M[v-1]||d:w[v-1]||d}return d}return d}var oS=to,WM=Xu,x2=function(s){s.on(function(d){J0(d.ghost)}),s.clear()},QC=Xu,zf=to,GM=Ui.DOM,wy=Ui.DOM,iS=Ui.DOM,UM=function(s,d,v){var w,O,L,B=kl.get(v),G=kl.urls[v]||s.documentBaseUrl.replace(/\/$/,"");if(v=gn.trim(v),B&&-1===gn.inArray(d,v)&&(gn.each(kl.dependencies(v),function(re){UM(s,d,re)}),!s.plugins[v]))try{var W=new B(s,G,s.$);(s.plugins[v]=W).init&&(W.init(s,G),d.push(v))}catch(re){O=re,vp(w=s,"PluginLoadError",{message:L=kf.translate(["Failed to initialize plugin: {0}",v])}),Ym(L,O),n1(w,L)}},av=Ui.DOM,jM={"font-size":"size","font-family":"face"},c_=Bg("font-size"),JD=de(function(s){return s.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},Bg("font-family")),ek=gn.each,_2=gn.map,w2=gn.inArray,tk=(bs.prototype.execCommand=function(s,d,v,w){var M,O,L=!1,B=this;if(!B.editor.removed){if("mcefocus"!==s.toLowerCase()&&(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(s)||w&&w.skip_focus?ay(O=B.editor).each(function(W){return O.selection.setRng(W)}):B.editor.focus()),(w=B.editor.fire("BeforeExecCommand",{command:s,ui:d,value:v})).isDefaultPrevented())return!1;var G=s.toLowerCase();if(M=B.commands.exec[G])return M(G,d,v),B.editor.fire("ExecCommand",{command:s,ui:d,value:v}),!0;if(ek(this.editor.plugins,function(W){if(W.execCommand&&W.execCommand(s,d,v))return B.editor.fire("ExecCommand",{command:s,ui:d,value:v}),!(L=!0)}),L)return L;if(B.editor.theme&&B.editor.theme.execCommand&&B.editor.theme.execCommand(s,d,v))return B.editor.fire("ExecCommand",{command:s,ui:d,value:v}),!0;try{L=B.editor.getDoc().execCommand(s,d,v)}catch{}return!!L&&(B.editor.fire("ExecCommand",{command:s,ui:d,value:v}),!0)}},bs.prototype.queryCommandState=function(s){var d;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(s=s.toLowerCase(),d=this.commands.state[s])return d(s);try{return this.editor.getDoc().queryCommandState(s)}catch{}return!1}},bs.prototype.queryCommandValue=function(s){var d;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(s=s.toLowerCase(),d=this.commands.value[s])return d(s);try{return this.editor.getDoc().queryCommandValue(s)}catch{}}},bs.prototype.addCommands=function(s,d){void 0===d&&(d="exec");var v=this;ek(s,function(w,M){ek(M.toLowerCase().split(","),function(O){v.commands[d][O]=w})})},bs.prototype.addCommand=function(s,d,v){var w=this;s=s.toLowerCase(),this.commands.exec[s]=function(M,O,L,B){return d.call(v||w.editor,O,L,B)}},bs.prototype.queryCommandSupported=function(s){if(s=s.toLowerCase(),this.commands.exec[s])return!0;try{return this.editor.getDoc().queryCommandSupported(s)}catch{}return!1},bs.prototype.addQueryStateHandler=function(s,d,v){var w=this;s=s.toLowerCase(),this.commands.state[s]=function(){return d.call(v||w.editor)}},bs.prototype.addQueryValueHandler=function(s,d,v){var w=this;s=s.toLowerCase(),this.commands.value[s]=function(){return d.call(v||w.editor)}},bs.prototype.hasCustomCommand=function(s){return s=s.toLowerCase(),!!this.commands.exec[s]},bs.prototype.execNativeCommand=function(s,d,v){return void 0===d&&(d=!1),void 0===v&&(v=null),this.editor.getDoc().execCommand(s,d,v)},bs.prototype.isFormatMatch=function(s){return this.editor.formatter.match(s)},bs.prototype.toggleFormat=function(s,d){this.editor.formatter.toggle(s,d),this.editor.nodeChanged()},bs.prototype.storeSelection=function(s){this.selectionBookmark=this.editor.selection.getBookmark(s)},bs.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},bs.prototype.setupCommands=function(s){var d=this;function v(w){return function(){var M=s.selection,O=M.isCollapsed()?[s.dom.getParent(M.getNode(),s.dom.isBlock)]:M.getSelectedBlocks(),L=_2(O,function(B){return!!s.formatter.matchNode(B,w)});return-1!==w2(L,!0)}}this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":Z,"mceEndUndoLevel,mceAddUndoLevel":function(){s.undoManager.add()},mceFocus:function(w,M,O){var L;(L=s).removed||(O?Ie:function(G){var W=G.selection,re=G.getBody(),$=W.getRng();G.quirks.refreshContentEditable(),void 0!==G.bookmark&&!1===wu(G)&&ay(G).each(function(we){G.selection.setRng(we),$=we});var ue,pe,be=(ue=G,pe=W.getNode(),ue.dom.getParent(pe,function(we){return"true"===ue.dom.getContentEditable(we)}));if(G.$.contains(re,be))return Of(be),X_(G,$),Ie(G);G.inline||(Wr.opera||Of(re),G.getWin().focus()),(Wr.gecko||G.inline)&&(Of(re),X_(G,$)),Ie(G)})(L)},"Cut,Copy,Paste":function(w){var M,O,L=s.getDoc();try{d.execNativeCommand(w)}catch{M=!0}!(M="paste"===w&&!L.queryCommandEnabled(w)||M)&&L.queryCommandSupported(w)||(O=s.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead."),Wr.mac&&(O=O.replace(/Ctrl\+/g,"\u2318+")),s.notificationManager.open({text:O,type:"error"}))},unlink:function(){var w;s.selection.isCollapsed()?(w=s.dom.getParent(s.selection.getStart(),"a"))&&s.dom.remove(w,!0):s.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(w){var M=w.substring(7);"full"===M&&(M="justify"),ek("left,center,right,justify".split(","),function(O){M!==O&&s.formatter.remove("align"+O)}),"none"!==M&&d.toggleFormat("align"+M)},"InsertUnorderedList,InsertOrderedList":function(w){var M;d.execNativeCommand(w);var O=s.dom.getParent(s.selection.getNode(),"ol,ul");O&&/^(H[1-6]|P|ADDRESS|PRE)$/.test((M=O.parentNode).nodeName)&&(d.storeSelection(),s.dom.split(M,O),d.restoreSelection())},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(w){d.toggleFormat(w)},"ForeColor,HiliteColor":function(w,M,O){d.toggleFormat(w,{value:O})},FontName:function(w,M,O){var L,B;B=HM(L=s,O),L.formatter.toggle("fontname",{value:It(B.split(/\s*,\s*/),function(G){return-1===G.indexOf(" ")||oo(G,'"')||oo(G,"'")?G:"'"+G+"'"}).join(",")}),L.nodeChanged()},FontSize:function(w,M,O){var L;(L=s).formatter.toggle("fontsize",{value:HM(L,O)}),L.nodeChanged()},LineHeight:function(w,M,O){var L;(L=s).formatter.toggle("lineheight",{value:String(O)}),L.nodeChanged()},Lang:function(w,M,O){d.toggleFormat(w,{value:O.code,customValue:O.customCode})},RemoveFormat:function(w){s.formatter.remove(w)},mceBlockQuote:function(){d.toggleFormat("blockquote")},FormatBlock:function(w,M,O){return d.toggleFormat(O||"p")},mceCleanup:function(){var w=s.selection.getBookmark();s.setContent(s.getContent()),s.selection.moveToBookmark(w)},mceRemoveNode:function(w,M,O){var L=O||s.selection.getNode();L!==s.getBody()&&(d.storeSelection(),s.dom.remove(L,!0),d.restoreSelection())},mceSelectNodeDepth:function(w,M,O){var L=0;s.dom.getParent(s.selection.getNode(),function(B){if(1===B.nodeType&&L++===O)return s.selection.select(B),!1},s.getBody())},mceSelectNode:function(w,M,O){s.selection.select(O)},mceInsertContent:function(w,M,O){var L,B,G,W;L=s,G=(B=function(re){if("string"==typeof re)return{content:re,details:{}};var $=gn.extend({paste:re.paste,data:{paste:re.paste}},re);return{content:re.content,details:$}}(O)).content,W=B.details,nf(L).editor.insertContent(G,W)},mceInsertRawHTML:function(w,M,O){s.selection.setContent("tiny_mce_marker");var L=s.getContent();s.setContent(L.replace(/tiny_mce_marker/g,function(){return O}))},mceInsertNewLine:function(w,M,O){OM(s,O)},mceToggleFormat:function(w,M,O){d.toggleFormat(O)},mceSetContent:function(w,M,O){s.setContent(O)},"Indent,Outdent":function(w){e_(s,w)},mceRepaint:Z,InsertHorizontalRule:function(){s.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){s.hasVisual=!s.hasVisual,s.addVisual()},mceReplaceContent:function(w,M,O){s.execCommand("mceInsertContent",!1,O.replace(/\{\$selection\}/g,s.selection.getContent({format:"text"})))},mceInsertLink:function(w,M,O){"string"==typeof O&&(O={href:O});var L=s.dom.getParent(s.selection.getNode(),"a");O.href=O.href.replace(/ /g,"%20"),L&&O.href||s.formatter.remove("link"),O.href&&s.formatter.apply("link",O,L)},selectAll:function(){var w,M=s.dom.getParent(s.selection.getStart(),Xu);M&&((w=s.dom.createRng()).selectNodeContents(M),s.selection.setRng(w))},mceNewDocument:function(){s.setContent("")},InsertLineBreak:function(w,M,O){return Xw(s,O),!0}}),d.addCommands({JustifyLeft:v("alignleft"),JustifyCenter:v("aligncenter"),JustifyRight:v("alignright"),JustifyFull:v("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(w){return d.isFormatMatch(w)},mceBlockQuote:function(){return d.isFormatMatch("blockquote")},Outdent:function(){return Hw(s)},"InsertUnorderedList,InsertOrderedList":function(w){var M=s.dom.getParent(s.selection.getNode(),"ul,ol");return M&&("insertunorderedlist"===w&&"UL"===M.tagName||"insertorderedlist"===w&&"OL"===M.tagName)}},"state"),d.addCommands({Undo:function(){s.undoManager.undo()},Redo:function(){s.undoManager.redo()}}),d.addQueryValueHandler("FontName",function(){return JC(w=s,function(M){return JD(w.getBody(),M.dom)}).getOr("");var w},this),d.addQueryValueHandler("FontSize",function(){return JC(w=s,function(M){return c_(w.getBody(),M.dom)}).getOr("");var w},this),d.addQueryValueHandler("LineHeight",function(){return JC(w=s,function(M){var O=Ut.fromDom(w.getBody());return jk(M,function(L){return Sd(L,"line-height")},ve(En,O)).getOrThunk(function(){var L=parseFloat(Hf(M,"line-height")),B=parseFloat(Hf(M,"font-size"));return String(L/B)})}).getOr("");var w},this)},bs);function bs(s){this.commands={state:{},exec:{},value:{}},this.editor=s,this.setupCommands(s)}function _1(s,d,v){try{s.getDoc().execCommand(d,!1,String(v))}catch{}}function aS(s,d){s.dom.contentEditable=d?"true":"false"}function sf(s){return s.readonly}function nk(s){s.parser.addAttributeFilter("contenteditable",function(d){sf(s)&&Sn(d,function(v){v.attr(Op,v.attr("contenteditable")),v.attr("contenteditable","false")})}),s.serializer.addAttributeFilter(Op,function(d){sf(s)&&Sn(d,function(v){v.attr("contenteditable",v.attr(Op))})}),s.serializer.addTempAttr(Op)}var Op="data-mce-contenteditable",S2=gn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),w1=(Q0.isNative=function(s){return!!S2[s.toLowerCase()]},Q0.prototype.fire=function(s,d){var v=s.toLowerCase(),w=Bu(v,d||{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(w);var M=this.bindings[v];if(M)for(var O=0,L=M.length;O<L;O++){var B=M[O];if(!B.removed){if(B.once&&this.off(v,B.func),w.isImmediatePropagationStopped())return w;if(!1===B.func.call(this.scope,w))return w.preventDefault(),w}}return w},Q0.prototype.on=function(s,d,v,w){if(d=!1===d?ht:d){var M={func:d,removed:!1};w&&gn.extend(M,w);for(var O=s.toLowerCase().split(" "),L=O.length;L--;){var B=O[L],G=this.bindings[B];G||(G=[],this.toggleEvent(B,!0)),G=v?qt([M],G,!0):qt(qt([],G,!0),[M],!1),this.bindings[B]=G}}return this},Q0.prototype.off=function(s,d){var v=this;if(s)for(var w=s.toLowerCase().split(" "),M=w.length;M--;){var O,L=w[M],B=this.bindings[L];if(!L)return Rn(this.bindings,function(G,W){v.toggleEvent(W,!1),delete v.bindings[W]}),this;B&&(d?(B=(O=Uo(B,function(G){return G.func===d})).fail,this.bindings[L]=B,Sn(O.pass,function(G){G.removed=!0})):B.length=0,B.length||(this.toggleEvent(s,!1),delete this.bindings[L]))}else Rn(this.bindings,function(G,W){v.toggleEvent(W,!1)}),this.bindings={};return this},Q0.prototype.once=function(s,d,v){return this.on(s,d,v,{once:!0})},Q0.prototype.has=function(s){return s=s.toLowerCase(),!(!this.bindings[s]||0===this.bindings[s].length)},Q0);function Q0(s){this.bindings={},this.settings=s||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||ht}function eb(s){return s._eventDispatcher||(s._eventDispatcher=new w1({scope:s,toggleEvent:function(d,v){w1.isNative(d)&&s.toggleNativeEvent&&s.toggleNativeEvent(d,v)}})),s._eventDispatcher}function tb(s,d){if("selectionchange"===d)return s.getDoc();if(!s.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(d))return s.getDoc().documentElement;var v=r0(s);return v?(s.eventRoot||(s.eventRoot=S1.select(v)[0]),s.eventRoot):s.getBody()}function qM(s,d,v){var w,M,O,L;s.hidden||sf(s)?sf(s)&&(w=s,"click"!==(M=v).type||qr.metaKeyPressed(M)||(O=Ut.fromDom(M.target),L=w,Gf(O,"a",function(B){return En(B,Ut.fromDom(L.getBody()))}).bind(function(B){return Ra(B,"href")}).each(function(B){var G,W;M.preventDefault(),/^#/.test(B)?(G=w.dom.select(B+',[name="'+(oo(W=B,"#")?W.substring(1):W)+'"]')).length&&w.selection.scrollIntoView(G[0],!0):window.open(B,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")}))):s.fire(d,v)}function sv(s,d){var v,w;s.delegates||(s.delegates={}),s.delegates[d]||s.removed||(w=tb(s,d),r0(s)?(Rh||(Rh={},s.editorManager.on("removeEditor",function(){s.editorManager.activeEditor||Rh&&(Rn(Rh,function(M,O){s.dom.unbind(tb(s,O))}),Rh=null)})),Rh[d]||(Rh[d]=v=function(M){for(var O=M.target,L=s.editorManager.get(),B=L.length;B--;){var G=L[B].getBody();G!==O&&!S1.isChildOf(O,G)||qM(L[B],d,M)}},S1.bind(w,d,v))):(S1.bind(w,d,v=function(M){qM(s,d,M)}),s.delegates[d]=v))}function Sy(s,d,v,w){var M=v[d.get()],O=v[w];try{O.activate()}catch(L){return void console.error("problem while activating editor mode "+w+":",L)}M.deactivate(),M.editorReadOnly!==O.editorReadOnly&&function QD(s,d){var v,w,M=Ut.fromDom(s.getBody());(function x1(s,d,v){var w,M,O,L,B,G;_c(s,d)&&!1===v?(M=d,bh(w=s)?w.dom.classList.remove(M):(B=M,0<(G=Zn(Qf(L=w,"class"),function(W){return W!==B})).length?ql(L,"class",G.join(" ")):Hh(L,"class")),0===(bh(O=w)?O.dom.classList:Qf(O,"class")).length&&Hh(O,"class")):v&&Qu(s,d)})(M,"mce-content-readonly",d),d?(s.selection.controlSelection.hideResizeRect(),s._selectionOverrides.hideFakeCaret(),J.from(s.selection.getNode()).each(function(O){O.removeAttribute("data-mce-selected")}),aS(M,!(s.readonly=!0)),Sn(Ol(M,'*[contenteditable="true"]'),function(O){ql(O,Op,"true"),aS(O,!1)})):(aS(M,!(s.readonly=!1)),Sn(Ol(M,"*["+Op+'="true"]'),function(O){Hh(O,Op),aS(O,!0)}),_1(s,"StyleWithCSS",!1),_1(s,"enableInlineTableEditing",!1),_1(s,"enableObjectResizing",!1),(wu(v=s)||mg(fl(Ut.fromDom((w=v).getElement()))).filter(function(O){return!(void 0!==(L=O.dom.classList)&&(L.contains("tox-edit-area")||L.contains("tox-edit-area__iframe")||L.contains("mce-content-body")))&&Vr(w,O.dom);var L}).isSome())&&s.focus(),s.selection.setRng(s.selection.getRng()),s.nodeChanged())}(s,O.editorReadOnly),d.set(w),s.fire("SwitchMode",{mode:w})}function nb(s){var d,v={};Ep(ok(s.toLowerCase(),"+"),function(M){M in C1?v[M]=!0:/^[0-9]{2,}$/.test(M)?v.keyCode=parseInt(M,10):(v.charCode=M.charCodeAt(0),v.keyCode=C2[M]||M.toUpperCase().charCodeAt(0))});var w=[v.keyCode];for(d in C1)v[d]?w.push(d):v[d]=!1;return v.id=w.join(","),v.access&&(v.alt=!0,Wr.mac?v.ctrl=!0:v.shift=!0),v.meta&&(Wr.mac?v.meta=!0:(v.ctrl=!0,v.meta=!1)),v}var Rh,Cy={fire:function(s,d,v){if(this.removed&&"remove"!==s&&"detach"!==s)return d;var w=eb(this).fire(s,d);if(!1!==v&&this.parent)for(var M=this.parent();M&&!w.isPropagationStopped();)M.fire(s,w,!1),M=M.parent();return w},on:function(s,d,v){return eb(this).on(s,d,v)},off:function(s,d){return eb(this).off(s,d)},once:function(s,d){return eb(this).once(s,d)},hasEventListeners:function(s){return eb(this).has(s)}},S1=Ui.DOM,rk=Sr(Sr({},Cy),{bindPendingEventDelegates:function(){var s=this;gn.each(s._pendingNativeEvents,function(d){sv(s,d)})},toggleNativeEvent:function(s,d){var v=this;"focus"!==s&&"blur"!==s&&(v.removed||(d?v.initialized?sv(v,s):v._pendingNativeEvents?v._pendingNativeEvents.push(s):v._pendingNativeEvents=[s]:v.initialized&&(v.dom.unbind(tb(v,s),s,v.delegates[s]),delete v.delegates[s])))},unbindAllNativeEvents:function(){var s=this,d=s.getBody(),v=s.dom;s.delegates&&(Rn(s.delegates,function(w,M){s.dom.unbind(tb(s,M),M,w)}),delete s.delegates),!s.inline&&d&&v&&(d.onload=null,v.unbind(s.getWin()),v.unbind(s.getDoc())),v&&(v.unbind(d),v.unbind(s.getContainer()))}}),eA=["design","readonly"],Ep=gn.each,ok=gn.explode,C2={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},C1=gn.makeMap("alt,ctrl,shift,meta,access"),rb=(uv.prototype.add=function(s,d,v,w){var M=this,O=M.normalizeCommandFunc(v);return Ep(ok(gn.trim(s)),function(L){var B=M.createShortcut(L,d,O,w);M.shortcuts[B.id]=B}),!0},uv.prototype.remove=function(s){var d=this.createShortcut(s);return!!this.shortcuts[d.id]&&(delete this.shortcuts[d.id],!0)},uv.prototype.normalizeCommandFunc=function(s){var d=this,v=s;return"string"==typeof v?function(){d.editor.execCommand(v,!1,null)}:gn.isArray(v)?function(){d.editor.execCommand(v[0],v[1],v[2])}:v},uv.prototype.createShortcut=function(s,d,v,w){var M=gn.map(ok(s,">"),nb);return M[M.length-1]=gn.extend(M[M.length-1],{func:v,scope:w||this.editor}),gn.extend(M[0],{desc:this.editor.translate(d),subpatterns:M.slice(1)})},uv.prototype.hasModifier=function(s){return s.altKey||s.ctrlKey||s.metaKey},uv.prototype.isFunctionKey=function(s){return"keydown"===s.type&&112<=s.keyCode&&s.keyCode<=123},uv.prototype.matchShortcut=function(s,d){return!!d&&d.ctrl===s.ctrlKey&&d.meta===s.metaKey&&d.alt===s.altKey&&d.shift===s.shiftKey&&!!(s.keyCode===d.keyCode||s.charCode&&s.charCode===d.charCode)&&(s.preventDefault(),!0)},uv.prototype.executeShortcutAction=function(s){return s.func?s.func.call(s.scope):null},uv);function uv(s){this.shortcuts={},this.pendingPatterns=[],this.editor=s;var d=this;s.on("keyup keypress keydown",function(v){!d.hasModifier(v)&&!d.isFunctionKey(v)||v.isDefaultPrevented()||(Ep(d.shortcuts,function(w){if(d.matchShortcut(v,w))return d.pendingPatterns=w.subpatterns.slice(0),"keydown"===v.type&&d.executeShortcutAction(w),!0}),d.matchShortcut(v,d.pendingPatterns[0])&&(1===d.pendingPatterns.length&&"keydown"===v.type&&d.executeShortcutAction(d.pendingPatterns[0]),d.pendingPatterns.shift()))})}var ob=Ui.DOM,YM=gn.extend,k2=gn.each,ky=gn.resolve,M2=Wr.ie,ik=(ki.prototype.render=function(){!function(s){var d=s.id;kf.setCode(Mf(s));var v,w,M,O,L=function(){av.unbind(window,"ready",L),s.render()};Ba.Event.domLoaded?s.getElement()&&Wr.contentEditable&&(v=Ut.fromDom(s.getElement()),w=cr(v.dom.attributes,function(B,G){return B[G.name]=G.value,B},{}),s.on("remove",function(){Lr(v.dom.attributes,function(B){return Hh(v,B.name),0}),Fc(v,w)}),s.ui.styleSheetLoader=vf.forElement(v,{contentCssCors:(M=s).getParam("content_css_cors"),referrerPolicy:Vv(M)}),s.getParam("inline")?s.inline=!0:(s.orgVisibility=s.getElement().style.visibility,s.getElement().style.visibility="hidden"),(O=s.getElement().form||av.getParent(d,"form"))&&(s.formElement=O,s.getParam("hidden_input")&&!Vc(s.getElement())&&(av.insertAfter(av.create("input",{type:"hidden",name:d}),d),s.hasHiddenInput=!0),s.formEventDelegate=function(B){s.fire(B.type,B)},av.bind(O,"submit reset",s.formEventDelegate),s.on("reset",function(){s.resetContent()}),!s.getParam("submit_patch")||O.submit.nodeType||O.submit.length||O._mceOldSubmit||(O._mceOldSubmit=O.submit,O.submit=function(){return s.editorManager.triggerSave(),s.setDirty(!1),O._mceOldSubmit(O)})),s.windowManager=_w(s),s.notificationManager=yw(s),"xml"===s.getParam("encoding")&&s.on("GetContent",function(B){B.save&&(B.content=av.encode(B.content))}),s.getParam("add_form_submit_trigger")&&s.on("submit",function(){s.initialized&&s.save()}),s.getParam("add_unload_trigger")&&(s._beforeUnload=function(){!s.initialized||s.destroyed||s.isHidden()||s.save({format:"raw",no_events:!0,set_dirty:!1})},s.editorManager.on("BeforeUnload",s._beforeUnload)),s.editorManager.add(s),function b2(s,d){var v,w,M=rc.ScriptLoader,O=M,L=d,B=function(){var W,re,$,ue,pe,be,we,Me,ke;pe=M,Me=Mf(be=s),ke=be.getParam("language_url","","string"),!1===kf.hasCode(Me)&&"en"!==Me&&pe.add(we=""!==ke?ke:be.editorManager.baseURL+"/langs/"+Me+".js",Z,void 0,function(){E0(be,"LanguageLoadError",P0("language",we,Me))}),$=M,Sn(function(Ne){for(var je=[],ct=function(Ye){je.push(Ye)},Dt=0;Dt<Ne.length;Dt++)Ne[Dt].each(ct);return je}([y2(ue=s,"default",d),J.from(ue.getParam("icons_url","","string")).filter(function(Ne){return 0<Ne.length}).map(function(Ne){return{url:Ne,name:J.none()}}).orThunk(function(){return y2(ue,Sb(ue),"")})]),function(Ne){$.add(Ne.url,Z,void 0,function(){E0(ue,"IconsLoadError",P0("icons",Ne.url,Ne.name.getOrUndefined()))})}),re=d,gn.each((W=s).getParam("external_plugins"),function(Ne,je){kl.load(je,Ne,Z,void 0,function(){zx(W,Ne,je)}),W.settings.plugins+=" "+je}),gn.each(kb(W).split(/[ ,]/),function(Ne){var je,ct;(Ne=gn.trim(Ne))&&!kl.urls[Ne]&&(VM(Ne)?(Ne=Ne.substr(1,Ne.length),je=kl.dependencies(Ne),gn.each(je,function(Dt){var Ye=kl.createUrl({prefix:"plugins/",resource:Dt,suffix:"/plugin"+re+".js"},Dt);kl.load(Ye.resource,Ye,Z,void 0,function(){zx(W,Ye.prefix+Ye.resource+Ye.suffix,Ye.resource)})})):kl.load(Ne,ct={prefix:"plugins/",resource:Ne,suffix:"/plugin"+re+".js"},Z,void 0,function(){zx(W,ct.prefix+ct.resource+ct.suffix,Ne)}))}),M.loadQueue(function(){s.removed||FM(s)},s,function(){s.removed||FM(s)})},G=Sc(v=s);Le(G)?(VM(G)||so(rf.urls,G)||((w=v.getParam("theme_url"))?rf.load(G,v.documentBaseURI.toAbsolute(w)):rf.load(G,"themes/"+G+"/theme"+L+".js")),O.loadQueue(function(){rf.waitFor(G,B)})):B()}(s,s.suffix)):av.bind(window,"ready",L)}(this)},ki.prototype.focus=function(s){this.execCommand("mceFocus",!1,s)},ki.prototype.hasFocus=function(){return wu(this)},ki.prototype.execCallback=function(s){for(var d=[],v=1;v<arguments.length;v++)d[v-1]=arguments[v];var w,M=this.settings[s];if(M)return this.callbackLookup&&(w=this.callbackLookup[s])&&(M=w.func,w=w.scope),"string"==typeof M&&(w=(w=M.replace(/\.\w+$/,""))?ky(w):0,M=ky(M),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[s]={func:M,scope:w}),M.apply(w||this,d)},ki.prototype.translate=function(s){return kf.translate(s)},ki.prototype.getParam=function(s,d,v){return O=d,re=(M=s)in(w=this).settings?w.settings[M]:O,"hash"===(L=v)?(W={},"string"==typeof(G=re)?Sn(0<G.indexOf("=")?G.split(/[;,](?![^=;,]*(?:[;,]|$))/):G.split(","),function($){var ue=$.split("=");W[gn.trim(ue[0])]=gn.trim(1<ue.length?ue[1]:ue[0])}):W=G,W):"string"===L?py(Le,w,M).getOr(O):"number"===L?py(He,w,M).getOr(O):"boolean"===L?py(Kt,w,M).getOr(O):"object"===L?py(et,w,M).getOr(O):"array"===L?py(Qe,w,M).getOr(O):"string[]"===L?py((B=Le,function($){return Qe($)&&hr($,B)}),w,M).getOr(O):"function"===L?py(pt,w,M).getOr(O):re;var w,M,O,L,B,G,W,re},ki.prototype.hasPlugin=function(s,d){return!(!Ht(kb(this).split(/[ ,]/),s)||d&&void 0===kl.get(s))},ki.prototype.nodeChanged=function(s){this._nodeChangeDispatcher.nodeChanged(s)},ki.prototype.addCommand=function(s,d,v){this.editorCommands.addCommand(s,d,v)},ki.prototype.addQueryStateHandler=function(s,d,v){this.editorCommands.addQueryStateHandler(s,d,v)},ki.prototype.addQueryValueHandler=function(s,d,v){this.editorCommands.addQueryValueHandler(s,d,v)},ki.prototype.addShortcut=function(s,d,v,w){this.shortcuts.add(s,d,v,w)},ki.prototype.execCommand=function(s,d,v,w){return this.editorCommands.execCommand(s,d,v,w)},ki.prototype.queryCommandState=function(s){return this.editorCommands.queryCommandState(s)},ki.prototype.queryCommandValue=function(s){return this.editorCommands.queryCommandValue(s)},ki.prototype.queryCommandSupported=function(s){return this.editorCommands.queryCommandSupported(s)},ki.prototype.show=function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable="true":(ob.show(this.getContainer()),ob.hide(this.id)),this.load(),this.fire("show"))},ki.prototype.hide=function(){var s=this,d=s.getDoc();s.hidden||(M2&&d&&!s.inline&&d.execCommand("SelectAll"),s.save(),s.inline?(s.getBody().contentEditable="false",s===s.editorManager.focusedEditor&&(s.editorManager.focusedEditor=null)):(ob.hide(s.getContainer()),ob.setStyle(s.id,"display",s.orgDisplay)),s.hidden=!0,s.fire("hide"))},ki.prototype.isHidden=function(){return!!this.hidden},ki.prototype.setProgressState=function(s,d){this.fire("ProgressState",{state:s,time:d})},ki.prototype.load=function(s){var d=this.getElement();if(this.removed)return"";if(d){(s=s||{}).load=!0;var v=Vc(d)?d.value:d.innerHTML,w=this.setContent(v,s);return s.element=d,s.no_events||this.fire("LoadContent",s),s.element=d=null,w}},ki.prototype.save=function(s){var d,v,w=this,M=w.getElement();if(M&&w.initialized&&!w.removed)return(s=s||{}).save=!0,s.element=M,s.content=w.getContent(s),s.no_events||w.fire("SaveContent",s),"raw"===s.format&&w.fire("RawSaveContent",s),d=s.content,Vc(M)?M.value=d:(!s.is_removing&&w.inline||(M.innerHTML=d),(v=ob.getParent(w.id,"form"))&&k2(v.elements,function(O){if(O.name===w.id)return O.value=d,!1})),s.element=M=null,!1!==s.set_dirty&&w.setDirty(!1),d},ki.prototype.setContent=function(s,d){return D0(this,s,d)},ki.prototype.getContent=function(s){return w=(v=void 0===(v=s)?{}:v).format||"html",M=v,nf(this).editor.getContent(M,w);var v,w,M},ki.prototype.insertContent=function(s,d){d&&(s=YM({content:s},d)),this.execCommand("mceInsertContent",!1,s)},ki.prototype.resetContent=function(s){void 0===s?D0(this,this.startContent,{format:"raw"}):D0(this,s),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},ki.prototype.isDirty=function(){return!this.isNotDirty},ki.prototype.setDirty=function(s){var d=!this.isNotDirty;this.isNotDirty=!s,s&&s!==d&&this.fire("dirty")},ki.prototype.getContainer=function(){return this.container||(this.container=ob.get(this.editorContainer||this.id+"_parent")),this.container},ki.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},ki.prototype.getElement=function(){return this.targetElm||(this.targetElm=ob.get(this.id)),this.targetElm},ki.prototype.getWin=function(){var s;return this.contentWindow||(s=this.iframeElement)&&(this.contentWindow=s.contentWindow),this.contentWindow},ki.prototype.getDoc=function(){var s;return this.contentDocument||(s=this.getWin())&&(this.contentDocument=s.document),this.contentDocument},ki.prototype.getBody=function(){var s=this.getDoc();return this.bodyElement||(s?s.body:null)},ki.prototype.convertURL=function(s,d,v){var w=this.settings;return w.urlconverter_callback?this.execCallback("urlconverter_callback",s,v,!0,d):!w.convert_urls||v&&"LINK"===v.nodeName||0===s.indexOf("file:")||0===s.length?s:w.relative_urls?this.documentBaseURI.toRelative(s):this.documentBaseURI.toAbsolute(s,w.remove_script_host)},ki.prototype.addVisual=function(s){var d;d=s,Gs(this).editor.addVisual(d)},ki.prototype.remove=function(){var s,d,v,w,M;(s=this).removed||(d=s._selectionOverrides,v=s.editorUpload,w=s.getBody(),M=s.getElement(),w&&s.save({is_removing:!0}),s.removed=!0,s.unbindAllNativeEvents(),s.hasHiddenInput&&M&&sc.remove(M.nextSibling),s.fire("remove"),s.editorManager.remove(s),!s.inline&&w&&sc.setStyle(s.id,"display",s.orgDisplay),s.fire("detach"),sc.remove(s.getContainer()),$b(d),$b(v),s.destroy())},ki.prototype.destroy=function(s){var d,v,w,M,O,L,B;v=s,L=(d=this).selection,B=d.dom,d.destroyed||(v||d.removed?(v||(d.editorManager.off("beforeunload",d._beforeUnload),d.theme&&d.theme.destroy&&d.theme.destroy(),$b(L),$b(B)),(M=(w=d).formElement)&&(M._mceOldSubmit&&(M.submit=M._mceOldSubmit,M._mceOldSubmit=null),sc.unbind(M,"submit reset",w.formEventDelegate)),(O=d).contentAreaContainer=O.formElement=O.container=O.editorContainer=null,O.bodyElement=O.contentDocument=O.contentWindow=null,O.iframeElement=O.targetElm=null,O.selection&&(O.selection=O.selection.win=O.selection.dom=O.selection.dom.doc=null),d.destroyed=!0):d.remove())},ki.prototype.uploadImages=function(s){return this.editorUpload.uploadImages(s)},ki.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},ki.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},ki.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},ki.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},ki.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},ki);function ki(s,d,v){var w,M,O,L,B,G,W,re,pe,be,we,Me,Ne,je,ct,Dt=this;function Ye(Mt,At){return function(zt,tn){return Mt[zt.toLowerCase()]=Sr(Sr({},tn),{type:At})}}this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=v,this.documentBaseUrl=v.documentBaseURL,YM(this,rk),this.settings=(pe=v.defaultSettings,we=this.documentBaseUrl,Me=Rf,Ne={id:s,theme:"silver",toolbar_mode:sM(be=d,"floating"),plugins:"",document_base_url:we,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:this.convertURL,url_converter_scope:this},je=Sr(Sr({},Ne),Me?xw:{}),!1!==(ct=function Px(s,d,v,w,M){var O,L,B,G,W,re,$,ue,pe=s?{mobile:(O=d,L={resize:!1,toolbar_mode:sM(M.mobile||{},"scrolling"),toolbar_sticky:!1},Sr(Sr(Sr({},xw),L),O?{menubar:!1}:{}))}:{},be=(W=["mobile"],vn(A0(pe,M),function(Me,ke){return Ht(W,ke)},_n(re={}),_n($={})),{sections:te((ue={t:re,f:$}).t),settings:te(ue.f)}),we=gn.extend(v,w,be.settings(),s&&jm(be,"mobile")?function(Me){void 0===Me&&(Me={});var ke=wr(be.sections(),"mobile").getOr({});return gn.extend({},Me,ke)}():{},{validate:!0,external_plugins:(B=w,G=be.settings().external_plugins||{},B&&B.external_plugins?gn.extend({},B.external_plugins,G):G)});return function vw(s,d,v,w){var M,O,L,B,G,W,re,$,ue=Jb(v.forced_plugins),pe=Jb(w.plugins),be=jm(M=d,"mobile")?M.sections().mobile:{},Me=(B=d,G=pe,W=be.plugins?Jb(be.plugins):pe,O=(L=s)&&($=(re=B).sections(),jm(re,"mobile")&&"mobile"===$.mobile.theme)?Zn(W,ve(Ht,Nx)):L&&jm(B,"mobile")?W:G,[].concat(Jb(ue)).concat(Jb(O)));if(Wr.browser.isIE()&&Ht(Me,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return gn.extend(w,{plugins:Me.join(" ")})}(s,be,w,we)}(Lf||gC,Lf,je,pe,be)).deprecation_warnings&&function XT(s,d){var v,w,M,O,L,B,G,W=(v=s,w=Zn(dC,function(we){return so(v,we)}),!1!==(M=v.forced_root_block)&&""!==M||w.push("forced_root_block (false only)"),Ci(w)),re=(G=gn.makeMap(d.plugins," "),Ci(qt(qt([],Zn(hC,be),!0),Ja(bw,function(we){return be(we)?[we+" (moving to premium)"]:[]}),!0))),$=0<re.length,ue=0<W.length,pe="mobile"===d.theme;function be(we){return so(G,we)}($||ue||pe)&&(O=pe?"\n\nThemes:\n- mobile":"",L=$?"\n\nPlugins:\n- "+re.join("\n- "):"",B=ue?"\n\nSettings:\n- "+W.join("\n- "):"",console.warn("The following deprecated features are currently enabled, these will be removed in TinyMCE 6.0. See https://www.tiny.cloud/docs/release-notes/6.0-upcoming-changes/ for more information."+O+L+B))}(be,ct),ct),this.settings.suffix&&(v.suffix=this.settings.suffix),this.suffix=v.suffix,this.settings.base_url&&v._setBaseUrl(this.settings.base_url),this.baseUri=v.baseURI,this.settings.referrer_policy&&(rc.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),Ui.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),Fa.languageLoad=this.settings.language_load,Fa.baseURL=v.baseURL,this.id=s,this.setDirty(!1),this.documentBaseURI=new an(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new rb(this),this.editorCommands=new tk(this),this.settings.cache_suffix&&(Wr.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:{addAutocompleter:(B={},(w={addButton:Ye(M={},"button"),addGroupToolbarButton:Ye(M,"grouptoolbarbutton"),addToggleButton:Ye(M,"togglebutton"),addMenuButton:Ye(M,"menubutton"),addSplitButton:Ye(M,"splitbutton"),addMenuItem:Ye(O={},"menuitem"),addNestedMenuItem:Ye(O,"nestedmenuitem"),addToggleMenuItem:Ye(O,"togglemenuitem"),addAutocompleter:Ye(L={},"autocompleter"),addContextMenu:Ye(G={},"contextmenu"),addContextToolbar:Ye(W={},"contexttoolbar"),addContextForm:Ye(W,"contextform"),addSidebar:Ye(re={},"sidebar"),addIcon:function(Mt,At){return B[Mt.toLowerCase()]=At},getAll:function(){return{buttons:M,menuItems:O,icons:B,popups:L,contextMenus:G,contextToolbars:W,sidebars:re}}}).addAutocompleter),addButton:w.addButton,addContextForm:w.addContextForm,addContextMenu:w.addContextMenu,addContextToolbar:w.addContextToolbar,addIcon:w.addIcon,addMenuButton:w.addMenuButton,addMenuItem:w.addMenuItem,addNestedMenuItem:w.addNestedMenuItem,addSidebar:w.addSidebar,addSplitButton:w.addSplitButton,addToggleButton:w.addToggleButton,addGroupToolbarButton:w.addGroupToolbarButton,addToggleMenuItem:w.addToggleMenuItem,getAll:w.getAll},styleSheetLoader:void 0,show:Z,hide:Z,enable:Z,disable:Z,isDisabled:ht};var rt,dt,Vt,Zt,ln,on=(Zt=Ya("design"),ln=Ya({design:{activate:Z,deactivate:Z,editorReadOnly:!1},readonly:{activate:Z,deactivate:Z,editorReadOnly:!0}}),(dt=rt=this).serializer?nk(dt):dt.on("PreInit",function(){nk(dt)}),(Vt=rt).on("ShowCaret",function(Mt){sf(Vt)&&Mt.preventDefault()}),Vt.on("ObjectSelected",function(Mt){sf(Vt)&&Mt.preventDefault()}),{isReadOnly:function(){return sf(rt)},set:function(Mt){return function(At,zt,tn,On){if(On!==tn.get()){if(!so(zt,On))throw new Error("Editor mode '"+On+"' is invalid");At.initialized?Sy(At,tn,zt,On):At.on("init",function(){return Sy(At,tn,zt,On)})}}(rt,ln.get(),Zt,Mt)},get:function(){return Zt.get()},register:function(Mt,At){ln.set(function(zt,tn,On){var er;if(Ht(eA,tn))throw new Error("Cannot override default mode "+tn);return Sr(Sr({},zt),((er={})[tn]=Sr(Sr({},On),{deactivate:function(){try{On.deactivate()}catch(An){console.error("problem while deactivating editor mode "+tn+":",An)}}}),er))}(ln.get(),Mt,At))}});this.mode=on,this.setMode=on.set,v.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=po.overrideDefaults(function(){return{context:Dt.inline?Dt.getBody():Dt.getDoc(),element:Dt.getBody()}})}function XM(s){var d=s.type;zg(oh.get(),function(v){switch(d){case"scroll":v.fire("ScrollWindow",s);break;case"resize":v.fire("ResizeWindow",s)}})}function ak(s){s!==D2&&(s?po(window).on("resize scroll",XM):po(window).off("resize scroll",XM),D2=s)}function ZM(s){var d=Qi;delete Su[s.id];for(var v=0;v<Su.length;v++)if(Su[v]===s){Su.splice(v,1);break}return Qi=Zn(Qi,function(w){return s!==w}),oh.activeEditor===s&&(oh.activeEditor=0<Qi.length?Qi[0]:null),oh.focusedEditor===s&&(oh.focusedEditor=null),d.length!==Qi.length}var My,uf=Ui.DOM,T2=gn.explode,zg=gn.each,f_=gn.extend,tA=0,D2=!1,Su=[],Qi=[],sk="CSS1Compat"!==document.compatMode,oh=Sr(Sr({},Cy),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:po,majorVersion:"5",minorVersion:"10.7",releaseDate:"2022-12-06",editors:Su,i18n:kf,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var s,d="",v=an.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(v)&&(v=v.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(v)||(v+="/"));var w=window.tinymce||window.tinyMCEPreInit;if(w)s=w.base||w.baseURL,d=w.suffix;else{for(var M,O=document.getElementsByTagName("script"),L=0;L<O.length;L++)if(""!==(M=O[L].src||"")){var B=M.substring(M.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(M)){-1!==B.indexOf(".min")&&(d=".min"),s=M.substring(0,M.lastIndexOf("/"));break}}!s&&document.currentScript&&(-1!==(M=document.currentScript.src).indexOf(".min")&&(d=".min"),s=M.substring(0,M.lastIndexOf("/")))}this.baseURL=new an(v).toAbsolute(s),this.documentBaseURL=v,this.baseURI=new an(this.baseURL),this.suffix=d,this.on("AddEditor",ve(vg,this)),this.on("RemoveEditor",ve($o,this))},overrideDefaults:function(s){var d=s.base_url;d&&this._setBaseUrl(d),s.suffix&&(this.suffix=s.suffix);var w=(this.defaultSettings=s).plugin_base_urls;void 0!==w&&Rn(w,function(M,O){Fa.PluginManager.urls[O]=M})},init:function(s){function d(G){var W=G.id;return W||(W=wr(G,"name").filter(function(re){return!uf.get(re)}).getOrThunk(uf.uniqueId),G.setAttribute("id",W)),W}function v(G,W){return W.constructor===RegExp?W.test(G.className):uf.hasClass(G,W)}var w,M=this,O=gn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),L=function(G){w=G},B=function(){function G(pe,be,we){var Me=new ik(pe,be,M);ue.push(Me),Me.on("init",function(){++$===W.length&&L(ue)}),Me.targetElm=Me.targetElm||we,Me.render()}var W,re,$=0,ue=[];uf.unbind(window,"ready",B),(re=s.onpageload)&&re.apply(M,[]),W=po.unique(function(pe){var be=[];if(Wr.browser.isIE()&&Wr.browser.version.major<11)return Ym("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(sk)return Ym("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(pe.types)return zg(pe.types,function(Me){be=be.concat(uf.select(Me.selector))}),be;if(pe.selector)return uf.select(pe.selector);if(pe.target)return[pe.target];switch(pe.mode){case"exact":var we=pe.elements||"";0<we.length&&zg(T2(we),function(Me){var ke=uf.get(Me);ke?be.push(ke):zg(document.forms,function(Ne){zg(Ne.elements,function(je){je.name===Me&&(Me="mce_editor_"+tA++,uf.setAttrib(je,"id",Me),be.push(je))})})});break;case"textareas":case"specific_textareas":zg(uf.select("textarea"),function(Me){pe.editor_deselector&&v(Me,pe.editor_deselector)||pe.editor_selector&&!v(Me,pe.editor_selector)||be.push(Me)})}return be}(s)),s.types?zg(s.types,function(pe){gn.each(W,function(be){return!uf.is(be,pe.selector)||(G(d(be),f_({},s,pe),be),!1)})}):(gn.each(W,function(pe){var be;(be=M.get(pe.id))&&be.initialized&&!(be.getContainer()||be.getBody()).parentNode&&(ZM(be),be.unbindAllNativeEvents(),be.destroy(!0),be.removed=!0)}),0===(W=gn.grep(W,function(pe){return!M.get(pe.id)})).length?L([]):zg(W,function(pe){s.inline&&pe.tagName.toLowerCase()in O?Ym("Could not initialize inline editor on invalid inline target element",pe):G(d(pe),s,pe)}))};return M.settings=s,uf.bind(window,"ready",B),new Wi(function(G){w?G(w):L=function(W){G(W)}})},get:function(s){return 0===arguments.length?Qi.slice(0):Le(s)?hn(Qi,function(d){return d.id===s}).getOr(null):He(s)&&Qi[s]||null},add:function(s){var d=this;return Su[s.id]===s||(null===d.get(s.id)&&("length"!==s.id&&(Su[s.id]=s),Su.push(s),Qi.push(s)),ak(!0),d.activeEditor=s,d.fire("AddEditor",{editor:s}),My||(My=function(v){var w=d.fire("BeforeUnload");if(w.returnValue)return v.preventDefault(),v.returnValue=w.returnValue,w.returnValue},window.addEventListener("beforeunload",My))),s},createEditor:function(s,d){return this.add(new ik(s,d,this))},remove:function(s){var d,v,w=this;if(s){if(!Le(s))return st(w.get((v=s).id))?null:(ZM(v)&&w.fire("RemoveEditor",{editor:v}),0===Qi.length&&window.removeEventListener("beforeunload",My),v.remove(),ak(0<Qi.length),v);zg(uf.select(s),function(M){(v=w.get(M.id))&&w.remove(v)})}else for(d=Qi.length-1;0<=d;d--)w.remove(Qi[d])},execCommand:function(s,d,v){var w=this.get(v);switch(s){case"mceAddEditor":return this.get(v)||new ik(v,this.settings,this).render(),!0;case"mceRemoveEditor":return w&&w.remove(),!0;case"mceToggleEditor":return w?w.isHidden()?w.show():w.hide():this.execCommand("mceAddEditor",!1,v),!0}return!!this.activeEditor&&this.activeEditor.execCommand(s,d,v)},triggerSave:function(){zg(Qi,function(s){s.save()})},addI18n:function(s,d){kf.add(s,d)},translate:function(s){return kf.translate(s)},setActive:function(s){var d=this.activeEditor;this.activeEditor!==s&&(d&&d.fire("deactivate",{relatedTarget:s}),s.fire("activate",{relatedTarget:d})),this.activeEditor=s},_setBaseUrl:function(s){this.baseURL=new an(this.documentBaseURL).toAbsolute(s.replace(/\/+$/,"")),this.baseURI=new an(this.baseURL)}});function uk(s,d,v){var w=d.x,M=d.y,O=s.w,L=s.h,B=d.w,G=d.h,W=(v||"").split("");return"b"===W[0]&&(M+=G),"r"===W[1]&&(w+=B),"c"===W[0]&&(M+=sS(G/2)),"c"===W[1]&&(w+=sS(B/2)),"b"===W[3]&&(M-=L),"r"===W[4]&&(w-=O),"c"===W[3]&&(M-=sS(L/2)),"c"===W[4]&&(w-=sS(O/2)),k1(w,M,O,L)}function lc(){}function k1(s,d,v,w){return{x:s,y:d,w:v,h:w}}oh.setup();var d_,Fg,KM,M1,$M=Math.min,h_=Math.max,sS=Math.round,lk={inflate:function(s,d,v){return k1(s.x-d,s.y-v,s.w+2*d,s.h+2*v)},relativePosition:uk,findBestRelativePosition:function(s,d,v,w){for(var M,O=0;O<w.length;O++)if((M=uk(s,d,w[O])).x>=v.x&&M.x+M.w<=v.w+v.x&&M.y>=v.y&&M.y+M.h<=v.h+v.y)return w[O];return null},intersect:function(s,d){var v=h_(s.x,d.x),w=h_(s.y,d.y),M=$M(s.x+s.w,d.x+d.w),O=$M(s.y+s.h,d.y+d.h);return M-v<0||O-w<0?null:k1(v,w,M-v,O-w)},clamp:function(s,d,v){var w=s.x,M=s.y,O=s.x+s.w,L=s.y+s.h,B=d.x+d.w,G=d.y+d.h,W=h_(0,d.x-w),re=h_(0,d.y-M),$=h_(0,O-B),ue=h_(0,L-G);return w+=W,M+=re,v&&(O+=W,L+=re,w-=$,M-=ue),k1(w,M,(O-=$)-w,(L-=ue)-M)},create:k1,fromClientRect:function(s){return k1(s.left,s.top,s.width,s.height)}},A2=(d_={},Fg={},{load:function(s,d){var v='Script at URL "'+d+'" failed to load',w='Script at URL "'+d+"\" did not call `tinymce.Resource.add('"+s+"', data)` within 1 second";if(void 0!==d_[s])return d_[s];var M=new Wi(function(O,L){var B=function(G,W,re){function $(Me){return function(){for(var ke=[],Ne=0;Ne<arguments.length;Ne++)ke[Ne]=arguments[Ne];ue||(ue=!0,null!==pe&&(clearTimeout(pe),pe=null),Me.apply(null,ke))}}void 0===re&&(re=1e3);var ue=!1,pe=null,be=$(G),we=$(W);return{start:function(){for(var Me=[],ke=0;ke<arguments.length;ke++)Me[ke]=arguments[ke];ue||null!==pe||(pe=setTimeout(function(){return we.apply(null,Me)},re))},resolve:be,reject:we}}(O,L);Fg[s]=B.resolve,rc.ScriptLoader.loadScript(d,function(){return B.start(w)},function(){return B.reject(v)})});return d_[s]=M},add:function(s,d){void 0!==Fg[s]&&(Fg[s](d),delete Fg[s]),d_[s]=Wi.resolve(d)}}),T1=gn.each,nA=gn.extend;lc.extend=KM=function(s){function d(){var O,L,B;if(!M1&&(this.init&&this.init.apply(this,arguments),L=this.Mixins))for(O=L.length;O--;)(B=L[O]).init&&B.init.apply(this,arguments)}function v(){return this}var w=this.prototype;M1=!0;var M=new this;return M1=!1,s.Mixins&&(T1(s.Mixins,function(O){for(var L in O)"init"!==L&&(s[L]=O[L])}),w.Mixins&&(s.Mixins=w.Mixins.concat(s.Mixins))),s.Methods&&T1(s.Methods.split(","),function(O){s[O]=v}),s.Properties&&T1(s.Properties.split(","),function(O){var L="_"+O;s[O]=function(B){return void 0!==B?(this[L]=B,this):this[L]}}),s.Statics&&T1(s.Statics,function(O,L){d[L]=O}),s.Defaults&&w.Defaults&&(s.Defaults=nA({},w.Defaults,s.Defaults)),Rn(s,function(O,L){var B,G;M[L]="function"==typeof O&&w[L]?(B=L,G=O,function(){var W=this._super;this._super=w[B];var re=G.apply(this,arguments);return this._super=W,re}):O}),d.prototype=M,(d.constructor=d).extend=KM,d};var D1,Ty,A1,p_=Math.min,I1=Math.max,lv=Math.round,uS={serialize:function(s){var d=JSON.stringify(s);return Le(d)?d.replace(/[\u0080-\uFFFF]/g,function(v){var w=v.charCodeAt(0).toString(16);return"\\u"+"0000".substring(w.length)+w}):d},parse:function(s){try{return JSON.parse(s)}catch{}}},ck={callbacks:{},count:0,send:function(s){var d=this,v=Ui.DOM,w=(void 0!==s.count?s:d).count,M="tinymce_jsonp_"+w;d.callbacks[w]=function(O){v.remove(M),delete d.callbacks[w],s.callback(O)},v.add(v.doc.body,"script",{id:M,src:s.url,type:"text/javascript"}),d.count++}},fk=Sr(Sr({},Cy),{send:function(s){var d,v=0,w=function(){!s.async||4===d.readyState||1e4<v++?(s.success&&v<1e4&&200===d.status?s.success.call(s.success_scope,""+d.responseText,d,s):s.error&&s.error.call(s.error_scope,1e4<v?"TIMED_OUT":"GENERAL",d,s),d=null):Bt.setTimeout(w,10)};if(s.scope=s.scope||this,s.success_scope=s.success_scope||s.scope,s.error_scope=s.error_scope||s.scope,s.async=!1!==s.async,s.data=s.data||"",fk.fire("beforeInitialize",{settings:s}),(d=new XMLHttpRequest).overrideMimeType&&d.overrideMimeType(s.content_type),d.open(s.type||(s.data?"POST":"GET"),s.url,s.async),s.crossDomain&&(d.withCredentials=!0),s.content_type&&d.setRequestHeader("Content-Type",s.content_type),s.requestheaders&&gn.each(s.requestheaders,function(M){d.setRequestHeader(M.key,M.value)}),d.setRequestHeader("X-Requested-With","XMLHttpRequest"),(d=fk.fire("beforeSend",{xhr:d,settings:s}).xhr).send(s.data),!s.async)return w();Bt.setTimeout(w,10)}}),Ps=gn.extend,I2=(lS.sendRPC=function(s){return(new lS).send(s)},lS.prototype.send=function(s){var d=s.error,v=s.success,w=Ps(this.settings,s);w.success=function(M,O){(M=void 0===(M=uS.parse(M))?{error:"JSON Parse error."}:M).error?d.call(w.error_scope||w.scope,M.error,O):v.call(w.success_scope||w.scope,M.result)},w.error=function(M,O){d&&d.call(w.error_scope||w.scope,M,O)},w.data=uS.serialize({id:s.id||"c"+this.count++,method:s.method,params:s.params}),w.content_type="application/json",fk.send(w)},lS);function lS(s){this.settings=Ps({},s),this.count=0}try{var g_,m_="__storage_test__";(g_=window.localStorage).setItem(m_,m_),g_.removeItem(m_)}catch{D1={},Ty=[],A1={getItem:function(d){return D1[d]||null},setItem:function(d,v){Ty.push(d),D1[d]=String(v)},key:function(d){return Ty[d]},removeItem:function(d){Ty=Ty.filter(function(v){return v===d}),delete D1[d]},clear:function(){Ty=[],D1={}},length:0},Object.defineProperty(A1,"length",{get:function(){return Ty.length},configurable:!1,enumerable:!1}),g_=A1}var JM=gn.extend(oh,{geom:{Rect:lk},util:{Promise:Wi,Delay:Bt,Tools:gn,VK:qr,URI:an,Class:lc,EventDispatcher:w1,Observable:Cy,I18n:kf,XHR:fk,JSON:uS,JSONRequest:I2,JSONP:ck,LocalStorage:g_,Color:function(s){function d(L){var B;return"object"==typeof L?"r"in L?(w=L.r,M=L.g,O=L.b):"v"in L&&function(G,W,re){if(G=(parseInt(G,10)||0)%360,W=parseInt(W,10)/100,re=parseInt(re,10)/100,W=I1(0,p_(W,1)),re=I1(0,p_(re,1)),0!==W){var $=G/60,ue=re*W,pe=ue*(1-Math.abs($%2-1)),be=re-ue;switch(Math.floor($)){case 0:w=ue,M=pe,O=0;break;case 1:w=pe,M=ue,O=0;break;case 2:w=0,M=ue,O=pe;break;case 3:w=0,M=pe,O=ue;break;case 4:w=pe,M=0,O=ue;break;case 5:w=ue,M=0,O=pe;break;default:w=M=O=0}w=lv(255*(w+be)),M=lv(255*(M+be)),O=lv(255*(O+be))}else w=M=O=lv(255*re)}(L.h,L.s,L.v):(B=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(L))?(w=parseInt(B[1],10),M=parseInt(B[2],10),O=parseInt(B[3],10)):(B=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(L))?(w=parseInt(B[1],16),M=parseInt(B[2],16),O=parseInt(B[3],16)):(B=/#([0-F])([0-F])([0-F])/gi.exec(L))&&(w=parseInt(B[1]+B[1],16),M=parseInt(B[2]+B[2],16),O=parseInt(B[3]+B[3],16)),w=w<0?0:255<w?255:w,M=M<0?0:255<M?255:M,O=O<0?0:255<O?255:O,v}var v={},w=0,M=0,O=0;return s&&d(s),v.toRgb=function(){return{r:w,g:M,b:O}},v.toHsv=function(){return L=w,B=M,G=O,re=0,($=p_(L/=255,p_(B/=255,G/=255)))===(ue=I1(L,I1(B,G)))?{h:0,s:0,v:100*(re=$)}:(W=(ue-$)/ue,{h:lv(60*((L===$?3:G===$?1:5)-(L===$?B-G:G===$?L-B:G-L)/((re=ue)-$))),s:lv(100*W),v:lv(100*re)});var L,B,G,W,re,$,ue},v.toHex=function(){function L(B){return 1<(B=parseInt(B,10).toString(16)).length?B:"0"+B}return"#"+L(w)+L(M)+L(O)},v.parse=d,v},ImageUploader:function(s){var d=Vx(),v=dd(s,d);return{upload:function(w,M){return v.upload(w,(M=void 0===M||M)?yC(s):void 0)}}}},dom:{EventUtils:Ba,Sizzle:Gi,DomQuery:po,TreeWalker:Qs,TextSeeker:$p,DOMUtils:Ui,ScriptLoader:rc,RangeUtils:Om,Serializer:hy,StyleSheetLoader:H1,ControlSelection:fx,BookmarkManager:ko,Selection:qT,Event:Ba.Event},html:{Styles:Ku,Entities:Kl,Node:$e,Schema:Hp,SaxParser:Pn,DomParser:T0,Writer:Pr,Serializer:Yr},Env:Wr,AddOnManager:Fa,Annotator:ux,Formatter:yy,UndoManager:KT,EditorCommands:tk,WindowManager:_w,NotificationManager:yw,EditorObservable:rk,Shortcuts:rb,Editor:ik,FocusManager:ce,EditorManager:oh,DOM:Ui.DOM,ScriptLoader:rc.ScriptLoader,PluginManager:kl,ThemeManager:rf,IconManager:Bx,Resource:A2,trim:gn.trim,isArray:gn.isArray,is:gn.is,toArray:gn.toArray,makeMap:gn.makeMap,each:gn.each,map:gn.map,grep:gn.grep,inArray:gn.inArray,extend:gn.extend,create:gn.create,walk:gn.walk,createNS:gn.createNS,resolve:gn.resolve,explode:gn.explode,_addCacheSuffix:gn._addCacheSuffix,isOpera:Wr.opera,isWebKit:Wr.webkit,isIE:Wr.ie,isGecko:Wr.gecko,isMac:Wr.mac}),QM=JM;window.tinymce=QM,window.tinyMCE=QM,function(s){if("object"==typeof module)try{module.exports=s}catch{}}(JM)}(),function(){"use strict";function _t(l){return function(p){return C=typeof(x=p),(null===x?"null":"object"==C&&(Array.prototype.isPrototypeOf(x)||x.constructor&&"Array"===x.constructor.name)?"array":"object"==C&&(String.prototype.isPrototypeOf(x)||x.constructor&&"String"===x.constructor.name)?"string":C)===l;var x,C}}function yn(l){return function(p){return typeof p===l}}function yt(l){return function(p){return l===p}}function at(l){return null==l}function We(l,p){if(le(l)){for(var x=0,C=l.length;x<C;++x)if(!p(l[x]))return;return 1}}function K(){}function xe(l,p){return function(){for(var x=[],C=0;C<arguments.length;C++)x[C]=arguments[C];return l(p.apply(null,x))}}function U(l){return function(){return l}}function Z(l){return l}function de(l,p){return l===p}var ne=_t("string"),te=_t("object"),le=_t("array"),se=yt(null),oe=yn("boolean"),he=yt(void 0),De=function(l){return!at(l)},Le=yn("function"),et=yn("number");function Qe(l){for(var p=[],x=1;x<arguments.length;x++)p[x-1]=arguments[x];return function(){for(var C=[],I=0;I<arguments.length;I++)C[I]=arguments[I];var P=p.concat(C);return l.apply(null,P)}}function st(l){return function(p){return!l(p)}}function Kt(l){return function(){throw new Error(l)}}var Ke=U(!1),pt=U(!0),He=tinymce.util.Tools.resolve("tinymce.ThemeManager"),ve=function(){return(ve=Object.assign||function(l){for(var p,x=1,C=arguments.length;x<C;x++)for(var I in p=arguments[x])Object.prototype.hasOwnProperty.call(p,I)&&(l[I]=p[I]);return l}).apply(this,arguments)};function Re(l,p){var x={};for(I in l)Object.prototype.hasOwnProperty.call(l,I)&&p.indexOf(I)<0&&(x[I]=l[I]);if(null!=l&&"function"==typeof Object.getOwnPropertySymbols)for(var C=0,I=Object.getOwnPropertySymbols(l);C<I.length;C++)p.indexOf(I[C])<0&&Object.prototype.propertyIsEnumerable.call(l,I[C])&&(x[I[C]]=l[I[C]]);return x}function Ve(l,p,x){if(x||2===arguments.length)for(var C,I=0,P=p.length;I<P;I++)!C&&I in p||((C=C||Array.prototype.slice.call(p,0,I))[I]=p[I]);return l.concat(C||Array.prototype.slice.call(p))}function vt(){return Pe}var Pe={fold:function(l,p){return l()},isSome:Ke,isNone:pt,getOr:Z,getOrThunk:ht,getOrDie:function(l){throw new Error(l||"error: getOrDie called on none.")},getOrNull:U(null),getOrUndefined:U(void 0),or:Z,orThunk:ht,map:vt,each:K,bind:vt,exists:Ke,forall:pt,filter:function(){return Pe},toArray:function(){return[]},toString:U("none()")};function ht(l){return l()}function sn(l,p){return Qa.call(l,p)}function jt(l,p){for(var x=0,C=l.length;x<C;x++)if(p(l[x],x))return!0;return!1}function Cr(l,p){for(var x=[],C=0;C<l;C++)x.push(p(C));return x}function _r(l,p){for(var x=[],C=0;C<l.length;C+=p){var I=Au.call(l,C,C+p);x.push(I)}return x}function Ht(l,p){for(var x=l.length,C=new Array(x),I=0;I<x;I++)C[I]=p(l[I],I);return C}function Te(l,p){for(var x=[],C=[],I=0,P=l.length;I<P;I++){var V=l[I];(p(V,I)?x:C).push(V)}return{pass:x,fail:C}}function It(l,p){for(var x=[],C=0,I=l.length;C<I;C++){var P=l[C];p(P,C)&&x.push(P)}return x}function Sn(l,p,x){return function(C){for(var P=C.length-1;0<=P;P--)x=p(x,C[P],P)}(l),x}function Lr(l,p,x){return zr(l,function(C,I){x=p(x,C,I)}),x}function Uo(l,p){return function(x,C,I){for(var P=0,V=x.length;P<V;P++){var j=x[P];if(C(j,P))return J.some(j);if(I(j,P))break}return J.none()}(l,p,Ke)}function Zn(l,p){for(var x=0,C=l.length;x<C;x++)if(p(l[x],x))return J.some(x);return J.none()}function Bn(l){for(var p=[],x=0,C=l.length;x<C;++x){if(!le(l[x]))throw new Error("Arr.flatten item "+x+" was not an array, input: "+l);Mr.apply(p,l[x])}return p}function cr(l,p){return Bn(Ht(l,p))}function tt(l,p){for(var x=0,C=l.length;x<C;++x)if(!0!==p(l[x],x))return!1;return!0}function hn(l){var p=Au.call(l,0);return p.reverse(),p}function Un(l,p){return It(l,function(x){return!Io(p,x)})}function Ja(l,p){for(var x={},C=0,I=l.length;C<I;C++){var P=l[C];x[String(P)]=p(P,C)}return x}function hr(l){return[l]}function fr(l,p){var x=Au.call(l,0);return x.sort(p),x}function aa(l,p){return 0<=p&&p<l.length?J.some(l[p]):J.none()}function Ci(l){return aa(l,0)}function Oa(l){return aa(l,l.length-1)}function bn(l,p){for(var x=0;x<l.length;x++){var C=p(l[x],x);if(C.isSome())return C}return J.none()}function Qt(l,p){for(var x=Ni(l),C=0,I=x.length;C<I;C++){var P=x[C];p(l[P],P)}}function jn(l,p){return Iu(l,function(x,C){return{k:C,v:p(x,C)}})}function Rn(l,p){var x=[];return Qt(l,function(C,I){x.push(p(C,I))}),x}function ar(l,p){for(var x=Ni(l),C=0,I=x.length;C<I;C++){var P=x[C],V=l[P];if(p(V,P,l))return J.some(V)}return J.none()}function _n(l){return Rn(l,Z)}function vn(l,p){return Sr(l,p)?J.from(l[p]):J.none()}function bo(l,p){return Sr(l,p)&&null!=l[p]}function wr(l,p,x){return void 0===x&&(x=de),l.exists(function(C){return x(C,p)})}function go(l){for(var p=[],x=function(I){p.push(I)},C=0;C<l.length;C++)l[C].each(x);return p}function ni(l,p){return l?J.some(p):J.none()}function sa(l,p,x){return""===p||l.length>=p.length&&l.substr(x,x+p.length)===p}function Vo(l,p){return-1!==l.indexOf(p)}function cs(l){return 0<l.length}function va(l){return void 0!==l.style&&Le(l.style.getPropertyValue)}function Ua(l){if(null==l)throw new Error("Node cannot be null or undefined");return{dom:l}}var ja,Ir=function(l){function p(){return I}function x(P){return P(l)}var C=U(l),I={fold:function(P,V){return V(l)},isSome:pt,isNone:Ke,getOr:C,getOrThunk:C,getOrDie:C,getOrNull:C,getOrUndefined:C,or:p,orThunk:p,map:function(P){return Ir(P(l))},each:function(P){P(l)},bind:x,exists:x,forall:x,filter:function(P){return P(l)?I:Pe},toArray:function(){return[l]},toString:function(){return"some("+l+")"}};return I},J={some:Ir,none:vt,from:function(l){return null==l?Pe:Ir(l)}},Au=Array.prototype.slice,Qa=Array.prototype.indexOf,Mr=Array.prototype.push,Io=function(l,p){return-1<sn(l,p)},zr=function(l,p){for(var x=0,C=l.length;x<C;x++)p(l[x],x)},Fh=Le(Array.from)?Array.from:function(l){return Au.call(l)},Ni=Object.keys,so=Object.hasOwnProperty,Iu=function(l,p){var x={};return Qt(l,function(C,I){var P=p(C,I);x[P.k]=P.v}),x},Sr=function(l,p){return so.call(l,p)},qt=function(l,p,x){return l.isSome()&&p.isSome()?J.some(x(l.getOrDie(),p.getOrDie())):J.none()},Wn=function(l,p){return sa(l,p,0)},lt=function(l,p){return sa(l,p,l.length-p.length)},Rt=(ja=/^\s+|\s+$/g,function(l){return l.replace(ja,"")}),bt={fromHtml:function(l,p){var x=(p||document).createElement("div");if(x.innerHTML=l,!x.hasChildNodes()||1<x.childNodes.length)throw console.error("HTML does not have a single root node",l),new Error("HTML must have a single root node");return Ua(x.childNodes[0])},fromTag:function(l,p){return Ua((p||document).createElement(l))},fromText:function(l,p){return Ua((p||document).createTextNode(l))},fromDom:Ua,fromPoint:function(l,p,x){return J.from(l.dom.elementFromPoint(p,x)).map(Ua)}};function un(l){return l.dom.nodeName.toLowerCase()}function en(l){return function(p){return p.dom.nodeType===l}}function dn(l){var p,x=!1;return function(){for(var C=[],I=0;I<arguments.length;I++)C[I]=arguments[I];return x||(x=!0,p=l.apply(null,C)),p}}function mr(l,p){var x=String(p).toLowerCase();return Uo(l,function(C){return C.search(x)})}function Jn(l){return function(p){return Vo(p,l)}}function Kn(l){return window.matchMedia(l).matches}function vr(l,p){var x=l.dom;if(1!==x.nodeType)return!1;var C=x;if(void 0!==C.matches)return C.matches(p);if(void 0!==C.msMatchesSelector)return C.msMatchesSelector(p);if(void 0!==C.webkitMatchesSelector)return C.webkitMatchesSelector(p);if(void 0!==C.mozMatchesSelector)return C.mozMatchesSelector(p);throw new Error("Browser lacks native selectors")}function rr(l){return 1!==l.nodeType&&9!==l.nodeType&&11!==l.nodeType||0===l.childElementCount}function Mn(l,p){return l.dom===p.dom}function En(l,p){return Dl().browser.isIE()?(I=Node.DOCUMENT_POSITION_CONTAINED_BY,0!=(l.dom.compareDocumentPosition(p.dom)&I)):(P=l.dom)!==(V=p.dom)&&P.contains(V);var I,P,V}function Wt(l){return bt.fromDom(l.dom.ownerDocument)}function eo(l){return Vf(l)?l:Wt(l)}function no(l){return bt.fromDom(eo(l).dom.documentElement)}function Jr(l){return bt.fromDom(eo(l).dom.defaultView)}function Xr(l){return J.from(l.dom.parentNode).map(bt.fromDom)}function ho(l){return J.from(l.dom.offsetParent).map(bt.fromDom)}function gi(l){return Ht(l.dom.childNodes,bt.fromDom)}function oo(l,p){return J.from(l.dom.childNodes[p]).map(bt.fromDom)}function Xs(l,p){return{element:l,offset:p}}function Or(l,p){var x=gi(l);return 0<x.length&&p<x.length?Xs(x[p],0):Xs(l,p)}function wo(l){return bv(l)&&De(l.dom.host)}function Zi(l){return wo(l)?l:bt.fromDom(eo(l).dom.body)}function Zs(l){return bt.fromDom(l.dom.host)}function uu(l,p,x){if(!(ne(x)||oe(x)||et(x)))throw console.error("Invalid call to Attribute.set. Key ",p,":: Value ",x,":: Element ",l),new Error("Attribute value was not simple");l.setAttribute(p,x+"")}function Ur(l,p,x){uu(l.dom,p,x)}function Ea(l,p){var x=l.dom;Qt(p,function(C,I){uu(x,I,C)})}function fs(l,p){var x=l.dom.getAttribute(p);return null===x?void 0:x}function Ls(l,p){return J.from(fs(l,p))}function Ou(l,p){var x=l.dom;return!(!x||!x.hasAttribute)&&x.hasAttribute(p)}function Ss(l,p){l.dom.removeAttribute(p)}function cb(l,p,x){if(!ne(x))throw console.error("Invalid call to CSS.set. Property ",p,":: Value ",x,":: Element ",l),new Error("CSS value must be a string: "+x);va(l)&&l.style.setProperty(p,x)}function jg(l,p){va(l)&&l.style.removeProperty(p)}function Qr(l,p,x){cb(l.dom,p,x)}function Sa(l,p){var x=l.dom;Qt(p,function(C,I){cb(x,I,C)})}function Eu(l,p){var x=l.dom;Qt(p,function(C,I){C.fold(function(){jg(x,I)},function(P){cb(x,I,P)})})}function Ns(l,p){var x=l.dom,C=window.getComputedStyle(x).getPropertyValue(p);return""!==C||du(l)?C:fb(x,p)}function Ki(l,p){var C=fb(l.dom,p);return J.from(C).filter(function(I){return 0<I.length})}function Bc(l,p,x){var C=bt.fromTag(l);return Qr(C,p,x),Ki(C,p).isSome()}function mi(l,p){jg(l.dom,p),wr(Ls(l,"style").map(Rt),"")&&Ss(l,"style")}function Py(l){return l.dom.offsetWidth}function Ry(l,p){function x(I){var P=p(I);if(P<=0||null===P){var V=Ns(I,l);return parseFloat(V)||0}return P}function C(I,P){return Lr(P,function(V,j){var Y=Ns(I,j),ae=void 0===Y?0:parseInt(Y,10);return isNaN(ae)?V:V+ae},0)}return{set:function(I,P){if(!et(P)&&!P.match(/^[0-9]+$/))throw new Error(l+".set accepts only positive integer values. Value was "+P);var V=I.dom;va(V)&&(V.style[l]=P+"px")},get:x,getOuter:x,aggregate:C,max:function(I,P,V){var j=C(I,V);return j<P?P-j:0}}}function Pu(l){return Hf.get(l)}function Wr(l){return Hf.getOuter(l)}function zc(l,p){return void 0!==l?l:void 0!==p?p:0}function Ul(l){var p=l.dom.ownerDocument,x=p.body,C=p.defaultView,I=p.documentElement;if(x===l.dom)return Ca(x.offsetLeft,x.offsetTop);var P=zc(null==C?void 0:C.pageYOffset,I.scrollTop),V=zc(null==C?void 0:C.pageXOffset,I.scrollLeft),j=zc(I.clientTop,x.clientTop),Y=zc(I.clientLeft,x.clientLeft);return Vy(l).translate(V-Y,P-j)}function gn(l){return ns.get(l)}function Ut(l){return ns.getOuter(l)}function Pa(l){function p(){return l.stopPropagation()}function x(){return l.preventDefault()}var C=xe(x,p);return{target:bt.fromDom(function(I){if(Bs()&&De(I.target)){var P=bt.fromDom(I.target);if(fu(P)&&Fc(P)&&I.composed&&I.composedPath){var V=I.composedPath();if(V)return Ci(V)}}return J.from(I.target)}(l).getOr(l.target)),x:l.clientX,y:l.clientY,stop:p,prevent:x,kill:C,raw:l}}function Ly(l,p,x,C,I){var P,V,j=(P=x,V=C,function(Y){P(Y)&&V(Pa(Y))});return l.dom.addEventListener(p,j,I),{unbind:Qe(mc,l,p,j,I)}}function mo(l,p){Xr(l).each(function(x){x.dom.insertBefore(p.dom,l.dom)})}function Ks(l,p){J.from(l.dom.nextSibling).map(bt.fromDom).fold(function(){Xr(l).each(function(x){ka(x,p)})},function(x){mo(x,p)})}function sh(l,p){oo(l,0).fold(function(){ka(l,p)},function(x){l.dom.insertBefore(p.dom,x.dom)})}function es(l,p){zr(p,function(x){ka(l,x)})}function $s(l){l.dom.textContent="",zr(gi(l),function(p){mf(p)})}function cl(l){var p,x=gi(l);0<x.length&&(p=l,zr(x,function(C){mo(p,C)})),mf(l)}function ts(l){var p=void 0!==l?l.dom:document;return Ca(p.body.scrollLeft||p.documentElement.scrollLeft,p.body.scrollTop||p.documentElement.scrollTop)}function qg(l,p,x){var C=(void 0!==x?x.dom:document).defaultView;C&&C.scrollTo(l,p)}function Bp(l,p,x,C){return{x:l,y:p,width:x,height:C,right:l+x,bottom:p+C}}function To(l){var p=void 0===l?window:l,C=ts(bt.fromDom(p.document)),I=void 0===p?window:p;return(Dl().browser.isFirefox()?J.none():J.from(I.visualViewport)).fold(function(){var P=p.document.documentElement;return Bp(C.left,C.top,P.clientWidth,P.clientHeight)},function(P){return Bp(Math.max(P.pageLeft,C.left),Math.max(P.pageTop,C.top),P.width,P.height)})}function Ny(l){var p,x=ts(bt.fromDom(document)),C=(p=ju).owner(l),I=O_(p,C);return J.some(I).fold(Qe(Ul,l),function(P){var V=Vy(l),j=Sn(P,function(Y,ae){var fe=Vy(ae);return{left:Y.left+fe.left,top:Y.top+fe.top}},{left:0,top:0});return Ca(j.left+V.left+x.left,j.top+V.top+x.top)})}function uh(l){var p=Ny(l),x=Ut(l),C=Wr(l);return Ru(p.left,p.top,x,C)}function Yg(){return By(0,0)}function Xg(l){function p(I){return function(){return x===I}}var x=l.current;return{current:x,version:l.version,isEdge:p("Edge"),isChrome:p("Chrome"),isIE:p("IE"),isOpera:p("Opera"),isFirefox:p(Zg),isSafari:p("Safari")}}function lu(l){function p(I){return function(){return x===I}}var x=l.current;return{current:x,version:l.version,isWindows:p(ba),isiOS:p("iOS"),isAndroid:p(xv),isOSX:p("OSX"),isLinux:p("Linux"),isSolaris:p(hc),isFreeBSD:p(Fp),isChromeOS:p(_v)}}"undefined"!=typeof window||Function("return this;")();var jl,cu,fu=en(1),dc=en(3),Vf=en(9),bv=en(11),By=function(l,p){return{major:l,minor:p}},lh={nu:By,detect:function(l,p){var x,C,I=String(p).toLowerCase();return 0===l.length?Yg():(C=function(V,j){for(var Y=0;Y<V.length;Y++){var ae=V[Y];if(ae.test(j))return ae}}(l,x=I))?By(P(1),P(2)):{major:0,minor:0};function P(V){return Number(x.replace(C,"$"+V))}},unknown:Yg},Vh=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,zy={browsers:U([{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(l){return Vo(l,"edge/")&&Vo(l,"chrome")&&Vo(l,"safari")&&Vo(l,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Vh],search:function(l){return Vo(l,"chrome")&&!Vo(l,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(l){return Vo(l,"msie")||Vo(l,"trident")}},{name:"Opera",versionRegexes:[Vh,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Jn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Jn("firefox")},{name:"Safari",versionRegexes:[Vh,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(l){return(Vo(l,"safari")||Vo(l,"mobile/"))&&Vo(l,"applewebkit")}}]),oses:U([{name:"Windows",search:Jn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(l){return Vo(l,"iphone")||Vo(l,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Jn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Jn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Jn("linux"),versionRegexes:[]},{name:"Solaris",search:Jn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Jn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Jn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}])},Zg="Firefox",zp=function(){return Xg({current:void 0,version:lh.unknown()})},Fy=Xg,ba=(U("Edge"),U("Chrome"),U("IE"),U("Opera"),U(Zg),U("Safari"),"Windows"),xv="Android",hc="Solaris",Fp="FreeBSD",_v="ChromeOS",pc=function(){return lu({current:void 0,version:lh.unknown()})},Kg=lu,Dl=(U(ba),U("iOS"),U(xv),U("Linux"),U("OSX"),U(hc),U(Fp),U(_v),dn(function(){return l=navigator.userAgent,p=J.from(navigator.userAgentData),x=Kn,ze=zy.browsers(),Ue=zy.oses(),{browser:qe=p.bind(function(Ee){return Ze=ze,bn(Ee.brands,function(ft){var Ct=ft.brand.toLowerCase();return Uo(Ze,function(Jt){var Ft;return Ct===(null===(Ft=Jt.brand)||void 0===Ft?void 0:Ft.toLowerCase())}).map(function(Jt){return{current:Jt.name,version:lh.nu(parseInt(ft.version,10),0)}})});var Ze}).orThunk(function(){return mr(ze,Ee=l).map(function(Ze){var ft=lh.detect(Ze.versionRegexes,Ee);return{current:Ze.name,version:ft}});var Ee}).fold(zp,Fy),os:Je=mr(Ue,C=l).map(function(Ee){var Ze=lh.detect(Ee.versionRegexes,C);return{current:Ee.name,version:Ze}}).fold(pc,Kg),deviceType:(P=qe,V=l,j=x,Y=(I=Je).isiOS()&&!0===/ipad/i.test(V),ae=I.isiOS()&&!Y,me=(fe=I.isiOS()||I.isAndroid())||j("(pointer:coarse)"),Ce=Y||!ae&&fe&&j("(min-device-width:768px)"),Oe=ae||fe&&!Ce,Ge=P.isSafari()&&I.isiOS()&&!1===/safari/i.test(V),{isiPad:U(Y),isiPhone:U(ae),isTablet:U(Ce),isPhone:U(Oe),isTouch:U(me),isAndroid:I.isAndroid,isiOS:I.isiOS,isWebView:U(Ge),isDesktop:U(!Oe&&!Ce&&!Ge)})};var l,p,x,C,I,P,V,j,Y,ae,fe,me,Ce,Oe,Ge,ze,Ue,qe,Je})),gc=Xr,ya=Le(Element.prototype.attachShadow)&&Le(Node.prototype.getRootNode),Bs=U(ya),Ai=ya?function(l){return bt.fromDom(l.dom.getRootNode())}:eo,ql=function(l){var p=Ai(l);return wo(p)?J.some(p):J.none()},Fc=function(l){return De(l.dom.shadowRoot)},du=function(l){var p=dc(l)?l.dom.parentNode:l.dom;if(null==p||null===p.ownerDocument)return!1;var x,C,I=p.ownerDocument;return ql(bt.fromDom(p)).fold(function(){return I.body.contains(p)},(x=du,C=Zs,function(P){return x(C(P))}))},Ra=function(){return Hh(bt.fromDom(document))},Hh=function(l){var p=l.dom.body;if(null==p)throw new Error("Body is not available yet");return bt.fromDom(p)},fb=function(l,p){return va(l)?l.style.getPropertyValue(p):""},Hf=Ry("height",function(l){var p=l.dom;return du(l)?p.getBoundingClientRect().height:p.offsetHeight}),Sd=function(l,p){return{left:l,top:p,translate:function(x,C){return Sd(l+x,p+C)}}},Ca=Sd,Vy=function(l){var p,x=l.dom,C=x.ownerDocument.body;return C===x?Ca(C.offsetLeft,C.offsetTop):du(l)?(p=x.getBoundingClientRect(),Ca(p.left,p.top)):Ca(0,0)},ns=Ry("width",function(l){return l.dom.offsetWidth}),mc=function(l,p,x,C){l.dom.removeEventListener(p,x,C)},ka=function(l,p){l.dom.appendChild(p.dom)},mf=function(l){var p=l.dom;null!==p.parentNode&&p.parentNode.removeChild(p)},O_=function(l,p){return l.view(p).fold(U([]),function(x){var C=l.owner(x),I=O_(l,C);return[x].concat(I)})},ju=Object.freeze({__proto__:null,view:function(l){var p;return(l.dom===document?J.none():J.from(null===(p=l.dom.defaultView)||void 0===p?void 0:p.frameElement)).map(bt.fromDom)},owner:Wt}),Ru=function(l,p,x,C){return{x:l,y:p,width:x,height:C,right:l+x,bottom:p+C}},Yl=function(l){var p=Ul(l),x=Ut(l),C=Wr(l);return Ru(p.left,p.top,x,C)},fl=function(){return To(window)},Cs=function(l){return{isValue:pt,isError:Ke,getOr:U(l),getOrThunk:U(l),getOrDie:U(l),or:function(p){return Cs(l)},orThunk:function(p){return Cs(l)},fold:function(p,x){return x(l)},map:function(p){return Cs(p(l))},mapError:function(p){return Cs(l)},each:function(p){p(l)},bind:function(p){return p(l)},exists:function(p){return p(l)},forall:function(p){return p(l)},toOptional:function(){return J.some(l)}}},Js=function(l){return{isValue:Ke,isError:pt,getOr:Z,getOrThunk:function(p){return p()},getOrDie:function(){return Kt(String(l))()},or:Z,orThunk:function(p){return p()},fold:function(p,x){return p(l)},map:function(p){return Js(l)},mapError:function(p){return Js(p(l))},each:K,bind:function(p){return Js(l)},exists:Ke,forall:pt,toOptional:J.none}},Po={value:Cs,error:Js,fromOption:function(l,p){return l.fold(function(){return Js(p)},Cs)}};function $g(l,p,x){return l.stype===jl.Error?p(l.serror):x(l.svalue)}function Al(l){return{stype:jl.Value,svalue:l}}function Ma(l){return{stype:jl.Error,serror:l}}function uo(l,p,x,C){return{tag:"field",key:l,newKey:p,presence:x,prop:C}}function Vc(l,p,x){switch(l.tag){case"field":return p(l.key,l.newKey,l.presence,l.prop);case"custom":return x(l.newKey,l.instantiator)}}function Er(l){return function(){for(var p=[],x=0;x<arguments.length;x++)p[x]=arguments[x];if(0===p.length)throw new Error("Can't merge zero objects");for(var C={},I=0;I<p.length;I++){var P,V=p[I];for(P in V)Sr(V,P)&&(C[P]=l(C[P],V[P]))}return C}}function Yu(l){return{tag:"defaultedThunk",process:l}}function Vp(l){return Yu(U(l))}function Oo(l){return{tag:"mergeWithThunk",process:l}}function Xu(l){return te(l)&&100<Ni(l).length?" removed due to size":JSON.stringify(l,null,2)}function to(l,p){return jh([{path:l,getErrorInfo:p}])}function ks(l){return{extract:function(p,x){return Md(l(x),function(C){return to(p,U(C))})},toString:U("val")}}function Il(l,p,x,C){return C(vn(l,p).getOrThunk(function(){return x(l)}))}function Hy(l,p,x,C,I){function P(Oe){return I.extract(p.concat([C]),Oe)}function V(Oe){return Oe.fold(function(){return kd(J.none())},function(Ge){var ze=I.extract(p.concat([C]),Ge);return G1(ze,J.some)})}var j,Y,ae,fe,me,Ce;switch(l.tag){case"required":return ae=p,Ce=P,vn(fe=x,me=C).fold(function(){return Oe=me,Ge=fe,to(ae,function(){return'Could not find valid *required* value for "'+Oe+'" in '+Xu(Ge)});var Oe,Ge},Ce);case"defaultedThunk":return Il(x,C,l.process,P);case"option":return V(vn(x,C));case"defaultedOptionThunk":return Y=l.process,V(vn(j=x,C).map(function(Oe){return!0===Oe?Y(j):Oe}));case"mergeWithThunk":return Il(x,C,U({}),function(Oe){return P(No(l.process(x),Oe))})}}function db(l){return{extract:function(p,x){return l().extract(p,x)},toString:function(){return l().toString()}}}function dl(l){var p=Fr(l),x=Sn(l,function(C,I){return Vc(I,function(P){var V;return No(C,((V={})[P]=!0,V))},U(C))},{});return{extract:function(C,I){var P,V,j,Y,ae,fe,me=It(oe(I)?[]:Ni((j=De,Y=V={},ae=function(Ce,Oe){Y[Oe]=Ce},fe=K,Qt(I,function(Ce,Oe){(j(Ce,Oe)?ae:fe)(Ce,Oe)}),V)),function(Ce){return!bo(x,Ce)});return 0===me.length?p.extract(C,I):(P=me,to(C,function(){return"There are unsupported fields: ["+P.join(", ")+"] specified"}))},toString:p.toString}}function Cd(l){return{extract:function(p,x){var C=Ht(x,function(I,P){return l.extract(p.concat(["["+P+"]"]),I)});return j1(C)},toString:function(){return"array("+l.toString()+")"}}}function Wh(l){return{extract:function(p,x){for(var C=[],I=0,P=l;I<P.length;I++){var V=P[I].extract(p,x);if(V.stype===jl.Value)return V;C.push(V)}return j1(C)},toString:function(){return"oneOf("+Ht(l,function(p){return p.toString()}).join(", ")+")"}}}function ch(l,p){return ks(function(x){var C=typeof x;return l(x)?kd(x):jh("Expected type: "+p+" but got: "+C)})}function hu(l,p){return{extract:function(x,C){return vn(C,l).fold(function(){return I=l,to(x,function(){return'Choice schema did not contain choice key: "'+I+'"'});var I},function(I){return P=x,V=C,vn(j=p,Y=I).fold(function(){return ae=j,fe=Y,to(P,function(){return'The chosen schema: "'+fe+'" did not exist in branches: '+Xu(ae)});var ae,fe},function(ae){return ae.extract(P.concat(["branch: "+Y]),V)});var P,V,j,Y})},toString:function(){return"chooseOn("+l+"). Possible values: "+Ni(p)}}}function Gh(l){return ks(function(p){return l(p).fold(jh,kd)})}function V1(l,p){return x=function(I){return l(I).fold(Ma,Al)},C=p,{extract:function(I,P){var V=Ni(P),j=Cd(ks(x)).extract(I,V);return W1(j,function(Y){var ae=Ht(Y,function(fe){return uo(fe,fe,{tag:"required",process:{}},C)});return Fr(ae).extract(I,P)})},toString:function(){return"setOf("+C.toString()+")"}};var x,C}function ua(l,p,x){return Cv((I=p.extract([l],C=x),Qg(I,function(P){return{input:C,errors:P}})));var C,I}function hl(l){return l.fold(function(p){throw new Error(Ku(p))},Z)}function pu(l,p,x){return hl(ua(l,p,x))}function Na(l,p){return hu(l,jn(p,Fr))}function wv(l){return Gh(function(p){return Io(l,p)?Po.value(p):Po.error('Unsupported value: "'+p+'", choose one of "'+l.join(", ")+'".')})}function Dn(l){return ds(l,l,{tag:"required",process:{}},Hc())}function Xl(l,p){return ds(l,l,{tag:"required",process:{}},p)}function jr(l){return Xl(l,qa)}function Uh(l,p){return ds(l,l,{tag:"required",process:{}},wv(p))}function Lu(l){return Xl(l,Tv)}function Wf(l,p){return ds(l,l,{tag:"required",process:{}},Fr(p))}function Gf(l,p){return ds(l,l,{tag:"required",process:{}},kv(p))}function Zu(l,p){return ds(l,l,{tag:"required",process:{}},Cd(p))}function vi(l){return ds(l,l,{tag:"option",process:{}},Hc())}function fh(l,p){return ds(l,l,{tag:"option",process:{}},p)}function H1(l){return fh(l,Nu)}function Ri(l){return fh(l,qa)}function vc(l){return fh(l,Tv)}function Sv(l,p){return fh(l,Cd(p))}function Wi(l,p){return fh(l,Fr(p))}function Bt(l,p){return ds(l,l,Vp(p),Hc())}function vf(l,p,x){return ds(l,l,Vp(p),x)}function Qs(l,p){return vf(l,p,Nu)}function Zl(l,p){return vf(l,p,qa)}function pl(l,p,x){return vf(l,p,wv(x))}function rs(l,p){return vf(l,p,Mv)}function Li(l,p){return vf(l,p,Tv)}function Uf(l,p,x){return vf(l,p,Cd(x))}function Jg(l,p,x){return vf(l,p,Fr(x))}function Nr(l){var p=l;return{get:function(){return p},set:function(x){p=x}}}function os(l){if(!le(l))throw new Error("cases must be an array");if(0===l.length)throw new Error("there must be at least one case");var p=[],x={};return zr(l,function(C,I){var P=Ni(C);if(1!==P.length)throw new Error("one and only one name per case");var V=P[0],j=C[V];if(void 0!==x[V])throw new Error("duplicate key detected:"+V);if("cata"===V)throw new Error("cannot have a case named cata (sorry)");if(!le(j))throw new Error("case arguments must be an array");p.push(V),x[V]=function(){for(var Y=[],ae=0;ae<arguments.length;ae++)Y[ae]=arguments[ae];var fe=Y.length;if(fe!==j.length)throw new Error("Wrong number of arguments to case "+V+". Expected "+j.length+" ("+j+"), got "+fe);return{fold:function(){for(var me=[],Ce=0;Ce<arguments.length;Ce++)me[Ce]=arguments[Ce];if(me.length!==l.length)throw new Error("Wrong number of arguments to fold. Expected "+l.length+", got "+me.length);return me[I].apply(null,Y)},match:function(me){var Ce=Ni(me);if(p.length!==Ce.length)throw new Error("Wrong number of arguments to match. Expected: "+p.join(",")+"\nActual: "+Ce.join(","));if(!tt(p,function(Oe){return Io(Ce,Oe)}))throw new Error("Not all branches were specified when using match. Specified: "+Ce.join(", ")+"\nRequired: "+p.join(", "));return me[V].apply(null,Y)},log:function(me){console.log(me,{constructors:p,constructor:V,params:Y})}}}}),x}(cu=jl={})[cu.Error=0]="Error",cu[cu.Value=1]="Value";var Cv=function(l){return $g(l,Po.error,Po.value)},kd=Al,jh=Ma,W1=function(l,p){return l.stype===jl.Value?p(l.svalue):l},Md=function(l,p){return l.stype===jl.Error?p(l.serror):l},G1=function(l,p){return l.stype===jl.Value?{stype:jl.Value,svalue:p(l.svalue)}:l},Qg=function(l,p){return l.stype===jl.Error?{stype:jl.Error,serror:p(l.serror)}:l},Wy=$g,No=Er(function(l,p){return te(l)&&te(p)?No(l,p):p}),U1=Er(function(l,p){return p}),j1=function(l){var p,x,C=(p=[],x=[],zr(l,function(I){$g(I,function(P){return x.push(P)},function(P){return p.push(P)})}),{values:p,errors:x});return 0<C.errors.length?xe(jh,Bn)(C.errors):kd(C.values)},E_=ks(kd),Fr=function(l){return{extract:function(p,x){for(var C={},I=[],P=0,V=l;P<V.length;P++)Vc(V[P],function(j,Y,ae,fe){var me=Hy(ae,p,x,j,fe);Wy(me,function(Ce){I.push.apply(I,Ce)},function(Ce){C[Y]=Ce})},function(j,Y){C[j]=Y(x)});return 0<I.length?jh(I):kd(C)},toString:function(){return"obj{\n"+Ht(l,function(p){return Vc(p,function(x,C,I,P){return x+" -> "+P.toString()},function(x,C){return"state("+x+")"})}).join("\n")+"}"}}},kv=xe(Cd,Fr),Hc=U(E_),Nu=ch(et,"number"),qa=ch(ne,"string"),Mv=ch(oe,"boolean"),Tv=ch(Le,"function"),Hp=function(l){if(Object(l)!==l)return!0;switch({}.toString.call(l).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(l).every(function(p){return Hp(l[p])});default:return!1}},q1=ks(function(l){return Hp(l)?kd(l):jh("Expected value to be acceptable for sending via postMessage")}),Ku=function(l){return"Errors: \n"+Ht(10<(p=l.errors).length?p.slice(0,10).concat([{path:[],getErrorInfo:U("... (only showing first ten failures)")}]):p,function(x){return"Failed path: ("+x.path.join(" > ")+")\n"+x.getErrorInfo()}).join("\n")+"\n\nInput object: "+Xu(l.input);var p},ds=uo,Bu=function(l,p){return{tag:"custom",newKey:l,instantiator:p}};function yf(l,p){return(x={})[l]=p,x;var x}function Td(l){return p={},zr(l,function(x){p[x.key]=x.value}),p;var p}function jf(l){return Le(l)?l:Ke}function em(l,p,x){for(var C=l.dom,I=jf(x);C.parentNode;){var P=bt.fromDom(C=C.parentNode),V=p(P);if(V.isSome())return V;if(I(P))break}return J.none()}function $u(l,p,x){var C=p(l),I=jf(x);return C.orThunk(function(){return I(l)?J.none():em(l,p,I)})}function Gy(l,p){return Mn(l.element,p.event.target)}function dh(l){if(!bo(l,"can")&&!bo(l,"abort")&&!bo(l,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(l,null,2)+" does not have can, abort, or run!");return ve(ve({},pb),l)}function Bi(l){return U("alloy."+l)}function Bo(l,p){mh(l,l.element,p,{})}function Gr(l,p,x){mh(l,l.element,p,x)}function Dd(l){Bo(l,bc())}function gu(l,p,x){mh(l,p,x,{})}function yc(l,p,x,C){l.getSystem().triggerEvent(x,p,C.event)}function zs(l,p){return{key:l,value:dh({abort:p})}}function qh(l){return{key:l,value:dh({run:function(p,x){x.event.prevent()}})}}function xn(l,p){return{key:l,value:dh({run:p})}}function Dv(l,p,x){return{key:l,value:dh({run:function(C,I){p.apply(void 0,[C,I].concat(x))}})}}function gl(l){return function(p){return{key:l,value:dh({run:function(x,C){Gy(x,C)&&p(x,C)}})}}}function Ad(l,p,x){var C,I=p.partUids[x];return xn(C=l,function(P,V){P.getSystem().getByUid(I).each(function(j){yc(j,j.element,C,V)})})}function Yh(l,p){return xn(l,function(x,C){var I=C.event,P=x.getSystem().getByDom(I.target).getOrThunk(function(){return $u(I.target,function(V){return x.getSystem().getByDom(V).toOptional()},Ke).getOr(x)});p(x,P,C)})}function Id(l){return xn(l,function(p,x){x.cut()})}function Av(l,p){return gl(l)(p)}function Xh(l){return l.dom.innerHTML}function Uy(l,p){var x,C,I=Wt(l).dom,P=bt.fromDom(I.createDocumentFragment());es(P,(x=p,(C=(I||document).createElement("div")).innerHTML=x,gi(bt.fromDom(C)))),$s(l),ka(l,P)}function bf(l){if(wo(l))return"#shadow-root";var p=bt.fromDom(l.dom.cloneNode(!1)),x=bt.fromTag("div"),C=bt.fromDom(p.dom.cloneNode(!0));return ka(x,C),Xh(x)}function Rr(l){var p=(new Date).getTime();return l+"_"+Math.floor(1e9*Math.random())+ ++vb+String(p)}function tm(l){var p=fu(l)?l.dom[yb]:null;return J.from(p)}function Y1(l){function p(I){return"The component must be in a context to execute: "+I+(l?"\n"+bf(l().element)+" is not in context.":"")}function x(I){return function(){throw new Error(p(I))}}function C(I){return function(){console.warn(p(I))}}return{debugInfo:U("fake"),triggerEvent:C("triggerEvent"),triggerFocus:C("triggerFocus"),triggerEscape:C("triggerEscape"),broadcast:C("broadcast"),broadcastOn:C("broadcastOn"),broadcastEvent:C("broadcastEvent"),build:x("build"),addToWorld:x("addToWorld"),removeFromWorld:x("removeFromWorld"),addToGui:x("addToGui"),removeFromGui:x("removeFromGui"),getByUid:x("getByUid"),getByDom:x("getByDom"),isConnected:Ke}}function qf(l,p){var x=l.toString(),C=x.indexOf(")")+1,I=x.indexOf("("),P=x.substring(I+1,C-1).split(/,\s*/);return l.toFunctionAnnotation=function(){return{name:p,parameters:Yp(P)}},l}function lo(l){return yf(zd,l)}function Zh(l){return p=function(V){for(var j=[],Y=1;Y<arguments.length;Y++)j[Y-1]=arguments[Y];return l.apply(void 0,Ve([V.getApis(),V],j,!1))},C=(x=l.toString()).indexOf(")")+1,I=x.indexOf("("),P=x.substring(I+1,C-1).split(/,\s*/),p.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:Yp(P.slice(1))}},p;var p,x,C,I,P}function Kh(l,p){var x={};return Qt(l,function(C,I){Qt(C,function(P,V){var j=vn(x,V).getOr([]);x[V]=j.concat([p(I,P)])})}),x}function Yf(l){return{classes:he(l.classes)?[]:l.classes,attributes:he(l.attributes)?{}:l.attributes,styles:he(l.styles)?{}:l.styles}}function Wp(l){return l.cHandler}function P_(l,p){return{name:l,handler:p}}function jy(l,p){var x=fs(l,p);return void 0===x||""===x?[]:x.split(" ")}function zi(l){return void 0!==l.dom.classList}function Qn(l,p){var x,C,I;zi(l)?l.dom.classList.add(p):(C=p,I=jy(x=l,"class").concat([C]),Ur(x,"class",I.join(" ")))}function ri(l,p){var x,C,I,P;zi(l)?l.dom.classList.remove(p):(I=p,0<(P=It(jy(C=l,"class"),function(V){return V!==I})).length?Ur(C,"class",P.join(" ")):Ss(C,"class")),0===(zi(x=l)?x.dom.classList:jy(x,"class")).length&&Ss(x,"class")}function la(l,p){return zi(l)&&l.dom.classList.contains(p)}function eu(l,p){zr(p,function(x){Qn(l,x)})}function xf(l,p){zr(p,function(x){ri(l,x)})}function Kl(l){return l.dom.value}function ml(l,p){if(void 0===p)throw new Error("Value.set was undefined");l.dom.value=p}function Od(l){var p=bt.fromText(l);return Ev({element:p})}os([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var Wc,hh,pb={can:pt,abort:Ke,run:K},Ba=U,mu=Ba("touchstart"),$l=Ba("touchmove"),$i=Ba("touchend"),qi=Ba("touchcancel"),Jl=Ba("mousedown"),nm=Ba("mousemove"),Gp=Ba("mouseout"),gb=Ba("mouseup"),fi=Ba("mouseover"),Xf=Ba("focusin"),Qh=Ba("focusout"),Ed=Ba("keydown"),Ko=Ba("keyup"),Ta=Ba("input"),Zf=Ba("change"),vl=Ba("click"),ep=Ba("transitioncancel"),ph=Ba("transitionend"),Iv=Ba("transitionstart"),is=Ba("selectstart"),xa={tap:Bi("tap")},yl=Bi("focus"),Pd=Bi("blur.post"),Rd=Bi("paste.post"),Qo=Bi("receive"),bc=Bi("execute"),wf=Bi("focus.item"),Ld=xa.tap,vu=Bi("longpress"),gh=Bi("sandbox.close"),tp=Bi("typeahead.cancel"),qy=Bi("system.init"),np=Bi("system.touchmove"),R_=Bi("system.touchend"),Gc=Bi("system.scroll"),za=Bi("system.resize"),tu=Bi("system.attached"),Ql=Bi("system.detached"),rp=Bi("system.dismissRequested"),Yy=Bi("system.repositionRequested"),L_=Bi("focusmanager.shifted"),mb=Bi("slotcontainer.visibility"),Ov=Bi("change.tab"),op=Bi("dismiss.tab"),X1=Bi("highlight"),rm=Bi("dehighlight"),mh=function(l,p,x,C){var I=ve({target:p},C);l.getSystem().triggerEvent(x,p,I)},Ei=Td,ca=gl(tu()),Kf=gl(Ql()),Up=gl(qy()),Nd=(Wc=bc(),function(l){return xn(Wc,l)}),vh=Ei([{key:yl(),value:dh({can:function(l,p){var x,C=p.event,I=C.originator,P=C.target;return!(Mn(x=I,l.element)&&!Mn(x,P)&&(console.warn(yl()+" did not get interpreted by the desired target. \nOriginator: "+bf(I)+"\nTarget: "+bf(P)+"\nCheck the "+yl()+" event handlers"),1))}})}]),Gi=Object.freeze({__proto__:null,events:vh}),vb=0,Bd=U("alloy-id-"),N_=U("data-alloy-id"),jp=Bd(),yb=N_(),qp=function(l,p){Object.defineProperty(l.dom,yb,{value:p,writable:!0})},ip=Rr,B_=Z,om=Y1(),Yp=function(l){return Ht(l,function(p){return lt(p,"/*")?p.substring(0,p.length-2):p})},zd=Rr("alloy-premade"),bl={init:function(){return ec({readState:U("No State required")})}},ec=function(l){return l},Z1=function(l,p){var x,C,I,P,V,j,Y=Rn(l,function(ae,fe){return(1===ae.length?Po.value(ae[0].handler):function hb(l,p,x){var C=p[x];return C?function(I,P,V){try{var j=fr(P,function(Y,ae){var fe=Y.name,me=ae.name,Ce=V.indexOf(fe),Oe=V.indexOf(me);if(-1===Ce)throw new Error("The ordering for "+I+" does not have an entry for "+fe+".\nOrder specified: "+JSON.stringify(V,null,2));if(-1===Oe)throw new Error("The ordering for "+I+" does not have an entry for "+me+".\nOrder specified: "+JSON.stringify(V,null,2));return Ce<Oe?-1:Oe<Ce?1:0});return Po.value(j)}catch(Y){return Po.error([Y])}}("Event: "+x,l,C).map(function(I){var P,V,j,Y,ae=Ht(I,function(fe){return fe.handler});return{can:function(){for(var fe=[],me=0;me<arguments.length;me++)fe[me]=arguments[me];return Lr(V,function(Ce,Oe){return Ce&&Oe.can.apply(void 0,fe)},!0)},abort:(j=V=P=ae,Y=function(fe){return fe.abort},function(){for(var fe=[],me=0;me<arguments.length;me++)fe[me]=arguments[me];return Lr(j,function(Ce,Oe){return Ce||Y(Oe).apply(void 0,fe)},!1)}),run:function(){for(var fe=[],me=0;me<arguments.length;me++)fe[me]=arguments[me];zr(P,function(Ce){Ce.run.apply(void 0,fe)})}}}):Po.error(["The event ("+x+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify(Ht(l,function(I){return I.name}),null,2)])}(ae,p,fe)).map(function(me){var Ce,Oe,Ge=(Oe=Le(Ce=me)?{can:pt,abort:Ke,run:Ce}:Ce,function(Ue,qe){for(var Je=[],Ee=2;Ee<arguments.length;Ee++)Je[Ee-2]=arguments[Ee];var Ze=[Ue,qe].concat(Je);Oe.abort.apply(void 0,Ze)?qe.stop():Oe.can.apply(void 0,Ze)&&Oe.run.apply(void 0,Ze)}),ze=1<ae.length?It(p[fe],function(Ue){return jt(ae,function(qe){return qe.name===Ue})}).join(" > "):ae[0].name;return yf(fe,{handler:Ge,purpose:ze})})});return x={},C=[],I=[],zr(Y,function(ae){ae.fold(function(fe){C.push(fe)},function(fe){I.push(fe)})}),0<(j={errors:C,values:I}).errors.length?Po.error(Bn(j.errors)):(V=x,0===(P=j.values).length?Po.value(V):Po.value(No(V,U1.apply(void 0,P))))},zu="alloy.base.behaviour",xc=Fr([ds("dom","dom",{tag:"required",process:{}},Fr([Dn("tag"),Bt("styles",{}),Bt("classes",[]),Bt("attributes",{}),vi("value"),vi("innerHtml")])),Dn("components"),Dn("uid"),Bt("events",{}),Bt("apis",{}),ds("eventOrder","eventOrder",((hh={})[bc()]=["disabling",zu,"toggling","typeaheadevents"],hh[yl()]=[zu,"focusing","keying"],hh[qy()]=[zu,"disabling","toggling","representing"],hh[Ta()]=[zu,"representing","streaming","invalidating"],hh[Ql()]=[zu,"representing","item-events","tooltipping"],hh[Jl()]=["focusing",zu,"item-type-events"],hh[mu()]=["focusing",zu,"item-type-events"],hh[fi()]=["item-type-events","tooltipping"],hh[Qo()]=["receiving","reflecting","tooltipping"],Oo(U(hh))),Hc()),vi("domModification")]),Ev=function(l){var p=pu("external.component",dl([Dn("element"),vi("uid")]),l),x=Nr(Y1()),C=p.uid.getOrThunk(function(){return ip("external")});qp(p.element,C);var I={uid:C,getSystem:x.get,config:J.none,hasConfigured:Ke,connect:function(P){x.set(P)},disconnect:function(){x.set(Y1(function(){return I}))},getApis:function(){return{}},element:p.element,spec:l,readState:U("No state"),syncComponents:K,components:U([]),events:{}};return lo(I)},nu=ip,Yi=function(l){return vn(l,zd).getOrThunk(function(){return function Jh(l){var p,x,C,I,P,V,j,Y,ae,fe,qe,Je,me=B_(l),Ce=me.events,Oe=Re(me,["events"]),Ge=Ht(vn(Oe,"components").getOr([]),Yi),ze=ve(ve({},Oe),{events:ve(ve({},Gi),Ce),components:Ge});return Po.value((x=Nr(om),C=hl(ua("custom.definition",xc,p=ze)),I=function $h(l){var p,x,C,I,P=(p=vn(l,"behaviours").getOr({}),cr(Ni(p),function(V){var j=p[V];return De(j)?[j.me]:[]}));return x=l,I=Ht(C=P,function(V){return Wi(V.name(),[Dn("config"),Bt("state",bl)])}),{list:C,data:jn(ua("component.behaviours",Fr(I),x.behaviours).fold(function(V){throw new Error(Ku(V)+"\nComplete spec:\n"+JSON.stringify(x,null,2))},Z),function(V){return U(V.map(function(j){return{config:j.config,state:j.state.init(j.config)}}))})}}(p),qe=function _f(l,p,x){var C,I,P=ve(ve({},(C=l).dom),{uid:C.uid,domChildren:Ht(C.components,function(Y){return Y.element})}),V=l.domModification.fold(function(){return Yf({})},Yf),j=0<p.length?function(Y,ae,fe,me){var Ce=ve({},ae);function Oe(ze){return Sn(ze,function(Ue,qe){return ve(ve({},qe.modification),Ue)},{})}zr(fe,function(ze){Ce[ze.name()]=ze.exhibit(Y,me)});var Ge=Kh(Ce,function(ze,Ue){return{name:ze,modification:Ue}});return Yf({classes:Sn(Ge.classes,function(ze,Ue){return Ue.modification.concat(ze)},[]),attributes:Oe(Ge.attributes),styles:Oe(Ge.styles)})}(x,{"alloy.base.modification":V},p,P):V;return ve(ve({},I=P),{attributes:ve(ve({},I.attributes),j.attributes),styles:ve(ve({},I.styles),j.styles),classes:I.classes.concat(j.classes)})}(C,P=I.list,V=I.data),Ea(Je=bt.fromTag(qe.tag),qe.attributes),eu(Je,qe.classes),Sa(Je,qe.styles),qe.innerHtml.each(function(Ze){return Uy(Je,Ze)}),es(Je,qe.domChildren),qe.value.each(function(Ze){ml(Je,Ze)}),qp(Je,qe.uid),j=Je,Y=function Ms(l,p,x){var C,I,P,V,j,ae=l.eventOrder;return I=x,P=p,C=Kh(ve(ve({},{"alloy.base.behaviour":l.events}),(V=I,j={},zr(P,function(fe){j[fe.name()]=fe.handlers(V)}),j)),P_),Z1(C,ae).getOrDie()}(C,P,V),ae=Nr(C.components),fe={uid:p.uid,getSystem:x.get,config:function(qe){var Je=V;return(Le(Je[qe.name()])?Je[qe.name()]:function(){throw new Error("Could not find "+qe.name()+" in "+JSON.stringify(p,null,2))})()},hasConfigured:function(qe){return Le(V[qe.name()])},spec:p,readState:function(qe){return V[qe]().map(function(Je){return Je.state.readState()}).getOr("not enabled")},getApis:function(){return C.apis},connect:function(qe){x.set(qe)},disconnect:function(){x.set(Y1(Ue))},element:j,syncComponents:function(){var qe=cr(gi(j),function(Je){return x.get().getByDom(Je).fold(function(){return[]},hr)});ae.set(qe)},components:ae.get,events:Y}));function Ue(){return fe}}(Sr(l,"uid")?l:ve({uid:nu("")},l)).getOrDie()})},tc=lo;function Xy(l,p,x,C,I){return l(x,C)?J.some(x):Le(I)&&I(x)?J.none():p(x,C,I)}function Xp(l,p,x){for(var C=l.dom,I=Le(x)?x:Ke;C.parentNode;){var P=bt.fromDom(C=C.parentNode);if(p(P))return J.some(P);if(I(P))break}return J.none()}function bb(l,p,x){return Xy(function(C,I){return I(C)},Xp,l,p,x)}function $f(l,p,x){return bb(l,p,x).isSome()}function ap(l,p,x){return Xp(l,function(C){return vr(C,p)},x)}function fa(l,p){return x=p,rr(C=void 0===l?document:l.dom)?J.none():J.from(C.querySelector(x)).map(bt.fromDom);var x,C}function Sf(l,p,x){return Xy(vr,ap,l,p,x)}function yu(){var l=Rr("aria-owns");return{id:l,link:function(p){Ur(p,"aria-owns",l)},unlink:function(p){Ss(p,"aria-owns")}}}var Zp,Uc,nc=function(l,p){return $f(p,function(C){return Mn(C,l.element)},Ke)||(x=l,bb(p,function(C){if(!fu(C))return!1;var I=fs(C,"id");return void 0!==I&&-1<I.indexOf("aria-owns")}).bind(function(C){var I=fs(C,"id");return fa(Ai(C),'[aria-owns="'+I+'"]')}).exists(function(C){return nc(x,C)}));var x};function da(l,p,x){var C,I,P,V;switch(vn(Fd.get(),l).orThunk(function(){return bn(Ni(Fd.get()),function(ae){return-1<l.indexOf(ae)?J.some(Fd.get()[ae]):J.none()})}).getOr(Zp.NORMAL)){case Zp.NORMAL:return x(Vd());case Zp.LOGGING:var j=(C=l,I=p,P=[],V=(new Date).getTime(),{logEventCut:function(ae,fe,me){P.push({outcome:"cut",target:fe,purpose:me})},logEventStopped:function(ae,fe,me){P.push({outcome:"stopped",target:fe,purpose:me})},logNoParent:function(ae,fe,me){P.push({outcome:"no-parent",target:fe,purpose:me})},logEventNoHandlers:function(ae,fe){P.push({outcome:"no-handlers-left",target:fe})},logEventResponse:function(ae,fe,me){P.push({outcome:"response",purpose:me,target:fe})},write:function(){var ae=(new Date).getTime();Io(["mousemove","mouseover","mouseout",qy()],C)||console.log(C,{event:C,time:ae-V,target:I.dom,sequence:Ht(P,function(fe){return Io(["cut","stopped","response"],fe.outcome)?"{"+fe.purpose+"} "+fe.outcome+" at ("+bf(fe.target)+")":fe.outcome})})}}),Y=x(j);return j.write(),Y;case Zp.STOP:return!0}}(Uc=Zp=Zp||{})[Uc.STOP=0]="STOP",Uc[Uc.NORMAL=1]="NORMAL",Uc[Uc.LOGGING=2]="LOGGING";var Fd=Nr({}),Kp=["alloy/data/Fields","alloy/debugging/Debugging"],Vd=U({logEventCut:K,logEventStopped:K,logNoParent:K,logEventNoHandlers:K,logEventResponse:K,write:K}),yh=U([Dn("menu"),Dn("selectedMenu")]),Cf=U([Dn("item"),Dn("selectedItem")]);function Ju(){return Wf("markers",[Dn("backgroundMenu")].concat(yh()).concat(Cf()))}function po(l){return Wf("markers",Ht(l,Dn))}function sp(l,p,x){return void 0!==(C=new Error).stack&&Uo(C.stack.split("\n"),function(I){return 0<I.indexOf("alloy")&&!jt(Kp,function(P){return-1<I.indexOf(P)})}).getOr("unknown"),ds(p,p,x,Gh(function(I){return Po.value(function(){for(var P=[],V=0;V<arguments.length;V++)P[V]=arguments[V];return I.apply(void 0,P)})}));var C}function Ho(l){return sp(0,l,Vp(K))}function Fs(l){return sp(0,l,Vp(J.none))}function jc(l){return sp(0,l,{tag:"required",process:{}})}function Ui(l){return sp(0,l,{tag:"required",process:{}})}function Ii(l,p){return Bu(l,U(p))}function Pv(l){return Bu(l,Z)}function Ts(l,p,x,C,I,P,V,j){return{x:l,y:p,bubble:x,direction:C,placement:I,restriction:P,label:V+"-"+I,alwaysFit:j=void 0!==j&&j}}function rc(l,p,x,C){var I=l+p;return C<I?x:I<x?C:I}function ha(l,p){return Ja(["left","right","top","bottom"],function(x){return vn(p,x).map(function(C){return function(I){switch(C){case 1:return I.x;case 0:return I.x+I.width;case 2:return I.y;case 3:return I.y+I.height}}(l)})})}function Ya(l,p){return l.x+l.width/2-p.width/2}function Hd(l,p){return l.x+l.width-p.width}function im(l,p){return l.y-p.height}function Rv(l){return l.y+l.height}function kf(l,p){return l.y+l.height/2-p.height/2}function Fa(l,p,x){return Ts(l.x+l.width,kf(l,p),x.east(),up(),"east",ha(l,{left:0}),Yc)}function Jf(l,p,x){return Ts(l.x-p.width,kf(l,p),x.west(),$y(),"west",ha(l,{right:1}),Yc)}function $1(){return[Vs,xu,Pl,hs,ru,oc,Fa,Jf]}function Wd(){return[xu,Vs,hs,Pl,ru,oc,Fa,Jf]}function Qf(){return[Pl,hs,Vs,xu,oc,ru]}function bh(){return[hs,Pl,xu,Vs,oc,ru]}function Qu(){return[Vs,xu,Pl,hs,ru,oc]}function _c(){return[xu,Vs,hs,Pl,ru,oc]}function Ol(l,p,x){return Up(function(C,I){x(C,l,p)})}function xb(l){return{key:l,value:void 0}}function ji(l){var p,x,C,I,P,V,j,Y,ae=pu("Creating behaviour: "+l.name,F_,l);return x=ae.name,C=ae.active,I=ae.apis,P=ae.extra,V=ae.state,j=dl(p=ae.fields),Y=Wi(x,[fh("config",dl(p))]),sm(j,Y,x,C,I,P,V)}function Lv(l){var p,x=pu("Creating behaviour: "+l.name,Bv,l),C=Na(x.branchKey,x.branches),I=x.name,P=x.active,V=x.apis,j=x.extra,Y=x.state,ae=Wi(I,[fh("config",p=C)]);return sm(p,ae,I,P,V,j,Y)}function am(){return bt.fromDom(document)}function ed(l){return l.dom.focus()}function xh(l){var p=Ai(l).dom;return l.dom===p.activeElement}function Do(l){return void 0===l&&(l=am()),J.from(l.dom.activeElement).map(bt.fromDom)}function td(l){return Do(Ai(l)).filter(function(p){return l.dom.contains(p.dom)})}function $p(l,p){var x=Ai(p),C=Do(x).bind(function(P){function V(ae){return Mn(P,ae)}var j,Y;return V(p)?J.some(p):(j=V,(Y=function(ae){for(var fe=0;fe<ae.childNodes.length;fe++){var me=bt.fromDom(ae.childNodes[fe]);if(j(me))return J.some(me);var Ce=Y(ae.childNodes[fe]);if(Ce.isSome())return Ce}return J.none()})(p.dom))}),I=l(p);return C.each(function(P){Do(x).filter(function(V){return Mn(V,P)}).fold(function(){ed(P)},K)}),I}function El(l,p,x,C,I){function P(V){return V+"px"}return{position:l,left:p.map(P),top:x.map(P),right:C.map(P),bottom:I.map(P)}}function J1(l,p){var x;Eu(l,ve(ve({},x=p),{position:J.some(x.position)}))}function bu(l,p,x,C,I,P){var V=p.rect,j=V.x-x,Y=V.y-C,ae=I-(j+V.width),fe=P-(Y+V.height),me=J.some(j),Ce=J.some(Y),Oe=J.some(ae),Ge=J.some(fe),ze=J.none();return p.direction.fold(function(){return El(l,me,Ce,ze,ze)},function(){return El(l,ze,Ce,Oe,ze)},function(){return El(l,me,ze,ze,Ge)},function(){return El(l,ze,ze,Oe,Ge)},function(){return El(l,me,Ce,ze,ze)},function(){return El(l,me,ze,ze,Ge)},function(){return El(l,me,Ce,ze,ze)},function(){return El(l,ze,Ce,Oe,ze)})}function Gd(l,p){return l.fold(function(){var x=p.rect;return El("absolute",J.some(x.x),J.some(x.y),J.none(),J.none())},function(x,C,I,P){return bu("absolute",p,x,C,I,P)},function(x,C,I,P){return bu("fixed",p,x,C,I,P)})}function Jp(l,p){var x=Qe(Ny,p),C=l.fold(x,x,function(){var V=ts();return Ny(p).translate(-V.left,-V.top)}),I=Ut(p),P=Wr(p);return Ru(C.left,C.top,I,P)}U(Fr(Cf().concat(yh())));var z_=U(Fr(Cf())),Ud=U(Wf("initSize",[Dn("numColumns"),Dn("numRows")])),qc=os([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Zy=qc.southeast,oi=qc.southwest,Nv=qc.northeast,_b=qc.northwest,li=qc.south,Ky=qc.north,up=qc.east,$y=qc.west,wc=function(l,p,x){return Math.min(Math.max(l,p),x)},Yc="layout",Vs=function(l,p,x){return Ts(l.x,Rv(l),x.southeast(),Zy(),"southeast",ha(l,{left:1,top:3}),Yc)},xu=function(l,p,x){return Ts(Hd(l,p),Rv(l),x.southwest(),oi(),"southwest",ha(l,{right:0,top:3}),Yc)},Pl=function(l,p,x){return Ts(l.x,im(l,p),x.northeast(),Nv(),"northeast",ha(l,{left:1,bottom:2}),Yc)},hs=function(l,p,x){return Ts(Hd(l,p),im(l,p),x.northwest(),_b(),"northwest",ha(l,{right:0,bottom:2}),Yc)},oc=function(l,p,x){return Ts(Ya(l,p),im(l,p),x.north(),Ky(),"north",ha(l,{bottom:2}),Yc)},ru=function(l,p,x){return Ts(Ya(l,p),Rv(l),x.south(),li(),"south",ha(l,{top:3}),Yc)},wb=Object.freeze({__proto__:null,events:function(l){return Ei([xn(Qo(),function(p,x){var C,I=l.channels,P=Ni(I),V=x,j=(C=V).universal?P:It(P,function(Y){return Io(C.channels,Y)});zr(j,function(Y){var ae=I[Y],fe=ae.schema,me=pu("channel["+Y+"] data\nReceiver: "+bf(p.element),fe,V.data);ae.onReceive(p,me)})})])}}),fo=[Xl("channels",V1(Po.value,dl([jc("onReceive"),Bt("schema",Hc())])))],sm=function(l,p,x,C,I,P,V){function j(me){return bo(me,x)?me[x]():J.none()}var Y=jn(I,function(me,Ce){return Oe=x,Ue=function(Ct){for(var Jt=[],Ft=1;Ft<arguments.length;Ft++)Jt[Ft-1]=arguments[Ft];var nn=[Ct].concat(Jt);return Ct.config({name:U(Oe)}).fold(function(){throw new Error("We could not find any behaviour configuration for: "+Oe+". Using API: "+ze)},function(Cn){var fn=Array.prototype.slice.call(nn,1);return Ge.apply(void 0,[Ct,Cn.config,Cn.state].concat(fn))})},qe=ze=Ce,Ee=(Je=(Ge=me).toString()).indexOf(")")+1,Ze=Je.indexOf("("),ft=Je.substring(Ze+1,Ee-1).split(/,\s*/),Ue.toFunctionAnnotation=function(){return{name:qe,parameters:Yp(ft.slice(0,1).concat(ft.slice(3)))}},Ue;var Oe,Ge,ze,Ue,qe,Je,Ee,Ze,ft}),ae=jn(P,qf),fe=ve(ve(ve({},ae),Y),{revoke:Qe(xb,x),config:function(me){var Ce=pu(x+"-config",l,me);return{key:x,value:{config:Ce,me:fe,configAsRaw:dn(function(){return pu(x+"-config",l,me)}),initialConfig:me,state:V}}},schema:U(p),exhibit:function(me,Ce){return qt(j(me),vn(C,"exhibit"),function(Oe,Ge){return Ge(Ce,Oe.config,Oe.state)}).getOrThunk(function(){return Yf({})})},name:U(x),handlers:function(me){return j(me).map(function(Ce){return vn(C,"events").getOr(function(){return{}})(Ce.config,Ce.state)}).getOr({})}});return fe},$n=Td,F_=dl([Dn("fields"),Dn("name"),Bt("active",{}),Bt("apis",{}),Bt("state",bl),Bt("extra",{})]),Bv=dl([Dn("branchKey"),Dn("branches"),Dn("name"),Bt("active",{}),Bt("apis",{}),Bt("state",bl),Bt("extra",{})]),Jy=U(void 0),Va=ji({fields:fo,name:"receiving",active:wb}),Qp=Object.freeze({__proto__:null,exhibit:function(l,p){return Yf({classes:[],styles:p.useFixed()?{}:{position:"relative"}})}}),nd=os([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),pn=function(l,p,x){var C=Ca(p,x);return l.fold(U(C),U(C),function(){var I=ts();return C.translate(-I.left,-I.top)})};function eg(l){return Ls(l,Vv)}function lm(l){function p(){return x.get().each(l)}var x=Nr(J.none());return{clear:function(){p(),x.set(J.none())},isSet:function(){return x.get().isSome()},get:function(){return x.get()},set:function(C){p(),x.set(J.some(C))}}}function zv(){return lm(function(l){return l.destroy()})}function jd(){return lm(function(l){return l.unbind()})}function Ha(){var l=lm(K);return ve(ve({},l),{on:function(p){return l.get().each(p)}})}function ps(l,p,x){return Ly(l,p,qd,x,!1)}function tg(l,p,x){return Ly(l,p,qd,x,!0)}function ex(l,p){var x=l,C=Math.floor(p);Qr(x,"max-height",Hf.max(x,C,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"])+"px")}function tx(l,p,x){return void 0===l[p]?x:l[p]}function Fv(l,p,x,C){function I(Y){return vn(x,Y).getOr([])}function P(Y,ae,fe){var me=Un(Mb,fe);return{offset:Ca(Y,ae),classesOn:cr(fe,I),classesOff:cr(me,I)}}var V=l*(C=void 0===C?1:C),j=p*C;return{southeast:function(){return P(-l,p,["top","alignLeft"])},southwest:function(){return P(l,p,["top","alignRight"])},south:function(){return P(-l/2,p,["top","alignCentre"])},northeast:function(){return P(-l,-p,["bottom","alignLeft"])},northwest:function(){return P(l,-p,["bottom","alignRight"])},north:function(){return P(-l/2,-p,["bottom","alignCentre"])},east:function(){return P(l,-p/2,["valignCentre","left"])},west:function(){return P(-l,-p/2,["valignCentre","right"])},insetNortheast:function(){return P(V,j,["top","alignLeft","inset"])},insetNorthwest:function(){return P(-V,j,["top","alignRight","inset"])},insetNorth:function(){return P(-V/2,j,["top","alignCentre","inset"])},insetSoutheast:function(){return P(V,-j,["bottom","alignLeft","inset"])},insetSouthwest:function(){return P(-V,-j,["bottom","alignRight","inset"])},insetSouth:function(){return P(-V/2,-j,["bottom","alignCentre","inset"])},insetEast:function(){return P(-V,-j/2,["valignCentre","right","inset"])},insetWest:function(){return P(V,-j/2,["valignCentre","left","inset"])}}}function e0(){return Fv(0,0,{})}function rd(l,p){return function(x){return"rtl"===nx(x)?p:l}}var pa,ng=nd.relative,Sb=nd.fixed,Vv="data-alloy-placement",Mf=os([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),qd=pt,Cb=Pa,n0=["top","bottom","right","left"],r0="data-alloy-transition-timer",Sc=U(function(l,p){ex(l,p),Sa(l,{"overflow-x":"hidden","overflow-y":"auto"})}),_h=U(function(l,p){ex(l,p)}),Mb=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Hv=Z,nx=function(l){return"rtl"===Ns(l,"direction")?"rtl":"ltr"};function H_(l){return $f(l,function(p){return fu(p)&&fs(p,"data-alloy-vertical-dir")===pa.BottomToTop})}function cm(){return Wi("layouts",[Dn("onLtr"),Dn("onRtl"),vi("onBottomLtr"),vi("onBottomRtl")])}function Tf(l,p,x,C,I,P,V){var j=V.map(H_).getOr(!1),Y=p.layouts.map(function(fe){return fe.onLtr(l)}),ae=p.layouts.map(function(fe){return fe.onRtl(l)});return rd(j?p.layouts.bind(function(fe){return fe.onBottomLtr.map(function(me){return me(l)})}).or(Y).getOr(I):Y.getOr(x),j?p.layouts.bind(function(fe){return fe.onBottomRtl.map(function(me){return me(l)})}).or(ae).getOr(P):ae.getOr(C))(l)}function Ds(l){return l.fold(Z,function(p,x,C){return p.translate(-x,-C)})}function W_(l){return l.fold(Z,Z)}function rx(l){return Lr(l,function(p,x){return p.translate(x.left,x.top)},Ca(0,0))}function fm(l){return rx(Ht(l,W_))}function Fu(l,p,x){var C,I,P=ts(Wt(l.element)),V=(C=l,I=Jr(x.root).dom,J.from(I.frameElement).map(bt.fromDom).filter(function(j){return Mn(Wt(j),Wt(C.element))}).map(Ul).getOr(P));return Hs(V,P.left,P.top)}function xl(l,p,x,C){var I=Gv(Ca(l,p));return J.some({point:I,width:x,height:C})}function Xc(l,p,x,C,I){return l.map(function(P){var V=[p,P.point],j=C.fold(function(){return fm(V)},function(){return fm(V)},function(){return rx(Ht(V,Ds))}),Y={x:j.left,y:j.top,width:P.width,height:P.height},ae=(x.showAbove?Qf:Qu)(),fe=(x.showAbove?bh:_c)(),me=Tf(I,x,ae,fe,ae,fe,J.none());return Hv({anchorBox:Y,bubble:x.bubble.getOr(e0()),overrides:x.overrides,layouts:me,placer:J.none()})})}function Cc(l,p,x){var C,I=l.document.createRange(),P=I;return p.fold(function(V){P.setStartBefore(V.dom)},function(V,j){P.setStart(V.dom,j)},function(V){P.setStartAfter(V.dom)}),C=I,x.fold(function(V){C.setEndBefore(V.dom)},function(V,j){C.setEnd(V.dom,j)},function(V){C.setEndAfter(V.dom)}),I}function rg(l,p,x,C,I){var P=l.document.createRange();return P.setStart(p.dom,x),P.setEnd(C.dom,I),P}function dm(l){return{left:l.left,top:l.top,right:l.right,bottom:l.bottom,width:l.width,height:l.height}}function hm(l,p,x){return p(bt.fromDom(x.startContainer),x.startOffset,bt.fromDom(x.endContainer),x.endOffset)}function pm(l,p){return x=l,P=p.match({domRange:function(V){return{ltr:U(V),rtl:J.none}},relative:function(V,j){return{ltr:dn(function(){return Cc(x,V,j)}),rtl:dn(function(){return J.some(Cc(x,j,V))})}},exact:function(V,j,Y,ae){return{ltr:dn(function(){return rg(x,V,j,Y,ae)}),rtl:dn(function(){return J.some(rg(x,Y,ae,V,j))})}}}),((I=(C=P).ltr()).collapsed?C.rtl().filter(function(V){return!1===V.collapsed}).map(function(V){return ig.rtl(bt.fromDom(V.endContainer),V.endOffset,bt.fromDom(V.startContainer),V.startOffset)}).getOrThunk(function(){return hm(0,ig.ltr,I)}):hm(0,ig.ltr,I)).match({ltr:function(V,j,Y,ae){var fe=l.document.createRange();return fe.setStart(V.dom,j),fe.setEnd(Y.dom,ae),fe},rtl:function(V,j,Y,ae){var fe=l.document.createRange();return fe.setStart(Y.dom,ae),fe.setEnd(V.dom,j),fe}});var x,C,I,P}(pa=pa||{}).TopToBottom="toptobottom",pa.BottomToTop="bottomtotop";var ox="data-alloy-vertical-dir",lp=[Dn("hotspot"),vi("bubble"),Bt("overrides",{}),cm(),Ii("placement",function(l,p,x){var C=Jp(x,p.hotspot.element),I=Tf(l.element,p,Qu(),_c(),Qf(),bh(),J.some(p.hotspot.element));return J.some(Hv({anchorBox:C,bubble:p.bubble.getOr(e0()),overrides:p.overrides,layouts:I,placer:J.none()}))})],Yd=[Dn("x"),Dn("y"),Bt("height",0),Bt("width",0),Bt("bubble",e0()),Bt("overrides",{}),cm(),Ii("placement",function(l,p,x){var C=pn(x,p.x,p.y),I=Ru(C.left,C.top,p.width,p.height),P=Tf(l.element,p,$1(),Wd(),$1(),Wd(),J.none());return J.some(Hv({anchorBox:I,bubble:p.bubble,overrides:p.overrides,layouts:P,placer:J.none()}))})],Wv=os([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),Gv=Wv.screen,Hs=Wv.absolute,Tb=[Dn("node"),Dn("root"),vi("bubble"),cm(),Bt("overrides",{}),Bt("showAbove",!1),Ii("placement",function(l,p,x){var C=Fu(l,0,p);return p.node.filter(du).bind(function(I){var P=I.dom.getBoundingClientRect(),V=xl(P.left,P.top,P.width,P.height),j=p.node.getOr(l.element);return Xc(V,C,p,x,j)})})],Zc=function(l,p,x,C){return{start:l,soffset:p,finish:x,foffset:C}},G_=(os([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),function(l){return l.fold(Z,Z,Z)}),og=os([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),gm={domRange:og.domRange,relative:og.relative,exact:og.exact,exactFromRange:function(l){return og.exact(l.start,l.soffset,l.finish,l.foffset)},getWin:function(l){return Jr(l.match({domRange:function(p){return bt.fromDom(p.startContainer)},relative:function(p,x){return G_(p)},exact:function(p,x,C,I){return p}}))},range:Zc},ig=os([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]);function Ab(l){return Aa.getOption(l)}function Ib(l){return Ab(l).filter(function(p){return 0!==p.trim().length||-1<p.indexOf("\xa0")}).isSome()||Io(yi,un(l))}function el(l,p){return rr(x=void 0===l?document:l.dom)?[]:Ht(x.querySelectorAll(p),bt.fromDom);var x}function o0(l){if(0<l.rangeCount){var p=l.getRangeAt(0),x=l.getRangeAt(l.rangeCount-1);return J.some(Zc(bt.fromDom(p.startContainer),p.startOffset,bt.fromDom(x.endContainer),x.endOffset))}return J.none()}function mm(l){if(null===l.anchorNode||null===l.focusNode)return o0(l);var p,x,C,I,P,V,j,Y,ae,fe,me,Ce=bt.fromDom(l.anchorNode),Oe=bt.fromDom(l.focusNode);return V=x=l.anchorOffset,j=C=Oe,Y=I=l.focusOffset,(ae=Wt(P=p=Ce).dom.createRange()).setStart(P.dom,V),ae.setEnd(j.dom,Y),fe=ae,me=Mn(p,C)&&x===I,fe.collapsed&&!me?J.some(Zc(Ce,l.anchorOffset,Oe,l.focusOffset)):o0(l)}function Kc(l,p){var x,C,I=(x=pm(l,p)).getClientRects();return 0<(C=0<I.length?I[0]:x.getBoundingClientRect()).width||0<C.height?J.some(C).map(dm):J.none()}function Uv(l,p){return{element:l,offset:p}}function gs(l,p){return(dc(l)?Uv:function(x,C){var I=gi(x);if(0===I.length)return Uv(x,C);if(C<I.length)return Uv(I[C],0);var P=I[I.length-1];return Uv(P,(dc(P)?Aa.get(P):gi(P)).length)})(l,p)}function U_(l,p){return p.getSelection.getOrThunk(function(){return function(){return J.from(l.getSelection()).filter(function(x){return 0<x.rangeCount}).bind(mm)}})().map(function(x){var C=gs(x.start,x.soffset),I=gs(x.finish,x.foffset);return gm.range(C.element,C.offset,I.element,I.offset)})}function cp(l){return l.x+l.width}function fp(l,p){return l.x-p.width}function jv(l,p){return l.y-p.height+l.height}function RS(l,p,x){return Ts(cp(l),l.y,x.southeast(),Zy(),"southeast",ha(l,{left:0,top:2}),cg)}function _l(l,p,x){return Ts(fp(l,p),l.y,x.southwest(),oi(),"southwest",ha(l,{right:1,top:2}),cg)}function vm(l,p,x){return Ts(cp(l),jv(l,p),x.northeast(),Nv(),"northeast",ha(l,{left:0,bottom:3}),cg)}function dp(l,p,x){return Ts(fp(l,p),jv(l,p),x.northwest(),_b(),"northwest",ha(l,{right:1,bottom:3}),cg)}function hp(){return[RS,_l,vm,dp]}function ic(){return[_l,RS,dp,vm]}function kc(l,p,x,C,I,P,V){var j,Y,ae,fe,me,Ce,Oe,Ge,ze,Ue,qe,Ee;return j={anchorBox:x.anchorBox,origin:p},Y=I.element,ae=x.bubble,fe=x.layouts,me=P,Ce=C,Ge=V,Ue=tx(Oe=x.overrides,"maxHeightFunction",Sc()),qe=tx(Oe,"maxWidthFunction",K),function(l,p,x,C){var I,P,V,Y=function Qy(l,p,x,C){mi(p,"max-height"),mi(p,"max-width");var I,P,j,Y,ae,fe,me,Ce,Oe={width:Ut(I=p),height:Wr(I)};return P=p,ae=x,fe=C.bounds,me=(Y=Oe).width,Ce=Y.height,Lr(C.preference,function(ze,Ue){var qe=Qe(Ge,Ue);return ze.fold(U(ze),qe)},Mf.nofit({rect:j=l,maxHeight:Y.height,maxWidth:Y.width,direction:Zy(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:j.y},-1,-1,!1)).fold(Z,Z);function Ge(ze,Ue,qe,Je,Ee){var Ze=function um(l,p,x,C){var I,P,V,j,Y,ae,fe,me,Oe,Ge,ze,Ue,qe,Je,Ee,Ze,ft,Ct,Jt,Ft,nn,Cn,fn,In,Gn,yr,Hr,So,si,wi,hi,zo,Mi,Ti,Di,ui,na,al,ls=l.bubble,df=ls.offset,ra=(Mi=l.restriction,Ti=df,Di=Gl("left",(zo=C).x),ui=Gl("top",zo.y),na=Gl("right",zo.right),al=Gl("bottom",zo.bottom),Ru(Di,ui,na-Di,al-ui)),ws=l.y+df.top,Oi=Ru(l.x+df.left,ws,p,x),ir=(P=ra.y,V=ra.right,j=ra.bottom,ae=Oi.y,me=Oi.bottom,Oe=Oi.height,{originInBounds:(I=ra.x)<=(Y=Oi.x)&&Y<=V&&P<=ae&&ae<=j,sizeInBounds:(fe=Oi.right)<=V&&I<=fe&&me<=j&&P<=me,visibleW:Math.min(Oi.width,I<=Y?V-Y:fe-I),visibleH:Math.min(Oe,P<=ae?j-ae:me-P)}),Co=ir.visibleW,Vi=ir.visibleH,Xi=ir.originInBounds&&ir.sizeInBounds,Ia=Xi?Oi:(Ge=ra.x,ze=ra.y,Ue=ra.right,qe=ra.bottom,Je=Oi.x,Ee=Oi.y,Ze=Oi.width,ft=Oi.height,Ct=Math.max(Ge,Ue-Ze),Jt=Math.max(ze,qe-ft),Ft=wc(Je,Ge,Ct),nn=wc(Ee,ze,Jt),Cn=Math.min(Ft+Ze,Ue)-Ft,fn=Math.min(nn+ft,qe)-nn,Ru(Ft,nn,Cn,fn)),cc=0<Ia.width&&0<Ia.height,js=(In=l.direction,Hr=U((Gn=Ia).bottom-(yr=C).y),So=U(yr.bottom-Gn.y),si=In.fold(So,So,Hr,Hr,So,Hr,So,So),wi=U(Gn.right-yr.x),hi=U(yr.right-Gn.x),{maxWidth:In.fold(hi,wi,hi,wi,hi,hi,hi,wi),maxHeight:si}),ku={rect:Ia,maxHeight:js.maxHeight,maxWidth:js.maxWidth,direction:l.direction,placement:l.placement,classes:{on:ls.classesOn,off:ls.classesOff},layout:l.label,testY:ws};function Gl(Mu,Tu){return Mi[Mu].map(function(sl){var Du="top"===Mu||"bottom"===Mu,zh=Du?Ti.top:Ti.left,Xo=("left"===Mu||"top"===Mu?Math.max:Math.min)(sl,Tu)+zh;return Du?wc(Xo,zo.y,zo.bottom):wc(Xo,zo.x,zo.right)}).getOr(Tu)}return Xi||l.alwaysFit?Mf.fit(ku):Mf.nofit(ku,Co,Vi,cc)}(ze(j,Y,ae,P,fe),me,Ce,fe);return Ze.fold(U(Ze),function(ft,Ct,Jt,Ft){return(Ee===Ft?Je<Jt||qe<Ct:!Ee&&Ft)?Ze:Mf.nofit(Ue,qe,Je,Ee)})}}(l,p,x,C),ae=p,fe=Y,me=Gd((I=C).origin,fe);return I.transition.each(function(Ce){!function Q1(l,p,x,C,I,P){var V,j,Y,ae,fe,me,Ce,Oe,Ge,ze=(V=C,j=I,P.exists(function(qe){var Je=V.mode;return"all"===Je||qe[Je]!==j[Je]}));function Ue(qe){return parseFloat(qe).toFixed(3)}ze||(Ge=l,tt(C.classes,function(qe){return la(Ge,qe)}))?(Qr(l,"position",x.position),Y=Jp(p,l),ae=Gd(p,ve(ve({},I),{rect:Y})),fe=Ja(n0,function(qe){return ae[qe]}),Oe=x,ar(fe,function(qe,Je){var Ee,Ze,ft,Ct=Oe[Je].map(Ue),Jt=qe.map(Ue);return!qt(Ee=Ct,Ze=Jt,ft=void 0===ft?de:ft).getOr(Ee.isNone()&&Ze.isNone())}).isSome()&&(Eu(l,fe),ze&&(eu(me=l,(Ce=C).classes),Ls(me,r0).each(function(qe){clearTimeout(parseInt(qe,10)),Ss(me,r0)}),function V_(l,p){function x(Ge){var ze,Ue=null!==(ze=Ge.raw.pseudoElement)&&void 0!==ze?ze:"";return Mn(Ge.target,l)&&!cs(Ue)&&Io(n0,Ge.raw.propertyName)}function C(Ge){var ze;(at(Ge)||x(Ge))&&(j.clear(),Y.clear(),!at(ze=null==Ge?void 0:Ge.raw.type)&&ze!==ph()||(clearTimeout(P),Ss(l,r0),xf(l,p.classes)))}function I(){j.set(ps(l,ph(),C)),Y.set(ps(l,ep(),C))}var P,V,j=jd(),Y=jd();"ontransitionstart"in l.dom?V=ps(l,Iv(),function(Ge){x(Ge)&&(V.unbind(),I())}):I();var ae,fe,me=(ae=l,fe=Ce("transition-delay"),Lr(Ce("transition-duration"),function(Ge,ze,Ue){var qe=Oe(fe[Ue])+Oe(ze);return Math.max(Ge,qe)},0));function Ce(Ge){var ze=Ns(ae,Ge);return It(ne(ze)?ze.split(/\s*,\s*/):[],cs)}function Oe(Ge){if(ne(Ge)&&/^[\d.]+/.test(Ge)){var ze=parseFloat(Ge);return lt(Ge,"ms")?ze:1e3*ze}return 0}requestAnimationFrame(function(){P=setTimeout(C,me+17),Ur(l,r0,P)})}(me,Ce)),Py(l))):xf(l,C.classes)}(ae,I.origin,me,Ce,fe,I.lastPlacement)}),J1(ae,me),Ur(p,Vv,Y.placement),xf(P=p,(V=Y.classes).off),eu(P,V.on),(0,C.maxHeightFunction)(p,Y.maxHeight),(0,C.maxWidthFunction)(p,Y.maxWidth),{layout:Y.layout,placement:Y.placement}}(j.anchorBox,Y,ae,{bounds:(ze=Ee=j.origin,Ce.fold(function(){return ze.fold(fl,fl,Ru)},function(Ct){return ze.fold(Ct,Ct,function(){var Jt=Ct(),Ft=pn(ze,Jt.x,Jt.y);return Ru(Ft.left,Ft.top,Jt.width,Jt.height)})})),origin:Ee,preference:fe,maxHeightFunction:Ue,maxWidthFunction:qe,lastPlacement:me,transition:Ge})}function ym(l,p){ka(l.element,p.element)}function ix(l,p){var x,C=l.components();zr((x=l).components(),function(P){return mf(P.element)}),$s(x.element),x.syncComponents();var I=Un(C,p);zr(I,function(P){f0(P),l.getSystem().removeFromWorld(P)}),zr(p,function(P){P.getSystem().isConnected()?ym(l,P):(l.getSystem().addToWorld(P),ym(l,P),du(l.element)&&Am(P)),l.syncComponents()})}function Rl(l,p){d0(l,p,ka)}function Ll(l){f0(l),mf(l.element),l.getSystem().removeFromWorld(l)}function bm(l){var p=Xr(l.element).bind(function(x){return l.getSystem().getByDom(x).toOptional()});Ll(l),p.each(function(x){x.syncComponents()})}function wh(l){var p=l.components();zr(p,Ll),$s(l.element),l.syncComponents()}function ag(l,p){lx(l,p,ka)}function qv(l){var p=gi(l.element);zr(p,function(x){l.getByDom(x).each(f0)}),mf(l.element)}function ms(l,p,x,C){x.get().each(function(P){wh(l)}),Rl(p.getAttachPoint(l),l);var I=l.getSystem().build(C);return Rl(l,I),x.set(I),I}function xm(l,p,x,C){var I=ms(l,p,x,C);return p.onOpen(l,I),I}function ou(l,p,x){x.get().each(function(C){wh(l),bm(l),p.onClose(l,C),x.clear()})}function Yv(l,p,x){return x.isOpen()}function Ob(l){var p=pu("Dismissal",fx,l),x={};return x[vp()]={schema:dl([Dn("target")]),onReceive:function(C,I){qo.isOpen(C)&&(qo.isPartOf(C,I.target)||p.isExtraPart(C,I.target)||p.fireEventInstead.fold(function(){return qo.close(C)},function(P){return Bo(C,P.event)}))}},x}function Ws(l){var p=pu("Reposition",LS,l),x={};return x[dg()]={onReceive:function(C){qo.isOpen(C)&&p.fireEventInstead.fold(function(){return p.doReposition(C)},function(I){return Bo(C,I.event)})}},x}function wl(l,p,x){p.store.manager.onLoad(l,p,x)}function j_(l,p,x){p.store.manager.onUnload(l,p,x)}function Eb(){var l=Nr(null);return ec({set:l.set,get:l.get,isNotSet:function(){return null===l.get()},clear:function(){l.set(null)},readState:function(){return{mode:"memory",value:l.get()}}})}function Sl(){var l=Nr({}),p=Nr({});return ec({readState:function(){return{mode:"dataset",dataByValue:l.get(),dataByText:p.get()}},lookup:function(x){return vn(l.get(),x).orThunk(function(){return vn(p.get(),x)})},update:function(x){var C=l.get(),I=p.get(),P={},V={};zr(x,function(j){vn(P[j.value]=j,"meta").each(function(Y){vn(Y,"text").each(function(ae){V[ae]=j})})}),l.set(ve(ve({},C),P)),p.set(ve(ve({},I),V))},clear:function(){l.set({}),p.set({})}})}function Xv(l,p,x,C){var I=p.store;x.update([C]),I.setValue(l,C),p.onSetValue(l,C)}function Xa(l,p){return Jg(l,{},Ht(p,function(x){return C=x.name(),I="Cannot configure "+x.name()+" for "+l,ds(C,C,{tag:"option",process:{}},ks(function(P){return jh("The field: "+C+" is forbidden. "+I)}));var C,I}).concat([Bu("dump",Z)]))}function Sh(l){return l.dump}function vs(l,p){return ve(ve({},$n(p)),l.dump)}function pp(l){return Sr(l,"uiType")}function i0(l){return l.fold(J.some,J.none,J.some,J.some)}function od(l){function p(x){return x.name}return l.fold(p,p,p,p)}function Nl(l,p){return function(x){var C=pu("Converting part type",p,x);return l(C)}}function _m(l,p,x,C){return No(p.defaults(l,x,C),x,{uid:l.partUids[p.name]},p.overrides(l,x,C))}function wm(l,p){var x={};return zr(p,function(C){i0(C).each(function(I){var P=oy(l,I.pname);x[I.name]=function(V){var j=pu("Part: "+I.name+" in "+l,Fr(I.schema),V);return ve(ve({},P),{config:V,validated:j})}})}),x}function sg(l,p,x){return{uiType:ey(),owner:l,name:p,config:x,validated:{}}}function q_(l){return cr(l,function(p){return p.fold(J.none,J.some,J.none,J.none).map(function(x){return Wf(x.name,x.schema.concat([Pv(Rm())]))}).toArray()})}function a0(l){return Ht(l,od)}function ax(l,p,x){return C=p,I={},P={},zr(x,function(V){V.fold(function(j){I[j.pname]=qr(!0,function(Y,ae,fe){return j.factory.sketch(_m(Y,j,ae,fe))})},function(j){var Y=C.parts[j.name];P[j.name]=U(j.factory.sketch(_m(C,j,Y[Rm()]),Y))},function(j){I[j.pname]=qr(!1,function(Y,ae,fe){return j.factory.sketch(_m(Y,j,ae,fe))})},function(j){I[j.pname]=px(!0,function(Y,ae,fe){return Ht(Y[j.name],function(me){return j.factory.sketch(No(j.defaults(Y,me,fe),me,j.overrides(Y,me)))})})})}),{internals:U(I),externals:U(P)};var C,I,P}function ac(l,p,x){return C=J.some(l),P=(I=p).components,ae=jn(x,function(me,Ce){return Ge=me,ze=!1,{name:U(Oe=Ce),required:function(){return Ge.fold(function(Ue,qe){return Ue},function(Ue,qe){return Ue})},used:function(){return ze},replace:function(){if(ze)throw new Error("Trying to use the same placeholder more than once: "+Oe);return ze=!0,Ge}};var Oe,Ge,ze}),V=C,j=I,Y=ae,fe=cr(P,function(me){return Om(V,j,me,Y)}),Qt(ae,function(me){if(!1===me.used()&&me.required())throw new Error("Placeholder: "+me.name()+" was not found in components list\nNamespace: "+C.getOr("none")+"\nComponents: "+JSON.stringify(I.components,null,2))}),fe;var C,I,P,V,j,Y,ae,fe}function jo(l,p,x){var C=p.partUids[x];return l.getSystem().getByUid(C).toOptional()}function io(l,p,x){return jo(l,p,x).getOrDie("Could not find part: "+x)}function _a(l,p,x){var C={},I=p.partUids,P=l.getSystem();return zr(x,function(V){C[V]=U(P.getByUid(I[V]))}),C}function Sm(l,p){var x=l.getSystem();return jn(p.partUids,function(C,I){return U(x.getByUid(C))})}function gp(l){return Ni(l.partUids)}function sx(l,p,x){var C={},I=p.partUids,P=l.getSystem();return zr(x,function(V){C[V]=U(P.getByUid(I[V]).getOrDie())}),C}function s0(l,p){return Td(Ht(a0(p),function(x){return{key:x,value:l+"-"+x}}))}function Df(l){return ds("partUids","partUids",Oo(function(p){return s0(p.uid,l)}),Hc())}function u0(l,p,x,C,I){var P;return pu(l+" [SpecSchema]",dl((P=I,(0<C.length?[Wf("parts",C)]:[]).concat([Dn("uid"),Bt("dom",{}),Bt("components",[]),Pv("originalSpec"),Bt("debug.sketcher",{})]).concat(P)).concat(p)),x)}function Cm(l,p,x,C,I){var P=iy(I),V=u0(l,p,P,q_(x),[Df(x)]),j=ax(0,V,x);return C(V,ac(l,V,j.internals()),P,j.externals())}function Bl(l){var p=pu("Sketcher for "+l.name,Lm,l),x=jn(p.apis,Zh),C=jn(p.extraApis,qf);return ve(ve({name:p.name,configFields:p.configFields,sketch:function(I){return(0,p.factory)(u0(p.name,p.configFields,j=iy(I),[],[]),j);var j}},x),C)}function tl(l){var p=pu("Sketcher for "+l.name,BS,l),x=wm(p.name,p.partFields),C=jn(p.apis,Zh),I=jn(p.extraApis,qf);return ve(ve({name:p.name,partFields:p.partFields,configFields:p.configFields,sketch:function(P){return Cm(p.name,p.configFields,p.partFields,p.factory,P)},parts:x},C),I)}function id(l){return"input"===un(l)&&"radio"!==fs(l,"type")||"textarea"===un(l)}function Zv(l,p,x){(p.disabled()?Nb:$d)(l,p)}function Mc(l,p){return!0===p.useNative&&Io(gx,un(l.element))}function l0(l,p){return Mc(l,p)?Ou(l.element,"disabled"):"true"===fs(l.element,"aria-disabled")}function Ch(l,p,x,C){var I=el(l.element,"."+p.highlightClass);zr(I,function(P){jt(C,function(V){return V.element===P})||(ri(P,p.highlightClass),l.getSystem().getByDom(P).each(function(V){p.onDehighlight(l,V),Bo(V,rm())}))})}function $c(l,p,x,C){Ch(l,p,0,[C]),As(0,p,0,C)||(Qn(C.element,p.highlightClass),p.onHighlight(l,C),Bo(C,X1()))}function kh(l,p,x,C){var I=el(l.element,"."+p.itemClass);return Zn(I,function(P){return la(P,p.highlightClass)}).bind(function(P){var V=rc(P,C,0,I.length-1);return l.getSystem().getByDom(I[V]).toOptional()})}function Cl(l,p,x){var C=hn(l.slice(0,p)),I=hn(l.slice(p+1));return Uo(C.concat(I),x)}function c0(l,p,x){return Uo(hn(l.slice(0,p)),x)}function Af(l,p,x){var C=l.slice(0,p);return Uo(l.slice(p+1).concat(C),x)}function km(l,p,x){return Uo(l.slice(p+1),x)}function Eo(l){return function(p){return Io(l,p.raw.which)}}function _u(l){return function(p){return tt(l,function(x){return x(p)})}}function Mh(l){return!0===l.raw.shiftKey}function ux(l){return!0===l.raw.ctrlKey}function ko(l,p){return{matches:l,classification:p}}function Pb(l,p,x){p.exists(function(C){return x.exists(function(I){return Mn(I,C)})})||Gr(l,L_(),{prevFocus:p,newFocus:x})}function Kv(){function l(p){return td(p.element)}return{get:l,set:function(p,x){var C=l(p);p.getSystem().triggerFocus(x,p.element),Pb(p,C,l(p))}}}function If(){function l(p){return $o.getHighlighted(p).map(function(x){return x.element})}return{get:l,set:function(p,x){var C=l(p);p.getSystem().getByDom(x).fold(K,function(P){$o.highlight(p,P)});var I=l(p);Pb(p,C,I)}}}function ug(l,p,x,C,I,P){var V=P.map(Yl);return mp(l,p,x,C,I,V)}function $v(l,p,x){var C,P,V=p.getAttachPoint(l);Qr(l.element,"position",nl.getMode(V)),P=p.cloakVisibilityAttr,Ki((C=l).element,"visibility").fold(function(){Ss(C.element,P)},function(j){Ur(C.element,P,j)}),Qr(C.element,"visibility","hidden")}function Jc(l,p,x){var C,I,V=l.element;jt(["top","left","right","bottom"],function(j){return Ki(V,j).isSome()})||mi(l.element,"position"),I="visibility",Ls((C=l).element,p.cloakVisibilityAttr).fold(function(){return mi(C.element,I)},function(j){return Qr(C.element,I,j)})}function As(l,p,x,C){return la(C.element,p.highlightClass)}function Mm(l,p,x){return fa(l.element,"."+p.itemClass).bind(function(C){return l.getSystem().getByDom(C).toOptional()})}function Vu(l,p,x){var C=el(l.element,"."+p.itemClass);return(0<C.length?J.some(C[C.length-1]):J.none()).bind(function(I){return l.getSystem().getByDom(I).toOptional()})}function lg(l,p,x){return go(Ht(el(l.element,"."+p.itemClass),function(C){return l.getSystem().getByDom(C).toOptional()}))}var ad,Tc,Jv,Da,Aa=(ad=dc,{get:function(l){if(!ad(l))throw new Error("Can only get text value of a text node");return Tc(l).getOr("")},getOption:Tc=function(l){return ad(l)?J.from(l.dom.nodeValue):J.none()},set:function(l,p){if(!ad(l))throw new Error("Can only set raw text value of a text node");l.dom.nodeValue=p}}),yi=["img","br"],sd=[vi("getSelection"),Dn("root"),vi("bubble"),cm(),Bt("overrides",{}),Bt("showAbove",!1),Ii("placement",function(l,p,x){var C=Jr(p.root).dom,I=Fu(l,0,p);return Xc(U_(C,p).bind(function(P){return(0<(Y=pm(C,gm.exactFromRange(P)).getBoundingClientRect()).width||0<Y.height?J.some(Y).map(dm):J.none()).orThunk(function(){var ae=bt.fromText("\ufeff");mo(P.start,ae);var fe=Kc(C,gm.exact(ae,0,ae,1));return mf(ae),fe}).bind(function(ae){return xl(ae.left,ae.top,ae.width,ae.height)});var Y}),I,p,x,U_(C,p).bind(function(P){return fu(P.start)?J.some(P.start):gc(P.start)}).getOr(l.element))})],cg="link-layout",Y_=Na("type",{selection:sd,node:Tb,hotspot:lp,submenu:[Dn("item"),cm(),Bt("overrides",{}),Ii("placement",function(l,p,x){var C=Jp(x,p.item.element),I=Tf(l.element,p,hp(),ic(),hp(),ic(),J.none());return J.some(Hv({anchorBox:C,bubble:e0(),overrides:p.overrides,layouts:I,placer:J.none()}))})],makeshift:Yd}),Tm=[Zu("classes",qa),pl("mode","all",["all","layout","placement"])],Qv=[Bt("useFixed",Ke),vi("getBounds")],Dm=[Xl("anchor",Y_),Wi("transition",Tm)],mp=function(l,p,x,C,I,P){var V=pu("placement.info",Fr(Dm),I),j=V.anchor,Y=C.element,ae=x.get(C.uid);$p(function(){Qr(Y,"position","fixed");var fe=Ki(Y,"visibility");Qr(Y,"visibility","hidden");var me,Ce,Oe,Ge,ze=p.useFixed()?(Ge=document.documentElement,Sb(0,0,Ge.clientWidth,Ge.clientHeight)):(Ce=Ul((me=l).element),Oe=me.element.dom.getBoundingClientRect(),ng(Ce.left,Ce.top,Oe.width,Oe.height)),Ue=j.placement,qe=P.map(U).or(p.getBounds);Ue(l,j,ze).each(function(Je){var Ee=Je.placer.getOr(kc)(l,ze,Je,qe,C,ae,V.transition);x.set(C.uid,Ee)}),fe.fold(function(){mi(Y,"visibility")},function(Je){Qr(Y,"visibility",Je)}),Ki(Y,"left").isNone()&&Ki(Y,"top").isNone()&&Ki(Y,"right").isNone()&&Ki(Y,"bottom").isNone()&&wr(Ki(Y,"position"),"fixed")&&mi(Y,"position")},Y)},nl=ji({fields:Qv,name:"positioning",active:Qp,apis:Object.freeze({__proto__:null,position:function(l,p,x,C,I){ug(l,p,x,C,I,J.none())},positionWithin:ug,positionWithinBounds:mp,getMode:function(l,p,x){return p.useFixed()?"fixed":"absolute"},reset:function(l,p,x,C){var I=C.element;zr(["position","left","right","top","bottom"],function(P){return mi(I,P)}),Ss(I,Vv),x.clear(C.uid)}}),state:Object.freeze({__proto__:null,init:function(){var l={};return ec({readState:function(){return l},clear:function(p){De(p)?delete l[p]:l={}},set:function(p,x){l[p]=x},get:function(p){return vn(l,p)}})}})}),f0=function(l){Bo(l,Ql());var p=l.components();zr(p,f0)},Am=function(l){var p=l.components();zr(p,Am),Bo(l,tu())},d0=function(l,p,x){l.getSystem().addToWorld(p),x(l.element,p.element),du(l.element)&&Am(p),l.syncComponents()},lx=function(l,p,x){x(l,p.element);var C=gi(p.element);zr(C,function(I){p.getByDom(I).each(Am)})},cx=Object.freeze({__proto__:null,cloak:$v,decloak:Jc,open:xm,openWhileCloaked:function(l,p,x,C,I){$v(l,p),xm(l,p,x,C),I(),Jc(l,p)},close:ou,isOpen:Yv,isPartOf:function(l,p,x,C){return Yv(0,0,x)&&x.get().exists(function(I){return p.isPartOf(l,I,C)})},getState:function(l,p,x){return x.get()},setContent:function(l,p,x,C){return x.get().map(function(){return ms(l,p,x,C)})}}),fg=Object.freeze({__proto__:null,events:function(l,p){return Ei([xn(gh(),function(x,C){ou(x,l,p)})])}}),qo=ji({fields:[Ho("onOpen"),Ho("onClose"),Dn("isPartOf"),Dn("getAttachPoint"),Bt("cloakVisibilityAttr","data-precloak-visibility")],name:"sandboxing",active:fg,apis:cx,state:Object.freeze({__proto__:null,init:function(){var l=Ha(),p=U("not-implemented");return ec({readState:p,isOpen:l.isSet,clear:l.clear,set:l.set,get:l.get})}})}),vp=U("dismiss.popups"),dg=U("reposition.popups"),h0=U("mouse.released"),fx=dl([Bt("isExtraPart",Ke),Wi("fireEventInstead",[Bt("event",rp())])]),LS=dl([Wi("fireEventInstead",[Bt("event",Yy())]),Lu("doReposition")]),dx=Object.freeze({__proto__:null,onLoad:wl,onUnload:j_,setValue:function(l,p,x,C){p.store.manager.setValue(l,p,x,C)},getValue:function(l,p,x){return p.store.manager.getValue(l,p,x)},getState:function(l,p,x){return x}}),Pi=Object.freeze({__proto__:null,events:function(l,p){var x=l.resetOnDom?[ca(function(C,I){wl(C,l,p)}),Kf(function(C,I){j_(C,l,p)})]:[Ol(l,p,wl)];return Ei(x)}}),hx=Object.freeze({__proto__:null,memory:Eb,dataset:Sl,manual:function(){return ec({readState:K})},init:function(l){return l.store.manager.state(l)}}),Im=[vi("initialValue"),Dn("getFallbackEntry"),Dn("getDataKey"),Dn("setValue"),Ii("manager",{setValue:Xv,getValue:function(l,p,x){var C=p.store,I=C.getDataKey(l);return x.lookup(I).getOrThunk(function(){return C.getFallbackEntry(I)})},onLoad:function(l,p,x){p.store.initialValue.each(function(C){Xv(l,p,x,C)})},onUnload:function(l,p,x){x.clear()},state:Sl})],Xd=[Dn("getValue"),Bt("setValue",K),vi("initialValue"),Ii("manager",{setValue:function(l,p,x,C){p.store.setValue(l,C),p.onSetValue(l,C)},getValue:function(l,p,x){return p.store.getValue(l)},onLoad:function(l,p,x){p.store.initialValue.each(function(C){p.store.setValue(l,C)})},onUnload:K,state:bl.init})],lr=ji({fields:[vf("store",{mode:"memory"},Na("mode",{memory:[vi("initialValue"),Ii("manager",{setValue:function(l,p,x,C){x.set(C),p.onSetValue(l,C)},getValue:function(l,p,x){return x.get()},onLoad:function(l,p,x){p.store.initialValue.each(function(C){x.isNotSet()&&x.set(C)})},onUnload:function(l,p,x){x.clear()},state:Eb})],manual:Xd,dataset:Im})),Ho("onSetValue"),Bt("resetOnDom",!1)],name:"representing",active:Pi,apis:dx,extra:{setValueFrom:function(l,p){var x=lr.getValue(p);lr.setValue(l,x)}},state:hx}),yp=Xa,Qc=vs,hg="placeholder",bp=os([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Om=function(l,p,x,C){return I=l,V=C,(pp(P=x)&&P.uiType===hg?(Y=P,ae=V,(j=I).exists(function(fe){return fe!==Y.owner})?bp.single(!0,U(Y)):vn(ae,Y.name).fold(function(){throw new Error("Unknown placeholder component: "+Y.name+"\nKnown: ["+Ni(ae)+"]\nNamespace: "+j.getOr("none")+"\nSpec: "+JSON.stringify(Y,null,2))},function(fe){return fe.replace()})):bp.single(!1,U(P))).fold(function(fe,me){var Ce=pp(x)?me(p,x.config,x.validated):me(p),Oe=cr(vn(Ce,"components").getOr([]),function(Ge){return Om(l,p,Ge,C)});return[ve(ve({},Ce),{components:Oe})]},function(fe,me){if(pp(x)){var Ce=me(p,x.config,x.validated);return x.validated.preprocess.getOr(Z)(Ce)}return me(p)});var I,P,V,j,Y,ae},qr=bp.single,px=bp.multiple,ey=U(hg),ty=os([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Rb=Bt("factory",{sketch:Z}),Em=Bt("schema",[]),ny=Dn("name"),xp=ds("pname","pname",Yu(function(l){return"<alloy."+Rr(l.name)+">"}),Hc()),_p=Bu("schema",function(){return[vi("preprocess")]}),pg=Bt("defaults",U({})),gg=Bt("overrides",U({})),Pm=Fr([Rb,Em,ny,xp,pg,gg]),zl=Fr([Rb,Em,ny,pg,gg]),Zd=Fr([Rb,Em,ny,xp,pg,gg]),NS=Fr([Rb,_p,ny,Dn("unit"),xp,pg,gg]),Is=Nl(ty.required,Pm),ud=Nl(ty.external,zl),Kd=Nl(ty.optional,Zd),ry=Nl(ty.group,NS),Rm=U("entirety"),ld=Object.freeze({__proto__:null,required:Is,external:ud,optional:Kd,group:ry,asNamedPart:i0,name:od,asCommon:function(l){return l.fold(Z,Z,Z,Z)},original:Rm}),oy=function(l,p){return{uiType:ey(),owner:l,name:p}},mg=Object.freeze({__proto__:null,generate:wm,generateOne:sg,schemas:q_,names:a0,substitutes:ax,components:ac,defaultUids:s0,defaultUidsSchema:Df,getAllParts:Sm,getAllPartNames:gp,getPart:jo,getPartOrDie:io,getParts:_a,getPartsOrDie:sx}),iy=function(l){return Sr(l,"uid")?l:ve(ve({},l),{uid:ip("uid")})},Lm=dl([Dn("name"),Dn("factory"),Dn("configFields"),Bt("apis",{}),Bt("extraApis",{})]),BS=dl([Dn("name"),Dn("factory"),Dn("configFields"),Dn("partFields"),Bt("apis",{}),Bt("extraApis",{})]),Lb=Object.freeze({__proto__:null,getCurrent:function(l,p,x){return p.find(l)}}),Wo=ji({fields:[Dn("find")],name:"composing",apis:Lb}),gx=["input","button","textarea","select"],Nb=function(l,p,x){p.disableClass.each(function(C){Qn(l.element,C)}),(Mc(l,p)?function(C){Ur(C.element,"disabled","disabled")}:function(C){Ur(C.element,"aria-disabled","true")})(l),p.onDisabled(l)},$d=function(l,p,x){p.disableClass.each(function(C){ri(l.element,C)}),(Mc(l,p)?function(C){Ss(C.element,"disabled")}:function(C){Ur(C.element,"aria-disabled","false")})(l),p.onEnabled(l)},ay=Object.freeze({__proto__:null,enable:$d,disable:Nb,isDisabled:l0,onLoad:Zv,set:function(l,p,x,C){(C?Nb:$d)(l,p)}}),Nm=Object.freeze({__proto__:null,exhibit:function(l,p){return Yf({classes:p.disabled()?p.disableClass.toArray():[]})},events:function(l,p){return Ei([zs(bc(),function(x,C){return l0(x,l)}),Ol(l,p,Zv)])}}),Vr=ji({fields:[Li("disabled",Ke),Bt("useNative",!0),vi("disableClass"),Ho("onDisabled"),Ho("onEnabled")],name:"disabling",active:Nm,apis:ay}),vg=Object.freeze({__proto__:null,dehighlightAll:function(l,p,x){return Ch(l,p,0,[])},dehighlight:function(l,p,x,C){As(0,p,0,C)&&(ri(C.element,p.highlightClass),p.onDehighlight(l,C),Bo(C,rm()))},highlight:$c,highlightFirst:function(l,p,x){Mm(l,p).each(function(C){$c(l,p,0,C)})},highlightLast:function(l,p,x){Vu(l,p).each(function(C){$c(l,p,0,C)})},highlightAt:function(l,p,x,C){var I,P,V;P=C,V=el((I=l).element,"."+p.itemClass),J.from(V[P]).fold(function(){return Po.error(new Error("No element found with index "+P))},I.getSystem().getByDom).fold(function(j){throw j},function(j){$c(l,p,0,j)})},highlightBy:function(l,p,x,C){Uo(lg(l,p),C).each(function(I){$c(l,p,0,I)})},isHighlighted:As,getHighlighted:function(l,p,x){return fa(l.element,"."+p.highlightClass).bind(function(C){return l.getSystem().getByDom(C).toOptional()})},getFirst:Mm,getLast:Vu,getPrevious:function(l,p,x){return kh(l,p,0,-1)},getNext:function(l,p,x){return kh(l,p,0,1)},getCandidates:lg}),$o=ji({fields:[Dn("highlightClass"),Dn("itemClass"),Ho("onHighlight"),Ho("onDehighlight")],name:"highlighting",apis:vg}),X_=[8],Of=[9],wu=[13],Bm=[27],iu=[32],yg=[37],bg=[38],zm=[39],Dc=[40],wp=st(Mh);function rl(l,p,x,C,I){function P(j,Y,ae,fe,me){var Ce=ae(j,Y,fe,me),Oe=Y.event;return Uo(Ce,function(Ge){return Ge.matches(Oe)}).map(function(Ge){return Ge.classification}).bind(function(Ge){return Ge(j,Y,fe,me)})}var V={schema:function(){return l.concat([Bt("focusManager",Kv()),vf("focusInside","onFocus",Gh(function(j){return Io(["onFocus","onEnterOrSpace","onApi"],j)?Po.value(j):Po.error("Invalid value for focusInside")})),Ii("handler",V),Ii("state",p),Ii("sendFocusIn",I)])},processKey:P,toEvents:function(j,Y){var ae=j.focusInside!==Jv.OnFocusMode?J.none():I(j).map(function(me){return xn(yl(),function(Ce,Oe){me(Ce,j,Y),Oe.stop()})}),fe=[xn(Ed(),function(me,Ce){P(me,Ce,x,j,Y).fold(function(){var Oe=me,Ge=Ce,ze=Eo(iu.concat(wu))(Ge.event);j.focusInside===Jv.OnEnterOrSpaceMode&&ze&&Gy(Oe,Ge)&&I(j).each(function(Ue){Ue(Oe,j,Y),Ge.stop()})},function(Oe){Ce.stop()})}),xn(Ko(),function(me,Ce){P(me,Ce,C,j,Y).each(function(Oe){Ce.stop()})})];return Ei(ae.toArray().concat(fe))}};return V}function au(l){function p(j,Y){return 0<Pu(j.visibilitySelector.bind(function(ae){return Sf(Y,ae)}).getOr(Y))}function x(j,Y,ae){var fe=Y,me=It(el(j.element,fe.selector),function(Ce){return p(fe,Ce)});J.from(me[fe.firstTabstop]).each(function(Ce){Y.focusManager.set(j,Ce)})}function C(j,Y,ae,fe){var me,Ce=el(j.element,ae.selector);return(me=ae).focusManager.get(j).bind(function(Oe){return Sf(Oe,me.selector)}).bind(function(Oe){return Zn(Ce,Qe(Mn,Oe)).bind(function(Ge){return ze=j,Ue=ae,fe(Ce,Ge,function(qe){return p(Je=Ue,Ee=qe)&&Je.useTabstopAt(Ee);var Je,Ee}).fold(function(){return Ue.cyclic?J.some(!0):J.none()},function(qe){return Ue.focusManager.set(ze,qe),J.some(!0)});var ze,Ue})})}var I=[vi("onEscape"),vi("onEnter"),Bt("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Bt("firstTabstop",0),Bt("useTabstopAt",pt),vi("visibilitySelector")].concat([l]),P=U([ko(_u([Mh,Eo(Of)]),function(j,Y,ae){return C(j,0,ae,ae.cyclic?Cl:c0)}),ko(Eo(Of),function(j,Y,ae){return C(j,0,ae,ae.cyclic?Af:km)}),ko(Eo(Bm),function(j,Y,ae){return ae.onEscape.bind(function(fe){return fe(j,Y)})}),ko(_u([wp,Eo(wu)]),function(j,Y,ae){return ae.onEnter.bind(function(fe){return fe(j,Y)})})]),V=U([]);return rl(I,bl.init,P,V,function(){return J.some(x)})}function Fm(l,p,x){return id(x)&&Eo(iu)(p.event)?J.none():(gu(l,x,bc()),J.some(!0))}function Sp(l,p){return J.some(!0)}function xg(l,p,x){return x.execute(l,p,l.element)}function _g(){var l=Ha();return ec({readState:function(){return l.get().map(function(p){return{numRows:String(p.numRows),numColumns:String(p.numColumns)}}).getOr({numRows:"?",numColumns:"?"})},setGridSize:function(p,x){l.set({numRows:p,numColumns:x})},getNumRows:function(){return l.get().map(function(p){return p.numRows})},getNumColumns:function(){return l.get().map(function(p){return p.numColumns})}})}function T(l){return function(p,x,C,I){var P=l(p.element);return ew(P,p,x,C,I)}}function R(l,p){return T(rd(l,p))}function H(l,p){return T(rd(p,l))}function Q(l){return function(p,x,C,I){return ew(l,p,x,C,I)}}function ce(l){return!((p=l.dom).offsetWidth<=0&&p.offsetHeight<=0);var p}function ge(l,p,x){var C,I=It(el(l,x),ce);return Zn(C=I,function(P){return Mn(P,p)}).map(function(P){return{index:P,candidates:C}})}function Ie(l,p){return Zn(l,function(x){return Mn(p,x)})}function Be(l,p,x,C){return C(Math.floor(p/x),p%x).bind(function(I){var P=I.row*x+I.column;return 0<=P&&P<l.length?J.some(l[P]):J.none()})}function $e(l,p,x,C,I){return Be(l,p,C,function(P,V){var Y=rc(V,I,0,(P===x-1?l.length-P*C:C)-1);return J.some({row:P,column:Y})})}function ot(l,p,x,C,I){return Be(l,p,C,function(P,V){var j=rc(P,I,0,x-1),ae=wc(V,0,(j===x-1?l.length-j*C:C)-1);return J.some({row:j,column:ae})})}function xt(l,p,x){fa(l.element,p.selector).each(function(C){p.focusManager.set(l,C)})}function St(l){return function(p,x,C,I){return ge(p,x,C.selector).bind(function(P){return l(P.candidates,P.index,I.getNumRows().getOr(C.initSize.numRows),I.getNumColumns().getOr(C.initSize.numColumns))})}}function wt(l,p,x){return x.captureTab?J.some(!0):J.none()}function Nt(l,p,x,C){var I=function(P,V,j){var Y,ae=rc(V,C,0,j.length-1);return ae===P?J.none():"button"===un(Y=j[ae])&&"disabled"===fs(Y,"disabled")?I(P,ae,j):J.from(j[ae])};return ge(l,x,p).bind(function(P){var V=P.index;return I(V,V,P.candidates)})}function Tt(l,p,x){return(C=x).focusManager.get(l).bind(function(I){return Sf(I,C.selector)}).bind(function(I){return x.execute(l,p,I)});var C}function $t(l,p,x){p.getInitial(l).orThunk(function(){return fa(l.element,p.selector)}).each(function(C){p.focusManager.set(l,C)})}function an(l,p,x){return Nt(l,x.selector,p,-1)}function kt(l,p,x){return Nt(l,x.selector,p,1)}function Yt(l){return function(p,x,C,I){return l(p,x,C,I).bind(function(){return C.executeOnMove?Tt(p,x,C):J.some(!0)})}}function Pn(l,p,x){return x.onEscape(l,p)}function Lt(l,p,x){return J.from(l[p]).bind(function(C){return J.from(C[x]).map(function(I){return{rowIndex:p,columnIndex:x,cell:I}})})}function Ln(l,p,x,C){return Lt(l,p,rc(x,C,0,l[p].length-1))}function cn(l,p,x,C){var I=rc(x,C,0,l.length-1);return Lt(l,I,wc(p,0,l[I].length-1))}function Ar(l,p,x,C){return Lt(l,p,wc(x+C,0,l[p].length-1))}function Vn(l,p,x,C){var I=wc(x+C,0,l.length-1);return Lt(l,I,wc(p,0,l[I].length-1))}function Pr(l,p,x){p.previousSelector(l).orThunk(function(){return fa(l.element,p.selectors.cell)}).each(function(C){p.focusManager.set(l,C)})}function Yr(l,p){return function(x,C,I){var P=I.cycles?l:p;return Sf(C,I.selectors.row).bind(function(V){return Ie(el(V,I.selectors.cell),C).bind(function(j){var Y=el(x,I.selectors.row);return Ie(Y,V).bind(function(ae){var fe,me=(fe=I,Ht(Y,function(Ce){return el(Ce,fe.selectors.cell)}));return P(me,ae,j).map(function(Ce){return Ce.cell})})})})}}function Kr(l,p,x){return x.focusManager.get(l).bind(function(C){return x.execute(l,p,C)})}function xo(l,p,x){fa(l.element,p.selector).each(function(C){p.focusManager.set(l,C)})}function Go(l,p,x){return Nt(l,x.selector,p,-1)}function vo(l,p,x){return Nt(l,x.selector,p,1)}function Yo(l,p,x,C){var I=l.getSystem().build(C);d0(l,I,x)}function bi(l,p,x,C){Uo(xx(l),function(I){return Mn(C.element,I.element)}).each(bm)}function Ji(l,p,x,C,I){var P=xx(l);return J.from(P[C]).map(function(V){return bi(l,0,0,V),I.each(function(j){Yo(l,0,function(Y,ae){var fe,me=ae;oo(fe=Y,C).fold(function(){ka(fe,me)},function(Ce){mo(Ce,me)})},j)}),V})}function sr(l,p){var x,C;return{key:l,value:{config:{},me:(x=l,C=Ei(p),ji({fields:[Dn("enabled")],name:x,active:{events:U(C)}})),configAsRaw:U({}),initialConfig:{},state:bl}}}function Fi(l,p){p.ignore||(ed(l.element),p.onFocus(l))}function Jo(l,p,x){var C=p.aria;C.update(l,C,x.get())}function xi(l,p,x){p.toggleClass.each(function(C){(x.get()?Qn:ri)(l.element,C)})}function as(l,p,x){g0(l,p,x,!x.get())}function Ac(l,p,x){x.set(!0),xi(l,p,x),Jo(l,p,x)}function ss(l,p,x){x.set(!1),xi(l,p,x),Jo(l,p,x)}function Wa(l,p,x){g0(l,p,x,p.selected)}function cd(){function l(p,x){x.stop(),Dd(p)}return[xn(vl(),l),xn(Ld(),l),Id(mu()),Id(Jl())]}function Vm(l){return Ei(Bn([l.map(function(p){return Nd(function(x,C){p(x),C.stop()})}).toArray(),cd()]))}function wg(l){(td(l.element).isNone()||co.isFocused(l))&&(co.isFocused(l)||co.focus(l),Gr(l,XS,{item:l}))}function Ef(l){Gr(l,ZS,{item:l})}function Ic(l,p){return l.x+l.width/2-p.width/2}function Th(l,p){return l.x+l.width-p.width}function Hm(l,p){return l.y+l.height-p.height}function ol(l,p){return l.y+l.height/2-p.height/2}function Jd(l,p,x){return Ts(Th(l,p),Hm(l,p),x.insetSouthwest(),_b(),"southwest",ha(l,{right:0,bottom:3}),b0)}function Za(l,p,x){return Ts(l.x,Hm(l,p),x.insetSoutheast(),Nv(),"southeast",ha(l,{left:1,bottom:3}),b0)}function ef(l,p,x){return Ts(Th(l,p),l.y,x.insetNorthwest(),oi(),"northwest",ha(l,{right:0,top:2}),b0)}function fd(l,p,x){return Ts(l.x,l.y,x.insetNortheast(),Zy(),"northeast",ha(l,{left:1,top:2}),b0)}function mx(l,p,x){return Ts(Th(l,p),ol(l,p),x.insetEast(),$y(),"east",ha(l,{right:0}),b0)}function Z_(l,p,x){return Ts(l.x,ol(l,p),x.insetWest(),up(),"west",ha(l,{left:1}),b0)}function Pk(l){switch(l){case"north":return Cp;case"northeast":return fd;case"northwest":return ef;case"south":return x0;case"southeast":return Za;case"southwest":return Jd;case"east":return mx;case"west":return Z_}}function Rk(l,p,x,C,I){return eg(C).map(Pk).getOr(Cp)(l,p,x,C,I)}function UD(l){switch(l){case"north":return x0;case"northeast":return Za;case"northwest":return Jd;case"south":return Cp;case"southeast":return fd;case"southwest":return ef;case"east":return Z_;case"west":return mx}}function Lk(l,p,x,C,I){return eg(C).map(UD).getOr(Cp)(l,p,x,C,I)}function di(l){var p=void 0!==l.uid&&bo(l,"uid")?l.uid:ip("memento");return{get:function(x){return x.getSystem().getByUid(p).getOrDie()},getOpt:function(x){return x.getSystem().getByUid(p).toOptional()},asSpec:function(){return ve(ve({},l),{uid:p})}}}function K_(l){return function(){return vn(l,aw).getOr("!not found!")}}function Bb(l,p){var x,C=l.toLowerCase();if(Ah.isRtl()){var I=lt(x=C,"-rtl")?x:x+"-rtl";return Sr(p,I)?I:C}return C}function $_(l,p){return vn(p,Bb(l,p))}function J_(l,p){var x=p();return $_(l,x).getOrThunk(K_(x))}function Nk(){return sr("add-focusable",[ca(function(l){var C;C=function(I){return vr(I,"svg")},Uo(l.element.dom.childNodes,function(I){return C(bt.fromDom(I))}).map(bt.fromDom).each(function(I){return Ur(I,"focusable","false")})})])}function p0(l,p,x,C){var I,P,V,j=(V=p,Ah.isRtl()&&Sr(iw,V)?["tox-icon--flip"]:[]),Y=vn(x,Bb(p,x)).or(C).getOrThunk(K_(x));return{dom:{tag:l.tag,attributes:null!==(I=l.attributes)&&void 0!==I?I:{},classes:l.classes.concat(j),innerHtml:Y},behaviours:$n(Ve(Ve([],null!==(P=l.behaviours)&&void 0!==P?P:[],!0),[Nk()],!1))}}function tf(l,p,x,C){return void 0===C&&(C=J.none()),p0(p,l,x(),C)}function g0(l,p,x,C){(C?Ac:ss)(l,p,x)}function Bk(l,p,x){Ur(l.element,"aria-expanded",x)}function zS(l){return"prepared"===l.type?J.some(l.menu):J.none()}(Da=Jv=Jv||{}).OnFocusMode="onFocus",Da.OnEnterOrSpaceMode="onEnterOrSpace",Da.OnApiMode="onApi";var FS=au(Bu("cyclic",Ke)),zk=au(Bu("cyclic",pt)),sy=rl([Bt("execute",Fm),Bt("useSpace",!1),Bt("useEnter",!0),Bt("useControlEnter",!1),Bt("useDown",!1)],bl.init,function(l,p,x,C){var I=x.useSpace&&!id(l.element)?iu:[],V=x.useDown?Dc:[];return[ko(Eo(I.concat(x.useEnter?wu:[]).concat(V)),xg)].concat(x.useControlEnter?[ko(_u([ux,Eo(wu)]),xg)]:[])},function(l,p,x,C){return x.useSpace&&!id(l.element)?[ko(Eo(iu),Sp)]:[]},function(){return J.none()}),Q_=Object.freeze({__proto__:null,flatgrid:_g,init:function(l){return l.state(l)}}),ew=function(l,p,x,C,I){return C.focusManager.get(p).bind(function(P){return l(p.element,P,C,I)}).map(function(P){return C.focusManager.set(p,P),!0})},vx=Q,VS=Q,yx=Q,tw=St(function(l,p,x,C){return $e(l,p,x,C,-1)}),HS=St(function(l,p,x,C){return $e(l,p,x,C,1)}),DT=St(function(l,p,x,C){return ot(l,p,x,C,-1)}),WS=St(function(l,p,x,C){return ot(l,p,x,C,1)}),Fk=rl([Dn("selector"),Bt("execute",Fm),Fs("onEscape"),Bt("captureTab",!1),Ud()],_g,U([ko(Eo(yg),R(tw,HS)),ko(Eo(zm),H(tw,HS)),ko(Eo(bg),vx(DT)),ko(Eo(Dc),VS(WS)),ko(_u([Mh,Eo(Of)]),wt),ko(_u([wp,Eo(Of)]),wt),ko(Eo(Bm),function(l,p,x){return x.onEscape(l,p)}),ko(Eo(iu.concat(wu)),function(l,p,x,C){return(I=x).focusManager.get(l).bind(function(P){return Sf(P,I.selector)}).bind(function(P){return x.execute(l,p,P)});var I})]),U([ko(Eo(iu),Sp)]),function(){return J.some(xt)}),jD=[Dn("selector"),Bt("getInitial",J.none),Bt("execute",Fm),Fs("onEscape"),Bt("executeOnMove",!1),Bt("allowVertical",!0)],Vk=U([ko(Eo(iu),Sp)]),nw=rl(jD,bl.init,function(l,p,x,C){var I=yg.concat(x.allowVertical?bg:[]),P=zm.concat(x.allowVertical?Dc:[]);return[ko(Eo(I),Yt(R(an,kt))),ko(Eo(P),Yt(H(an,kt))),ko(Eo(wu),Tt),ko(Eo(iu),Tt),ko(Eo(Bm),Pn)]},Vk,function(){return J.some($t)}),AT=[Wf("selectors",[Dn("row"),Dn("cell")]),Bt("cycles",!0),Bt("previousSelector",J.none),Bt("execute",Fm)],GS=Yr(function(l,p,x){return Ln(l,p,x,-1)},function(l,p,x){return Ar(l,p,x,-1)}),US=Yr(function(l,p,x){return Ln(l,p,x,1)},function(l,p,x){return Ar(l,p,x,1)}),bx=Yr(function(l,p,x){return cn(l,x,p,-1)},function(l,p,x){return Vn(l,x,p,-1)}),IT=Yr(function(l,p,x){return cn(l,x,p,1)},function(l,p,x){return Vn(l,x,p,1)}),jS=U([ko(Eo(yg),R(GS,US)),ko(Eo(zm),H(GS,US)),ko(Eo(bg),vx(bx)),ko(Eo(Dc),VS(IT)),ko(Eo(iu.concat(wu)),function(l,p,x){return td(l.element).bind(function(C){return x.execute(l,p,C)})})]),OT=U([ko(Eo(iu),Sp)]),m0=rl(AT,bl.init,jS,OT,function(){return J.some(Pr)}),Hk=[Dn("selector"),Bt("execute",Fm),Bt("moveOnTab",!1)],ET=U([ko(Eo(bg),yx(Go)),ko(Eo(Dc),yx(vo)),ko(_u([Mh,Eo(Of)]),function(l,p,x,C){return x.moveOnTab?yx(Go)(l,p,x,C):J.none()}),ko(_u([wp,Eo(Of)]),function(l,p,x,C){return x.moveOnTab?yx(vo)(l,p,x,C):J.none()}),ko(Eo(wu),Kr),ko(Eo(iu),Kr)]),v0=U([ko(Eo(iu),Sp)]),Wk=rl(Hk,bl.init,ET,v0,function(){return J.some(xo)}),Gk=rl([Fs("onSpace"),Fs("onEnter"),Fs("onShiftEnter"),Fs("onLeft"),Fs("onRight"),Fs("onTab"),Fs("onShiftTab"),Fs("onUp"),Fs("onDown"),Fs("onEscape"),Bt("stopSpaceKeyup",!1),vi("focusIn")],bl.init,function(l,p,x){return[ko(Eo(iu),x.onSpace),ko(_u([wp,Eo(wu)]),x.onEnter),ko(_u([Mh,Eo(wu)]),x.onShiftEnter),ko(_u([Mh,Eo(Of)]),x.onShiftTab),ko(_u([wp,Eo(Of)]),x.onTab),ko(Eo(bg),x.onUp),ko(Eo(Dc),x.onDown),ko(Eo(yg),x.onLeft),ko(Eo(zm),x.onRight),ko(Eo(iu),x.onSpace),ko(Eo(Bm),x.onEscape)]},function(l,p,x){return x.stopSpaceKeyup?[ko(Eo(iu),Sp)]:[]},function(l){return l.focusIn}),PT=FS.schema(),qD=zk.schema(),qS=nw.schema(),Uk=Fk.schema(),YD=m0.schema(),RT=sy.schema(),jk=Wk.schema(),LT=Gk.schema(),Zr=Lv({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:PT,cyclic:qD,flow:qS,flatgrid:Uk,matrix:YD,execution:RT,menu:jk,special:LT}),name:"keying",active:{events:function(l,p){return l.handler.toEvents(l,p)}},apis:{focusIn:function(l,p,x){p.sendFocusIn(p).fold(function(){l.getSystem().triggerFocus(l.element,l.element)},function(C){C(l,p,x)})},setGridSize:function(l,p,x,C,I){bo(x,"setGridSize")?x.setGridSize(C,I):console.error("Layout does not support setGridSize")}},state:Q_}),xx=function(l,p){return l.components()},yo=ji({fields:[],name:"replacing",apis:Object.freeze({__proto__:null,append:function(l,p,x,C){Yo(l,0,ka,C)},prepend:function(l,p,x,C){Yo(l,0,sh,C)},remove:bi,replaceAt:Ji,replaceBy:function(l,p,x,C,I){return Zn(xx(l),C).bind(function(P){return Ji(l,0,0,P,I)})},set:function(l,p,x,C){$p(function(){var I=Ht(C,l.getSystem().build);ix(l,I)},l.element)},contents:xx})}),qk=Object.freeze({__proto__:null,focus:Fi,blur:function(l,p){p.ignore||l.element.dom.blur()},isFocused:function(l){return xh(l.element)}}),YS=Object.freeze({__proto__:null,exhibit:function(l,p){return Yf(p.ignore?{}:{attributes:{tabindex:"-1"}})},events:function(l){return Ei([xn(yl(),function(p,x){Fi(p,l),x.stop()})].concat(l.stopMousedown?[xn(Jl(),function(p,x){x.event.prevent()})]:[]))}}),co=ji({fields:[Ho("onFocus"),Bt("stopMousedown",!1),Bt("ignore",!1)],name:"focusing",active:YS,apis:qk}),_x=Object.freeze({__proto__:null,onLoad:Wa,toggle:as,isOn:function(l,p,x){return x.get()},on:Ac,off:ss,set:g0}),Yk=Object.freeze({__proto__:null,exhibit:function(){return Yf({})},events:function(l,p){var x,C,I,P=(x=l,C=p,I=as,Nd(function(j){I(j,x,C)})),V=Ol(l,p,Wa);return Ei(Bn([l.toggleOnExecute?[P]:[],[V]]))}}),ci=ji({fields:[Bt("selected",!1),vi("toggleClass"),Bt("toggleOnExecute",!0),vf("aria",{mode:"none"},Na("mode",{pressed:[Bt("syncWithExpanded",!1),Ii("update",function(l,p,x){Ur(l.element,"aria-pressed",x),p.syncWithExpanded&&Bk(l,0,x)})],checked:[Ii("update",function(l,p,x){Ur(l.element,"aria-checked",x)})],expanded:[Ii("update",Bk)],selected:[Ii("update",function(l,p,x){Ur(l.element,"aria-selected",x)})],none:[Ii("update",K)]}))],name:"toggling",active:Yk,apis:_x,state:{init:function(){var l=Nr(!1);return{get:function(){return l.get()},set:function(p){return l.set(p)},clear:function(){return l.set(!1)},readState:function(){return l.get()}}}}}),XS="alloy.item-hover",ZS="alloy.item-focus",Xk=U(XS),rw=U(ZS),NT=[Dn("data"),Dn("components"),Dn("dom"),Bt("hasSubmenu",!1),vi("toggling"),yp("itemBehaviours",[ci,co,Zr,lr]),Bt("ignoreFocus",!1),Bt("domModification",{}),Ii("builder",function(l){return{dom:l.dom,domModification:ve(ve({},l.domModification),{attributes:ve(ve(ve({role:l.toggling.isSome()?"menuitemcheckbox":"menuitem"},l.domModification.attributes),{"aria-haspopup":l.hasSubmenu}),l.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:Qc(l.itemBehaviours,[l.toggling.fold(ci.revoke,function(p){return ci.config(ve({aria:{mode:"checked"}},p))}),co.config({ignore:l.ignoreFocus,stopMousedown:l.ignoreFocus,onFocus:function(p){Ef(p)}}),Zr.config({mode:"execution"}),lr.config({store:{mode:"memory",initialValue:l.data}}),sr("item-type-events",Ve(Ve([],cd(),!0),[xn(fi(),wg),xn(wf(),co.focus)],!1))]),components:l.components,eventOrder:l.eventOrder}}),Bt("eventOrder",{})],KS=[Dn("dom"),Dn("components"),Ii("builder",function(l){return{dom:l.dom,components:l.components,events:Ei([xn(wf(),function(p,x){x.stop()})])}})],ow=U("item-widget"),Sx=U([Is({name:"widget",overrides:function(l){return{behaviours:$n([lr.config({store:{mode:"manual",getValue:function(p){return l.data},setValue:K}})])}}})]),Cx=Na("type",{widget:[Dn("uid"),Dn("data"),Dn("components"),Dn("dom"),Bt("autofocus",!1),Bt("ignoreFocus",!1),yp("widgetBehaviours",[lr,co,Zr]),Bt("domModification",{}),Df(Sx()),Ii("builder",function(l){function p(P){return jo(P,l,"widget").map(function(V){return Zr.focusIn(V),V})}function x(P,V){return id(V.event.target)||l.autofocus&&V.setSource(P.element),J.none()}var C=ax(ow(),l,Sx()),I=ac(ow(),l,C.internals());return{dom:l.dom,components:I,domModification:l.domModification,events:Ei([Nd(function(P,V){p(P).each(function(j){V.stop()})}),xn(fi(),wg),xn(wf(),function(P,V){l.autofocus?p(P):co.focus(P)})]),behaviours:Qc(l.widgetBehaviours,[lr.config({store:{mode:"memory",initialValue:l.data}}),co.config({ignore:l.ignoreFocus,onFocus:function(P){Ef(P)}}),Zr.config({mode:"special",focusIn:l.autofocus?function(P){p(P)}:Jy(),onLeft:x,onRight:x,onEscape:function(P,V){return co.isFocused(P)||l.autofocus?(l.autofocus&&V.setSource(P.element),J.none()):(co.focus(P),J.some(!0))}})])}})],item:NT,separator:KS}),BT=U([ry({factory:{sketch:function(l){var p=pu("menu.spec item",Cx,l);return p.builder(p)}},name:"items",unit:"item",defaults:function(l,p){return Sr(p,"uid")?p:ve(ve({},p),{uid:ip("item")})},overrides:function(l,p){return{type:p.type,ignoreFocus:l.fakeFocus,domModification:{classes:[l.markers.item]}}}})]),zT=U([Dn("value"),Dn("items"),Dn("dom"),Dn("components"),Bt("eventOrder",{}),Xa("menuBehaviours",[$o,lr,Wo,Zr]),vf("movement",{mode:"menu",moveOnTab:!0},Na("mode",{grid:[Ud(),Ii("config",function(l,p){return{mode:"flatgrid",selector:"."+l.markers.item,initSize:{numColumns:p.initSize.numColumns,numRows:p.initSize.numRows},focusManager:l.focusManager}})],matrix:[Ii("config",function(l,p){return{mode:"matrix",selectors:{row:p.rowSelector,cell:"."+l.markers.item},focusManager:l.focusManager}}),Dn("rowSelector")],menu:[Bt("moveOnTab",!0),Ii("config",function(l,p){return{mode:"menu",selector:"."+l.markers.item,moveOnTab:p.moveOnTab,focusManager:l.focusManager}})]})),Xl("markers",z_()),Bt("fakeFocus",!1),Bt("focusManager",Kv()),Ho("onHighlight")]),y0=U("alloy.menu-focus"),Dh=tl({name:"Menu",configFields:zT(),partFields:BT(),factory:function(l,p,x,C){return{uid:l.uid,dom:l.dom,markers:l.markers,behaviours:vs(l.menuBehaviours,[$o.config({highlightClass:l.markers.selectedItem,itemClass:l.markers.item,onHighlight:l.onHighlight}),lr.config({store:{mode:"memory",initialValue:l.value}}),Wo.config({find:J.some}),Zr.config(l.movement.config(l,l.movement))]),events:Ei([xn(rw(),function(I,P){var V=P.event;I.getSystem().getByDom(V.target).each(function(j){$o.highlight(I,j),P.stop(),Gr(I,y0(),{menu:I,item:j})})}),xn(Xk(),function(I,P){$o.highlight(I,P.event.item)})]),components:p,eventOrder:l.eventOrder,domModification:{attributes:{role:"menu"}}}}}),Zk=function(l,p,x,C){return vn(x,C).bind(function(I){return vn(l,I).bind(function(P){var V=Zk(l,p,x,P);return J.some([P].concat(V))})}).getOr([])},Wm=zS,uy=U("collapse-item"),Gm=Bl({name:"TieredMenu",configFields:[Ui("onExecute"),Ui("onEscape"),jc("onOpenMenu"),jc("onOpenSubmenu"),Ho("onRepositionMenu"),Ho("onCollapseMenu"),Bt("highlightImmediately",!0),Wf("data",[Dn("primary"),Dn("menus"),Dn("expansions")]),Bt("fakeFocus",!1),Ho("onHighlight"),Ho("onHover"),Ju(),Dn("dom"),Bt("navigateOnHover",!0),Bt("stayInDom",!1),Xa("tmenuBehaviours",[Zr,$o,Wo,yo]),Bt("eventOrder",{})],apis:{collapseMenu:function(l,p){l.collapseMenu(p)},highlightPrimary:function(l,p){l.highlightPrimary(p)},repositionMenus:function(l,p){l.repositionMenus(p)}},factory:function(l,p){function C(Ee){return lr.getValue(Ee).value}function I(Ee,Ze){$o.highlight(Ee,Ze),$o.getHighlighted(Ze).orThunk(function(){return $o.getFirst(Ze)}).each(function(ft){gu(Ee,ft.element,wf())})}function P(Ee,Ze){return go(Ht(Ze,function(ft){return Ee.lookupMenu(ft).bind(function(Ct){return"prepared"===Ct.type?J.some(Ct.menu):J.none()})}))}function V(Ee,Ze,ft){var Ct=P(Ze,Ze.otherMenus(ft));zr(Ct,function(Jt){xf(Jt.element,[l.markers.backgroundMenu]),l.stayInDom||yo.remove(Ee,Jt)})}function j(Ee,Ze){var ft;Qt((ft=Ee,me.get().getOrThunk(function(){var Ct={},Jt=It(el(ft.element,"."+l.markers.item),function(Ft){return"true"===fs(Ft,"aria-haspopup")});return zr(Jt,function(Ft){ft.getSystem().getByDom(Ft).each(function(nn){var Cn=C(nn);Ct[Cn]=nn})}),me.set(Ct),Ct})),function(Ct,Jt){var Ft=Io(Ze,Jt);Ur(Ct.element,"aria-expanded",Ft)})}function Y(Ee,Ze,ft){return J.from(ft[0]).bind(function(Ct){return Ze.lookupMenu(Ct).bind(function(Jt){if("notbuilt"===Jt.type)return J.none();var Ft=Jt.menu,nn=P(Ze,ft.slice(1));return zr(nn,function(Cn){Qn(Cn.element,l.markers.backgroundMenu)}),du(Ft.element)||yo.append(Ee,tc(Ft)),xf(Ft.element,[l.markers.backgroundMenu]),I(Ee,Ft),V(Ee,Ze,ft),J.some(Ft)})})}var ae,fe,me=Ha(),Ce=function(){function l(Y){return j(Y).bind(zS)}function p(Y){return vn(x.get(),Y)}var x=Nr({}),C=Nr({}),I=Nr({}),P=Ha(),V=Nr({}),j=function(Y){return vn(C.get(),Y)};return{setMenuBuilt:function(Y,ae){var fe;C.set(ve(ve({},C.get()),((fe={})[Y]={type:"prepared",menu:ae},fe)))},setContents:function(Y,ae,fe,me){P.set(Y),x.set(fe),C.set(ae),V.set(me);var Ce=function(Oe,Ge){var ze={};Qt(Oe,function(Ee,Ze){zr(Ee,function(ft){ze[ft]=Ze})});var Ue=Ge,qe=Iu(Ge,function(Ee,Ze){return{k:Ee,v:Ze}}),Je=jn(qe,function(Ee,Ze){return[Ze].concat(Zk(ze,Ue,qe,Ze))});return jn(ze,function(Ee){return vn(Je,Ee).getOr([Ee])})}(me,fe);I.set(Ce)},expand:function(Y){return vn(x.get(),Y).map(function(ae){var fe=vn(I.get(),Y).getOr([]);return[ae].concat(fe)})},refresh:function(Y){return vn(I.get(),Y)},collapse:function(Y){return vn(I.get(),Y).bind(function(ae){return 1<ae.length?J.some(ae.slice(1)):J.none()})},lookupMenu:j,lookupItem:p,otherMenus:function(Y){var ae=V.get();return Un(Ni(ae),Y)},getPrimary:function(){return P.get().bind(l)},getMenus:function(){return C.get()},clear:function(){x.set({}),C.set({}),I.set({}),P.clear()},isClear:function(){return P.get().isNone()},getTriggeringPath:function(Y,ae){var fe=It(p(Y).toArray(),function(me){return l(me).isSome()});return vn(I.get(),Y).bind(function(me){var Ce=hn(fe.concat(me));return function(Oe){for(var Ge=[],ze=0;ze<Oe.length;ze++){var Ue=Oe[ze];if(!Ue.isSome())return J.none();Ge.push(Ue.getOrDie())}return J.some(Ge)}(cr(Ce,function(Oe,Ge){return ze=Oe,Ue=ae,qe=Ce.slice(0,Ge+1),l(ze).bind(function(Je){return Ee=ze,ar(x.get(),function(Ze,ft){return Ze===Ee}).bind(function(Ze){return Ue(Ze).map(function(ft){return{triggeredMenu:Je,triggeringItem:ft,triggeringPath:qe}})});var Ee}).fold(function(){return wr(P.get(),Oe)?[]:[J.none()]},function(Je){return[J.some(Je)]});var ze,Ue,qe}))})}}}();function Oe(Ee,Ze,ft){if(void 0===ft&&(ft=ae.HighlightSubmenu),Ze.hasConfigured(Vr)&&Vr.isDisabled(Ze))return J.some(Ze);var Ct=C(Ze);return Ce.expand(Ct).bind(function(Jt){return j(Ee,Jt),J.from(Jt[0]).bind(function(Ft){return Ce.lookupMenu(Ft).bind(function(nn){var Cn=function(fn,In,Gn){if("notbuilt"!==Gn.type)return Gn.menu;var yr=fn.getSystem().build(Gn.nbMenu());return Ce.setMenuBuilt(In,yr),yr}(Ee,Ft,nn);return du(Cn.element)||yo.append(Ee,tc(Cn)),l.onOpenSubmenu(Ee,Ze,Cn,hn(Jt)),ft===ae.HighlightSubmenu?($o.highlightFirst(Cn),Y(Ee,Ce,Jt)):($o.dehighlightAll(Cn),J.some(Ze))})})})}function Ge(Ee,Ze){var ft=C(Ze);return Ce.collapse(ft).bind(function(Ct){return j(Ee,Ct),Y(Ee,Ce,Ct).map(function(Jt){return l.onCollapseMenu(Ee,Ze,Jt),Jt})})}function ze(Ee){return function(Ze,ft){return Sf(ft.getSource(),"."+l.markers.item).bind(function(Ct){return Ze.getSystem().getByDom(Ct).toOptional().bind(function(Jt){return Ee(Ze,Jt).map(pt)})})}}function Ue(Ee){return $o.getHighlighted(Ee).bind($o.getHighlighted)}(fe=ae={})[fe.HighlightSubmenu=0]="HighlightSubmenu",fe[fe.HighlightParent=1]="HighlightParent";var qe=Ei([xn(y0(),function(Ee,Ze){Ce.lookupItem(C(Ze.event.item)).each(function(){$o.highlight(Ee,Ze.event.menu);var Jt=C(Ze.event.item);Ce.refresh(Jt).each(function(Ft){return V(Ee,Ce,Ft)})})}),Nd(function(Ee,Ze){var ft=Ze.event.target;Ee.getSystem().getByDom(ft).each(function(Ct){0===C(Ct).indexOf("collapse-item")&&Ge(Ee,Ct),Oe(Ee,Ct,ae.HighlightSubmenu).fold(function(){l.onExecute(Ee,Ct)},K)})}),ca(function(Ee,Ze){(function x(Ee){var Ze,ft,Ct=(Ze=Ee,ft=l.data.primary,jn(l.data.menus,function(Ft,nn){function Cn(){return Dh.sketch(ve(ve({},Ft),{value:nn,markers:l.markers,fakeFocus:l.fakeFocus,onHighlight:l.onHighlight,focusManager:(l.fakeFocus?If:Kv)()}))}return nn===ft?{type:"prepared",menu:Ze.getSystem().build(Cn())}:{type:"notbuilt",nbMenu:Cn}})),Jt=jn(l.data.menus,function(Ft,nn){return cr(Ft.items,function(Cn){return"separator"===Cn.type?[]:[Cn.data.value]})});return Ce.setContents(l.data.primary,Ct,l.data.expansions,Jt),Ce.getPrimary()})(Ee).each(function(ft){yo.append(Ee,tc(ft)),l.onOpenMenu(Ee,ft),l.highlightImmediately&&I(Ee,ft)})})].concat(l.navigateOnHover?[xn(Xk(),function(Ee,Ze){var ft=Ze.event.item,Ct=Ee,Jt=C(ft);Ce.refresh(Jt).bind(function(Ft){return j(Ct,Ft),Y(Ct,Ce,Ft)}),Oe(Ee,ft,ae.HighlightParent),l.onHover(Ee,ft)})]:[])),Je={collapseMenu:function(Ee){Ue(Ee).each(function(Ze){Ge(Ee,Ze)})},highlightPrimary:function(Ee){Ce.getPrimary().each(function(Ze){I(Ee,Ze)})},repositionMenus:function(Ee){Ce.getPrimary().bind(function(Ze){return Ue(Ee).bind(function(ft){var Ct=C(ft),Jt=go(Ht(_n(Ce.getMenus()),Wm));return Ce.getTriggeringPath(Ct,function(Ft){return nn=Ft,bn(Jt,function(Cn){return Cn.getSystem().isConnected()?Uo($o.getCandidates(Cn),function(fn){return C(fn)===nn}):J.none()});var nn})}).map(function(ft){return{primary:Ze,triggeringPath:ft}})}).fold(function(){J.from(Ee.components()[0]).filter(function(Ze){return"menu"===fs(Ze.element,"role")}).each(function(Ze){l.onRepositionMenu(Ee,Ze,[])})},function(Ze){l.onRepositionMenu(Ee,Ze.primary,Ze.triggeringPath)})}};return{uid:l.uid,dom:l.dom,markers:l.markers,behaviours:vs(l.tmenuBehaviours,[Zr.config({mode:"special",onRight:ze(function(Ee,Ze){return id(Ze.element)?J.none():Oe(Ee,Ze,ae.HighlightSubmenu)}),onLeft:ze(function(Ee,Ze){return id(Ze.element)?J.none():Ge(Ee,Ze)}),onEscape:ze(function(Ee,Ze){return Ge(Ee,Ze).orThunk(function(){return l.onEscape(Ee,Ze).map(function(){return Ee})})}),focusIn:function(Ee,Ze){Ce.getPrimary().each(function(ft){gu(Ee,ft.element,wf())})}}),$o.config({highlightClass:l.markers.selectedMenu,itemClass:l.markers.menu}),Wo.config({find:function(Ee){return $o.getHighlighted(Ee)}}),yo.config({})]),eventOrder:l.eventOrder,apis:Je,events:qe}},extraApis:{tieredData:function(l,p,x){return{primary:l,menus:p,expansions:x}},singleData:function(l,p){return{primary:l,menus:yf(l,p),expansions:{}}},collapseItem:function(l){return{value:Rr(uy()),meta:{text:l}}}}}),Ka=Bl({name:"InlineView",configFields:[Dn("lazySink"),Ho("onShow"),Ho("onHide"),vc("onEscape"),Xa("inlineBehaviours",[qo,lr,Va]),Wi("fireDismissalEventInstead",[Bt("event",rp())]),Wi("fireRepositionEventInstead",[Bt("event",Yy())]),Bt("getRelated",J.none),Bt("isExtraPart",Ke),Bt("eventOrder",J.none)],factory:function(l,p){function x(j){qo.isOpen(j)&&lr.getValue(j).each(function(Y){switch(Y.mode){case"menu":qo.getState(j).each(Gm.repositionMenus);break;case"position":var ae=l.lazySink(j).getOrDie();nl.positionWithinBounds(ae,j,Y.config,Y.getBounds())}})}function C(j,Y,ae,fe){P(j,Y,ae,function(){return fe.map(function(me){return Yl(me)})})}function I(j,Y,ae,fe){var me,Ce,Oe,Ge,ze,Ue=(me=l,Ce=j,Oe=Y,Ge=fe,ze="horizontal"===ae.type?{layouts:{onLtr:Qu,onRtl:_c}}:{},Gm.sketch({dom:{tag:"div"},data:ae.data,markers:ae.menu.markers,highlightImmediately:ae.menu.highlightImmediately,onEscape:function(){return qo.close(Ce),me.onEscape.map(function(Ee){return Ee(Ce)}),J.some(!0)},onExecute:function(){return J.some(!0)},onOpenMenu:function(Ee,Ze){nl.positionWithinBounds(qe().getOrDie(),Ze,Oe,Ge())},onOpenSubmenu:function(Ee,Ze,ft,Ct){var Jt=qe().getOrDie();nl.position(Jt,ft,{anchor:ve({type:"submenu",item:Ze},Je(Ct))})},onRepositionMenu:function(Ee,Ze,ft){var Ct=qe().getOrDie();nl.positionWithinBounds(Ct,Ze,Oe,Ge()),zr(ft,function(Jt){var Ft=Je(Jt.triggeringPath);nl.position(Ct,Jt.triggeredMenu,{anchor:ve({type:"submenu",item:Jt.triggeringItem},Ft)})})}}));function qe(){return me.lazySink(Ce)}function Je(Ee){return 2===Ee.length?ze:{}}qo.open(j,Ue),lr.setValue(j,J.some({mode:"menu",menu:Ue}))}var P=function(j,Y,ae,fe){var me=l.lazySink(j).getOrDie();qo.openWhileCloaked(j,Y,function(){return nl.positionWithinBounds(me,j,ae,fe())}),lr.setValue(j,J.some({mode:"position",config:ae,getBounds:fe}))},V={setContent:function(j,Y){qo.setContent(j,Y)},showAt:function(j,Y,ae){C(j,Y,ae,J.none())},showWithin:C,showWithinBounds:P,showMenuAt:function(j,Y,ae){I(j,Y,ae,J.none)},showMenuWithinBounds:I,hide:function(j){qo.isOpen(j)&&(lr.setValue(j,J.none()),qo.close(j))},getContent:function(j){return qo.getState(j)},reposition:x,isOpen:qo.isOpen};return{uid:l.uid,dom:l.dom,behaviours:vs(l.inlineBehaviours,[qo.config({isPartOf:function(j,Y,ae){return nc(Y,ae)||(fe=ae,l.getRelated(j).exists(function(me){return nc(me,fe)}));var fe},getAttachPoint:function(j){return l.lazySink(j).getOrDie()},onOpen:function(j){l.onShow(j)},onClose:function(j){l.onHide(j)}}),lr.config({store:{mode:"memory",initialValue:J.none()}}),Va.config({channels:ve(ve({},Ob(ve({isExtraPart:p.isExtraPart},l.fireDismissalEventInstead.map(function(j){return{fireEventInstead:{event:j.event}}}).getOr({})))),Ws(ve(ve({},l.fireRepositionEventInstead.map(function(j){return{fireEventInstead:{event:j.event}}}).getOr({})),{doReposition:x})))})]),eventOrder:l.eventOrder,apis:V}},apis:{showAt:function(l,p,x,C){l.showAt(p,x,C)},showWithin:function(l,p,x,C,I){l.showWithin(p,x,C,I)},showWithinBounds:function(l,p,x,C,I){l.showWithinBounds(p,x,C,I)},showMenuAt:function(l,p,x,C){l.showMenuAt(p,x,C)},showMenuWithinBounds:function(l,p,x,C,I){l.showMenuWithinBounds(p,x,C,I)},hide:function(l,p){l.hide(p)},isOpen:function(l,p){return l.isOpen(p)},getContent:function(l,p){return l.getContent(p)},setContent:function(l,p,x){l.setContent(p,x)},reposition:function(l,p){l.reposition(p)}}}),b0="layout-inset",Cp=function(l,p,x){return Ts(Ic(l,p),l.y,x.insetNorth(),li(),"north",ha(l,{top:2}),b0)},x0=function(l,p,x){return Ts(Ic(l,p),Hm(l,p),x.insetSouth(),Ky(),"south",ha(l,{bottom:3}),b0)},ly=tinymce.util.Tools.resolve("tinymce.util.Delay"),il=Bl({name:"Button",factory:function(l){function p(I){return vn(l.dom,"attributes").bind(function(P){return vn(P,I)})}var x=Vm(l.action),C=l.dom.tag;return{uid:l.uid,dom:l.dom,components:l.components,events:x,behaviours:Qc(l.buttonBehaviours,[co.config({}),Zr.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:function(){if("button"!==C)return{role:p("role").getOr("button")};var I=p("type").getOr("button"),P=p("role").map(function(V){return{role:V}}).getOr({});return ve({type:I},P)}()},eventOrder:l.eventOrder}},configFields:[Bt("uid",void 0),Dn("dom"),Bt("components",[]),yp("buttonBehaviours",[co,Zr]),vi("action"),vi("role"),Bt("eventOrder",{})]}),Ah=tinymce.util.Tools.resolve("tinymce.util.I18n"),iw={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},aw="temporary-placeholder",Sg={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},_0=Bl({name:"Notification",factory:function(l){function p(Oe){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+Oe+"%"}}}}function x(Oe){return{dom:{tag:"div",classes:["tox-text"],innerHtml:Oe+"%"}}}var C,I,P,V,j=di({dom:{tag:"p",innerHtml:l.translationProvider(l.text)},behaviours:$n([yo.config({})])}),Y=di({dom:{tag:"div",classes:l.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[p(0)]},x(0)],behaviours:$n([yo.config({})])}),ae={updateProgress:function(Oe,Ge){Oe.getSystem().isConnected()&&Y.getOpt(Oe).each(function(ze){yo.set(ze,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[p(Ge)]},x(Ge)])})},updateText:function(Oe,Ge){var ze;Oe.getSystem().isConnected()&&(ze=j.get(Oe),yo.set(ze,[Od(Ge)]))}},fe=Bn([l.icon.toArray(),l.level.toArray(),l.level.bind(function(Oe){return J.from(Sg[Oe])}).toArray()]),me=di(il.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[tf("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":l.translationProvider("Close")}},l.iconProvider)],action:function(Oe){l.onAction(Oe)}})),Ce=[(C=fe,I={tag:"div",classes:["tox-notification__icon"]},P=l.iconProvider,V=P(),p0(I,Uo(C,function(Oe){return Sr(V,Bb(Oe,V))}).getOr(aw),V,J.none())),{dom:{tag:"div",classes:["tox-notification__body"]},components:[j.asSpec()],behaviours:$n([yo.config({})])}];return{uid:l.uid,dom:{tag:"div",attributes:{role:"alert"},classes:l.level.map(function(Oe){return["tox-notification","tox-notification--in","tox-notification--"+Oe]}).getOr(["tox-notification","tox-notification--in"])},behaviours:$n([co.config({}),sr("notification-events",[xn(Xf(),function(Oe){me.getOpt(Oe).each(co.focus)})])]),components:Ce.concat(l.progress?[Y.asSpec()]:[]).concat(l.closeButton?[me.asSpec()]:[]),apis:ae}},configFields:[vi("level"),Dn("progress"),Dn("icon"),Dn("onAction"),Dn("text"),Dn("iconProvider"),Dn("translationProvider"),rs("closeButton",!0)],apis:{updateProgress:function(l,p,x){l.updateProgress(p,x)},updateText:function(l,p,x){l.updateText(p,x)}}});function w0(l,p){function x(){se(C)||(clearTimeout(C),C=null)}var C=null;return{cancel:x,throttle:function(){for(var I=[],P=0;P<arguments.length;P++)I[P]=arguments[P];x(),C=setTimeout(function(){C=null,l.apply(null,I)},p)}}}function ga(l,p,x,C,I){var P=ma(l,function(V){return(j=l).isBlock(Y=V)||Io(["BR","IMG","HR","INPUT"],Y.nodeName)||"false"===j.getContentEditable(Y);var j,Y});return J.from(P.backwards(p,x,C,I))}function zb(l){return l.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")}function Kk(l){return""!==l&&-1!==" \xa0\f\n\r\t\v".indexOf(l)}function kx(l,p){return l.substring(p.length)}function sw(l,p,x,C){return void 0===C&&(C=0),Tx(bt.fromDom(p.startContainer)).fold(function(){return function(I,P,V,j){if(void 0===j&&(j=0),!P.collapsed||3!==P.startContainer.nodeType)return J.none();var Y=I.getParent(P.startContainer,I.isBlock)||I.getRoot();return ga(I,P.startContainer,P.startOffset,function(ae,fe,me){return function(Ce,Oe){for(var Ge=fe-1;0<=Ge;Ge--){var ze=Ce.charAt(Ge);if(Kk(ze))return J.none();if(ze===Oe)break}return J.some(Ge)}(me,V).getOr(fe)},Y).bind(function(ae){var fe=P.cloneRange();if(fe.setStart(ae.container,ae.offset),fe.setEnd(P.endContainer,P.endOffset),fe.collapsed)return J.none();var me=zb(fe);return 0!==me.lastIndexOf(V)||kx(me,V).length<j?J.none():J.some({text:kx(me,V),range:fe,triggerChar:V})})}(l,p,x,C)},function(I){var P=l.createRng();P.selectNode(I.dom);var V=zb(P);return J.some({range:P,text:kx(V,x),triggerChar:x})})}function $S(l,p){return{container:l,offset:p}}function Mx(l){return ua("toolbarbutton",lw,l)}function Ga(l){return ua("ToggleButton",Dx,l)}function S0(l,p,x,C){void 0===C&&(C={});var I=p(),P=l.selection.getRng().startContainer.nodeValue,V=It(I.lookupByChar(x.triggerChar),function(Y){return x.text.length>=Y.minChars&&Y.matches.getOrThunk(function(){return ae=l.dom,function(fe){var me=QS(fe.startContainer,fe.startOffset);return!ga(ae,me.container,me.offset,function(Ce,Oe){return 0===Oe?-1:Oe},ae.getRoot()).filter(function(Ce){return!Kk(Ce.container.data.charAt(Ce.offset-1))}).isSome()};var ae})(x.range,P,x.text)});if(0===V.length)return J.none();var j=Fb.all(Ht(V,function(Y){return Y.fetch(x.text,Y.maxResults,C).then(function(ae){return{matchText:x.text,items:ae,columns:Y.columns,onAction:Y.onAction,highlightOn:Y.highlightOn}})}));return J.some({lookupData:j,context:x})}var JS,uw,ma=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),Tx=function(l){return Sf(l,"[data-mce-autocompleter]")},Fb=tinymce.util.Tools.resolve("tinymce.util.Promise"),$k=function(l){if(3===l.nodeType)return $S(l,l.data.length);var p=l.childNodes;return 0<p.length?$k(p[p.length-1]):$S(l,p.length)},QS=function(l,p){var x=l.childNodes;return 0<x.length&&p<x.length?QS(x[p],0):0<x.length&&1===l.nodeType&&x.length===p?$k(x[x.length-1]):$S(l,p)},Jk=Fr([jr("type"),Ri("text")]),Vb=Fr([Bt("type","autocompleteitem"),Bt("active",!1),Bt("disabled",!1),Bt("meta",{}),jr("value"),Ri("text"),Ri("icon")]),Qk=Fr([jr("type"),jr("ch"),Qs("minChars",1),Bt("columns",1),Qs("maxResults",10),vc("matches"),Lu("fetch"),Lu("onAction"),Uf("highlightOn",[],qa)]),kg=[rs("disabled",!1),Ri("tooltip"),Ri("icon"),Ri("text"),Li("onSetup",function(){return K})],lw=Fr([jr("type"),Lu("onAction")].concat(kg)),C0=[rs("active",!1)].concat(kg),Dx=Fr(C0.concat([jr("type"),Lu("onAction")])),eC=[Li("predicate",Ke),pl("scope","node",["node","editor"]),pl("position","selection",["node","selection","line"])],eM=kg.concat([Bt("type","contextformbutton"),Bt("primary",!1),Lu("onAction"),Bu("original",Z)]),XD=C0.concat([Bt("type","contextformbutton"),Bt("primary",!1),Lu("onAction"),Bu("original",Z)]),tC=kg.concat([Bt("type","contextformbutton")]),nC=C0.concat([Bt("type","contextformtogglebutton")]),FT=Na("type",{contextformbutton:eM,contextformtogglebutton:XD}),Ax=Fr([Bt("type","contextform"),Li("initValue",U("")),Ri("label"),Zu("commands",FT),fh("launch",Na("type",{contextformbutton:tC,contextformtogglebutton:nC}))].concat(eC)),VT=Fr([Bt("type","contexttoolbar"),jr("items")].concat(eC));function tM(l){return vn(cy,l).getOr(sC)}function Hb(l){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:"color"===l?"tox-swatches":"tox-menu",tieredMenu:"tox-tiered-menu"}}function Wb(l){var p=Hb(l);return{backgroundMenu:p.backgroundMenu,selectedMenu:p.selectedMenu,menu:p.menu,selectedItem:p.selectedItem,item:tM(l)}}function rC(l,p,x){return{dom:{tag:"div",classes:Bn([[Hb(x).tieredMenu]])},markers:Wb(x)}}function oC(l,p){return function(x){return Ht(_r(x,p),function(C){return{dom:l,components:C}})}}function HT(l,p){var x=[],C=[];return zr(l,function(I,P){p(I,P)?(0<C.length&&x.push(C),C=[],Sr(I.dom,"innerHtml")&&C.push(I)):C.push(I)}),0<C.length&&x.push(C),Ht(x,function(I){return{dom:{tag:"div",classes:["tox-collection__group"]},components:I}})}function nM(l,p){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===l?["tox-collection--list"]:["tox-collection--grid"])},components:[Dh.parts.items({preprocess:function(x){return"auto"!==l&&1<l?oC({tag:"div",classes:["tox-collection__group"]},l)(x):HT(x,function(C,I){return"separator"===p[I].type})}})]}}function Gb(l){return jt(l,function(p){return"icon"in p&&void 0!==p.icon})}function Um(l){return console.error(Ku(l)),console.log(l),J.none()}function WT(l,p,x,C,I){var P,V=(P=x,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Dh.parts.items({preprocess:function(j){return HT(j,function(Y,ae){return"separator"===P[ae].type})}})]});return{value:l,dom:V.dom,components:V.components,items:x}}function iC(l,p,x,C,I){var P,V;return"color"===I?{value:l,dom:(P={dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Dh.parts.items({preprocess:"auto"!==C?oC({tag:"div",classes:["tox-swatches__row"]},C):Z})]}]}).dom,components:P.components,items:x}:"normal"===I&&"auto"===C?{value:l,dom:(P=nM(C,x)).dom,components:P.components,items:x}:"normal"===I&&1===C?{value:l,dom:(P=nM(1,x)).dom,components:P.components,items:x}:"normal"===I?{value:l,dom:(P=nM(C,x)).dom,components:P.components,items:x}:"listpreview"!==I||"auto"===C?{value:l,dom:{tag:"div",classes:Bn([[(V=Hb(I)).menu,"tox-menu-"+C+"-column"],p?[V.hasIcons]:[]])},components:GT,items:x}:{value:l,dom:(P={dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Dh.parts.items({preprocess:oC({tag:"div",classes:["tox-collection__group"]},C)})]}).dom,components:P.components,items:x}}function cw(l,p,x){var C=el(l.element,"."+x);if(0<C.length){var I=Zn(C,function(P){var V=P.dom.getBoundingClientRect().top,j=C[0].dom.getBoundingClientRect().top;return Math.abs(V-j)>p}).getOr(C.length);return J.some({numColumns:I,numRows:Math.ceil(C.length/I)})}return J.none()}function aC(l,p,x){l.getSystem().broadcastOn([YT],{})}function Ub(l){return l.getParam("height",Math.max(l.getElement().offsetHeight,200))}function jb(l){return l.getParam("width",jm.DOM.getStyle(l.getElement(),"width"))}function Ix(l){return J.from(l.getParam("min_width")).filter(et)}function fw(l){return J.from(l.getParam("min_height")).filter(et)}function qb(l){return J.from(l.getParam("max_width")).filter(et)}function rM(l){return J.from(l.getParam("max_height")).filter(et)}function Oc(l){return!1!==l.getParam("menubar",!0,"boolean")}function kp(l){var p=l.getParam("toolbar",!0),x=!0===p,C=ne(p),I=le(p)&&0<p.length;return!vw(l)&&(I||C||x)}function dw(l){var p=It(Cr(9,function(x){return l.getParam("toolbar"+(x+1),!1,"string")}),function(x){return"string"==typeof x});return 0<p.length?J.some(p):J.none()}(uw=JS={})[uw.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",uw[uw.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX";var nf,Gs,k0,Ox,Mp=JS,sC="tox-menu-nav__js",hw="tox-collection__item",cy={normal:sC,color:"tox-swatch"},oM="tox-collection__item--enabled",gw="tox-collection__item-icon",Ih="tox-collection__item-label",fy="tox-collection__item-caret",M0="tox-collection__item--active",uC="tox-collection__item-container",iM="tox-collection__item-container--row",GT=[Dh.parts.items({})],ZD=[jr("type"),jr("src"),Ri("alt"),Uf("classes",[],qa)],UT=Fr(ZD),jT=[jr("type"),jr("text"),Ri("name"),Uf("classes",["tox-collection__item-label"],qa)],qT=Fr(jT),mw=db(function(){return hu("type",{cardimage:UT,cardtext:qT,cardcontainer:aM})}),aM=Fr([jr("type"),Zl("direction","horizontal"),Zl("align","left"),Zl("valign","middle"),Zu("items",mw)]),Yb=[rs("disabled",!1),Ri("text"),Ri("shortcut"),ds("value","value",Yu(function(){return Rr("menuitem-value")}),Hc()),Bt("meta",{})],Hu=Fr([jr("type"),Ri("label"),Zu("items",mw),Li("onSetup",function(){return K}),Li("onAction",K)].concat(Yb)),Xb=Fr([jr("type"),rs("active",!1),Ri("icon")].concat(Yb)),Zb=[jr("type"),jr("fancytype"),Li("onAction",K)],dy=Na("fancytype",{inserttable:[Bt("initData",{})].concat(Zb),colorswatch:[Jg("initData",{},[rs("allowCustomColors",!0),Sv("colors",Hc())])].concat(Zb)}),Kb=Fr([jr("type"),Li("onSetup",function(){return K}),Li("onAction",K),Ri("icon")].concat(Yb)),lC=Fr([jr("type"),Lu("getSubmenuItems"),Li("onSetup",function(){return K}),Ri("icon")].concat(Yb)),T0=Fr([jr("type"),Ri("icon"),rs("active",!1),Li("onSetup",function(){return K}),Lu("onAction")].concat(Yb)),Ex=function(l){return p=Rr("unnamed-events"),$n([sr(p,l)]);var p},YT=Rr("tooltip.exclusive"),hy=Rr("tooltip.show"),D0=Rr("tooltip.hide"),$b=Object.freeze({__proto__:null,hideAllExclusive:aC,setComponents:function(l,p,x,C){x.getTooltip().each(function(I){I.getSystem().isConnected()&&yo.set(I,C)})}}),XT=Object.freeze({__proto__:null,events:function(l,p){function x(C){p.getTooltip().each(function(I){bm(I),l.onHide(C,I),p.clearTooltip()}),p.clearTimer()}return Ei(Bn([[xn(hy,function(C){p.resetTimer(function(){var I,P,V=C;p.isShowing()||(aC(V),I=l.lazySink(V).getOrDie(),P=V.getSystem().build({dom:l.tooltipDom,components:l.tooltipComponents,events:Ei("normal"===l.mode?[xn(fi(),function(j){Bo(V,hy)}),xn(Gp(),function(j){Bo(V,D0)})]:[]),behaviours:$n([yo.config({})])}),p.setTooltip(P),Rl(I,P),l.onShow(V,P),nl.position(I,P,{anchor:l.anchor(V)}))},l.delay)}),xn(D0,function(C){p.resetTimer(function(){x(C)},l.delay)}),xn(Qo(),function(C,I){I.universal||Io(I.channels,YT)&&x(C)}),Kf(function(C){x(C)})],"normal"===l.mode?[xn(Xf(),function(C){Bo(C,hy)}),xn(Pd(),function(C){Bo(C,D0)}),xn(fi(),function(C){Bo(C,hy)}),xn(Gp(),function(C){Bo(C,D0)})]:[xn(X1(),function(C,I){Bo(C,hy)}),xn(rm(),function(C){Bo(C,D0)})]]))}}),Jb=ji({fields:[Dn("lazySink"),Dn("tooltipDom"),Bt("exclusive",!0),Bt("tooltipComponents",[]),Bt("delay",300),pl("mode","normal",["normal","follow-highlight"]),Bt("anchor",function(l){return{type:"hotspot",hotspot:l,layouts:{onLtr:U([ru,oc,Vs,Pl,xu,hs]),onRtl:U([ru,oc,Vs,Pl,xu,hs])}}}),Ho("onHide"),Ho("onShow")],name:"tooltipping",active:XT,state:Object.freeze({__proto__:null,init:function(){function l(){p.on(clearTimeout)}var p=Ha(),x=Ha(),C=U("not-implemented");return ec({getTooltip:x.get,isShowing:x.isSet,setTooltip:x.set,clearTooltip:x.clear,clearTimer:l,resetTimer:function(I,P){l(),p.set(setTimeout(I,P))},readState:C})}}),apis:$b}),jm=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),sM=tinymce.util.Tools.resolve("tinymce.EditorManager"),vw=function(l){return dw(l).fold(function(){return 0<l.getParam("toolbar",[],"string[]").length},pt)};function Px(l){return l.getParam("toolbar_mode","","string")}function py(l){return l.getParam("toolbar_location",k0.auto,"string")}function cC(l){return py(l)===k0.bottom}function Pf(l){if(!l.inline)return J.none();var p=l.getParam("fixed_toolbar_container","","string");if(0<p.length)return fa(Ra(),p);var x=l.getParam("fixed_toolbar_container_target");return De(x)?J.some(bt.fromDom(x)):J.none()}function gy(l){return l.inline&&Pf(l).isSome()}function yw(l){return Pf(l).getOrThunk(function(){return Zi(Ai(bt.fromDom(l.getElement())))})}function my(l){return l.inline&&!Oc(l)&&!kp(l)&&!vw(l)}function vy(l){return(l.getParam("toolbar_sticky",!1,"boolean")||l.inline)&&!gy(l)&&!my(l)}function Qb(l,p){var x=l.outerContainer.element;p&&(l.mothership.broadcastOn([vp()],{target:x}),l.uiMothership.broadcastOn([vp()],{target:x})),l.mothership.broadcastOn([dd],{readonly:p}),l.uiMothership.broadcastOn([dd],{readonly:p})}function fC(l,p){l.on("init",function(){l.mode.isReadOnly()&&Qb(p,!0)}),l.on("SwitchMode",function(){return Qb(p,l.mode.isReadOnly())}),l.getParam("readonly",!1,"boolean")&&l.setMode("readonly")}function $a(){var l;return Va.config({channels:((l={})[dd]={schema:ZT,onReceive:function(p,x){Vr.set(p,x.readonly)}},l)})}function Rx(l,p){var x=l.getApi(p);return function(C){C(x)}}function e1(l,p){return ca(function(x){Rx(l,x)(function(C){var I=l.onSetup(C);Le(I)&&p.set(I)})})}function Lx(l,p){return Kf(function(x){return Rx(l,x)(p.get())})}function sc(l,p,x,C){var I,P,V=Nr(K);return{type:"item",dom:p.dom,components:yy(p.optComponents),data:l.data,eventOrder:xC,hasSubmenu:l.triggersSubmenu,itemBehaviours:$n([sr("item-events",[(I=l,P=x,Nd(function(j,Y){Rx(I,j)(I.onAction),I.triggersSubmenu||P!==Mp.CLOSE_ON_EXECUTE||(Bo(j,gh()),Y.stop())})),e1(l,V),Lx(l,V)]),Vr.config({disabled:function(){return l.disabled||C.isDisabled()},disableClass:"tox-collection__item--state-disabled"}),$a(),yo.config({})].concat(l.itemBehaviours))}}function A0(l){return{value:l.value,meta:ve({text:l.text.getOr("")},l.meta)}}function dC(l,p,x){return tf(l,{tag:"div",classes:x=void 0===x?[gw]:x},p)}function hC(l){return{dom:{tag:"div",classes:[Ih]},components:[Od(Ah.translate(l))]}}function bw(l,p){return{dom:{tag:"div",classes:p,innerHtml:l}}}function pC(l,p){return{dom:{tag:"div",classes:[Ih]},components:[{dom:{tag:l.tag,styles:l.styles},components:[Od(Ah.translate(p))]}]}}function Rf(l){return{dom:{tag:"div",classes:["tox-collection__item-accessory"],innerHtml:(p=_C.mac?{alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"}:{meta:"Ctrl",access:"Shift+Alt"},x=Ht(l.split("+"),function(C){var I=C.toLowerCase().trim();return Sr(p,I)?p[I]:C}),x.join(_C.mac?"":"+"))}};var p,x}function Lf(l){return dC("checkmark",l,["tox-collection__item-checkmark"])}function gC(l){var p=l.map(function(x){return{attributes:{title:Ah.translate(x)}}}).getOr({});return ve({tag:"div",classes:[sC,hw]},p)}function Nx(l,p,x,C){return void 0===C&&(C=J.none()),"color"===l.presets?(I=p,P=C,Y=l.ariaLabel,ae=l.value,{dom:(V=l.iconContent.map(function(Je){return Ze=P,$_(Je,ft=(0,I.icons)()).or(Ze).getOrThunk(K_(ft));var Ze,ft}).getOr(""),j={tag:"div",attributes:Y.map(function(Je){return{title:I.translate(Je)}}).getOr({}),classes:["tox-swatch"]},ve(ve({},j),"custom"===ae?{tag:"button",classes:Ve(Ve([],j.classes,!0),["tox-swatches__picker-btn"],!1),innerHtml:V}:"remove"===ae?{classes:Ve(Ve([],j.classes,!0),["tox-swatch--remove"],!1),innerHtml:V}:{attributes:ve(ve({},j.attributes),{"data-mce-color":ae}),styles:{"background-color":ae}})),optComponents:[]}):(fe=l,me=p,Ce=C,Oe={tag:"div",classes:[gw]},Ge=x?fe.iconContent.map(function(Je){return tf(Je,Oe,me.icons,Ce)}).orThunk(function(){return J.some({dom:Oe})}):J.none(),ze=fe.checkMark,Ue=J.from(fe.meta).fold(function(){return hC},function(Je){return Sr(Je,"style")?Qe(pC,Je.style):hC}),qe=fe.htmlContent.fold(function(){return fe.textContent.map(Ue)},function(Je){return J.some(bw(Je,[Ih]))}),{dom:gC(fe.ariaLabel),optComponents:[Ge,qe,fe.shortcutContent.map(Rf),ze,fe.caret]});var I,P,V,j,Y,ae,fe,me,Ce,Oe,Ge,ze,Ue,qe}function xw(l,p){return vn(l,"tooltipWorker").map(function(x){return[Jb.config({lazySink:p.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(C){return{type:"submenu",item:C,overrides:{maxHeightFunction:_h}}},mode:"follow-highlight",onShow:function(C,I){x(function(P){Jb.setComponents(C,[Ev({element:bt.fromDom(P)})])})}})]}).getOr([])}function Bx(l,p){var x=Ah.translate(l),C=jm.DOM.encode(x);if(0<p.length){var I=new RegExp(p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi");return C.replace(I,function(P){return'<span class="tox-autocompleter-highlight">'+P+"</span>"})}return C}function uM(l){return{value:l}}function lM(l){return r1.test(l)||qm.test(l)}function I0(l){var p=l.toString(16);return(1===p.length?"0"+p:p).toUpperCase()}function t1(l){return uM(I0(l.red)+I0(l.green)+I0(l.blue))}function kl(l,p,x,C){return{red:l,green:p,blue:x,alpha:C}}function rf(l){var p=parseInt(l,10);return p.toString()===l&&0<=p&&p<=255}function _w(l){var p,x,C,I=(l.hue||0)%360,V=l.value/100,P=of(0,Mg(P=l.saturation/100,1));if(V=of(0,Mg(V,1)),0===P)return kl(p=x=C=ww(255*V),x,C,1);var j=I/60,Y=V*P,ae=Y*(1-Math.abs(j%2-1)),fe=V-Y;switch(Math.floor(j)){case 0:p=Y,x=ae,C=0;break;case 1:p=ae,x=Y,C=0;break;case 2:p=0,x=Y,C=ae;break;case 3:p=0,x=ae,C=Y;break;case 4:p=ae,x=0,C=Y;break;case 5:p=Y,x=0,C=ae;break;default:p=x=C=0}return kl(p=ww(255*(p+fe)),x=ww(255*(x+fe)),C=ww(255*(C+fe)),1)}function O0(l){var p,x,C=(p={value:l.value.replace(r1,function(I,P,V,j){return P+P+V+V+j+j})},null===(x=qm.exec(p.value))?["FFFFFF","FF","FF","FF"]:x);return kl(parseInt(C[1],16),parseInt(C[2],16),parseInt(C[3],16),1)}function n1(l,p,x,C){return kl(parseInt(l,10),parseInt(p,10),parseInt(x,10),parseFloat(C))}function E0(l){if("transparent"===l)return J.some(kl(0,0,0,0));var p=Wx.exec(l);if(null!==p)return J.some(n1(p[1],p[2],p[3],"1"));var x=L0.exec(l);return null!==x?J.some(n1(x[1],x[2],x[3],x[4])):J.none()}function P0(l){return"rgba("+l.red+","+l.green+","+l.blue+","+l.alpha+")"}function zx(l,p){return l.fire("ResizeContent",p)}function Fx(l,p,x){return{hue:l,saturation:p,value:x}}function Vx(l){var p,C=0,I=l.red/255,P=l.green/255,V=l.blue/255,j=Math.min(I,Math.min(P,V)),Y=Math.max(I,Math.max(P,V));return j===Y?Fx(0,0,100*(C=j)):(p=(Y-j)/Y,C=Y,Fx(Math.round(60*((I===j?3:V===j?1:5)-(I===j?P-V:V===j?I-P:V-I)/(Y-j))),Math.round(100*p),Math.round(100*C)))}function mC(l){return t1(_w(l))}function vC(l){return(lM(x=l)?J.some({value:(Wn(p=x,"#")?p.substring(1):p).toUpperCase()}):J.none()).orThunk(function(){return E0(l).map(t1)}).getOrThunk(function(){var C=document.createElement("canvas");C.height=1,C.width=1;var I=C.getContext("2d");I.clearRect(0,0,C.width,C.height),I.fillStyle="#FFFFFF",I.fillStyle=l,I.fillRect(0,0,1,1);var P=I.getImageData(0,0,1,1).data;return t1(kl(P[0],P[1],P[2],P[3]))});var p,x}function cM(l){return Vr.config({disabled:l,disableClass:"tox-tbtn--disabled"})}(Gs=nf=nf||{}).default="wrap",Gs.floating="floating",Gs.sliding="sliding",Gs.scrolling="scrolling",(Ox=k0=k0||{}).auto="auto",Ox.top="top",Ox.bottom="bottom";var yC,dd="silver.readonly",ZT=Fr([Xl("readonly",Mv)]),R0=function(l){return Vr.config({disabled:l})},bC=function(l){return Vr.config({disabled:l,disableClass:"tox-tbtn--disabled",useNative:!1})},xC=((yC={})[bc()]=["disabling","alloy.base.behaviour","toggling","item-events"],yC),yy=go,_C=tinymce.util.Tools.resolve("tinymce.Env"),KT=function(l,p){return Ht(l,function(x){switch(x.type){case"cardcontainer":return V=KT((P=x).items,p),{dom:{tag:"div",classes:[uC,"vertical"===P.direction?"tox-collection__item-container--column":iM,"left"===P.align?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right",function(){switch(P.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}}()]},components:V};case"cardimage":return{dom:{tag:"img",classes:x.classes,attributes:{src:x.src,alt:x.alt.getOr("")}}};case"cardtext":var C=x.name.exists(function(ae){return Io(p.cardText.highlightOn,ae)})?J.from(p.cardText.matchText).getOr(""):"";return bw(Bx(x.text,C),x.classes)}var P,V})},Hx=wm(ow(),Sx()),r1=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,qm=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Mg=Math.min,of=Math.max,ww=Math.round,Wx=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,L0=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,Sw=kl(255,0,0,1),Gx=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),fM="tinymce-custom-colors";function Cw(l){return!1!==l.getParam("custom_colors")}function wC(l){var p=l.getParam("color_map");return void 0!==p?function(x){for(var C=[],I=0;I<x.length;I+=2)C.push({text:x[I+1],value:"#"+vC(x[I]).value,type:"choiceitem"});return C}(p):Dw}function $T(l){CC.add(l)}function kw(l){var p,x=(p=wC(l).length,Math.max(5,Math.ceil(Math.sqrt(p))));return l.getParam("color_cols",x,"number")}function Mw(l){var p="choiceitem",x={type:p,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return l?[x,{type:p,text:"Custom color",icon:"color-picker",value:"custom"}]:[x]}function Ux(l,p,x,C){"custom"===x?JT(l)(function(I){I.each(function(P){$T(P),l.execCommand("mceApplyTextcolor",p,P),C(P)})},Aw):"remove"===x?(C(""),l.execCommand("mceRemoveTextcolor",p)):(C(x),l.execCommand("mceApplyTextcolor",p,x))}function o1(l,p){return l.concat(Ht(CC.state(),function(x){return{type:Us,text:x,value:x}}).concat(Mw(p)))}function SC(l,p){return function(x){x(o1(l,p))}}function dM(l,p,x){l.setIconFill("forecolor"===p?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color",x)}function N0(l,p,x,C,I){l.ui.registry.addSplitButton(p,{tooltip:C,presets:"color",icon:"forecolor"===p?"text-color":"highlight-bg-color",select:function(P){var V,j=x;return l.dom.getParents(l.selection.getStart(),function(Y){var ae;(ae=Y.style["forecolor"===j?"color":"background-color"])&&(V=V||ae)}),J.from(V).bind(function(Y){return E0(Y).map(function(ae){var fe=t1(ae).value;return Vo(P.toLowerCase(),fe)})}).getOr(!1)},columns:kw(l),fetch:SC(wC(l),Cw(l)),onAction:function(P){Ux(l,x,I.get(),K)},onItemAction:function(P,V){Ux(l,x,V,function(j){I.set(j),l.fire("TextColorChange",{name:p,color:j})})},onSetup:function(P){function V(j){j.name===p&&dM(P,j.name,j.color)}return dM(P,p,I.get()),l.on("TextColorChange",V),function(){l.off("TextColorChange",V)}}})}function Vl(l,p,x,C){l.ui.registry.addNestedMenuItem(p,{text:C,icon:"forecolor"===p?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(I){Ux(l,x,I.value,K)}}]}})}function by(l,p,x,C,I,P,V,j){return iC(l,Gb(p),ii(p,x,C,"color"!==I?"normal":"color",P,V,j),C,I)}function jx(l,p){var x=Wb(p);return 1===l?{mode:"menu",moveOnTab:!0}:"auto"===l?{mode:"grid",selector:"."+x.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+("color"===p?"tox-swatches__row":"tox-collection__group")}}function Tg(l,p){return Od(p+"x"+l)}var Tw,qx,Us="choiceitem",Dw=[{type:Us,text:"Light Green",value:"#BFEDD2"},{type:Us,text:"Light Yellow",value:"#FBEEB8"},{type:Us,text:"Light Red",value:"#F8CAC6"},{type:Us,text:"Light Purple",value:"#ECCAFA"},{type:Us,text:"Light Blue",value:"#C2E0F4"},{type:Us,text:"Green",value:"#2DC26B"},{type:Us,text:"Yellow",value:"#F1C40F"},{type:Us,text:"Red",value:"#E03E2D"},{type:Us,text:"Purple",value:"#B96AD9"},{type:Us,text:"Blue",value:"#3598DB"},{type:Us,text:"Dark Turquoise",value:"#169179"},{type:Us,text:"Orange",value:"#E67E23"},{type:Us,text:"Dark Red",value:"#BA372A"},{type:Us,text:"Dark Purple",value:"#843FA1"},{type:Us,text:"Dark Blue",value:"#236FA1"},{type:Us,text:"Light Gray",value:"#ECF0F1"},{type:Us,text:"Medium Gray",value:"#CED4D9"},{type:Us,text:"Gray",value:"#95A5A6"},{type:Us,text:"Dark Gray",value:"#7E8C8D"},{type:Us,text:"Navy Blue",value:"#34495E"},{type:Us,text:"Black",value:"#000000"},{type:Us,text:"White",value:"#ffffff"}],CC=function(l){function p(V){P.splice(V,1)}void 0===l&&(l=10);var x,C=Gx.getItem(fM),I=ne(C)?JSON.parse(C):[],P=l-(x=I).length<0?x.slice(0,l):x;return{add:function(V){var j;(-1===(j=sn(P,V))?J.none():J.some(j)).each(p),P.unshift(V),P.length>l&&P.pop(),Gx.setItem(fM,JSON.stringify(P))},state:function(){return P.slice(0)}}}(10),Aw="#000000",JT=function(l){return function(p,x){var C=!1;l.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{colorpicker:x},onAction:function(I,P){"hex-valid"===P.name&&(C=P.value)},onSubmit:function(I){var P=I.getData().colorpicker;C?(p(J.from(P)),I.close()):l.windowManager.alert(l.translate(["Invalid hex color code: {0}",P]))},onClose:K,onCancel:function(){p(J.none())}})}},ii=function(l,p,x,C,I,P,V){return go(Ht(l,function(j){return"choiceitem"===j.type?ua("choicemenuitem",Xb,j).fold(Um,function(Y){return J.some(function(ae,fe,me,Ce,Oe,Ge,ze,Ue){void 0===Ue&&(Ue=!0);var qe=Nx({presets:me,textContent:fe?ae.text:J.none(),htmlContent:J.none(),ariaLabel:ae.text,iconContent:ae.icon,shortcutContent:fe?ae.shortcut:J.none(),checkMark:fe?J.some(Lf(ze.icons)):J.none(),caret:J.none(),value:ae.value},ze,Ue);return No(sc({data:A0(ae),disabled:ae.disabled,getApi:function(Je){return{setActive:function(Ee){ci.set(Je,Ee)},isActive:function(){return ci.isOn(Je)},isDisabled:function(){return Vr.isDisabled(Je)},setDisabled:function(Ee){return Vr.set(Je,Ee)}}},onAction:function(Je){return Ce(ae.value)},onSetup:function(Je){return Je.setActive(Oe),K},triggersSubmenu:!1,itemBehaviours:[]},qe,Ge,ze),{toggling:{toggleClass:oM,toggleOnExecute:!1,selected:ae.active}})}(Y,1===x,C,p,P(j.value),I,V,Gb(l)))}):J.none()}))},i1=Rr("cell-over"),Yx=Rr("cell-execute"),Tp={inserttable:function(l){var p=Rr("size-label"),x=function(P){for(var V=[],j=0;j<10;j++){for(var Y=[],ae=0;ae<10;ae++)Y.push(function(fe,me,Ce){function Oe(Ue){return Gr(Ue,Yx,{row:fe,col:me})}function Ge(Ue,qe){qe.stop(),Oe(Ue)}var ze;return Yi({dom:{tag:"div",attributes:((ze={role:"button"})["aria-labelledby"]=Ce,ze)},behaviours:$n([sr("insert-table-picker-cell",[xn(fi(),co.focus),xn(bc(),Oe),xn(vl(),Ge),xn(Ld(),Ge)]),ci.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),co.config({onFocus:function(Ue){return Gr(Ue,i1,{row:fe,col:me})}})])})}(j,ae,P));V.push(Y)}return V}(p),C=Tg(0,0),I=di({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:p}},components:[C],behaviours:$n([yo.config({})])});return{type:"widget",data:{value:Rr("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Hx.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:cr(x,function(P){return Ht(P,tc)}).concat(I.asSpec()),behaviours:$n([sr("insert-table-picker",[ca(function(P){yo.set(I.get(P),[C])}),Yh(i1,function(P,V,j){var Y=j.event,ae=Y.row,fe=Y.col;(function(me,Ce,Oe){for(var Ge=0;Ge<10;Ge++)for(var ze=0;ze<10;ze++)ci.set(me[Ge][ze],Ge<=Ce&&ze<=Oe)})(x,ae,fe),yo.set(I.get(P),[Tg(ae+1,fe+1)])}),Yh(Yx,function(P,V,j){var Y=j.event;l.onAction({numRows:Y.row+1,numColumns:Y.col+1}),Bo(P,gh())})]),Zr.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:function(l,p){var x,C,I,P=(C=p,I=(x=l).initData.allowCustomColors&&C.colorinput.hasCustomColors(),x.initData.colors.fold(function(){return o1(C.colorinput.getColors(),I)},function(ae){return ae.concat(Mw(I))})),V=p.colorinput.getColorCols(),j=by(Rr("menu-value"),P,function(ae){l.onAction({value:ae})},V,"color",Mp.CLOSE_ON_EXECUTE,Ke,p.shared.providers),Y=ve(ve({},j),{markers:Wb("color"),movement:jx(V,"color")});return{type:"widget",data:{value:Rr("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Hx.widget(Dh.sketch(Y))]}}},hM=function(l){var p=l.text.fold(function(){return{}},function(x){return{innerHtml:x}});return{type:"separator",dom:ve({tag:"div",classes:[hw,"tox-collection__group-heading"]},p),components:[]}};function Ow(l,p,x,C,I){var P=Gb(p),V=go(Ht(p,function(j){function Y(ae){return function(fe,me,Ce,Oe,Ge){function ze(qe){return Ge?ve(ve({},qe),{shortcut:J.none(),icon:qe.text.isSome()?J.none():qe.icon}):qe}var Ue=Ce.shared.providers;switch(fe.type){case"menuitem":return ua("menuitem",Kb,fe).fold(Um,function(qe){return J.some(function(l,p,x,C){void 0===C&&(C=!0);var I=Nx({presets:"normal",iconContent:l.icon,textContent:l.text,htmlContent:J.none(),ariaLabel:l.text,caret:J.none(),checkMark:J.none(),shortcutContent:l.shortcut},x,C);return sc({data:A0(l),getApi:function(P){return{isDisabled:function(){return Vr.isDisabled(P)},setDisabled:function(V){return Vr.set(P,V)}}},disabled:l.disabled,onAction:l.onAction,onSetup:l.onSetup,triggersSubmenu:!1,itemBehaviours:[]},I,p,x)}(ze(qe),me,Ue,Oe))});case"nestedmenuitem":return ua("nestedmenuitem",lC,fe).fold(Um,function(qe){return J.some(function(l,p,x,C,I){void 0===C&&(C=!0);var P=(I=void 0!==I&&I)?dC("chevron-down",x.icons,[fy]):dC("chevron-right",x.icons,[fy]),V=Nx({presets:"normal",iconContent:l.icon,textContent:l.text,htmlContent:J.none(),ariaLabel:l.text,caret:J.some(P),checkMark:J.none(),shortcutContent:l.shortcut},x,C);return sc({data:A0(l),getApi:function(j){return{isDisabled:function(){return Vr.isDisabled(j)},setDisabled:function(Y){return Vr.set(j,Y)}}},disabled:l.disabled,onAction:K,onSetup:l.onSetup,triggersSubmenu:!0,itemBehaviours:[]},V,p,x)}(ze(qe),me,Ue,Oe,Ge))});case"togglemenuitem":return ua("togglemenuitem",T0,fe).fold(Um,function(qe){return J.some(function(l,p,x,C){void 0===C&&(C=!0);var I=Nx({iconContent:l.icon,textContent:l.text,htmlContent:J.none(),ariaLabel:l.text,checkMark:J.some(Lf(x.icons)),caret:J.none(),shortcutContent:l.shortcut,presets:"normal",meta:l.meta},x,C);return No(sc({data:A0(l),disabled:l.disabled,getApi:function(P){return{setActive:function(V){ci.set(P,V)},isActive:function(){return ci.isOn(P)},isDisabled:function(){return Vr.isDisabled(P)},setDisabled:function(V){return Vr.set(P,V)}}},onAction:l.onAction,onSetup:l.onSetup,triggersSubmenu:!1,itemBehaviours:[]},I,p,x),{toggling:{toggleClass:oM,toggleOnExecute:!1,selected:l.active}})}(ze(qe),me,Ue,Oe))});case"separator":return ua("separatormenuitem",Jk,fe).fold(Um,function(qe){return J.some(hM(qe))});case"fancymenuitem":return ua("fancymenuitem",dy,fe).fold(Um,function(qe){return function(l,p){return vn(Tp,l.fancytype).map(function(x){return x(l,p)})}(ze(qe),Ce)});default:return console.error("Unknown item in general menu",fe),J.none()}}(ae,x,C,I?!Sr(ae,"text"):P,I)}return"nestedmenuitem"===j.type&&j.getSubmenuItems().length<=0?Y(ve(ve({},j),{disabled:!0})):Y(j)}));return(I?WT:iC)(l,P,V,1,"normal")}function MC(l){return Gm.singleData(l.value,l)}function s1(l,p,x){return Sf(l,p,x).isSome()}function pM(l,p){var x=null;return{cancel:function(){null!==x&&(clearTimeout(x),x=null)},schedule:function(){for(var C=[],I=0;I<arguments.length;I++)C[I]=arguments[I];x=setTimeout(function(){l.apply(null,C),x=null},p)}}}function gM(l){var p=l.raw;return void 0===p.touches||1!==p.touches.length?J.none():J.some(p.touches[0])}function TC(){return Dl().browser.isFirefox()}function Xx(l,p){return Nr(vn(l,"target").getOr(p))}function Zx(l,p,x,C,I,P){var V,j,Y=l(p,C),ae=(V=Nr(!1),j=Nr(!1),{stop:function(){V.set(!0)},cut:function(){j.set(!0)},isStopped:V.get,isCut:j.get,event:x,setSource:I.set,getSource:I.get});return Y.fold(function(){return P.logEventNoHandlers(p,C),Ew.complete()},function(fe){var me=fe.descHandler;return Wp(me)(ae),ae.isStopped()?(P.logEventStopped(p,fe.element,me.purpose),Ew.stopped()):ae.isCut()?(P.logEventCut(p,fe.element,me.purpose),Ew.complete()):Xr(fe.element).fold(function(){return P.logNoParent(p,fe.element,me.purpose),Ew.complete()},function(Ce){return P.logEventResponse(p,fe.element,me.purpose),Ew.resume(Ce)})})}function Qd(l){function p(Ue){return Xr(l.element).fold(pt,function(qe){return Mn(Ue,qe)})}function x(Ue,qe){return I.find(p,Ue,qe)}function C(Ue){var qe=I.filter(Qo());zr(qe,function(Je){Wp(Je.descHandler)(Ue)})}var I=function AC(){function l(I){tm(I.element).each(function(P){delete C[P],x.unregisterId(P)})}var p,x=(p={},{registerId:function(I,P,V){Qt(V,function(j,Y){var ae,fe=void 0!==p[Y]?p[Y]:{};fe[P]={cHandler:Qe.apply(void 0,[(ae=j).handler].concat(I)),purpose:ae.purpose},p[Y]=fe})},unregisterId:function(I){Qt(p,function(P,V){Sr(P,I)&&delete P[I]})},filterByType:function(I){return vn(p,I).map(function(P){return Rn(P,function(V,j){return{id:j,descHandler:V}})}).getOr([])},find:function(I,P,V){return vn(p,P).bind(function(j){return $u(V,function(Y){return ae=j,tm(fe=Y).bind(function(me){return vn(ae,me)}).map(function(me){return{element:fe,descHandler:me}});var ae,fe},I)})}}),C={};return{find:function(I,P,V){return x.find(I,P,V)},filter:function(I){return x.filterByType(I)},register:function(I){var P,V=tm((P=I).element).getOrThunk(function(){return j=P.element,Y=Rr(jp+"uid-"),qp(j,Y),Y;var j,Y});bo(C,V)&&function(j){var Y=C[V];if(Y!==j)throw new Error('The tagId "'+V+'" is already used by: '+bf(Y.element)+"\nCannot use it for: "+bf(j.element)+"\nThe conflicting element is"+(du(Y.element)?" ":" not ")+"already in the DOM");l(j)}(I),x.registerId([I],V,I.events),C[V]=I},unregister:l,getById:function(I){return vn(C,I)}}}(),P=function DC(l,p){var x,C,I,P,V,j,Y,ae,fe,me=ve({stopBackspace:!0},p),Ce=(V=me,j=Ha(),Y=Nr(!1),ae=pM(function(Ze){V.triggerEvent(vu(),Ze),Y.set(!0)},400),fe=Td([{key:mu(),value:function(Ze){return gM(Ze).each(function(ft){ae.cancel();var Ct={x:ft.clientX,y:ft.clientY,target:Ze.target};ae.schedule(Ze),Y.set(!1),j.set(Ct)}),J.none()}},{key:$l(),value:function(Ze){return ae.cancel(),gM(Ze).each(function(ft){j.on(function(Ct){var Jt=ft,Ft=Ct,nn=Math.abs(Jt.clientX-Ft.x),Cn=Math.abs(Jt.clientY-Ft.y);(5<nn||5<Cn)&&j.clear()})}),J.none()}},{key:$i(),value:function(Ze){return ae.cancel(),j.get().filter(function(ft){return Mn(ft.target,Ze.target)}).map(function(ft){return Y.get()?(Ze.prevent(),!1):V.triggerEvent(Ld(),Ze)})}}]),{fireIfReady:function(Ze,ft){return vn(fe,ft).bind(function(Ct){return Ct(Ze)})}}),Oe=Ht(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),function(Ze){return ps(l,Ze,function(ft){Ce.fireIfReady(ft,Ze).each(function(Ct){Ct&&ft.kill()}),me.triggerEvent(Ze,ft)&&ft.kill()})}),Ge=Ha(),ze=ps(l,"paste",function(Ze){Ce.fireIfReady(Ze,"paste").each(function(ft){ft&&Ze.kill()}),me.triggerEvent("paste",Ze)&&Ze.kill(),Ge.set(setTimeout(function(){me.triggerEvent(Rd(),Ze)},0))}),Ue=ps(l,"keydown",function(Ze){var ft;me.triggerEvent("keydown",Ze)?Ze.kill():!me.stopBackspace||(ft=Ze).raw.which!==X_[0]||Io(["input","textarea"],un(ft.target))||s1(ft.target,'[contenteditable="true"]')||Ze.prevent()}),qe=(x=l,C=function(Ze){me.triggerEvent("focusin",Ze)&&Ze.kill()},TC()?tg(x,"focus",C):ps(x,"focusin",C)),Je=Ha(),Ee=(I=l,P=function(Ze){me.triggerEvent("focusout",Ze)&&Ze.kill(),Je.set(setTimeout(function(){me.triggerEvent(Pd(),Ze)},0))},TC()?tg(I,"blur",P):ps(I,"focusout",P));return{unbind:function(){zr(Oe,function(Ze){Ze.unbind()}),Ue.unbind(),qe.unbind(),Ee.unbind(),ze.unbind(),Ge.on(clearTimeout),Je.on(clearTimeout)}}}(l.element,{triggerEvent:function(Ue,qe){return da(Ue,qe.target,function(Je){return Ym(x,Ue,qe,qe.target,Je)})}}),V={debugInfo:U("real"),triggerEvent:function(Ue,qe,Je){da(Ue,qe,function(Ee){return Ym(x,Ue,Je,qe,Ee)})},triggerFocus:function(Ue,qe){tm(Ue).fold(function(){ed(Ue)},function(Je){da(yl(),Ue,function(Ee){var Ze,ft,Ct=x,Jt=yl(),Ft=Ee,nn=Xx(Ze={originator:qe,kill:K,prevent:K,target:Ue},ft=Ue);return Zx(Ct,Jt,Ze,ft,nn,Ft),!1})})},triggerEscape:function(Ue,qe){V.triggerEvent("keydown",Ue.element,qe.event)},getByUid:function(Ue){return Ge(Ue)},getByDom:function(Ue){return ze(Ue)},build:Yi,addToGui:function(Ue){ae(Ue)},removeFromGui:function(Ue){fe(Ue)},addToWorld:function(Ue){j(Ue)},removeFromWorld:function(Ue){Y(Ue)},broadcast:function(Ue){me(Ue)},broadcastOn:function(Ue,qe){Ce(Ue,qe)},broadcastEvent:function(Ue,qe){Oe(Ue,qe)},isConnected:pt},j=function(Ue){Ue.connect(V),dc(Ue.element)||(I.register(Ue),zr(Ue.components(),j),V.triggerEvent(qy(),Ue.element,{target:Ue.element}))},Y=function(Ue){dc(Ue.element)||(zr(Ue.components(),Y),I.unregister(Ue)),Ue.disconnect()},ae=function(Ue){Rl(l,Ue)},fe=function(Ue){bm(Ue)},me=function(Ue){C({universal:!0,data:Ue})},Ce=function(Ue,qe){C({universal:!1,channels:Ue,data:qe})},Oe=function(Ue,qe){var Je,Ee,Ze=I.filter(Ue);return Ee={stop:function(){Je.set(!0)},cut:K,isStopped:(Je=Nr(!1)).get,isCut:Ke,event:qe,setSource:Kt("Cannot set source of a broadcasted event"),getSource:Kt("Cannot get source of a broadcasted event")},zr(Ze,function(ft){Wp(ft.descHandler)(Ee)}),Ee.isStopped()},Ge=function(Ue){return I.getById(Ue).fold(function(){return Po.error(new Error('Could not find component with uid: "'+Ue+'" in system.'))},Po.value)},ze=function(Ue){var qe=tm(Ue).getOr("not found");return Ge(qe)};return j(l),{root:l,element:l.element,destroy:function(){P.unbind(),mf(l.element)},add:ae,remove:fe,getByUid:Ge,getByDom:ze,addToWorld:j,removeFromWorld:Y,broadcast:me,broadcastOn:Ce,broadcastEvent:Oe}}function B0(l,p,x,C){var I=Ag(l,p,x,C);return ai.sketch(I)}function hd(l,p){return ai.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:p.translate(l)}})}function Dg(l){return $n([co.config({onFocus:l.selectOnFocus?function(p){var x=p.element,C=Kl(x);x.dom.setSelectionRange(0,C.length)}:K})])}function t2(l){return{tag:l.tag,attributes:ve({type:"text"},l.inputAttributes),styles:l.inputStyles,classes:l.inputClasses}}(qx=Tw={})[qx.ContentFocus=0]="ContentFocus",qx[qx.UiFocus=1]="UiFocus";var Ew=os([{stopped:[]},{resume:["element"]},{complete:[]}]),uc=function(l,p,x,C,I,P){return Zx(l,p,x,C,I,P).fold(pt,function(V){return uc(l,p,x,V,I,P)},Ke)},Ym=function(l,p,x,C,I){var P=Xx(x,C);return uc(l,p,x,C,P,I)},Os=Bl({name:"Container",factory:function(l){var p=l.dom,x=p.attributes,C=Re(p,["attributes"]);return{uid:l.uid,dom:ve({tag:"div",attributes:ve({role:"presentation"},x)},C),components:l.components,behaviours:Sh(l.containerBehaviours),events:l.events,domModification:l.domModification,eventOrder:l.eventOrder}},configFields:[Bt("components",[]),Xa("containerBehaviours",[]),Bt("events",{}),Bt("domModification",{}),Bt("eventOrder",{})]}),z0=U([Bt("prefix","form-field"),Xa("fieldBehaviours",[Wo,lr])]),n2=U([Kd({schema:[Dn("dom")],name:"label"}),Kd({factory:{sketch:function(l){return{uid:l.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:l.text}}}},schema:[Dn("text")],name:"aria-descriptor"}),Is({factory:{sketch:function(l){var p,x,C=(p=["factory"],x={},Qt(l,function(I,P){Io(p,P)||(x[P]=I)}),x);return l.factory.sketch(C)}},schema:[Dn("factory")],name:"field"})]),ai=tl({name:"FormField",configFields:z0(),partFields:n2(),factory:function(l,p,x,C){var I=vs(l.fieldBehaviours,[Wo.config({find:function(V){return jo(V,l,"field")}}),lr.config({store:{mode:"manual",getValue:function(V){return Wo.getCurrent(V).bind(lr.getValue)},setValue:function(V,j){Wo.getCurrent(V).each(function(Y){lr.setValue(Y,j)})}}})]),P=Ei([ca(function(V,j){var Y=_a(V,l,["label","field","aria-descriptor"]);Y.field().each(function(ae){var fe=Rr(l.prefix);Y.label().each(function(me){Ur(me.element,"for",fe),Ur(ae.element,"id",fe)}),Y["aria-descriptor"]().each(function(me){var Ce=Rr(l.prefix);Ur(me.element,"id",Ce),Ur(ae.element,"aria-describedby",Ce)})})})]);return{uid:l.uid,dom:l.dom,components:p,behaviours:I,events:P,apis:{getField:function(V){return jo(V,l,"field")},getLabel:function(V){return jo(V,l,"label")}}}},apis:{getField:function(l,p){return l.getField(p)},getLabel:function(l,p){return l.getLabel(p)}}}),Pw=Object.freeze({__proto__:null,exhibit:function(l,p){return Yf({attributes:Td([{key:p.tabAttr,value:"true"}])})}}),ei=ji({fields:[Bt("tabAttr","data-alloy-tabstop")],name:"tabstopping",active:Pw}),mM=tinymce.util.Tools.resolve("tinymce.html.Entities"),Ag=function(l,p,x,C){return{dom:Ig(x),components:l.toArray().concat([p]),fieldBehaviours:$n(C)}},Ig=function(l){return{tag:"div",classes:["tox-form__group"].concat(l)}},pd=Rr("form-component-change"),F0=Rr("form-close"),u1=Rr("form-cancel"),Dp=Rr("form-action"),af=Rr("form-submit"),Xm=Rr("form-block"),IC=Rr("form-unblock"),vM=Rr("form-tabchange"),Ml=Rr("form-resize"),l1=U([vi("data"),Bt("inputAttributes",{}),Bt("inputStyles",{}),Bt("tag","input"),Bt("inputClasses",[]),Ho("onSetValue"),Bt("styles",{}),Bt("eventOrder",{}),Xa("inputBehaviours",[lr,co]),Bt("selectOnFocus",!0)]),xy=Bl({name:"Input",configFields:l1(),factory:function(l,p){return{uid:l.uid,dom:t2(l),components:[],behaviours:ve(ve({},Dg(x=l)),vs(x.inputBehaviours,[lr.config({store:ve(ve({mode:"manual"},x.data.map(function(C){return{initialValue:C}}).getOr({})),{getValue:function(C){return Kl(C.element)},setValue:function(C,I){Kl(C.element)!==I&&ml(C.element,I)}}),onSetValue:x.onSetValue})])),eventOrder:l.eventOrder};var x}}),V0={},Zm={exports:V0};function Km(l){setTimeout(function(){throw l},0)}function Rw(l){var p=un(l);return Io(Lw,p)}function yM(l,p){ri(p.getRoot(l).getOr(l.element),p.invalidClass),p.notify.each(function(x){Rw(l.element)&&Ur(l.element,"aria-invalid",!1),x.getContainer(l).each(function(C){Uy(C,x.validHtml)}),x.onValid(l)})}function Og(l,p,x,C){Qn(p.getRoot(l).getOr(l.element),p.invalidClass),p.notify.each(function(I){Rw(l.element)&&Ur(l.element,"aria-invalid",!0),I.getContainer(l).each(function(P){Uy(P,C)}),I.onInvalid(l,C)})}function Kx(l,p,x){return p.validator.fold(function(){return Ap(Po.value(!0))},function(C){return C.validate(l)})}function Eg(l,p,x){return p.notify.each(function(C){C.onValidate(l)}),Kx(l,p).map(function(C){return l.getSystem().isConnected()?C.fold(function(I){return Og(l,p,0,I),Po.error(I)},function(I){return yM(l,p),Po.value(I)}):Po.error("No longer in system")})}!function(){var l=this,p=function(){var x,C,I,P={exports:{}};function V(){}function j(ze){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof ze)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Oe(ze,this)}function Y(ze,Ue){for(;3===ze._state;)ze=ze._value;0!==ze._state?(ze._handled=!0,j._immediateFn(function(){var qe,Je=1===ze._state?Ue.onFulfilled:Ue.onRejected;if(null!==Je){try{qe=Je(ze._value)}catch(Ee){return void fe(Ue.promise,Ee)}ae(Ue.promise,qe)}else(1===ze._state?ae:fe)(Ue.promise,ze._value)})):ze._deferreds.push(Ue)}function ae(ze,Ue){try{if(Ue===ze)throw new TypeError("A promise cannot be resolved with itself.");if(Ue&&("object"==typeof Ue||"function"==typeof Ue)){var qe=Ue.then;if(Ue instanceof j)return ze._state=3,ze._value=Ue,void me(ze);if("function"==typeof qe)return void Oe((Je=qe,Ee=Ue,function(){Je.apply(Ee,arguments)}),ze)}ze._state=1,ze._value=Ue,me(ze)}catch(Ze){fe(ze,Ze)}var Je,Ee}function fe(ze,Ue){ze._state=2,ze._value=Ue,me(ze)}function me(ze){2===ze._state&&0===ze._deferreds.length&&j._immediateFn(function(){ze._handled||j._unhandledRejectionFn(ze._value)});for(var Ue=0,qe=ze._deferreds.length;Ue<qe;Ue++)Y(ze,ze._deferreds[Ue]);ze._deferreds=null}function Ce(ze,Ue,qe){this.onFulfilled="function"==typeof ze?ze:null,this.onRejected="function"==typeof Ue?Ue:null,this.promise=qe}function Oe(ze,Ue){var qe=!1;try{ze(function(Je){qe||(qe=!0,ae(Ue,Je))},function(Je){qe||(qe=!0,fe(Ue,Je))})}catch(Je){if(qe)return;qe=!0,fe(Ue,Je)}}x=P,C="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},I=setTimeout,j.prototype.catch=function(ze){return this.then(null,ze)},j.prototype.then=function(ze,Ue){var qe=new this.constructor(V);return Y(this,new Ce(ze,Ue,qe)),qe},j.all=function(ze){var Ue=Array.prototype.slice.call(ze);return new j(function(qe,Je){if(0===Ue.length)return qe([]);for(var Ee=Ue.length,Ze=0;Ze<Ue.length;Ze++)!function ft(Ct,Jt){try{if(Jt&&("object"==typeof Jt||"function"==typeof Jt)){var Ft=Jt.then;if("function"==typeof Ft)return Ft.call(Jt,function(nn){ft(Ct,nn)},Je),0}Ue[Ct]=Jt,0==--Ee&&qe(Ue)}catch(nn){Je(nn)}}(Ze,Ue[Ze])})},j.resolve=function(ze){return ze&&"object"==typeof ze&&ze.constructor===j?ze:new j(function(Ue){Ue(ze)})},j.reject=function(ze){return new j(function(Ue,qe){qe(ze)})},j.race=function(ze){return new j(function(Ue,qe){for(var Je=0,Ee=ze.length;Je<Ee;Je++)ze[Je].then(Ue,qe)})},j._immediateFn="function"==typeof setImmediate?function(ze){setImmediate(ze)}:function(ze){I(ze,0)},j._unhandledRejectionFn=function(ze){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",ze)},j._setImmediateFn=function(ze){j._immediateFn=ze},j._setUnhandledRejectionFn=function(ze){j._unhandledRejectionFn=ze},x.exports?x.exports=j:C.Promise||(C.Promise=j);var Ge=P.exports;return{boltExport:("undefined"!=typeof window?window:Function("return this;")()).Promise||Ge}};"object"==typeof V0&&void 0!==Zm?Zm.exports=p():(l="undefined"!=typeof globalThis?globalThis:l||self).EphoxContactWrapper=p()}();var Nf,_y,eh=Zm.exports.boltExport,OC=function(l){function p(V){I()?P(V):C.push(V)}var x=J.none(),C=[],I=function(){return x.isSome()},P=function(V){x.each(function(j){setTimeout(function(){V(j)},0)})};return l(function(V){I()||(x=J.some(V),zr(C,P),C=[])}),{get:p,map:function(V){return OC(function(j){p(function(Y){j(V(Y))})})},isReady:I}},r2={nu:OC,pure:function(l){return OC(function(p){p(l)})}},H0=function(l){function p(x){l().then(x,Km)}return{map:function(x){return H0(function(){return l().then(x)})},bind:function(x){return H0(function(){return l().then(function(C){return x(C).toPromise()})})},anonBind:function(x){return H0(function(){return l().then(function(){return x.toPromise()})})},toLazy:function(){return r2.nu(p)},toCached:function(){var x=null;return H0(function(){return x=null===x?l():x})},toPromise:l,get:p}},$m=function(l){return H0(function(){return new eh(l)})},Ap=function(l){return H0(function(){return eh.resolve(l)})},Lw=["input","textarea"],$x=Object.freeze({__proto__:null,markValid:yM,markInvalid:Og,query:Kx,run:Eg,isInvalid:function(l,p){return la(p.getRoot(l).getOr(l.element),p.invalidClass)}}),o2=Object.freeze({__proto__:null,events:function(l,p){return l.validator.map(function(x){return Ei([xn(x.onEvent,function(C){Eg(C,l).get(Z)})].concat(x.validateOnLoad?[ca(function(C){Eg(C,l).get(K)})]:[]))}).getOr({})}}),Jm=ji({fields:[Dn("invalidClass"),Bt("getRoot",J.none),Wi("notify",[Bt("aria","alert"),Bt("getContainer",J.none),Bt("validHtml",""),Ho("onValid"),Ho("onInvalid"),Ho("onValidate")]),Wi("validator",[Dn("validate"),Bt("onEvent","input"),Bt("validateOnLoad",!0)])],name:"invalidating",active:o2,apis:$x,extra:{validation:function(l){return function(p){var x=lr.getValue(p);return Ap(l(x))}}}}),EC=Object.freeze({__proto__:null,getCoupled:function(l,p,x,C){return x.getOrCreate(l,p,C)}}),ys=ji({fields:[Xl("others",V1(Po.value,Hc()))],name:"coupling",apis:EC,state:Object.freeze({__proto__:null,init:function(){var l={},p=U({});return ec({readState:p,getOrCreate:function(x,C,I){var P=Ni(C.others);if(P)return vn(l,I).getOrThunk(function(){var V=vn(C.others,I).getOrDie("No information found for coupled component: "+I)(x),j=x.getSystem().build(V);return l[I]=j});throw new Error("Cannot find coupled component: "+I+". Known coupled components: "+JSON.stringify(P,null,2))}})}})}),i2=U("sink"),Qm=U(Kd({name:i2(),overrides:U({dom:{tag:"div"},behaviours:$n([nl.config({useFixed:pt})]),events:Ei([Id(Ed()),Id(Jl()),Id(vl())])})}));function Nw(l,p){var x=l.getHotspot(p).getOr(p),C=l.getAnchorOverrides();return l.layouts.fold(function(){return{type:"hotspot",hotspot:x,overrides:C}},function(I){return{type:"hotspot",hotspot:x,overrides:C,layouts:I}})}function W0(l,p,x,C,I,P,V){var j,Y=Nw(l,x),ae=x,fe=C,me=I,Ce=V,Oe=p,Ge=(0,(j=l).fetch)(ae).map(Oe),ze=u_(ae,j);return Ge.map(function(Ue){return Ue.bind(function(qe){return J.from(Gm.sketch(ve(ve({},me.menu()),{uid:ip(""),data:qe,highlightImmediately:Ce===Nf.HighlightFirst,onOpenMenu:function(Je,Ee){var Ze=ze().getOrDie();nl.position(Ze,Ee,{anchor:Y}),qo.decloak(fe)},onOpenSubmenu:function(Je,Ee,Ze){var ft=ze().getOrDie();nl.position(ft,Ze,{anchor:{type:"submenu",item:Ee}}),qo.decloak(fe)},onRepositionMenu:function(Je,Ee,Ze){var ft=ze().getOrDie();nl.position(ft,Ee,{anchor:Y}),zr(Ze,function(Ct){nl.position(ft,Ct.triggeredMenu,{anchor:{type:"submenu",item:Ct.triggeringItem}})})},onEscape:function(){return co.focus(ae),qo.close(fe),J.some(!0)}})))})}).map(function(Ue){return Ue.fold(function(){qo.isOpen(C)&&qo.close(C)},function(qe){qo.cloak(C),qo.open(C,qe),P(C)}),C})}function c1(l,p,x,C,I,P){var V=ys.getCoupled(x,"sandbox");return(qo.isOpen(V)?function(j,Y,ae,fe,me,Ce,Oe){return qo.close(fe),Ap(fe)}:W0)(l,p,x,V,C,I,P)}function bM(l){qo.getState(l).each(function(p){Gm.repositionMenus(p)})}function Jx(l,p,x){var C=yu(),I=u_(p,l);return{dom:{tag:"div",classes:l.sandboxClasses,attributes:{id:C.id,role:"listbox"}},behaviours:Qc(l.sandboxBehaviours,[lr.config({store:{mode:"memory",initialValue:p}}),qo.config({onOpen:function(P,V){var j,Y,ae,me,Ce,Oe=Nw(l,p);C.link(p.element),l.matchWidth&&(j=Oe.hotspot,ae=l.useMinWidth,me=Wo.getCurrent(Y=V).getOr(Y),Ce=gn(j.element),ae?Qr(me.element,"min-width",Ce+"px"):ns.set(me.element,Ce)),l.onOpen(Oe,P,V),void 0!==x&&void 0!==x.onOpen&&x.onOpen(P,V)},onClose:function(P,V){C.unlink(p.element),void 0!==x&&void 0!==x.onClose&&x.onClose(P,V)},isPartOf:function(P,V,j){return nc(V,j)||nc(p,j)},getAttachPoint:function(){return I().getOrDie()}}),Wo.config({find:function(P){return qo.getState(P).bind(function(V){return Wo.getCurrent(V)})}}),Va.config({channels:ve(ve({},Ob({isExtraPart:Ke})),Ws({doReposition:bM}))})])}}function Qx(l){bM(ys.getCoupled(l,"sandbox"))}function th(){return[Bt("sandboxClasses",[]),yp("sandboxBehaviours",[Wo,Va,qo,lr])]}function Pg(l){return Kd({name:l+"-edge",overrides:function(p){return p.model.manager.edgeActions[l].fold(function(){return{}},function(x){return{events:Ei([Dv(mu(),function(C,I,P){return x(C,P)},[p]),Dv(Jl(),function(C,I,P){return x(C,P)},[p]),Dv(nm(),function(C,I,P){P.mouseIsDown.get()&&x(C,P)},[p])])}})}})}function Bw(l){var p=l.event.raw;return-1===p.type.indexOf("touch")?void 0!==p.clientX?J.some(p).map(function(x){return Ca(x.clientX,x.clientY)}):J.none():void 0!==p.touches&&1===p.touches.length?J.some(p.touches[0]).map(function(x){return Ca(x.clientX,x.clientY)}):J.none()}function ev(l){return l.model.minX}function tv(l){return l.model.minY}function zw(l){return l.model.minX-1}function Fw(l){return l.model.minY-1}function Rg(l){return l.model.maxX}function nv(l){return l.model.maxY}function Vw(l){return l.model.maxX+1}function Oh(l){return l.model.maxY+1}function G0(l,p,x){return p(l)-x(l)}function rv(l){return G0(l,Rg,ev)}function f1(l){return G0(l,nv,tv)}function xM(l){return rv(l)/2}function Hw(l){return f1(l)/2}function U0(l){return l.stepSize}function e_(l){return l.snapToGrid}function j0(l){return l.snapStart}function _M(l){return l.rounded}function Ww(l,p){return void 0!==l[p+"-edge"]}function Gw(l){return Ww(l,"left")}function q0(l){return Ww(l,"right")}function wM(l){return Ww(l,"top")}function PC(l){return Ww(l,"bottom")}function Lg(l){return l.model.value.get()}function ov(l,p){return{x:l,y:p}}function nh(l,p){Gr(l,Bg(),{value:p})}function Uw(l,p,x,C){return l<p?l:x<l?x:l===p?p-1:Math.max(p,l-C)}function RC(l,p,x,C){return x<l?l:l<p?p:l===x?x+1:Math.min(x,l+C)}function SM(l,p,x){return Math.max(p,Math.min(x,l))}function LC(l){var p=l.min,x=l.max,C=l.range,I=l.value,P=l.step,V=l.snap,j=l.snapStart,Y=l.rounded,me=l.minBound,Ce=l.maxBound,Oe=l.screenRange,Ge=l.hasMinEdge?p-1:p,ze=l.hasMaxEdge?x+1:x;if(I<me)return Ge;if(Ce<I)return ze;var Ue,qe,Je,Ee,Ze,ft=SM((Ze=me,(Math.min(Ce,Math.max(I,Ze))-Ze)/Oe*C+p),Ge,ze);return V&&p<=ft&&ft<=x?(Ue=ft,qe=p,Je=x,Ee=P,j.fold(function(){var Ct=Math.round((Ue-qe)/Ee)*Ee;return SM(qe+Ct,qe-1,Je+1)},function(Ct){var Jt=Math.round((Ue-Ct)%Ee/Ee),Ft=Math.floor((Ue-Ct)/Ee),nn=Math.floor((Je-Ct)/Ee),Cn=Math.min(nn,Ft+Jt);return Math.max(Ct,Ct+Cn*Ee)})):Y?Math.round(ft):ft}function CM(l){var p=l.min,I=l.value;return I<p?l.hasMinEdge?0:l.centerMinEdge:l.max<I?l.hasMaxEdge?l.maxBound:l.centerMaxEdge:(I-p)/l.range*l.maxOffset}function Eh(l){return l.element.dom.getBoundingClientRect()}function ti(l){return Eh(l)[$C]}function d1(l){return Eh(l).right}function jw(l){return Eh(l).top}function kM(l){return Eh(l).bottom}function MM(l){return Eh(l).width}function h1(l){return Eh(l).height}function TM(l,p){var x=Eh(l),C=Eh(p);return(x[$C]+x.right)/2-C[$C]}function a2(l,p){var x=Eh(l),C=Eh(p);return(x.top+x.bottom)/2-C.top}function t_(l,p){Gr(l,Bg(),{value:p})}function NC(l,p,x){return LC({min:ev(p),max:Rg(p),range:rv(p),value:x,step:U0(p),snap:e_(p),snapStart:j0(p),rounded:_M(p),hasMinEdge:Gw(p),hasMaxEdge:q0(p),minBound:ti(l),maxBound:d1(l),screenRange:MM(l)})}function BC(l){return function(p,x){return t_(p,{x:I=(0<l?RC:Uw)(Lg(C=x).x,ev(C),Rg(C),U0(C))}),J.some(I).map(pt);var C,I}}function qw(l,p,x,C,I,P){var V,j,Y,ae,fe,me,Ce,Oe,Ge=(j=P,Y=x,ae=C,fe=I,me=MM(V=p),Ce=ae.bind(function(ze){return J.some(TM(ze,V))}).getOr(0),Oe=fe.bind(function(ze){return J.some(TM(ze,V))}).getOr(me),CM({min:ev(j),max:Rg(j),range:rv(j),value:Y,hasMinEdge:Gw(j),hasMaxEdge:q0(j),minBound:ti(V),minOffset:0,maxBound:d1(V),maxOffset:me,centerMinEdge:Ce,centerMaxEdge:Oe}));return ti(p)-ti(l)+Ge}function n_(l,p){Gr(l,Bg(),{value:p})}function Y0(l,p,x){return LC({min:tv(p),max:nv(p),range:f1(p),value:x,step:U0(p),snap:e_(p),snapStart:j0(p),rounded:_M(p),hasMinEdge:wM(p),hasMaxEdge:PC(p),minBound:jw(l),maxBound:kM(l),screenRange:h1(l)})}function Yw(l){return function(p,x){return n_(p,{y:I=(0<l?RC:Uw)(Lg(C=x).y,tv(C),nv(C),U0(C))}),J.some(I).map(pt);var C,I}}function gd(l,p,x,C,I,P){var V,j,Y,ae,fe,me,Ce,Oe,Ge=(j=P,Y=x,ae=C,fe=I,me=h1(V=p),Ce=ae.bind(function(ze){return J.some(a2(ze,V))}).getOr(0),Oe=fe.bind(function(ze){return J.some(a2(ze,V))}).getOr(me),CM({min:tv(j),max:nv(j),range:f1(j),value:Y,hasMinEdge:wM(j),hasMaxEdge:PC(j),minBound:jw(V),minOffset:0,maxBound:kM(V),maxOffset:me,centerMinEdge:Ce,centerMaxEdge:Oe}));return jw(p)-jw(l)+Ge}function r_(l,p){Gr(l,Bg(),{value:p})}function Ng(l,p){return{x:l,y:p}}function Ph(l,p){return function(x,C){return P=C,V=0<l?RC:Uw,r_(x,Ng(j=(I=p)?Lg(P).x:V(Lg(P).x,ev(P),Rg(P),U0(P)),I?V(Lg(P).y,tv(P),nv(P),U0(P)):Lg(P).y)),J.some(j).map(pt);var I,P,V,j}}function zC(l){return"<alloy.field."+l+">"}function o_(l){return tb[l]}function FC(l,p,x){return lr.config(No({store:{mode:"manual",getValue:p,setValue:x}},l.map(function(C){return{store:{initialValue:C}}}).getOr({})))}function u2(l){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:l},behaviours:$n([co.config({ignore:!0}),ei.config({})])}}function AM(l){return{dom:{tag:"div",classes:["tox-navobj"]},components:[u2([S1]),l,u2([rk])],behaviours:$n([eb(1)])}}function Ip(l,p){Gr(l,Ed(),{raw:{which:9,shiftKey:p}})}function us(l,p){var x=p.element;la(x,S1)?Ip(l,!0):la(x,rk)&&Ip(l,!1)}function Es(l){return s1(l,["."+S1,"."+rk].join(","),Ke)}function vd(l,p){return ok(document.createElement("canvas"),l,p)}function iv(l){var p=vd(l.width,l.height);return Ep(p).drawImage(l,0,0),p}function Xw(l){return l.naturalWidth||l.width}function p1(l){return l.naturalHeight||l.height}function Bf(l,p,x){return p=p||"image/png",Le(HTMLCanvasElement.prototype.toBlob)?new eh(function(I,P){l.toBlob(function(V){V?I(V):P()},p,x)}):(C=l.toDataURL(p,x),new eh(function(I,P){(function(){var V=C.split(","),j=/data:([^;]+)/.exec(V[0]);if(!j)return J.none();for(var Y=j[1],fe=atob(V[1]),me=fe.length,Ce=Math.ceil(me/1024),Oe=new Array(Ce),Ge=0;Ge<Ce;++Ge){for(var ze=1024*Ge,Ue=Math.min(1024+ze,me),qe=new Array(Ue-ze),Je=ze,Ee=0;Je<Ue;++Ee,++Je)qe[Ee]=fe[Je].charCodeAt(0);Oe[Ge]=new Uint8Array(qe)}return J.some(new Blob(Oe,{type:Y}))})().fold(function(){P("uri is not base64: "+C)},I)}));var C}function Zw(l,p,x){function C(I,P){return l.then(function(V){return V.toDataURL(I||"image/png",P)})}return{getType:U(p.type),toBlob:function(){return eh.resolve(p)},toDataURL:U(x),toBase64:function(){return x.split(",")[1]},toAdjustedBlob:function(I,P){return l.then(function(V){return Bf(V,I,P)})},toAdjustedDataURL:C,toAdjustedBase64:function(I,P){return C(I,P).then(function(V){return V.split(",")[1]})},toCanvas:function(){return l.then(iv)}}}function X0(l,p){return Bf(l,p).then(function(x){return Zw(eh.resolve(l),x,l.toDataURL())})}function Z0(l,p,x){var C="string"==typeof l?parseFloat(l):l;return x<C?C=x:C<p&&(C=p),C}function Kw(l,p){for(var x=[],C=new Array(25),I=0;I<5;I++){for(var P=0;P<5;P++)x[P]=p[P+5*I];for(P=0;P<5;P++){for(var V=0,j=0;j<5;j++)V+=l[P+5*j]*x[j];C[P+5*I]=V}}return C}function K0(l,p){return l.toCanvas().then(function(x){return rb(x,l.getType(),p)})}function VC(l){return function(p,x){return K0(p,l([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],x))}}function yd(l,p){void 0===p&&(p=2);var x=Math.pow(10,p),C=Math.round(l*x);return Math.ceil(C/x)}function OM(l){return uv(l)}function l2(l){return k2(l)}function c2(l,p){return ky(l,p)}function EM(l,p){return ob(l,p)}function rh(l,p){return YM(l,p)}function HC(l,p){return C=p,(x=l).toCanvas().then(function(I){return XM(I,x.getType(),C)});var x,C}function f2(l,p){return C=p,(x=l).toCanvas().then(function(I){return ki(I,x.getType(),C)});var x,C}function $w(l,p,x){return tf(l,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:x},p)}function m1(l,p){return $w(l,p,[])}function d2(l,p){return $w(l,p,[yo.config({})])}function Jw(l,p,x){return{dom:{tag:"span",innerHtml:x.translate(l),classes:[p+"__select-label"]},behaviours:$n([yo.config({})])}}function i_(l,p,x){function C(fe,me){var Ce=lr.getValue(fe);return co.focus(Ce),Gr(Ce,"keydown",{raw:me.event.raw}),bd.close(Ce),J.some(!0)}var I=Nr(K),P=l.text.map(function(fe){return di(Jw(fe,p,x.providers))}),V=l.icon.map(function(fe){return di(d2(fe,x.providers.icons))}),j=l.role.fold(function(){return{}},function(fe){return{role:fe}}),Y=l.tooltip.fold(function(){return{}},function(fe){var me=x.providers.translate(fe);return{title:me,"aria-label":me}}),ae=tf("chevron-down",{tag:"div",classes:[p+"__select-chevron"]},x.providers.icons);return di(bd.sketch(ve(ve(ve({},l.uid?{uid:l.uid}:{}),j),{dom:{tag:"button",classes:[p,p+"--select"].concat(Ht(l.classes,function(fe){return p+"--"+fe})),attributes:ve({},Y)},components:yy([V.map(function(fe){return fe.asSpec()}),P.map(function(fe){return fe.asSpec()}),J.some(ae)]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:$n(Ve(Ve([],l.dropdownBehaviours,!0),[R0(function(){return l.disabled||x.providers.isDisabled()}),$a(),l_.config({}),yo.config({}),sr("dropdown-events",[e1(l,I),Lx(l,I)]),sr("menubutton-update-display-text",[xn(uf,function(fe,me){P.bind(function(Ce){return Ce.getOpt(fe)}).each(function(Ce){yo.set(Ce,[Od(x.providers.translate(me.event.text))])})}),xn(T2,function(fe,me){V.bind(function(Ce){return Ce.getOpt(fe)}).each(function(Ce){yo.set(Ce,[d2(me.event.icon,x.providers.icons)])})})])],!1)),eventOrder:No(My,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:$n([Zr.config({mode:"special",onLeft:C,onRight:C})]),lazySink:x.getSink,toggleClass:p+"--active",parts:{menu:rC(0,0,l.presets)},fetch:function(fe){return $m(Qe(l.fetch,fe))}}))).asSpec()}function v1(l){return"separator"===l.type}function y1(l,p,x,C){var I=Rr("primary-menu"),P=f_(l,x.shared.providers.menuItems());if(0===P.items.length)return J.none();var V=Ow(I,P.items,p,x,C),j=jn(P.menus,function(ae,fe){return Ow(fe,ae,p,x,!1)}),Y=No(j,yf(I,V));return J.from(Gm.tieredData(I,Y,P.expansions))}function b1(l){return{isDisabled:function(){return Vr.isDisabled(l)},setDisabled:function(p){return Vr.set(l,p)},setActive:function(p){var x=l.element;p?(Qn(x,"tox-tbtn--enabled"),Ur(x,"aria-pressed",!0)):(ri(x,"tox-tbtn--enabled"),Ss(x,"aria-pressed"))},isActive:function(){return la(l.element,"tox-tbtn--enabled")}}}function WC(l,p,x,C){return i_({text:l.text,icon:l.icon,tooltip:l.tooltip,role:C,fetch:function(I,P){l.fetch(function(V){P(y1(V,Mp.CLOSE_ON_EXECUTE,x,!1))})},onSetup:l.onSetup,getApi:b1,columns:1,presets:"normal",classes:[],dropdownBehaviours:[ei.config({})]},p,x.shared)}function GC(l,p,x,C,I,P){void 0===x&&(x=[]);var V=p.fold(function(){return{}},function(ae){return{action:ae}}),j=ve({buttonBehaviours:$n([R0(function(){return l.disabled||P.isDisabled()}),$a(),ei.config({}),sr("button press",[qh("click"),qh("mousedown")])].concat(x)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},V),Y=No(j,{dom:C});return No(Y,{components:I})}function a_(l,p,x,C){void 0===C&&(C=[]);var I={tag:"button",classes:["tox-tbtn"],attributes:l.tooltip.map(function(V){return{"aria-label":x.translate(V),title:x.translate(V)}}).getOr({})},P=l.icon.map(function(V){return m1(V,x.icons)});return GC(l,p,C,I,yy([P]),x)}function h2(l,p,x,C){void 0===C&&(C=[]);var I=a_(l,J.some(p),x,C);return il.sketch(I)}function UC(l,p,x,C,I){void 0===C&&(C=[]),void 0===I&&(I=[]);var P=x.translate(l.text),V=l.icon?l.icon.map(function(fe){return m1(fe,x.icons)}):J.none(),j=V.isSome()?yy([V]):[],Y=V.isSome()?{}:{innerHtml:P},ae=Ve(Ve(Ve(Ve([],l.primary||l.borderless?["tox-button"]:["tox-button","tox-button--secondary"],!0),V.isSome()?["tox-button--icon"]:[],!0),l.borderless?["tox-button--naked"]:[],!0),I,!0);return GC(l,p,C,ve(ve({tag:"button",classes:ae},Y),{attributes:{title:P}}),j,x)}function PM(l,p,x,C,I){void 0===C&&(C=[]),void 0===I&&(I=[]);var P=UC(l,J.some(p),x,C,I);return il.sketch(P)}function p2(l,p){return function(x){"custom"===p?Gr(x,Dp,{name:l,value:{}}):"submit"===p?Bo(x,af):"cancel"===p?Bo(x,u1):console.error("Unknown button type: ",p)}}function Ec(l,p,x){if("menu"===p){var C=l,I=di(WC(ve(ve({},l),{onSetup:function(ae){return ae.setDisabled(l.disabled),K},fetch:(P=C.items,V=function(){return I},j=x,function(ae){ae(Ht(P,function(fe){var me,Ce,Oe=fe.text.fold(function(){return{}},function(Ge){return{text:Ge}});return ve(ve({type:fe.type,active:!1},Oe),{onAction:function(Ge){var ze=!Ge.isActive();Ge.setActive(ze),Ce.storage.set(ze),j.shared.getSink().each(function(Ue){V().getOpt(Ue).each(function(qe){ed(qe.element),Gr(qe,Dp,{name:Ce.name,value:Ce.storage.get()})})})},onSetup:(me=Ce=fe,function(Ge){Ge.setActive(me.storage.get())})})}))})}),"tox-tbtn",x,J.none()));return I.asSpec()}var P,V,j;if("custom"===p||"cancel"===p||"submit"===p){var Y=p2(l.name,p);return PM(ve(ve({},l),{borderless:!1}),Y,x.shared.providers,[])}console.error("Unknown footer button type: ",p)}function RM(l,p){return Is({factory:ai,name:l,overrides:function(x){return{fieldBehaviours:$n([sr("coupled-input-behaviour",[xn(Ta(),function(C){jo(C,x,p).bind(Wo.getCurrent).each(function(I){jo(C,x,"lock").each(function(P){ci.isOn(P)&&x.onLockedChange(C,I,P)})})})])])}}})}function jC(l){var p=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(l);if(null===p)return Po.error(l);var x=parseFloat(p[1]);return Po.value({value:x,unit:p[2]})}function Hl(l,p){function x(I){return Sr(C,I)}var C={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1};return l.unit===p?J.some(l.value):x(l.unit)&&x(p)?J.some(C[l.unit]===C[p]?l.value:l.value/C[l.unit]*C[p]):J.none()}function Qw(l){return J.none()}function qC(l,p){function x(me){return tf(me,{tag:"span",classes:["tox-icon","tox-lock-icon__"+me]},p.icons)}function C(me){return{dom:{tag:"div",classes:["tox-form__group"]},components:me}}function I(me){return ai.parts.field({factory:xy,inputClasses:["tox-textfield"],inputBehaviours:$n([Vr.config({disabled:function(){return l.disabled||p.isDisabled()}}),$a(),ei.config({}),sr("size-input-events",[xn(Xf(),function(Ce,Oe){Gr(Ce,j,{isField1:me})}),xn(Zf(),function(Ce,Oe){Gr(Ce,pd,{name:l.name})})])]),selectOnFocus:!1})}function P(me){return{dom:{tag:"label",classes:["tox-label"],innerHtml:p.translate(me)}}}var V=Qw,j=Rr("ratio-event"),Y=Su.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:p.translate(l.label.getOr("Constrain proportions"))}},components:[x("lock"),x("unlock")],buttonBehaviours:$n([Vr.config({disabled:function(){return l.disabled||p.isDisabled()}}),$a(),ei.config({})])}),ae=Su.parts.field1(C([ai.parts.label(P("Width")),I(!0)])),fe=Su.parts.field2(C([ai.parts.label(P("Height")),I(!1)]));return Su.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[ae,fe,C([P("&nbsp;"),Y])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(me,Ce,Oe){jC(lr.getValue(me)).each(function(Ge){V(Ge).each(function(ze){var Ue,qe,Je,Ee;lr.setValue(Ce,(Ee=-1!==(Ee=(Ue=ze).value.toFixed((qe=Ue.unit)in(Je={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4})?Je[qe]:1)).indexOf(".")?Ee.replace(/\.?0*$/,""):Ee)+Ue.unit)})})},coupledFieldBehaviours:$n([Vr.config({disabled:function(){return l.disabled||p.isDisabled()},onDisabled:function(me){Su.getField1(me).bind(ai.getField).each(Vr.disable),Su.getField2(me).bind(ai.getField).each(Vr.disable),Su.getLock(me).each(Vr.disable)},onEnabled:function(me){Su.getField1(me).bind(ai.getField).each(Vr.enable),Su.getField2(me).bind(ai.getField).each(Vr.enable),Su.getLock(me).each(Vr.enable)}}),$a(),sr("size-input-events2",[xn(j,function(me,Ce){var Oe,Ge,ze,Ue=Ce.event.isField1,qe=Ue?Su.getField1(me):Su.getField2(me),Je=Ue?Su.getField2(me):Su.getField1(me),Ee=qe.map(lr.getValue).getOr("");Oe=Je.map(lr.getValue).getOr(""),Ge=jC(Ee).toOptional(),ze=jC(Oe).toOptional(),V=qt(Ge,ze,function(ft,Ct){return Hl(ft,Ct.unit).map(function(Jt){return Ct.value/Jt}).map(function(Jt){return Ft=Jt,nn=Ct.unit,function(Cn){return Hl(Cn,nn).map(function(fn){return{value:fn*Ft,unit:nn}})};var Ft,nn}).getOr(Qw)}).getOr(Qw)})])])})}function eS(l){if(De(l.changedTouches))for(var p="screenX screenY pageX pageY clientX clientY".split(" "),x=0;x<p.length;x++)l[p[x]]=l.changedTouches[0][p[x]]}function $0(l,p){return{uid:l.uid,dom:l.dom,components:p,behaviours:vs(l.formBehaviours,[lr.config({store:{mode:"manual",getValue:function(x){return jn(Sm(x,l),function(C,I){return C().bind(function(P){var V=Wo.getCurrent(P),j=new Error("Cannot find a current component to extract the value from for form part '"+I+"': "+bf(P.element));return V.fold(function(){return Po.error(j)},Po.value)}).map(lr.getValue)})},setValue:function(x,C){Qt(C,function(I,P){jo(x,l,P).each(function(V){Wo.getCurrent(V).each(function(j){lr.setValue(j,I)})})})}}})]),apis:{getField:function(x,C){return jo(x,l,C).bind(Wo.getCurrent)}}}}function J0(){return Wo.config({find:J.some})}function $D(l){return p=Xh,x=Uy,FC(l,function(C){return p(C.element)},function(C,I){return x(C.element,I)});var p,x}(_y=Nf=Nf||{})[_y.HighlightFirst=0]="HighlightFirst",_y[_y.HighlightNone=1]="HighlightNone";var g2,LM,s_,tS,u_=function(l,p){return l.getSystem().getByUid(p.uid+"-"+i2()).map(function(x){return function(){return Po.value(x)}}).getOrThunk(function(){return p.lazySink.fold(function(){return function(){return Po.error(new Error("No internal sink is specified, nor could an external sink be found"))}},function(x){return function(){return x(l)}})})},XC=U([Dn("dom"),Dn("fetch"),Ho("onOpen"),Fs("onExecute"),Bt("getHotspot",J.some),Bt("getAnchorOverrides",U({})),cm(),Xa("dropdownBehaviours",[ci,ys,Zr,co]),Dn("toggleClass"),Bt("eventOrder",{}),vi("lazySink"),Bt("matchWidth",!1),Bt("useMinWidth",!1),vi("role")].concat(th())),NM=U([ud({schema:[Ju()],name:"menu",defaults:function(l){return{onExecute:l.onExecute}}}),Qm()]),bd=tl({name:"Dropdown",configFields:XC(),partFields:NM(),factory:function(l,p,x,C){function I(Y){qo.getState(Y).each(function(ae){Gm.highlightPrimary(ae)})}function P(Y,ae){return Dd(Y),J.some(!0)}var V,j={expand:function(Y){ci.isOn(Y)||c1(l,Z,Y,C,K,Nf.HighlightNone).get(K)},open:function(Y){ci.isOn(Y)||c1(l,Z,Y,C,K,Nf.HighlightFirst).get(K)},isOpen:ci.isOn,close:function(Y){ci.isOn(Y)&&c1(l,Z,Y,C,K,Nf.HighlightFirst).get(K)},repositionMenus:function(Y){ci.isOn(Y)&&Qx(Y)}};return{uid:l.uid,dom:l.dom,components:p,behaviours:vs(l.dropdownBehaviours,[ci.config({toggleClass:l.toggleClass,aria:{mode:"expanded"}}),ys.config({others:{sandbox:function(Y){return Jx(l,Y,{onOpen:function(){return ci.on(Y)},onClose:function(){return ci.off(Y)}})}}}),Zr.config({mode:"special",onSpace:P,onEnter:P,onDown:function(Y,ae){return bd.isOpen(Y)?I(ys.getCoupled(Y,"sandbox")):bd.open(Y),J.some(!0)},onEscape:function(Y,ae){return bd.isOpen(Y)?(bd.close(Y),J.some(!0)):J.none()}}),co.config({})]),events:Vm(J.some(function(Y){c1(l,Z,Y,C,I,Nf.HighlightFirst).get(K)})),eventOrder:ve(ve({},l.eventOrder),((V={})[bc()]=["disabling","toggling","alloy.base.behaviour"],V)),apis:j,domModification:{attributes:ve(ve({"aria-haspopup":"true"},l.role.fold(function(){return{}},function(Y){return{role:Y}})),"button"===l.dom.tag?{type:vn(l.dom,"attributes").bind(function(Y){return vn(Y,"type")}).getOr("button")}:{})}}},apis:{open:function(l,p){return l.open(p)},expand:function(l,p){return l.expand(p)},close:function(l,p){return l.close(p)},isOpen:function(l,p){return l.isOpen(p)},repositionMenus:function(l,p){return l.repositionMenus(p)}}}),l_=ji({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:function(){return Ei([zs(is(),pt)])},exhibit:function(){return Yf({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})}})}),nS=Rr("color-input-change"),ZC=Rr("color-swatch-change"),rS=Rr("color-picker-cancel"),KC=Kd({schema:[Dn("dom")],name:"label"}),BM=Pg("top-left"),m2=Pg("top"),zM=Pg("top-right"),v2=Pg("right"),FM=Pg("bottom-right"),VM=Pg("bottom"),y2=Pg("bottom-left"),b2=[KC,Pg("left"),v2,m2,VM,BM,zM,y2,FM,Is({name:"thumb",defaults:U({dom:{styles:{position:"absolute"}}}),overrides:function(l){return{events:Ei([Ad(mu(),l,"spectrum"),Ad($l(),l,"spectrum"),Ad($i(),l,"spectrum"),Ad(Jl(),l,"spectrum"),Ad(nm(),l,"spectrum"),Ad(gb(),l,"spectrum")])}}}),Is({schema:[Bu("mouseIsDown",function(){return Nr(!1)})],name:"spectrum",overrides:function(l){function p(C,I){return x.getValueFromEvent(I).map(function(P){return x.setValueFrom(C,l,P)})}var x=l.model.manager;return{behaviours:$n([Zr.config({mode:"special",onLeft:function(C){return x.onLeft(C,l)},onRight:function(C){return x.onRight(C,l)},onUp:function(C){return x.onUp(C,l)},onDown:function(C){return x.onDown(C,l)}}),co.config({})]),events:Ei([xn(mu(),p),xn($l(),p),xn(Jl(),p),xn(nm(),function(C,I){l.mouseIsDown.get()&&p(C,I)})])}}})],Bg=U("slider.change.value"),$C="left",JC=BC(-1),HM=BC(1),oS=J.none,WM=J.none,x2={"top-left":J.none(),top:J.none(),"top-right":J.none(),right:J.some(function(l,p){nh(l,{x:Vw(p)})}),"bottom-right":J.none(),bottom:J.none(),"bottom-left":J.none(),left:J.some(function(l,p){nh(l,{x:zw(p)})})},QC=Object.freeze({__proto__:null,setValueFrom:function(l,p,x){var C=NC(l,p,x);return t_(l,{x:C}),C},setToMin:function(l,p){t_(l,{x:ev(p)})},setToMax:function(l,p){t_(l,{x:Rg(p)})},findValueOfOffset:NC,getValueFromEvent:function(l){return Bw(l).map(function(p){return p.left})},findPositionOfValue:qw,setPositionFromValue:function(l,p,x,C){var I=Lg(x),P=qw(l,C.getSpectrum(l),I.x,C.getLeftEdge(l),C.getRightEdge(l),x),V=gn(p.element)/2;Qr(p.element,"left",P-V+"px")},onLeft:JC,onRight:HM,onUp:oS,onDown:WM,edgeActions:x2}),zf=J.none,GM=J.none,wy=Yw(-1),iS=Yw(1),UM={"top-left":J.none(),top:J.some(function(l,p){nh(l,{y:Fw(p)})}),"top-right":J.none(),right:J.none(),"bottom-right":J.none(),bottom:J.some(function(l,p){nh(l,{y:Oh(p)})}),"bottom-left":J.none(),left:J.none()},av=Object.freeze({__proto__:null,setValueFrom:function(l,p,x){var C=Y0(l,p,x);return n_(l,{y:C}),C},setToMin:function(l,p){n_(l,{y:tv(p)})},setToMax:function(l,p){n_(l,{y:nv(p)})},findValueOfOffset:Y0,getValueFromEvent:function(l){return Bw(l).map(function(p){return p.top})},findPositionOfValue:gd,setPositionFromValue:function(l,p,x,C){var I=Lg(x),P=gd(l,C.getSpectrum(l),I.y,C.getTopEdge(l),C.getBottomEdge(l),x),V=Pu(p.element)/2;Qr(p.element,"top",P-V+"px")},onLeft:zf,onRight:GM,onUp:wy,onDown:iS,edgeActions:UM}),jM=Bw,c_=Ph(-1,!1),JD=Ph(1,!1),ek=Ph(-1,!0),_2=Ph(1,!0),w2={"top-left":J.some(function(l,p){nh(l,ov(zw(p),Fw(p)))}),top:J.some(function(l,p){nh(l,ov(xM(p),Fw(p)))}),"top-right":J.some(function(l,p){nh(l,ov(Vw(p),Fw(p)))}),right:J.some(function(l,p){nh(l,ov(Vw(p),Hw(p)))}),"bottom-right":J.some(function(l,p){nh(l,ov(Vw(p),Oh(p)))}),bottom:J.some(function(l,p){nh(l,ov(xM(p),Oh(p)))}),"bottom-left":J.some(function(l,p){nh(l,ov(zw(p),Oh(p)))}),left:J.some(function(l,p){nh(l,ov(zw(p),Hw(p)))})},tk=Object.freeze({__proto__:null,setValueFrom:function(l,p,x){var C=Ng(NC(l,p,x.left),Y0(l,p,x.top));return r_(l,C),C},setToMin:function(l,p){r_(l,Ng(ev(p),tv(p)))},setToMax:function(l,p){r_(l,Ng(Rg(p),nv(p)))},getValueFromEvent:jM,setPositionFromValue:function(l,p,x,C){var I=Lg(x),P=qw(l,C.getSpectrum(l),I.x,C.getLeftEdge(l),C.getRightEdge(l),x),V=gd(l,C.getSpectrum(l),I.y,C.getTopEdge(l),C.getBottomEdge(l),x),j=gn(p.element)/2,Y=Pu(p.element)/2;Qr(p.element,"left",P-j+"px"),Qr(p.element,"top",V-Y+"px")},onLeft:c_,onRight:JD,onUp:ek,onDown:_2,edgeActions:w2}),bs=tl({name:"Slider",configFields:[Bt("stepSize",1),Bt("onChange",K),Bt("onChoose",K),Bt("onInit",K),Bt("onDragStart",K),Bt("onDragEnd",K),Bt("snapToGrid",!1),Bt("rounded",!0),vi("snapStart"),Xl("model",Na("mode",{x:[Bt("minX",0),Bt("maxX",100),Bu("value",function(l){return Nr(l.mode.minX)}),Dn("getInitialValue"),Ii("manager",QC)],y:[Bt("minY",0),Bt("maxY",100),Bu("value",function(l){return Nr(l.mode.minY)}),Dn("getInitialValue"),Ii("manager",av)],xy:[Bt("minX",0),Bt("maxX",100),Bt("minY",0),Bt("maxY",100),Bu("value",function(l){return Nr({x:l.mode.minX,y:l.mode.minY})}),Dn("getInitialValue"),Ii("manager",tk)]})),Xa("sliderBehaviours",[Zr,lr]),Bu("mouseIsDown",function(){return Nr(!1)})],partFields:b2,factory:function(l,p,x,C){function I(Je){return io(Je,l,"thumb")}function P(Je){return io(Je,l,"spectrum")}function V(Je){return jo(Je,l,"left-edge")}function j(Je){return jo(Je,l,"right-edge")}function Y(Je){return jo(Je,l,"top-edge")}function ae(Je){return jo(Je,l,"bottom-edge")}function fe(Je,Ee){qe.setPositionFromValue(Je,Ee,l,{getLeftEdge:V,getRightEdge:j,getTopEdge:Y,getBottomEdge:ae,getSpectrum:P})}function me(Je,Ee){Ue.value.set(Ee),fe(Je,I(Je))}function Ce(Je){var Ee=l.mouseIsDown.get();l.mouseIsDown.set(!1),Ee&&jo(Je,l,"thumb").each(function(Ze){var ft=Ue.value.get();l.onChoose(Je,Ze,ft)})}function Oe(Je,Ee){Ee.stop(),l.mouseIsDown.set(!0),l.onDragStart(Je,I(Je))}function Ge(Je,Ee){Ee.stop(),l.onDragEnd(Je,I(Je)),Ce(Je)}var ze,Ue=l.model,qe=Ue.manager;return{uid:l.uid,dom:l.dom,components:p,behaviours:vs(l.sliderBehaviours,[Zr.config({mode:"special",focusIn:function(Je){return jo(Je,l,"spectrum").map(Zr.focusIn).map(pt)}}),lr.config({store:{mode:"manual",getValue:function(Je){return Ue.value.get()}}}),Va.config({channels:((ze={})[h0()]={onReceive:Ce},ze)})]),events:Ei([xn(Bg(),function(Je,Ee){!function(Ze,ft){me(Ze,ft);var Ct=I(Ze);l.onChange(Ze,Ct,ft),J.some(!0)}(Je,Ee.event.value)}),ca(function(Je,Ee){var Ze=Ue.getInitialValue();Ue.value.set(Ze);var ft=I(Je);fe(Je,ft);var Ct=P(Je);l.onInit(Je,ft,Ct,Ue.value.get())}),xn(mu(),Oe),xn($i(),Ge),xn(Jl(),Oe),xn(gb(),Ge)]),apis:{resetToMin:function(Je){qe.setToMin(Je,l)},resetToMax:function(Je){qe.setToMax(Je,l)},setValue:me,refresh:fe},domModification:{styles:{position:"relative"}}}},apis:{setValue:function(l,p,x){l.setValue(p,x)},resetToMin:function(l,p){l.resetToMin(p)},resetToMax:function(l,p){l.resetToMax(p)},refresh:function(l,p){l.refresh(p)}}}),x1=Rr("rgb-hex-update"),_1=Rr("slider-update"),aS=Rr("palette-update"),QD=[Xa("formBehaviours",[lr])],sf={getField:Zh(function(l,p,x){return l.getField(p,x)}),sketch:function(l){var p,x={field:function(P,V){return p.push(P),sg("form",zC(P),V)},record:U(p=[])},C=l(x),I=Ht(x.record(),function(P){return Is({name:P,pname:zC(P)})});return Cm("form",QD,I,$0,C)}},nk=Rr("valid-input"),Op=Rr("invalid-input"),S2=Rr("validating-input"),w1="colorcustom.rgb.",Q0=function(l){return Wo.config({find:l.getOpt})},eb=function(l){return Wo.config({find:function(p){return oo(p.element,l).bind(function(x){return p.getSystem().getByDom(x).toOptional()})}})},tb={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},qM=tinymce.util.Tools.resolve("tinymce.Resource"),sv=tinymce.util.Tools.resolve("tinymce.util.Tools"),Sy=Fr([Bt("preprocess",Z),Bt("postprocess",Z)]),nb=function(l,p){var x=pu("RepresentingConfigs.memento processors",Sy,p);return lr.config({store:{mode:"manual",getValue:function(C){var I=l.get(C),P=lr.getValue(I);return x.postprocess(P)},setValue:function(C,I){var P=x.preprocess(I),V=l.get(C);lr.setValue(V,P)}}})},Rh=FC,Cy=function(l){return lr.config({store:{mode:"memory",initialValue:l}})},S1=Rr("alloy-fake-before-tabstop"),rk=Rr("alloy-fake-after-tabstop"),eA=!(Dl().browser.isIE()||Dl().browser.isEdge()),Ep=function(l){return l.getContext("2d")},ok=function(l,p,x){return l.width=p,l.height=x,l},C1=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],rb=function(l,p,x){var C=Ep(l),I=function(P){for(var V,j,Y,ae,fe=P.data,me=x[0],Ce=x[1],Oe=x[2],Ge=x[3],ze=x[4],Ue=x[5],qe=x[6],Je=x[7],Ee=x[8],Ze=x[9],ft=x[10],Ct=x[11],Jt=x[12],Ft=x[13],nn=x[14],Cn=x[15],fn=x[16],In=x[17],Gn=x[18],yr=x[19],Hr=0;Hr<fe.length;Hr+=4)fe[Hr]=(V=fe[Hr])*me+(j=fe[Hr+1])*Ce+(Y=fe[Hr+2])*Oe+(ae=fe[Hr+3])*Ge+ze,fe[Hr+1]=V*Ue+j*qe+Y*Je+ae*Ee+Ze,fe[Hr+2]=V*ft+j*Ct+Y*Jt+ae*Ft+nn,fe[Hr+3]=V*Cn+j*fn+Y*In+ae*Gn+yr;return P}(C.getImageData(0,0,l.width,l.height));return C.putImageData(I,0,0),X0(l,p)},uv=(g2=[-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1],function(l){return K0(l,g2)}),ob=VC(function(l,p){return Kw(l,[1,0,0,0,p=Z0(255*p,-255,255),0,1,0,0,p,0,0,1,0,p,0,0,0,1,0,0,0,0,0,1])}),YM=VC(function(l,p){var x;return p=Z0(p,-1,1),Kw(l,[(x=(p*=100)<0?127+p/100*127:127*(0==(x=p%1)?C1[p]:C1[Math.floor(p)]*(1-x)+C1[Math.floor(p)+1]*x)+127)/127,0,0,0,.5*(127-x),0,x/127,0,0,.5*(127-x),0,0,x/127,0,.5*(127-x),0,0,0,1,0,0,0,0,0,1])}),k2=(LM=[0,-1,0,-1,5,-1,0,-1,0],function(l){return x=LM,(p=l).toCanvas().then(function(C){return I=C,P=p.getType(),V=x,Y=function(ae,fe,me){for(var Ce=function(yr,Hr,So){return So<yr?yr=So:yr<Hr&&(yr=Hr),yr},Oe=Math.round(Math.sqrt(me.length)),Ge=Math.floor(Oe/2),ze=ae.data,Ue=fe.data,qe=ae.width,Je=ae.height,Ee=0;Ee<Je;Ee++)for(var Ze=0;Ze<qe;Ze++){for(var ft=0,Ct=0,Jt=0,Ft=0;Ft<Oe;Ft++)for(var nn=0;nn<Oe;nn++){var Cn=Ce(Ze+nn-Ge,0,qe-1),fn=4*(Ce(Ee+Ft-Ge,0,Je-1)*qe+Cn),In=me[Ft*Oe+nn];ft+=ze[fn]*In,Ct+=ze[1+fn]*In,Jt+=ze[2+fn]*In}var Gn=4*(Ee*qe+Ze);Ue[Gn]=Ce(ft,0,255),Ue[1+Gn]=Ce(Ct,0,255),Ue[2+Gn]=Ce(Jt,0,255)}return fe}((j=Ep(I)).getImageData(0,0,I.width,I.height),j.getImageData(0,0,I.width,I.height),V),j.putImageData(Y,0,0),X0(I,P);var I,P,V,j,Y});var p,x}),ky=(s_=function(l,p){return 255*Math.pow(l/255,1-p)},function(l,p){return l.toCanvas().then(function(x){return function(C,I,P){for(var V=Ep(C),j=new Array(256),Y=0;Y<j.length;Y++)j[Y]=s_(Y,P);var ae=function(fe,me){for(var Ce=fe.data,Oe=0;Oe<Ce.length;Oe+=4)Ce[Oe]=me[Ce[Oe]],Ce[Oe+1]=me[Ce[Oe+1]],Ce[Oe+2]=me[Ce[Oe+2]];return fe}(V.getImageData(0,0,C.width,C.height),j);return V.putImageData(ae,0,0),X0(C,I)}(x,l.getType(),p)})}),M2=function(l,p,x){var C=Xw(l),I=p1(l),P=p/C,V=x/I,j=!1;(P<.5||2<P)&&(P=P<.5?.5:2,j=!0),(V<.5||2<V)&&(V=V<.5?.5:2,j=!0);var Y=ik(l,P,V);return j?Y.then(function(ae){return M2(ae,p,x)}):Y},ik=function(l,p,x){return new eh(function(C){var I=Xw(l),P=p1(l),V=Math.floor(I*p),j=Math.floor(P*x),Y=vd(V,j);Ep(Y).drawImage(l,0,0,I,P,0,0,V,j),C(Y)})},ki=function(l,p,x){var C=(x<0?360+x:x)*Math.PI/180,I=l.width,P=l.height,V=Math.sin(C),j=Math.cos(C),Y=yd(Math.abs(I*j)+Math.abs(P*V)),ae=yd(Math.abs(I*V)+Math.abs(P*j)),fe=vd(Y,ae),me=Ep(fe);return me.translate(Y/2,ae/2),me.rotate(C),me.drawImage(l,-I/2,-P/2),X0(fe,p)},XM=function(l,p,x){var C=vd(l.width,l.height),I=Ep(C);return"v"===x?(I.scale(1,-1),I.drawImage(l,0,-C.height)):(I.scale(-1,1),I.drawImage(l,-C.width,0)),X0(C,p)},ZM=Rr("toolbar.button.execute"),My=((tS={})[bc()]=["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],tS),uf=Rr("update-menu-text"),T2=Rr("update-menu-icon"),zg={type:"separator"},f_=function(l,p){var x,C,I;return Sn((x=ne(l)?l.split(" "):l,C=p,0<(I=Lr(x,function(P,V){return ne(V)?""===V?P:"|"===V?0<P.length&&!v1(P[P.length-1])?P.concat([zg]):P:Sr(C,V.toLowerCase())?P.concat([C[V.toLowerCase()]]):P:P.concat([V])},[])).length&&v1(I[I.length-1])&&I.pop(),I),function(P,V){var j,Y,ae,fe,me,Ce,Oe=function(ze){if(v1(ze))return ze;var Ue=vn(ze,"value").getOrThunk(function(){return Rr("generated-menu-item")});return No({value:Ue},ze)}(V),Ge=(Y=p,Sr(j=Oe,"getSubmenuItems")?(fe=Y,me=(ae=j).getSubmenuItems(),Ce=f_(me,fe),{item:ae,menus:No(Ce.menus,yf(ae.value,Ce.items)),expansions:No(Ce.expansions,yf(ae.value,ae.value))}):{item:j,menus:{},expansions:{}});return{menus:No(P.menus,Ge.menus),items:[Ge.item].concat(P.items),expansions:No(P.expansions,Ge.expansions)}},{menus:{},expansions:{},items:[]})},tA=U([Bt("field1Name","field1"),Bt("field2Name","field2"),jc("onLockedChange"),po(["lockClass"]),Bt("locked",!1),yp("coupledFieldBehaviours",[Wo,lr])]),D2=U([RM("field1","field2"),RM("field2","field1"),Is({factory:il,schema:[Dn("dom")],name:"lock",overrides:function(l){return{buttonBehaviours:$n([ci.config({selected:l.locked,toggleClass:l.markers.lockClass,aria:{mode:"pressed"}})])}}})]),Su=tl({name:"FormCoupledInputs",configFields:tA(),partFields:D2(),factory:function(l,p,x,C){return{uid:l.uid,dom:l.dom,components:p,behaviours:Qc(l.coupledFieldBehaviours,[Wo.config({find:J.some}),lr.config({store:{mode:"manual",getValue:function(I){var P=sx(I,l,["field1","field2"]),V={};return V[l.field1Name]=lr.getValue(P.field1()),V[l.field2Name]=lr.getValue(P.field2()),V},setValue:function(I,P){var V=sx(I,l,["field1","field2"]);bo(P,l.field1Name)&&lr.setValue(V.field1(),P[l.field1Name]),bo(P,l.field2Name)&&lr.setValue(V.field2(),P[l.field2Name])}}})]),apis:{getField1:function(I){return jo(I,l,"field1")},getField2:function(I){return jo(I,l,"field2")},getLock:function(I){return jo(I,l,"lock")}}}},apis:{getField1:function(l,p){return l.getField1(p)},getField2:function(l,p){return l.getField2(p)},getLock:function(l,p){return l.getLock(p)}}}),Qi={undo:U(Rr("undo")),redo:U(Rr("redo")),zoom:U(Rr("zoom")),back:U(Rr("back")),apply:U(Rr("apply")),swap:U(Rr("swap")),transform:U(Rr("transform")),tempTransform:U(Rr("temp-transform")),transformApply:U(Rr("transform-apply"))},sk=U("save-state"),oh=U("disable"),uk=U("enable"),lc={formActionEvent:Dp,saveState:sk,disable:oh,enable:uk},k1=tinymce.util.Tools.resolve("tinymce.geom.Rect"),d_=tinymce.util.Tools.resolve("tinymce.util.Observable"),Fg=tinymce.util.Tools.resolve("tinymce.util.VK");function M1(l,p,x,C,I){return h2({name:l,icon:J.some(p),disabled:x,tooltip:J.some(l),primary:!1,borderless:!1},C,I)}function $M(l,p){p?Vr.enable(l):Vr.disable(l)}var h_=0;function A2(l,p){function x(fn){var In=Ee.getHistoryStates();Jt.updateButtonUndoStates(fn,In.undoEnabled,In.redoEnabled),Gr(fn,lc.formActionEvent,{name:lc.saveState(),value:In.undoEnabled})}function C(fn){return fn.toBlob()}function I(fn){Gr(fn,lc.formActionEvent,{name:lc.disable(),value:{}})}function P(fn,In,Gn,yr,Hr){I(fn),function IM(l){return p=l,new eh(function(x){var C=new FileReader;C.onloadend=function(){x(C.result)},C.readAsDataURL(p)}).then(function(x){return Zw((C=l,new eh(function(I,P){function V(){Y.removeEventListener("load",ae),Y.removeEventListener("error",fe)}var j=URL.createObjectURL(C),Y=new Image,ae=function(){V(),I(Y)},fe=function(){V(),P("Unable to load data of type "+C.type+": "+j)};Y.addEventListener("load",ae),Y.addEventListener("error",fe),Y.src=j,Y.complete&&setTimeout(ae,0)}).then(function(I){!function(l){URL.revokeObjectURL(l.src)}(I);var P=vd(Xw(I),p1(I));return Ep(P).drawImage(I,0,0),P})),l,x);var C});var p}(In).then(Gn).then(C).then(yr).then(function(So){return ft(fn,So)}).then(function(){x(fn),Hr(),Ze(fn)}).catch(function(So){console.log(So),fn.getSystem().isConnected()&&Ze(fn)})}function V(fn,In,Gn){P(fn,Ee.getBlobState().blob,In,function(yr){return Ee.updateTempState(yr)},Gn)}function j(fn){var In=Ee.getBlobState().url;return Ee.destroyTempState(),x(fn),In}var Y,ae,fe,me,Ce,Oe,Ge,ze,Ue,qe,Je,Ee=function lk(l){var p,x,C,I,P=Nr(l),V=Ha(),j=(x=-1,{data:p=[],add:function(Oe){var Ge=p.splice(++x);return p.push(Oe),{state:Oe,removed:Ge}},undo:function(){if(C())return p[--x]},redo:function(){if(I())return p[++x]},canUndo:C=function(){return 0<x},canRedo:I=function(){return-1!==x&&x<p.length-1}});function Y(Oe){P.set(Oe)}function ae(Oe){URL.revokeObjectURL(Oe.url)}function fe(Oe){var Ge=me(Oe);Y(Ge);var ze=j.add(Ge).removed;return sv.each(ze,ae),Ge.url}function me(Oe){return{blob:Oe,url:URL.createObjectURL(Oe)}}function Ce(){V.on(ae),V.clear()}return j.add(l),{getBlobState:function(){return P.get()},setBlobState:Y,addBlobState:fe,getTempState:function(){return V.get().getOrThunk(P.get)},updateTempState:function(Oe){var Ge=me(Oe);return Ce(),V.set(Ge),Ge.url},addTempState:function(Oe){var Ge=me(Oe);return V.set(Ge),Ge.url},applyTempState:function(Oe){return V.get().fold(K,function(Ge){fe(Ge.blob),Oe()})},destroyTempState:Ce,undo:function(){var Oe=j.undo();return Y(Oe),Oe.url},redo:function(){var Oe=j.redo();return Y(Oe),Oe.url},getHistoryStates:function(){return{undoEnabled:j.canUndo(),redoEnabled:j.canRedo()}}}}(l.currentState),Ze=function(fn){Ft.getApplyButton(fn).each(function(In){Vr.enable(In)}),Gr(fn,lc.formActionEvent,{name:lc.enable(),value:{}})},ft=function(fn,In){return I(fn),Ct.updateSrc(fn,In)},Ct=(me=l.currentState.url,Oe=di({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),Ge=Nr(1),Ce=zv(),ze=ve(ve({},Ce),{run:function(fn){return Ce.get().each(fn)}}),Ue=Nr({x:0,y:0,w:1,h:1}),qe=Nr({x:0,y:0,w:1,h:1}),{memContainer:Je=di(Os.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[Oe.asSpec(),{dom:{tag:"img",attributes:{src:me}}},{dom:{tag:"div"},behaviours:$n([sr("image-panel-crop-events",[ca(function(fn){Je.getOpt(fn).each(function(In){var yr=function(l,p,x,C,I){function P(Ee,Ze){return{x:Ze.x-Ee.x,y:Ze.y-Ee.y,w:Ze.w,h:Ze.h}}function V(Ee,Ze,ft,Ct){var Jt=Ze.x+ft*Ee.deltaX,Ft=Ze.y+Ct*Ee.deltaY,nn=Math.max(20,Ze.w+ft*Ee.deltaW),Cn=Math.max(20,Ze.h+Ct*Ee.deltaH),fn=(l=k1.clamp({x:Jt,y:Ft,w:nn,h:Cn},x,"move"===Ee.name),P(x,l));Je.fire("updateRect",{rect:fn}),Ue(fn)}function j(Ee){Y(l=Ee)}function Y(Ee){function Ze(ft,Ct){fa(Oe,"#"+Ce+"-"+ft).each(function(Jt){Sa(Jt,{left:Ct.x+"px",top:Ct.y+"px",width:Math.max(0,Ct.w)+"px",height:Math.max(0,Ct.h)+"px"})})}zr(Ge,function(ft){fa(Oe,"#"+Ce+"-"+ft.name).each(function(Ct){Sa(Ct,{left:Ee.w*ft.xMul+Ee.x+"px",top:Ee.h*ft.yMul+Ee.y+"px"})})}),Ze("top",{x:p.x,y:p.y,w:p.w,h:Ee.y-p.y}),Ze("right",{x:Ee.x+Ee.w,y:Ee.y,w:p.w-Ee.x-Ee.w+p.x,h:Ee.h}),Ze("bottom",{x:p.x,y:Ee.y+Ee.h,w:p.w,h:p.h-Ee.y-Ee.h+p.y}),Ze("left",{x:p.x,y:Ee.y,w:Ee.x-p.x,h:Ee.h}),Ze("move",Ee)}var ae,fe,me=[],Ce="tox-crid-"+h_++,Oe=bt.fromDom(C),Ge=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],ze=["top","right","bottom","left"],Ue=function(Ee){var Ze;j({x:Ee.x+(Ze=x).x,y:Ee.y+Ze.y,w:Ee.w,h:Ee.h})};function qe(Ee){Ur(Ee.target,"aria-grabbed","focus"===Ee.raw.type?"true":"false")}Ea(fe=bt.fromTag("div"),{id:Ce,class:"tox-croprect-container",role:"grid","aria-dropeffect":"execute"}),ka(Oe,fe),zr(ze,function(Ee){fa(Oe,"#"+Ce).each(function(Ze){var ft=bt.fromTag("div");Ea(ft,{id:Ce+"-"+Ee,class:"tox-croprect-block","data-mce-bogus":"all"}),Qr(ft,"display","none"),ka(Ze,ft)})}),zr(Ge,function(Ee){fa(Oe,"#"+Ce).each(function(Ze){var ft=bt.fromTag("div");Ea(ft,{id:Ce+"-"+Ee.name,"aria-label":Ee.label,"aria-grabbed":"false","data-mce-bogus":"all",role:"gridcell",tabindex:"-1",title:Ee.label}),eu(ft,["tox-croprect-handle","tox-croprect-handle-"+Ee.name]),Qr(ft,"display","none"),ka(Ze,ft)})}),ae=Ht(Ge,function(Ee){var Ze;return function KM(l,p){function x(Je){var Ee,Ze,ft,Ct,Jt,Ft,nn,Cn,fn=Je.raw,In=(Ct=(Ee=Math.max)((Ze=Oe.documentElement).scrollWidth,(ft=Oe.body).scrollWidth),Jt=Ee(Ze.clientWidth,ft.clientWidth),Ft=Ee(Ze.offsetWidth,ft.offsetWidth),nn=Ee(Ze.scrollHeight,ft.scrollHeight),Cn=Ee(Ze.clientHeight,ft.clientHeight),{width:Ct<Ft?Jt:Ct,height:nn<Ee(Ze.offsetHeight,ft.offsetHeight)?Cn:nn});eS(fn),Je.prevent(),Y=fn.button,ae=fn.screenX,fe=fn.screenY;var Gn=Ns(Ue,"cursor");Sa(j=bt.fromTag("div",Oe),{position:"absolute",top:"0",left:"0",width:In.width+"px",height:In.height+"px","z-index":"2147483647",opacity:"0.0001",cursor:Gn}),ka(Hh(ze),j),Ce.push(ps(ze,"mousemove",C),ps(ze,"touchmove",C),ps(ze,"mouseup",qe),ps(ze,"touchend",qe)),p.start(fn)}function C(Je){var Ee=Je.raw;if(eS(Ee),Ee.button!==Y)return qe(Je);Ee.deltaX=Ee.screenX-ae,Ee.deltaY=Ee.screenY-fe,Je.prevent(),p.drag(Ee)}var I,P,V,j,Y,ae,fe,me=[],Ce=[],Oe=null!==(I=p.document)&&void 0!==I?I:document,Ge=null!==(P=p.root)&&void 0!==P?P:Oe,ze=bt.fromDom(Oe),Ue=bt.fromDom(Ge.getElementById(null!==(V=p.handle)&&void 0!==V?V:l)),qe=function(Je){eS(Je.raw),zr(Ce,function(Ee){return Ee.unbind()}),Ce=[],mf(j),p.stop&&p.stop(Je.raw)};return me.push(ps(Ue,"mousedown",x),ps(Ue,"touchstart",x)),{destroy:function(){zr(Ce.concat(me),function(Je){return Je.unbind()}),Ce=[],me=[],De(j)&&mf(j)}}}(Ce,{document:C.ownerDocument,root:Ai(Oe).dom,handle:Ce+"-"+Ee.name,start:function(){Ze=l},drag:function(ft){V(Ee,Ze,ft.deltaX,ft.deltaY)}})}),Y(l),me.push(ps(Oe,"focusin",qe),ps(Oe,"focusout",qe),ps(Oe,"keydown",function(Ee){var Ze;function ft(Ct,Jt,Ft,nn,Cn){Ct.stopPropagation(),Ct.preventDefault(),V(Ze,Ft,nn,Cn)}switch(zr(Ge,function(Ct){if(fs(Ee.target,"id")===Ce+"-"+Ct.name)return Ze=Ct,!1}),Ee.raw.keyCode){case Fg.LEFT:ft(Ee,0,l,-10,0);break;case Fg.RIGHT:ft(Ee,0,l,10,0);break;case Fg.UP:ft(Ee,0,l,0,-10);break;case Fg.DOWN:ft(Ee,0,l,0,10);break;case Fg.ENTER:case Fg.SPACEBAR:Ee.prevent(),I()}}));var Je=ve(ve({},d_),{toggleVisibility:function(Ee){var Ze=Ve(Ve([],Ht(Ge,function(Ct){return"#"+Ce+"-"+Ct.name}),!0),Ht(ze,function(Ct){return"#"+Ce+"-"+Ct}),!0).join(","),ft=el(Oe,Ze);zr(ft,Ee?function(Ct){return mi(Ct,"display")}:function(Ct){return Qr(Ct,"display","none")})},setClampRect:function(Ee){x=Ee,Y(l)},setRect:j,getInnerRect:function(){return P(x,l)},setInnerRect:Ue,setViewPortRect:function(Ee){p=Ee,Y(l)},destroy:function(){zr(ae,function(Ee){return Ee.destroy()}),ae=[],zr(me,function(Ee){return Ee.unbind()}),me=[]}});return Je}({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},In.element.dom,K);yr.toggleVisibility(!1),yr.on("updateRect",function(Hr){var So=Hr.rect,si=Ge.get(),wi={x:Math.round(So.x/si),y:Math.round(So.y/si),w:Math.round(So.w/si),h:Math.round(So.h/si)};Ue.set(wi)}),ze.set(yr)})}),Kf(function(){ze.clear()})])])}],containerBehaviours:$n([yo.config({}),sr("image-panel-events",[ca(function(fn){Cn(fn,me)})])])})),updateSrc:Cn,zoom:function(fn,In){var Gn=Ge.get(),yr=0<In?Math.min(2,Gn+.1):Math.max(.1,Gn-.1);Ge.set(yr),Je.getOpt(fn).each(function(Hr){var So=Hr.components()[1].element;nn(Hr,So)})},showCrop:function(){ze.run(function(fn){fn.toggleVisibility(!0)})},hideCrop:function(){ze.run(function(fn){fn.toggleVisibility(!1)})},getRect:function(){return Ue.get()},getMeasurements:function(){var fn=qe.get();return{width:fn.w,height:fn.h}}}),Jt=(ae=di(M1("Undo","undo",!0,function(fn){Gr(fn,Qi.undo(),{direction:1})},Y=p)),fe=di(M1("Redo","redo",!0,function(fn){Gr(fn,Qi.redo(),{direction:1})},Y)),{container:Os.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[ae.asSpec(),fe.asSpec(),M1("Zoom in","zoom-in",!1,function(fn){Gr(fn,Qi.zoom(),{direction:1})},Y),M1("Zoom out","zoom-out",!1,function(fn){Gr(fn,Qi.zoom(),{direction:-1})},Y)]}),updateButtonUndoStates:function(fn,In,Gn){ae.getOpt(fn).each(function(yr){$M(yr,In)}),fe.getOpt(fn).each(function(yr){$M(yr,Gn)})}}),Ft=function YC(l,p){function x(ir,Co,Vi,Xi){return di(PM({name:ir,text:ir,disabled:Vi,primary:Xi,icon:J.none(),borderless:!1},Co,p))}function C(ir,Co,Vi,Xi){return di(h2({name:ir,icon:J.some(ir),tooltip:J.some(Co),disabled:Xi,primary:!1,borderless:!1},Vi,p))}function I(ir,Co){ir.map(function(Vi){var Xi=Vi.get(Co);Xi.hasConfigured(Vr)&&Vr.disable(Xi)})}function P(ir,Co){ir.map(function(Vi){var Xi=Vi.get(Co);Xi.hasConfigured(Vr)&&Vr.enable(Xi)})}function V(ir,Co,Vi){Gr(ir,Co,Vi)}function j(ir){return Bo(ir,lc.disable()),0}function Y(ir){return Bo(ir,lc.enable()),0}function ae(ir,Co){j(ir),V(ir,Qi.transform(),{transform:Co}),Y(ir)}function fe(ir){return function(){Oi.getOpt(ir).each(function(Co){yo.set(Co,[ws])})}}function me(ir,Co){j(ir),V(ir,Qi.transformApply(),{transform:Co,swap:fe(ir)}),Y(ir)}function Ce(){return x("Back",function(ir){return V(ir,Qi.back(),{swap:fe(ir)})},!1,!1)}function Oe(){return di({dom:{tag:"div",classes:["tox-spacer"]},behaviours:$n([Vr.config({})])})}function Ge(){return x("Apply",function(ir){return V(ir,Qi.apply(),{swap:fe(ir)})},!0,!0)}function ze(ir,Co){return function(Vi){return ir(Vi,Co)}}function Ue(ir,Co){var Vi,Xi=Co;j(Vi=ir),V(Vi,Qi.tempTransform(),{transform:Xi}),Y(Vi)}function qe(ir,Co,Vi,Xi,Ia){var cc=bs.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:p.translate(ir)}}),js=bs.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),ku=bs.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return di(bs.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:Vi,maxX:Ia,getInitialValue:U({x:Xi})},components:[cc,js,ku],sliderBehaviours:$n([co.config({})]),onChoose:Co}))}function Je(ir,Co,Vi,Xi,Ia){var cc,js,ku,Gl,Mu,Tu,sl=(cc=ir,js=Co,ku=Vi,Gl=Xi,Mu=Ia,[Ce(),(Tu=js,qe(cc,function(Du,zh,Xo){ae(Du,ze(Tu,Xo.x/100))},ku,Gl,Mu)),Ge()]);return Os.sketch({dom:ft,components:sl.map(function(Du){return Du.asSpec()}),containerBehaviours:$n([sr("image-tools-filter-panel-buttons-events",[xn(lc.disable(),function(Du,zh){I(sl,Du)}),xn(lc.enable(),function(Du,zh){P(sl,Du)})])])})}function Ee(ir){return qe(ir,function(Co,Vi,Xi){var Ia=Di.getOpt(Co),cc=na.getOpt(Co),js=ui.getOpt(Co);Ia.each(function(ku){cc.each(function(Gl){js.each(function(Mu){var Tu,sl,Du,zh=lr.getValue(ku).x/100,Xo=lr.getValue(Mu).x/100,hf=lr.getValue(Gl).x/100,Gu=(Tu=zh,sl=Xo,Du=hf,function(Gg){return K0(Gg,(pv=sl,gv=Du,Kw([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],[Z0(Tu,0,2),0,0,0,0,0,Z0(pv,0,2),0,0,0,0,0,Z0(gv,0,2),0,0,0,0,0,1,0,0,0,0,0,1])));var pv,gv});ae(Co,Gu)})})})},0,100,200)}function Ze(ir,Co,Vi){return function(Xi){V(Xi,Qi.swap(),{transform:Co,swap:function(){Oi.getOpt(Xi).each(function(Ia){yo.set(Ia,[ir]),Vi(Ia)})}})}}var ft={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},Ct=K,Jt=[Ce(),Oe(),x("Apply",function(ir){me(ir,function(Co){var js,ku,Gl,Mu,Tu,sl=l.getRect();return ku=sl.x,Gl=sl.y,Mu=sl.w,Tu=sl.h,(js=Co).toCanvas().then(function(Du){return function(l,p,x,C,I,P){var V=vd(I,P);return Ep(V).drawImage(l,-x,-C),X0(V,p)}(Du,js.getType(),ku,Gl,Mu,Tu)})}),l.hideCrop()},!1,!0)],Ft=Os.sketch({dom:ft,components:Jt.map(function(ir){return ir.asSpec()}),containerBehaviours:$n([sr("image-tools-crop-buttons-events",[xn(lc.disable(),function(ir,Co){I(Jt,ir)}),xn(lc.enable(),function(ir,Co){P(Jt,ir)})])])}),nn=di(qC({name:"size",label:J.none(),constrain:!0,disabled:!1},p)),Cn=[Ce(),Oe(),nn,Oe(),x("Apply",function(ir){nn.getOpt(ir).each(function(Co){var Vi,Xi,Ia=lr.getValue(Co),cc=parseInt(Ia.width,10),js=parseInt(Ia.height,10),ku=(Vi=cc,Xi=js,function(Gl){return Tu=Vi,sl=Xi,(Mu=Gl).toCanvas().then(function(Du){return M2(Du,Tu,sl).then(function(zh){return X0(zh,Mu.getType())})});var Mu,Tu,sl});me(ir,ku)})},!1,!0)],fn=Os.sketch({dom:ft,components:Cn.map(function(ir){return ir.asSpec()}),containerBehaviours:$n([sr("image-tools-resize-buttons-events",[xn(lc.disable(),function(ir,Co){I(Cn,ir)}),xn(lc.enable(),function(ir,Co){P(Cn,ir)})])])}),In=ze(HC,"h"),Gn=ze(HC,"v"),yr=ze(f2,-90),Hr=ze(f2,90),So=[Ce(),Oe(),C("flip-horizontally","Flip horizontally",function(ir){Ue(ir,In)},!1),C("flip-vertically","Flip vertically",function(ir){Ue(ir,Gn)},!1),C("rotate-left","Rotate counterclockwise",function(ir){Ue(ir,yr)},!1),C("rotate-right","Rotate clockwise",function(ir){Ue(ir,Hr)},!1),Oe(),Ge()],si=Os.sketch({dom:ft,components:So.map(function(ir){return ir.asSpec()}),containerBehaviours:$n([sr("image-tools-fliprotate-buttons-events",[xn(lc.disable(),function(ir,Co){I(So,ir)}),xn(lc.enable(),function(ir,Co){P(So,ir)})])])}),wi=[Ce(),Oe(),Ge()],hi=Os.sketch({dom:ft,components:wi.map(function(ir){return ir.asSpec()})}),zo=Je("Brightness",EM,-100,0,100),Mi=Je("Contrast",rh,-100,0,100),Ti=Je("Gamma",c2,-100,0,100),Di=Ee("R"),ui=Ee("G"),na=Ee("B"),al=[Ce(),Di,ui,na,Ge()],ls=Os.sketch({dom:ft,components:al.map(function(ir){return ir.asSpec()})}),df=J.some(l2),ra=J.some(OM),Ff=[C("crop","Crop",Ze(Ft,J.none(),function(ir){l.showCrop()}),!1),C("resize","Resize",Ze(fn,J.none(),function(ir){nn.getOpt(ir).each(function(Co){var Vi=l.getMeasurements();lr.setValue(Co,{width:Vi.width,height:Vi.height})})}),!1),C("orientation","Orientation",Ze(si,J.none(),Ct),!1),C("brightness","Brightness",Ze(zo,J.none(),Ct),!1),C("sharpen","Sharpen",Ze(hi,df,Ct),!1),C("contrast","Contrast",Ze(Mi,J.none(),Ct),!1),C("color-levels","Color levels",Ze(ls,J.none(),Ct),!1),C("gamma","Gamma",Ze(Ti,J.none(),Ct),!1),C("invert","Invert",Ze(hi,ra,Ct),!1)],ws=Os.sketch({dom:ft,components:Ff.map(function(ir){return ir.asSpec()})}),Oi=di(Os.sketch({dom:{tag:"div"},components:[ws],containerBehaviours:$n([yo.config({})])}));return{memContainer:Oi,getApplyButton:function(ir){return Oi.getOpt(ir).map(function(Co){var Vi=Co.components()[0];return Vi.components()[Vi.components().length-1]})}}}(Ct,p);function nn(fn,In){Je.getOpt(fn).each(function(Gn){var yr=Ge.get(),Hr=gn(Gn.element),So=Pu(Gn.element),si=In.dom.naturalWidth*yr,wi=In.dom.naturalHeight*yr,hi=Math.max(0,Hr/2-si/2),zo=Math.max(0,So/2-wi/2),Mi={left:hi.toString()+"px",top:zo.toString()+"px",width:si.toString()+"px",height:wi.toString()+"px",position:"absolute"};Sa(In,Mi),Oe.getOpt(Gn).each(function(Ti){Sa(Ti.element,Mi)}),ze.run(function(Ti){var Di=Ue.get();Ti.setRect({x:Di.x*yr+hi,y:Di.y*yr+zo,w:Di.w*yr,h:Di.h*yr}),Ti.setClampRect({x:hi,y:zo,w:si,h:wi}),Ti.setViewPortRect({x:0,y:0,w:Hr,h:So})})})}function Cn(fn,In){var Gn,yr=bt.fromTag("img");return Ur(yr,"src",In),Gn=yr.dom,new Fb(function(Hr){var So=function(){Gn.removeEventListener("load",So),Hr(Gn)};Gn.complete?Hr(Gn):Gn.addEventListener("load",So)}).then(function(){fn.getSystem().isConnected()&&Je.getOpt(fn).map(function(Hr){var So=Ev({element:yr});yo.replaceAt(Hr,1,J.some(So));var si=qe.get(),wi={x:0,y:0,w:yr.dom.naturalWidth,h:yr.dom.naturalHeight};qe.set(wi);var hi,zo=k1.inflate(wi,-20,-20);Ue.set(zo),si.w===wi.w&&si.h===wi.h||(hi=yr,Je.getOpt(Hr).each(function(Mi){var Ti=gn(Mi.element),Di=Pu(Mi.element),al=Math.min(Ti/hi.dom.naturalWidth,Di/hi.dom.naturalHeight);Ge.set(1<=al?1:al)})),nn(Hr,yr)})})}return{dom:{tag:"div",attributes:{role:"presentation"}},components:[Ft.memContainer.asSpec(),Ct.memContainer.asSpec(),Jt.container],behaviours:$n([lr.config({store:{mode:"manual",getValue:function(){return Ee.getBlobState()}}}),sr("image-tools-events",[xn(Qi.undo(),function(fn,In){var Gn=Ee.undo();ft(fn,Gn).then(function(yr){Ze(fn),x(fn)})}),xn(Qi.redo(),function(fn,In){var Gn=Ee.redo();ft(fn,Gn).then(function(yr){Ze(fn),x(fn)})}),xn(Qi.zoom(),function(fn,In){Ct.zoom(fn,In.event.direction)}),xn(Qi.back(),function(fn,In){var Gn,yr=j(Gn=fn);ft(Gn,yr).then(function(Hr){Ze(Gn)}),(0,In.event.swap)(),Ct.hideCrop()}),xn(Qi.apply(),function(fn,In){Ee.applyTempState(function(){j(fn),(0,In.event.swap)()})}),xn(Qi.transform(),function(fn,In){return V(fn,In.event.transform,K)}),xn(Qi.tempTransform(),function(fn,In){var Gn=In.event.transform;P(fn,Ee.getTempState().blob,Gn,function(yr){return Ee.addTempState(yr)},K)}),xn(Qi.transformApply(),function(fn,In){var Gn=fn,yr=In.event.transform,Hr=In.event.swap,So=Ee.getBlobState().blob;P(Gn,So,yr,function(si){var wi=Ee.addBlobState(si);return j(Gn),wi},Hr)}),xn(Qi.swap(),function(fn,In){Jt.updateButtonUndoStates(fn,!1,!1);var yr=In.event.swap;In.event.transform.fold(function(){yr()},function(Hr){V(fn,Hr,yr)})})]),J0()])}}function T1(l){return!Sr(l,"items")}function D1(l,p){var x=l.label.map(function(Y){return hd(Y,p)}),C=[Vr.config({disabled:function(){return l.disabled||p.isDisabled()}}),$a(),Zr.config({mode:"execution",useEnter:!0!==l.multiline,useControlEnter:!0===l.multiline,execute:function(Y){return Bo(Y,af),J.some(!0)}}),sr("textfield-change",[xn(Ta(),function(Y,ae){Gr(Y,pd,{name:l.name})}),xn(Rd(),function(Y,ae){Gr(Y,pd,{name:l.name})})]),ei.config({})],I=l.validation.map(function(Y){return Jm.config({getRoot:function(ae){return Xr(ae.element)},invalidClass:"tox-invalid",validator:{validate:function(ae){var fe=lr.getValue(ae),me=Y.validator(fe);return Ap(!0===me?Po.value(fe):Po.error(me))},validateOnLoad:Y.validateOnLoad}})}).toArray(),P=l.placeholder.fold(U({}),function(Y){return{placeholder:p.translate(Y)}}),V=l.inputMode.fold(U({}),function(Y){return{inputmode:Y}}),j=ve(ve({},P),V);return B0(x,ai.parts.field({tag:!0===l.multiline?"textarea":"input",inputAttributes:j,inputClasses:[l.classname],inputBehaviours:$n(Bn([C,I])),selectOnFocus:!1,factory:xy}),(l.flex?["tox-form__group--stretched"]:[]).concat(l.maximized?["tox-form-group--maximize"]:[]),[Vr.config({disabled:function(){return l.disabled||p.isDisabled()},onDisabled:function(Y){ai.getField(Y).each(Vr.disable)},onEnabled:function(Y){ai.getField(Y).each(Vr.enable)}}),$a()])}function Ty(l){var p=Nr(null);return ec({readState:function(){return{timer:null!==p.get()?"set":"unset"}},setTimer:function(x){p.set(x)},cancel:function(){var x=p.get();null!==x&&x.cancel()}})}function A1(l,p,x){var C=lr.getValue(x);lr.setValue(p,C),Vg(p)}function p_(l,p){var x=l.element,C=Kl(x),I=x.dom;"number"!==fs(x,"type")&&p(I,C)}function I1(l){return{type:"menuitem",value:l.url,text:l.title,meta:{attach:l.attach},onAction:K}}function lv(l,p){return{type:"menuitem",value:p,text:l,meta:{attach:void 0},onAction:K}}function uS(l,p){return x=l,Ht(It(p,function(C){return C.type===x}),I1);var x}function ck(l,p){var x=l.toLowerCase();return It(p,function(C){return Vo((void 0!==C.meta&&void 0!==C.meta.text?C.meta:C).text.toLowerCase(),x)||Vo(C.value.toLowerCase(),x)})}function Ps(l){return function(p,x,C){return vn(x,"name").fold(function(){return l(x,C)},function(I){return p.field(I,l(x,C))})}}function I2(l,p,x){var C=No(x,{shared:{interpreter:function(I){return z2(l,I,C)}}});return z2(l,p,C)}function lS(l,p,x){function C(){return bt.fromDom(l.getContentAreaContainer())}function I(){return ze||!x()}var P,V,j,Y,ae,fe,me,Ce,Oe,Ge,ze=gy(l);return{inlineDialog:(me=C,Ce=p,Oe=I,Ge={maxHeightFunction:_h()},function(){return Oe()?{type:"node",root:Zi(me()),node:J.from(me()),bubble:Fv(12,12,mO),layouts:{onRtl:function(){return[fd]},onLtr:function(){return[ef]}},overrides:Ge}:{type:"hotspot",hotspot:Ce(),bubble:Fv(-12,12,mO),layouts:{onRtl:function(){return[Vs]},onLtr:function(){return[xu]}},overrides:Ge}}),banner:(Y=C,ae=p,fe=I,function(){return fe()?{type:"node",root:Zi(Y()),node:J.from(Y()),layouts:{onRtl:function(){return[Cp]},onLtr:function(){return[Cp]}}}:{type:"hotspot",hotspot:ae(),layouts:{onRtl:function(){return[ru]},onLtr:function(){return[ru]}}}}),cursor:(V=l,function(){return{type:"selection",root:j(),getSelection:function(){var Ue=V.selection.getRng();return J.some(gm.range(bt.fromDom(Ue.startContainer),Ue.startOffset,bt.fromDom(Ue.endContainer),Ue.endOffset))}}}),node:(P=j=function(){return bt.fromDom(l.getBody())},function(Ue){return{type:"node",root:P(),node:Ue}})}}function g_(l){return J.from(l.getParam("style_formats")).filter(le).map(function(p){var x,C,I=(x=l,C=F2(p),x.formatter?P(C.customFormats):x.on("init",function(){P(C.customFormats)}),C.formats);function P(V){zr(V,function(j){x.formatter.has(j.name)||x.formatter.register(j.name,j.format)})}return l.getParam("style_formats_merge",!1,"boolean")?vO.concat(I):I}).getOr(vO)}function m_(l,p,x){var C={type:"formatter",isSelected:p(l.format),getStylePreview:x(l.format)};return No(l,C)}function O2(l,p,x,C){var I=function(P){return Ht(P,function(V){var j,Y,ae,fe,me,Ce=Ni(V);if(bo(V,"items")){var Oe=I(V.items);return No(No(V,{type:"submenu"}),{getStyleItems:U(Oe)})}return bo(V,"format")?m_(V,x,C):1===Ce.length&&Io(Ce,"title")?No(V,{type:"separator"}):(fe={type:"formatter",format:ae="custom-"+(Y=ne((j=V).name)?j.name:Rr(j.title)),isSelected:x(ae),getStylePreview:C(ae)},me=No(j,fe),l.formatter.register(Y,me),me)})};return I(p)}function JM(l){return function(p){return!(!De(x=p)||1!==x.nodeType||p.contentEditable!==l&&p.getAttribute("data-mce-contenteditable")!==l);var x}}function QM(l,p,x,C,I){return{type:l,title:p,url:x,level:C,attach:I}}function s(l){return l.innerText||l.textContent}function d(l){return l&&"A"===l.nodeName&&void 0!==(l.id||l.name)&&R2(l)}function v(l){return l&&/^(H[1-6])$/.test(l.nodeName)}function w(l){return v(l)&&R2(l)}function M(l){var p,x=l.id||Rr("h");return QM("header",s(l),"#"+x,v(p=l)?parseInt(p.nodeName.substr(1),10):0,function(){l.id=x})}function O(l){var p=l.id||l.name;return QM("anchor",s(l)||"#"+p,"#"+p,0,K)}function L(l){return 0<yO(l.title).length}function B(l){return ne(l)&&/^https?/.test(l)}function G(l){return te(l)&&ar(l,function(p){return!(le(x=p)&&x.length<=5&&tt(x,B));var x}).isNone()}function W(){var l,p=Gx.getItem(V2);if(null===p)return{};try{l=JSON.parse(p)}catch(x){if(x instanceof SyntaxError)return console.log("Local storage "+V2+" was not valid JSON",x),{};throw x}return G(l)?l:(console.log("Local storage "+V2+" was not valid format",l),{})}function re(l){return vn(W(),l).getOr([])}function $(l,p){var x,C;B(l)&&(C=It(vn(x=W(),p).getOr([]),function(I){return I!==l}),x[p]=[l].concat(C).slice(0,5),function(I){if(!G(I))throw new Error("Bad format for history:\n"+JSON.stringify(I));Gx.setItem(V2,JSON.stringify(I))}(x))}function ue(l){return!!l}function pe(l){return jn(sv.makeMap(l,/[, ]/),ue)}function be(l){return J.from(l.getParam("file_picker_callback")).filter(Le)}function we(l){return J.from(l).filter(ne).getOrUndefined()}function Me(l){return{getHistory:re,addToHistory:$,getLinkInformation:function(){return!1===(p=l).getParam("typeahead_urls")?J.none():J.some({targets:hk(p.getBody()),anchorTop:we(p.getParam("anchor_top","#top")),anchorBottom:we(p.getParam("anchor_bottom","#bottom"))});var p},getValidationHandler:function(){return J.from(void 0===(x=(p=l).getParam("file_picker_validator_handler",void 0,"function"))?p.getParam("filepicker_validator_handler",void 0,"function"):x);var p,x},getUrlPicker:function(p){return x=ae=l,C=fe=p,P=J.some((I=x).getParam("file_picker_types")).filter(ue),V=J.some(I.getParam("file_browser_callback_types")).filter(ue),j=P.or(V).map(pe),Y=be(I).fold(Ke,function(me){return j.fold(pt,function(Ce){return 0<Ni(Ce).length&&Ce})}),(oe(Y)?Y?be(x):J.none():Y[C]?be(x):J.none()).map(function(me){return function(Ce){return $m(function(Oe){var Ge=ve({filetype:fe,fieldname:Ce.fieldname},J.from(Ce.meta).getOr({}));me.call(ae,function(ze,Ue){if(!ne(ze))throw new Error("Expected value to be string");if(void 0!==Ue&&!te(Ue))throw new Error("Expected meta to be a object");Oe({value:ze,meta:Ue})},Ce.value,Ge)})}});var x,C,I,P,V,j,Y,ae,fe}}}function Ne(l){return(wr(Ki(l,"position"),"fixed")?J.none():ho(l)).orThunk(function(){var p=bt.fromTag("span");return Xr(l).bind(function(x){ka(x,p);var C=ho(p);return mf(p),C})})}function je(l){return Ne(l).map(Ul).getOrThunk(function(){return Ca(0,0)})}function ct(l,p){var x=l.element;Qn(x,p.transitionClass),ri(x,p.fadeOutClass),Qn(x,p.fadeInClass),p.onShow(l)}function Dt(l,p){var x=l.element;Qn(x,p.transitionClass),ri(x,p.fadeInClass),Qn(x,p.fadeOutClass),p.onHide(l)}function Ye(l,p,x){return tt(l,function(C){switch(C){case"bottom":return p.bottom<=x.bottom;case"top":return p.y>=x.y}})}function rt(l,p){return p.getInitialPos().map(function(x){return Ru(x.bounds.x,x.bounds.y,gn(l),Pu(l))})}function dt(l,p,x){return x.getInitialPos().bind(function(C){switch(x.clearInitialPos(),C.position){case"static":return J.some(uA.static());case"absolute":var I=Ne(l).map(Yl).getOrThunk(function(){return Yl(Ra())});return J.some(uA.absolute(El("absolute",vn(C.style,"left").map(function(P){return p.x-I.x}),vn(C.style,"top").map(function(P){return p.y-I.y}),vn(C.style,"right").map(function(P){return I.right-p.right}),vn(C.style,"bottom").map(function(P){return I.bottom-p.bottom}))));default:return J.none()}})}function Zt(l,p,x){x.setDocked(!1),zr(["left","right","top","bottom","position"],function(C){return mi(l.element,C)}),p.onUndocked(l)}function ln(l,p,x,C){var I="fixed"===C.position;x.setDocked(I),J1(l.element,C),(I?p.onDocked:p.onUndocked)(l)}function on(l,p,x,C,I){void 0===I&&(I=!1),p.contextual.each(function(P){P.lazyContext(l).each(function(V){var j=V.y<C.bottom&&V.bottom>C.y;j!==x.isVisible()&&(x.setVisible(j),I&&!j?(eu(l.element,[P.fadeOutClass]),P.onHide(l)):(j?ct:Dt)(l,P))})})}function Mt(l,p,x){var C,I,P,V,j,Y;x.isDocked()&&(I=p,Y=(C=l).element,(P=x).setDocked(!1),rt(j=C.element,V=P).bind(function(ae){return dt(j,ae,V)}).each(function(ae){ae.fold(function(){return Zt(C,I,P)},function(fe){return ln(C,I,P,fe)},K)}),P.setVisible(!0),I.contextual.each(function(ae){xf(Y,[ae.fadeInClass,ae.fadeOutClass,ae.transitionClass]),ae.onShow(C)}),lA(C,I,P))}function At(l,p){return Io(lf.getModes(l),p)}function zt(l){var p=l.element;Xr(p).each(function(x){var C,I,P="padding-"+lf.getModes(l)[0];lf.isDocked(l)?(C=gn(x),Qr(p,"width",C+"px"),Qr(x,P,Wr(I=p)+(parseInt(Ns(I,"margin-top"),10)||0)+(parseInt(Ns(I,"margin-bottom"),10)||0)+"px")):(mi(p,"width"),mi(x,P))})}function tn(l,p){p?(ri(l,Dy.fadeOutClass),eu(l,[Dy.transitionClass,Dy.fadeInClass])):(ri(l,Dy.fadeInClass),eu(l,[Dy.fadeOutClass,Dy.transitionClass]))}function On(l,p){var x=bt.fromDom(l.getContainer());p?(Qn(x,cA),ri(x,fA)):(Qn(x,fA),ri(x,cA))}function er(l,p){function x(Y){V().each(function(ae){return Y(ae.element)})}function C(Y){l.inline||zt(Y),On(l,lf.isDocked(Y)),Y.getSystem().broadcastOn([dg()],{}),V().each(function(ae){return ae.getSystem().broadcastOn([dg()],{})})}var I,P=Ha(),V=p.getSink,j=l.inline?[]:[Va.config({channels:((I={})[G2()]={onReceive:zt},I)})];return Ve([co.config({}),lf.config({contextual:ve({lazyContext:function(Y){var ae=Wr(Y.element),fe=l.inline?l.getContentAreaContainer():l.getContainer(),me=Yl(bt.fromDom(fe)),Ce=me.height-ae,Oe=me.y+(At(Y,"top")?0:ae);return J.some(Ru(me.x,Oe,me.width,Ce))},onShow:function(){x(function(Y){return tn(Y,!0)})},onShown:function(Y){x(function(ae){return xf(ae,[Dy.transitionClass,Dy.fadeInClass])}),P.get().each(function(ae){var fe,me=Y.element,Ce=Wt(fe=ae);Do(Ce).filter(function(Oe){return!Mn(fe,Oe)}).filter(function(Oe){return Mn(Oe,bt.fromDom(Ce.dom.body))||En(me,Oe)}).each(function(){return ed(fe)}),P.clear()})},onHide:function(Y){var fe=V;td(Y.element).orThunk(function(){return fe().toOptional().bind(function(me){return td(me.element)})}).fold(P.clear,P.set),x(function(me){return tn(me,!1)})},onHidden:function(){x(function(Y){return xf(Y,[Dy.transitionClass])})}},Dy),lazyViewport:function(Y){var ae=fl(),fe=l.getParam("toolbar_sticky_offset",0,"number"),me=ae.y+(At(Y,"top")?fe:0),Ce=ae.height-(At(Y,"bottom")?fe:0);return Ru(ae.x,me,ae.width,Ce)},modes:[p.header.getDockingMode()],onDocked:C,onUndocked:C})],j,!0)}function An(l){return ua("menubutton",VP,l)}function Xn(l,p){return p.getAnimationRoot.fold(function(){return l.element},function(x){return x(l)})}function Fn(l){return l.dimension.property}function Yn(l,p){return l.dimension.getDimension(p)}function qn(l,p){xf(Xn(l,p),[p.shrinkingClass,p.growingClass])}function xr(l,p){ri(l.element,p.openClass),Qn(l.element,p.closedClass),Qr(l.element,Fn(p),"0px"),Py(l.element)}function Tn(l,p){ri(l.element,p.closedClass),Qn(l.element,p.openClass),mi(l.element,Fn(p))}function pr(l,p,x,C){x.setCollapsed(),Qr(l.element,Fn(p),Yn(p,l.element)),Py(l.element),qn(l,p),xr(l,p),p.onStartShrink(l),p.onShrunk(l)}function Hn(l,p,x){var C=Yn(p,l.element);("0px"===C?pr:function(I,P,V,j){var Y=j.getOrThunk(function(){return Yn(P,I.element)});V.setCollapsed(),Qr(I.element,Fn(P),Y),Py(I.element);var ae=Xn(I,P);ri(ae,P.growingClass),Qn(ae,P.shrinkingClass),xr(I,P),P.onStartShrink(I)})(l,p,x,J.some(C))}function Tr(l,p,x){var C=Xn(l,p),I=la(C,p.shrinkingClass),P=Yn(p,l.element);Tn(l,p);var V=Yn(p,l.element);(I?function(){Qr(l.element,Fn(p),P),Py(l.element)}:function(){xr(l,p)})(),ri(C,p.shrinkingClass),Qn(C,p.growingClass),Tn(l,p),Qr(l.element,Fn(p),V),x.setExpanded(),p.onStartGrow(l)}function Dr(l,p,x){return!0===la(Xn(l,p),p.growingClass)}function Ao(l,p,x){return!0===la(Xn(l,p),p.shrinkingClass)}function gt(l){return"<alloy.field."+l+">"}function Et(l){return{element:function(){return l.element.dom}}}function Nn(l){return Wo.getCurrent(l).bind(function(p){return Nh.isGrowing(p)||Nh.hasGrown(p)?Wo.getCurrent(p).bind(function(x){return Uo(fv.getSlotNames(x),function(C){return fv.isShowing(x,C)})}):J.none()})}function wn(l){var p=bt.fromHtml(l),x=gi(p),C=Lr(void 0!==p.dom.attributes?p.dom.attributes:[],function(V,j){var Y;return"class"===j.name?V:ve(ve({},V),((Y={})[j.name]=j.value,Y))},{}),I=Array.prototype.slice.call(p.dom.classList,0),P=0===x.length?{}:{innerHtml:Xh(p)};return ve({tag:un(p),classes:I,attributes:C},P)}function or(l){return Wo.getCurrent(l).each(function(p){return ed(p.element)})}function ao(l,p,x){return{within:l,extra:p,withinWidth:x}}function ea(l,p,x){var C,I=(C=function(j,Y){var ae=x(j);return J.some({element:j,start:Y,finish:Y+ae,width:ae})},Lr(l,function(j,Y){return C(Y,j.len).fold(U(j),function(ae){return{len:ae.finish,list:j.list.concat([ae])}})},{len:0,list:[]}).list),P=It(I,function(j){return j.finish<=p}),V=Sn(P,function(j,Y){return j+Y.width},0);return{within:P,extra:I.slice(P.length),withinWidth:V}}function _o(l){return Ht(l,function(p){return p.element})}function ro(l,p){var x=Ht(p,function(C){return tc(C)});Wg.setGroups(l,x)}function _i(l,p,x){var C,I,P,V,j,Y,ae,fe,me,Ce,Oe,Ge,ze,Ue,qe,Je,Ee,Ze,ft,Ct,Jt=p.builtGroups.get();0!==Jt.length&&(C=io(l,p,"primary"),I=ys.getCoupled(l,"overflowGroup"),Qr(C.element,"visibility","hidden"),V=bn(P=Jt.concat([I]),function(Ft){return td(Ft.element).bind(function(nn){return Ft.getSystem().getByDom(nn).toOptional()})}),x([]),ro(C,P),j=gn(C.element),ae=j,fe=p.builtGroups.get(),Ce=I,Ze=(Ee=(0===(Oe=ea(fe,ae,me=function(Ft){return gn(Ft.element)})).extra.length?J.some(Oe):J.none()).getOrThunk(function(){return ea(fe,ae-me(Ce),me)})).within,Ct=Ee.withinWidth,0===(Y=1===(ft=Ee.extra).length&&ft[0].width<=me(Ce)?(Je=Ct,ao(_o(Ze.concat(ft)),[],Je)):1<=ft.length?(ze=ft,Ue=Ce,qe=Ct,ao(_o(Ze).concat([Ue]),_o(ze),qe)):(Ge=Ct,ao(_o(Ze),[],Ge))).extra.length?(yo.remove(C,I),x([])):(ro(C,Y.within),x(Y.extra)),mi(C.element,"visibility"),Py(C.element),V.each(co.focus))}function xs(l,p){var x=ys.getCoupled(l,"toolbarSandbox");qo.isOpen(x)?qo.close(x):qo.open(x,p.toolbar())}function Wu(l,p,x,C){var I=x.getBounds.map(function(V){return V()}),P=x.lazySink(l).getOrDie();nl.positionWithinBounds(P,p,{anchor:{type:"hotspot",hotspot:l,layouts:C,overrides:{maxWidthFunction:vA()}}},I)}function Tl(l,p,x,C,I){Wg.setGroups(p,I),Wu(l,p,x,C),ci.on(l)}function Cu(l){return Ht(l,function(p){return tc(p)})}function Wl(l,p,x){_i(l,x,function(C){x.overflowGroups.set(C),p.getOpt(l).each(function(I){vS.setGroups(I,Cu(C))})})}function cv(l,p){jo(l,p,"overflow-button").bind(function(){return jo(l,p,"overflow")}).each(function(x){oA(l,p),Nh.toggleGrow(x)})}function xd(l){var p=l.title.fold(function(){return{}},function(x){return{attributes:{title:x}}});return{dom:ve({tag:"div",classes:["tox-toolbar__group"]},p),components:[pk.parts.items({})],items:l.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:$n([ei.config({}),co.config({})])}}function Pp(l){return pk.sketch(xd(l))}function Lh(l,p){var x=ca(function(C){var I=Ht(l.initGroups,Pp);Wg.setGroups(C,I)});return $n([bC(l.providers.isDisabled),$a(),Zr.config({mode:p,onEscape:l.onEscape,selector:".tox-toolbar__group"}),sr("toolbar-events",[x])])}function ib(l){var p=l.cyclicKeying?"cyclic":"acyclic";return{uid:l.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":xd({title:J.none(),items:[]}),"overflow-button":a_({name:"more",icon:J.some("more-drawer"),disabled:!1,tooltip:J.some("More..."),primary:!1,borderless:!1},J.none(),l.providers)},splitToolbarBehaviours:Lh(l,p)}}function ab(l){var p=l.cyclicKeying?"cyclic":"acyclic";return Wg.sketch({uid:l.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(l.type===nf.scrolling?["tox-toolbar--scrolling"]:[])},components:[Wg.parts.groups({})],toolbarBehaviours:Lh(l,p)})}function eT(l){return"string"==typeof l?l.split(" "):l}function E2(l,p){var x=ve(ve({},q2),p.menus),C=0<Ni(p.menus).length,I=It(eT(void 0===p.menubar||!0===p.menubar?"file edit view insert format tools table help":!1===p.menubar?"":p.menubar),function(P){var V=Sr(q2,P);return C?V||vn(p.menus,P).exists(function(j){return Sr(j,"items")}):V});return It(Ht(I,function(P){var V=x[P],j={title:V.title,items:eT(V.items)},Y=p,ae=l.getParam("removed_menuitems","").split(/[ ,]/);return{text:j.title,getItems:function(){return cr(j.items,function(fe){var me=fe.toLowerCase();return 0===me.trim().length||jt(ae,function(Ce){return Ce===me})?[]:"separator"===me||"|"===me?[{type:"separator"}]:Y.menuItems[me]?[Y.menuItems[me]]:[]})}}}),function(P){return 0<P.getItems().length&&jt(P.getItems(),function(V){return"separator"!==V.type})})}function tT(l){function p(){l._skinLoaded=!0,l.fire("SkinLoaded")}return function(){l.initialized?p():l.on("init",p)}}function dk(l,p,x){return new Fb(function(C,I){x.load(p,C,I),l.on("remove",function(){return x.unload(p)})})}function nT(l,p){var x,C,I,P,V,Y,ae,fe,me=(I=(x=p).getParam("skin"),P=x.getParam("skin_url"),!1!==I&&(C=I||"oxide",P=P?x.documentBaseURI.toAbsolute(P):sM.baseURL+"/skins/ui/"+C),P);me&&p.contentCSS.push(me+(l?"/content.inline":"/content")+".min.css"),!1===p.getParam("skin")==0&&ne(me)?Fb.all([dk(p,me+"/skin.min.css",p.ui.styleSheetLoader),(Y=p,ae=me,fe=bt.fromDom(Y.getElement()),ql(fe).isSome()?dk(Y,ae+"/skin.shadowdom.min.css",jm.DOM.styleSheetLoader):Fb.resolve())]).then(tT(p),(V=p,function(){return V.fire("SkinLoadError",{message:"Skin could not be loaded"})})):tT(p)()}function v_(l,p){return function(x){function C(){x.setActive(l.formatter.match(p));var P=l.formatter.formatChanged(p,x.setActive);I.set(P)}var I=jd();return l.initialized?C():l.once("init",C),function(){l.off("init",C),I.clear()}}}function y_(l,p,x){return function(C){function I(){return x(C)}function P(){x(C),l.on(p,I)}return l.initialized?P():l.once("init",P),function(){l.off("init",P),l.off(p,I)}}}function P2(l){return function(p){return function(){l.undoManager.transact(function(){l.focus(),l.execCommand("mceToggleFormat",!1,p.format)})}}}function Rp(l,p){return function(){return l.execCommand(p)}}function O1(l,p,x){var C,I,P,V=x.dataset;return{items:(C=p,I=x,P=function(fe,me,Ce){var Oe="formatter"===fe.type&&I.isInvalid(fe);return 0===me?Oe?[]:Y(fe,me,!1,Ce).toArray():Y(fe,me,Oe,Ce).toArray()},{validateItems:ae,getFetch:function(fe,me){return function(Ce,Oe){Oe(y1(ae(me()),Mp.CLOSE_ON_EXECUTE,fe,!1))}}}),getStyleItems:"basic"===V.type?function(){return Ht(V.data,function(fe){return m_(fe,x.isSelectedFor,x.getPreviewFor)})}:V.getData};function Y(fe,me,Ce,Oe){var Ge=C.shared.providers.translate(fe.title);if("separator"===fe.type)return J.some({type:"separator",text:Ge});if("submenu"!==fe.type)return J.some(ve({type:"togglemenuitem",text:Ge,icon:fe.icon,active:fe.isSelected(Oe),disabled:Ce,onAction:I.onAction(fe)},fe.getStylePreview().fold(function(){return{}},function(Ue){return{meta:{style:Ue}}})));var ze=cr(fe.getStyleItems(),function(Ue){return P(Ue,me,Oe)});return 0===me&&ze.length<=0?J.none():J.some({type:"nestedmenuitem",text:Ge,disabled:ze.length<=0,getSubmenuItems:function(){return cr(fe.getStyleItems(),function(Ue){return P(Ue,me,Oe)})}})}function ae(fe){var me=I.getCurrentValue(),Ce=I.shouldHide?0:1;return cr(fe,function(Oe){return P(Oe,Ce,me)})}}function cS(l,p,x){var C=O1(0,p,x),I=C.items,P=C.getStyleItems,V=y_(l,"NodeChange",function(j){var Y=j.getComponent();x.updateText(Y)});return i_({text:x.icon.isSome()?J.none():x.text,icon:x.icon,tooltip:J.from(x.tooltip),role:J.none(),fetch:I.getFetch(p,P),onSetup:V,getApi:function(j){return{getComponent:U(j)}},columns:1,presets:"normal",classes:x.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",p.shared)}function R2(l){return function(p){for(;p=p.parentNode;){var x=p.contentEditable;if(x&&"inherit"!==x)return pS(p)}return!1}(l)&&!gS(l)}function rA(l,p){function x(fe){return gp(l)}function C(fe,me){return function(Ce,Oe){return jo(Ce,l,Oe).map(function(Ge){return fe(Ge,Oe)}).getOr(me)}}function I(fe,me){return"true"!==fs(fe.element,"aria-hidden")}var P,V=C(I,!1),j=C(function(fe,me){var Ce;I(fe)&&(Qr(Ce=fe.element,"display","none"),Ur(Ce,"aria-hidden","true"),Gr(fe,mb(),{name:me,visible:!1}))}),Y=(P=j,function(fe,me){zr(me,function(Ce){return P(fe,Ce)})}),ae=C(function(fe,me){var Ce;I(fe)||(mi(Ce=fe.element,"display"),Ss(Ce,"aria-hidden"),Gr(fe,mb(),{name:me,visible:!0}))});return{uid:l.uid,dom:l.dom,components:p,behaviours:Sh(l.slotBehaviours),apis:{getSlotNames:x,getSlot:function(fe,me){return jo(fe,l,me)},isShowing:V,hideSlot:j,hideAllSlots:function(fe){return Y(fe,x())},showSlot:ae}}}function oA(l,p){jo(l,p,"overflow").each(function(x){_i(l,p,function(C){var I=Ht(C,function(P){return tc(P)});Wg.setGroups(x,I)}),jo(l,p,"overflow-button").each(function(C){Nh.hasGrown(x)&&ci.on(C)}),Nh.refresh(x)})}var rT,fS,dS,iA="data-value",oT=function(l,p,x,C){return Ht(x,function(I){return T1(I)?{type:"togglemenuitem",text:I.text,value:I.value,active:I.value===C,onAction:function(){lr.setValue(l,I.value),Gr(l,pd,{name:p}),co.focus(l)}}:{type:"nestedmenuitem",text:I.text,getSubmenuItems:function(){return oT(l,p,I.items,C)}}})},aA=function(l,p){return bn(l,function(x){return T1(x)?ni(x.value===p,x):aA(x.items,p)})},RP=Bl({name:"HtmlSelect",configFields:[Dn("options"),Xa("selectBehaviours",[co,lr]),Bt("selectClasses",[]),Bt("selectAttributes",{}),vi("data")],factory:function(l,p){var x=Ht(l.options,function(I){return{dom:{tag:"option",value:I.value,innerHtml:I.text}}}),C=l.data.map(function(I){return yf("initialValue",I)}).getOr({});return{uid:l.uid,dom:{tag:"select",classes:l.selectClasses,attributes:l.selectAttributes},components:x,behaviours:vs(l.selectBehaviours,[co.config({}),lr.config({store:ve({mode:"manual",getValue:function(I){return Kl(I.element)},setValue:function(I,P){Uo(l.options,function(V){return V.value===P}).isSome()&&ml(I.element,P)}},C)})])}}}),fO=Object.freeze({__proto__:null,events:function(l,p){var x=l.stream.streams.setup(l,p);return Ei([xn(l.event,x),Kf(function(){return p.cancel()})].concat(l.cancelEvent.map(function(C){return[xn(C,function(){return p.cancel()})]}).getOr([])))}}),dO=Object.freeze({__proto__:null,throttle:Ty,init:function(l){return l.stream.streams.state(l)}}),sA=ji({fields:[Xl("stream",Na("mode",{throttle:[Dn("delay"),Bt("stopEvent",!0),Ii("streams",{setup:function(l,p){var x=l.stream,C=w0(l.onStream,x.delay);return p.setTimer(C),function(I,P){C.throttle(I,P),x.stopEvent&&P.stop()}},state:Ty})]})),Bt("event","input"),vi("cancelEvent"),jc("onStream")],name:"streaming",active:fO,state:dO}),Vg=function(l){p_(l,function(p,x){return p.setSelectionRange(x.length,x.length)})},L2=U("alloy.typeahead.itemexecute"),Hg=U([vi("lazySink"),Dn("fetch"),Bt("minChars",5),Bt("responseTime",1e3),Ho("onOpen"),Bt("getHotspot",J.some),Bt("getAnchorOverrides",U({})),Bt("layouts",J.none()),Bt("eventOrder",{}),Jg("model",{},[Bt("getDisplayText",function(l){return void 0!==l.meta&&void 0!==l.meta.text?l.meta.text:l.value}),Bt("selectsOver",!0),Bt("populateFromBrowse",!0)]),Ho("onSetValue"),Fs("onExecute"),Ho("onItemExecute"),Bt("inputClasses",[]),Bt("inputAttributes",{}),Bt("inputStyles",{}),Bt("matchWidth",!0),Bt("useMinWidth",!1),Bt("dismissOnBlur",!0),po(["openClass"]),vi("initialData"),Xa("typeaheadBehaviours",[co,lr,sA,Zr,ci,ys]),Bu("previewing",function(){return Nr(!0)})].concat(l1()).concat(th())),LP=U([ud({schema:[Ju()],name:"menu",overrides:function(l){return{fakeFocus:!0,onHighlight:function(p,x){l.previewing.get()?p.getSystem().getByUid(l.uid).each(function(C){(function(I,P,V){if(I.selectsOver){var j=lr.getValue(P),Y=I.getDisplayText(j),ae=lr.getValue(V);return 0===I.getDisplayText(ae).indexOf(Y)?J.some(function(){var fe;A1(0,P,V),fe=Y.length,p_(P,function(me,Ce){return me.setSelectionRange(fe,Ce.length)})}):J.none()}return J.none()})(l.model,C,x).fold(function(){return $o.dehighlight(p,x)},function(I){return I()})}):p.getSystem().getByUid(l.uid).each(function(C){l.model.populateFromBrowse&&A1(0,C,x)}),l.previewing.set(!1)},onExecute:function(p,x){return p.getSystem().getByUid(l.uid).toOptional().map(function(C){return Gr(C,L2(),{item:x}),!0})},onHover:function(p,x){l.previewing.set(!1),p.getSystem().getByUid(l.uid).each(function(C){l.model.populateFromBrowse&&A1(0,C,x)})}}}})]),hO=tl({name:"Typeahead",configFields:Hg(),partFields:LP(),factory:function(l,p,x,C){function I(Y,ae,fe){l.previewing.set(!1);var me=ys.getCoupled(Y,"sandbox");qo.isOpen(me)?Wo.getCurrent(me).each(function(Ce){$o.getHighlighted(Ce).fold(function(){fe(Ce)},function(){yc(me,Ce.element,"keydown",ae)})}):W0(l,P(Y),Y,me,C,function(Ce){Wo.getCurrent(Ce).each(fe)},Nf.HighlightFirst).get(K)}function P(Y){return function(ae){return ae.map(function(fe){var me=cr(_n(fe.menus),function(Ce){return It(Ce.items,function(Oe){return"item"===Oe.type})});return lr.getState(Y).update(Ht(me,function(Ce){return Ce.data})),fe})}}var V=Dg(l),j=[co.config({}),lr.config({onSetValue:l.onSetValue,store:ve({mode:"dataset",getDataKey:function(Y){return Kl(Y.element)},getFallbackEntry:function(Y){return{value:Y,meta:{}}},setValue:function(Y,ae){ml(Y.element,l.model.getDisplayText(ae))}},l.initialData.map(function(Y){return yf("initialValue",Y)}).getOr({}))}),sA.config({stream:{mode:"throttle",delay:l.responseTime,stopEvent:!1},onStream:function(Y,ae){var fe,me=ys.getCoupled(Y,"sandbox");co.isFocused(Y)&&Kl(Y.element).length>=l.minChars&&(fe=Wo.getCurrent(me).bind(function(Ce){return $o.getHighlighted(Ce).map(lr.getValue)}),l.previewing.set(!0),W0(l,P(Y),Y,me,C,function(Ce){Wo.getCurrent(me).each(function(Oe){fe.fold(function(){l.model.selectsOver&&$o.highlightFirst(Oe)},function(Ge){$o.highlightBy(Oe,function(ze){return lr.getValue(ze).value===Ge.value}),$o.getHighlighted(Oe).orThunk(function(){return $o.highlightFirst(Oe),J.none()})})})},Nf.HighlightFirst).get(K))},cancelEvent:tp()}),Zr.config({mode:"special",onDown:function(Y,ae){return I(Y,ae,$o.highlightFirst),J.some(!0)},onEscape:function(Y){var ae=ys.getCoupled(Y,"sandbox");return qo.isOpen(ae)?(qo.close(ae),J.some(!0)):J.none()},onUp:function(Y,ae){return I(Y,ae,$o.highlightLast),J.some(!0)},onEnter:function(Y){var ae=ys.getCoupled(Y,"sandbox"),fe=qo.isOpen(ae);if(fe&&!l.previewing.get())return Wo.getCurrent(ae).bind(function(Ce){return $o.getHighlighted(Ce)}).map(function(Ce){return Gr(Y,L2(),{item:Ce}),!0});var me=lr.getValue(Y);return Bo(Y,tp()),l.onExecute(ae,Y,me),fe&&qo.close(ae),J.some(!0)}}),ci.config({toggleClass:l.markers.openClass,aria:{mode:"expanded"}}),ys.config({others:{sandbox:function(Y){return Jx(l,Y,{onOpen:function(){return ci.on(Y)},onClose:function(){return ci.off(Y)}})}}}),sr("typeaheadevents",[Nd(function(Y){c1(l,P(Y),Y,C,K,Nf.HighlightFirst).get(K)}),xn(L2(),function(Y,ae){var fe=ys.getCoupled(Y,"sandbox");A1(0,Y,ae.event.item),Bo(Y,tp()),l.onItemExecute(Y,fe,ae.event.item,lr.getValue(Y)),qo.close(fe),Vg(Y)})].concat(l.dismissOnBlur?[xn(Pd(),function(Y){var ae=ys.getCoupled(Y,"sandbox");td(ae.element).isNone()&&qo.close(ae)})]:[]))];return{uid:l.uid,dom:t2(No(l,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:ve(ve({},V),vs(l.typeaheadBehaviours,j)),eventOrder:l.eventOrder}}}),hS=function(l){return ve(ve({},l),{toCached:function(){return hS(l.toCached())},bindFuture:function(p){return hS(l.bind(function(x){return x.fold(function(C){return Ap(Po.error(C))},function(C){return p(C)})}))},bindResult:function(p){return hS(l.map(function(x){return x.bind(p)}))},mapResult:function(p){return hS(l.map(function(x){return x.map(p)}))},mapError:function(p){return hS(l.map(function(x){return x.mapError(p)}))},foldResult:function(p,x){return l.map(function(C){return C.fold(p,x)})},withTimeout:function(p,x){return hS($m(function(C){var I=!1,P=setTimeout(function(){I=!0,C(Po.error(x()))},p);l.get(function(V){I||(clearTimeout(P),C(V))})}))}})},NP={type:"separator"},B2=Rr("aria-invalid"),pO={bar:Ps(function(l,p){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Ht(l.items,p.shared.interpreter)}}),collection:Ps(function(l,p){return P=p.shared.providers,Y=(I=l).label.map(function(me){return hd(me,P)}),ae=x(function(me,Ce,Oe,Ge){Ce.stop(),P.isDisabled()||Gr(me,Dp,{name:I.name,value:Ge})}),fe=[xn(fi(),x(function(me,Ce,Oe){ed(Oe)})),xn(vl(),ae),xn(Ld(),ae),xn(Xf(),x(function(me,Ce,Oe){fa(me.element,"."+M0).each(function(Ge){ri(Ge,M0)}),Qn(Oe,M0)})),xn(Qh(),x(function(me){fa(me.element,"."+M0).each(function(Ce){ri(Ce,M0)})})),Nd(x(function(me,Ce,Oe,Ge){Gr(me,Dp,{name:I.name,value:Ge})}))],B0(Y,ai.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(1!==I.columns?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Z},behaviours:$n([Vr.config({disabled:P.isDisabled,onDisabled:function(me){C(me,function(Ce){Qn(Ce,"tox-collection__item--state-disabled"),Ur(Ce,"aria-disabled",!0)})},onEnabled:function(me){C(me,function(Ce){ri(Ce,"tox-collection__item--state-disabled"),Ss(Ce,"aria-disabled")})}}),$a(),yo.config({}),lr.config({store:{mode:"memory",initialValue:[]},onSetValue:function(me,Ce){var Oe=me,Ge=Ht(Ce,function(Ue){var qe=Ah.translate(Ue.text),Je=1===I.columns?'<div class="tox-collection__item-label">'+qe+"</div>":"",Ee='<div class="tox-collection__item-icon">'+Ue.icon+"</div>",Ze={_:" "," - ":" ","-":" "},ft=qe.replace(/\_| \- |\-/g,function(Ct){return Ze[Ct]});return'<div class="tox-collection__item'+(P.isDisabled()?" tox-collection__item--state-disabled":"")+'" tabindex="-1" data-collection-item-value="'+mM.encodeAllRaw(Ue.value)+'" title="'+ft+'" aria-label="'+ft+'">'+Ee+Je+"</div>"}),ze=Ht("auto"!==I.columns&&1<I.columns?_r(Ge,I.columns):[Ge],function(Ue){return'<div class="tox-collection__group">'+Ue.join("")+"</div>"});Uy(Oe.element,ze.join("")),"auto"===I.columns&&cw(me,5,"tox-collection__item").each(function(Ue){Zr.setGridSize(me,Ue.numRows,Ue.numColumns)}),Bo(me,Ml)}}),ei.config({}),Zr.config(1===(j=I.columns)?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:"auto"===j?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:"."+hw}}),sr("collection-events",fe)]),eventOrder:((V={})[bc()]=["disabling","alloy.base.behaviour","collection-events"],V)}),["tox-form__group--collection"],[]);function x(me){return function(Ce,Oe){Sf(Oe.event.target,"[data-collection-item-value]").each(function(Ge){me(Ce,Oe,Ge,fs(Ge,"data-collection-item-value"))})}}function C(me,Ce){return Ht(el(me.element,".tox-collection__item"),Ce)}var I,P,V,j,Y,ae,fe}),alertbanner:Ps(function(l,p){return Os.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+(x=l).level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[il.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:J_(x.icon,(C=p.shared.providers).icons),attributes:{title:C.translate(x.iconTooltip)}},action:function(I){Gr(I,Dp,{name:"alert-banner",value:x.url})},buttonBehaviours:$n([Nk()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:C.translate(x.text)}}]});var x,C}),input:Ps(function(l,p){return C=p.shared.providers,D1({name:(x=l).name,multiline:!1,label:x.label,inputMode:x.inputMode,placeholder:x.placeholder,flex:!1,disabled:x.disabled,classname:"tox-textfield",validation:J.none(),maximized:x.maximized},C);var x,C}),textarea:Ps(function(l,p){return C=p.shared.providers,D1({name:(x=l).name,multiline:!0,label:x.label,inputMode:J.none(),placeholder:x.placeholder,flex:!0,disabled:x.disabled,classname:"tox-textarea",validation:J.none(),maximized:x.maximized},C);var x,C}),label:Ps(function(l,p){return I={dom:{tag:"label",innerHtml:(C=p.shared).providers.translate((x=l).label),classes:["tox-label"]}},P=Ht(x.items,C.interpreter),{dom:{tag:"div",classes:["tox-form__group"]},components:[I].concat(P),behaviours:$n([J0(),yo.config({}),$D(J.none()),Zr.config({mode:"acyclic"})])};var x,C,I,P}),iframe:(rT=function(l,p){return x=l,C=p.shared.providers,V=eA&&x.sandboxed,j=ve(ve({},x.label.map(function(ae){return{title:ae}}).getOr({})),V?{sandbox:"allow-scripts allow-same-origin"}:{}),I=V,P=Nr(""),Y={getValue:function(ae){return P.get()},setValue:function(ae,fe){var me;I?Ur(ae.element,"srcdoc",fe):(Ur(ae.element,"src","javascript:''"),(me=ae.element.dom.contentWindow.document).open(),me.write(fe),me.close()),P.set(fe)}},B0(x.label.map(function(ae){return hd(ae,C)}),ai.parts.field({factory:{sketch:function(ae){return AM({uid:ae.uid,dom:{tag:"iframe",attributes:j},behaviours:$n([ei.config({}),co.config({}),Rh(J.none(),Y.getValue,Y.setValue)])})}}}),["tox-form__group--stretched"],[]);var x,C,I,P,V,j,Y},function(l,p,x){var C=No(p,{source:"dynamic"});return Ps(rT)(l,C,x)}),button:Ps(function(l,p){return C=p.shared.providers,I=p2((x=l).name,"custom"),B0(J.none(),ai.parts.field(ve({factory:il},UC(x,J.some(I),C,[Cy(""),J0()]))),[],[]);var x,C,I}),checkbox:Ps(function(l,p){return I=l,P=p.shared.providers,V=lr.config({store:{mode:"manual",getValue:function(fe){return fe.element.dom.checked},setValue:function(fe,me){fe.element.dom.checked=me}}}),j=ai.parts.field({factory:{sketch:Z},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:$n([J0(),Vr.config({disabled:function(){return I.disabled||P.isDisabled()}}),ei.config({}),co.config({}),V,Zr.config({mode:"special",onEnter:x,onSpace:x,stopSpaceKeyup:!0}),sr("checkbox-events",[xn(Zf(),function(fe,me){Gr(fe,pd,{name:I.name})})])])}),Y=ai.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:P.translate(I.label)},behaviours:$n([l_.config({})])}),ae=di({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[C("checked"),C("unchecked")]}),ai.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[j,ae.asSpec(),Y],fieldBehaviours:$n([Vr.config({disabled:function(){return I.disabled||P.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(fe){ai.getField(fe).each(Vr.disable)},onEnabled:function(fe){ai.getField(fe).each(Vr.enable)}}),$a()])});function x(fe){return fe.element.dom.click(),J.some(!0)}function C(fe){return tf("checked"===fe?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+fe]},P.icons)}var I,P,V,j,Y,ae}),colorinput:Ps(function(l,p){return C=l,P=p.colorinput,Y=ai.parts.field({factory:xy,inputClasses:["tox-textfield"],onSetValue:function(me){return Jm.run(me).get(K)},inputBehaviours:$n([Vr.config({disabled:(I=p.shared).providers.isDisabled}),$a(),ei.config({}),Jm.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(me){return Xr(me.element)},notify:{onValid:function(me){var Ce=lr.getValue(me);Gr(me,nS,{color:Ce})}},validator:{validateOnLoad:!1,validate:function(me){var Ce=lr.getValue(me);if(0===Ce.length)return Ap(Po.value(!0));var Oe=bt.fromTag("span");Qr(Oe,"background-color",Ce);var Ge=Ki(Oe,"background-color").fold(function(){return Po.error("blah")},function(ze){return Po.value(Ce)});return Ap(Ge)}}})]),selectOnFocus:!1}),ae=C.label.map(function(me){return hd(me,I.providers)}),fe=di((V={dom:{tag:"span",attributes:{"aria-label":I.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[xu,Vs,ru]},onLtr:function(){return[Vs,xu,ru]}},components:[],fetch:SC(P.getColors(),P.hasCustomColors()),columns:P.getColorCols(),presets:"color",onItemAction:function(me,Ce){fe.getOpt(me).each(function(Oe){"custom"===Ce?P.colorPicker(function(Ge){Ge.fold(function(){return Bo(Oe,rS)},function(ze){x(Oe,ze),$T(ze)})},"#ffffff"):x(Oe,"remove"===Ce?"":Ce)})}},bd.sketch({dom:V.dom,components:V.components,toggleClass:"mce-active",dropdownBehaviours:$n([R0((j=I).providers.isDisabled),$a(),l_.config({}),ei.config({})]),layouts:V.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:j.getSink,fetch:function(me){return $m(function(Ce){return V.fetch(Ce)}).map(function(Ce){return J.from(MC(No(by(Rr("menu-value"),Ce,function(Oe){V.onItemAction(me,Oe)},V.columns,V.presets,Mp.CLOSE_ON_EXECUTE,Ke,j.providers),{movement:jx(V.columns,V.presets)})))})},parts:{menu:rC(0,0,V.presets)}}))),ai.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:ae.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[Y,fe.asSpec()]}]),fieldBehaviours:$n([sr("form-field-events",[xn(nS,function(me,Ce){fe.getOpt(me).each(function(Oe){Qr(Oe.element,"background-color",Ce.event.color)}),Gr(me,pd,{name:C.name})}),xn(ZC,function(me,Ce){ai.getField(me).each(function(Oe){lr.setValue(Oe,Ce.event.value),Wo.getCurrent(me).each(co.focus)})}),xn(rS,function(me,Ce){ai.getField(me).each(function(Oe){Wo.getCurrent(me).each(co.focus)})})])])});function x(me,Ce){Gr(me,ZC,{value:Ce})}var C,I,P,V,j,Y,ae,fe}),colorpicker:Ps(function(l){var p=di(function s2(l,p){return Bl({name:"ColourPicker",configFields:[Dn("dom"),Bt("onValidHex",K),Bt("onInvalidHex",K)],factory:function(x){function C(Ct,Jt,Ft){Ee.getOpt(Ct).each(function(nn){Ue.setHue(nn,Ft)})}function I(Ct,Jt){Ze.getOpt(Ct).each(function(Ft){ze.updateHex(Ft,Jt)})}function P(Ct,Jt,Ft,nn){var Cn=Ft,fn=O0(Jt);qe.paletteRgba.set(fn),qe.paletteHue.set(Cn),zr(nn,function(In){In(Ct,Jt,Ft)})}var V,j,Y,ae,fe,me,Ce,Oe,Ge,ze=function DM(l,p,x,C){function I(Y,ae,fe,me,Ce){var Oe,Ge,ze=l(w1+"range"),Ue=[ai.parts.label({dom:{tag:"label",innerHtml:fe,attributes:{"aria-label":me}}}),ai.parts.field({data:Ce,factory:xy,inputAttributes:ve({type:"text"},"hex"===ae?{"aria-live":"polite"}:{}),inputClasses:[p("textfield")],inputBehaviours:$n([(Oe=ae,Ge=Y,Jm.config({invalidClass:p("invalid"),notify:{onValidate:function(Je){Gr(Je,S2,{type:Oe})},onValid:function(Je){Gr(Je,nk,{type:Oe,value:lr.getValue(Je)})},onInvalid:function(Je){Gr(Je,Op,{type:Oe,value:lr.getValue(Je)})}},validator:{validate:function(Je){var Ee=lr.getValue(Je),Ze=Ge(Ee)?Po.value(!0):Po.error(l("aria.input.invalid"));return Ap(Ze)},validateOnLoad:!1}})),ei.config({})]),onSetValue:function(Je){Jm.isInvalid(Je)&&Jm.run(Je).get(K)}})],qe="hex"!==ae?[ai.parts["aria-descriptor"]({text:ze})]:[];return{dom:{tag:"div",attributes:{role:"presentation"}},components:Ue.concat(qe)}}function P(Y,ae){lr.setValue(Y,{red:ae.red,green:ae.green,blue:ae.blue})}function V(Y,ae){j.getOpt(Y).each(function(fe){Qr(fe.element,"background-color","#"+ae.value)})}var j=di({dom:{tag:"div",classes:[p("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}});return Bl({factory:function(){function Y(Ee){return Ge[Ee].get()}function ae(Ee,Ze){Ge[Ee].set(Ze)}function fe(Ee,Ze){var ft=Ze.event;"hex"!==ft.type?ae(ft.type,J.none()):C(Ee)}function me(Ee,Ze){var ft,Ct,Ft,nn=Ze.event;"hex"===nn.type?function(Cn,fn){x(Cn);var In=uM(fn);ae("hex",J.some(fn));var Gn=O0(In);P(Cn,Gn),Oe(Gn),Gr(Cn,x1,{hex:In}),V(Cn,In)}(Ee,nn.value):(ft=Ee,Ct=nn.type,Ft=parseInt(nn.value,10),ae(Ct,J.some(Ft)),Y("red").bind(function(Cn){return Y("green").bind(function(fn){return Y("blue").map(function(In){return kl(Cn,fn,In,1)})})}).each(function(Cn){var fn,In,Gn=(fn=ft,In=t1(Cn),sf.getField(fn,"hex").each(function(yr){co.isFocused(yr)||lr.setValue(fn,{hex:In.value})}),In);Gr(ft,x1,{hex:Gn}),V(ft,Gn)}))}function Ce(Ee){return{label:l(w1+Ee+".label"),description:l(w1+Ee+".description")}}function Oe(Ee){var ft=Ee.green,Ct=Ee.blue;ae("red",J.some(Ee.red)),ae("green",J.some(ft)),ae("blue",J.some(Ct))}var Ge={red:Nr(J.some(255)),green:Nr(J.some(255)),blue:Nr(J.some(255)),hex:Nr(J.some("ffffff"))},ze=Ce("red"),Ue=Ce("green"),qe=Ce("blue"),Je=Ce("hex");return No(sf.sketch(function(Ee){return{dom:{tag:"form",classes:[p("rgb-form")],attributes:{"aria-label":l("aria.color.picker")}},components:[Ee.field("red",ai.sketch(I(rf,"red",ze.label,ze.description,255))),Ee.field("green",ai.sketch(I(rf,"green",Ue.label,Ue.description,255))),Ee.field("blue",ai.sketch(I(rf,"blue",qe.label,qe.description,255))),Ee.field("hex",ai.sketch(I(lM,"hex",Je.label,Je.description,"ffffff"))),j.asSpec()],formBehaviours:$n([Jm.config({invalidClass:p("form-invalid")}),sr("rgb-form-events",[xn(nk,me),xn(Op,fe),xn(S2,fe)])])}}),{apis:{updateHex:function(Ee,Ze){var ft;lr.setValue(Ee,{hex:Ze.value}),P(Ee,ft=O0(Ze)),Oe(ft),V(Ee,Ze)}}})},name:"RgbForm",configFields:[],apis:{updateHex:function(Y,ae,fe){Y.updateHex(ae,fe)}},extraApis:{}})}(l,p,x.onValidHex,x.onInvalidHex),Ue=(Oe=bs.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[(Ce=p)("sv-palette-spectrum")]}}),Ge=bs.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[Ce("sv-palette-thumb")],innerHtml:"<div class="+Ce("sv-palette-inner-thumb")+' role="presentation"></div>'}}),Bl({factory:function(Ct){var Jt=U({x:0,y:0}),Ft=$n([Wo.config({find:J.some}),co.config({})]);return bs.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[Ce("sv-palette")]},model:{mode:"xy",getInitialValue:Jt},rounded:!1,components:[Oe,Ge],onChange:function(nn,Cn,fn){Gr(nn,aS,{value:fn})},onInit:function(nn,Cn,fn,In){ft(fn.element.dom,P0(Sw))},sliderBehaviours:Ft})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:function(Ct,Jt,Ft){var nn=Ft;ft(Jt.components()[0].element.dom,P0(_w(Fx(nn,100,100))))},setThumb:function(Ct,Jt,Ft){var nn=Jt,Cn=Vx(O0(Ft));bs.setValue(nn,{x:Cn.saturation,y:100-Cn.value})}},extraApis:{}})),qe={paletteRgba:Nr(Sw),paletteHue:Nr(0)},Je=di((j=bs.parts.spectrum({dom:{tag:"div",classes:[(V=p)("hue-slider-spectrum")],attributes:{role:"presentation"}}}),Y=bs.parts.thumb({dom:{tag:"div",classes:[V("hue-slider-thumb")],attributes:{role:"presentation"}}}),bs.sketch({dom:{tag:"div",classes:[V("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:U({y:0})},components:[j,Y],sliderBehaviours:$n([co.config({})]),onChange:function(Ct,Jt,Ft){Gr(Ct,_1,{value:Ft})}}))),Ee=di(Ue.sketch({})),Ze=di(ze.sketch({}));function ft(Ct,Jt){var Ft,nn,Cn=Ct.width,fn=Ct.height,In=Ct.getContext("2d");null!==In&&(In.fillStyle=Jt,In.fillRect(0,0,Cn,fn),(Ft=In.createLinearGradient(0,0,Cn,0)).addColorStop(0,"rgba(255,255,255,1)"),Ft.addColorStop(1,"rgba(255,255,255,0)"),In.fillStyle=Ft,In.fillRect(0,0,Cn,fn),(nn=In.createLinearGradient(0,0,0,fn)).addColorStop(0,"rgba(0,0,0,0)"),nn.addColorStop(1,"rgba(0,0,0,1)"),In.fillStyle=nn,In.fillRect(0,0,Cn,fn))}return{uid:x.uid,dom:x.dom,components:[Ee.asSpec(),Je.asSpec(),Ze.asSpec()],behaviours:$n([sr("colour-picker-events",[xn(x1,(me=[C,function(Ct,Jt,Ft){Je.getOpt(Ct).each(function(nn){bs.setValue(nn,{y:100-Ft/360*100})})},function(Ct,Jt){Ee.getOpt(Ct).each(function(Ft){Ue.setThumb(Ft,Jt)})}],function(Ct,Jt){var Ft=Jt.event.hex;P(Ct,Ft,Vx(O0(Ft)).hue,me)})),xn(aS,(fe=[I],function(Ct,Jt){var Ft=Jt.event.value,nn=qe.paletteHue.get();P(Ct,mC(Fx(nn,Ft.x,100-Ft.y)),nn,fe)})),xn(_1,(ae=[C,I],function(Ct,Jt){var Ft=(100-Jt.event.value.y)/100*360,nn=Vx(qe.paletteRgba.get());P(Ct,mC(Fx(Ft,nn.saturation,nn.value)),Ft,ae)}))]),Wo.config({find:function(Ct){return Ze.getOpt(Ct)}}),Zr.config({mode:"acyclic"})])}}})}(o_,function(x){return"tox-"+x}).sketch({dom:{tag:"div",classes:["tox-color-picker-container"],attributes:{role:"presentation"}},onValidHex:function(x){Gr(x,Dp,{name:"hex-valid",value:!0})},onInvalidHex:function(x){Gr(x,Dp,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[p.asSpec()],behaviours:$n([lr.config({store:{mode:"manual",getValue:function(x){var C=p.get(x);return Wo.getCurrent(C).bind(function(I){return lr.getValue(I).hex}).map(function(I){return"#"+I}).getOr("")},setValue:function(x,C){var I=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(C),P=p.get(x);Wo.getCurrent(P).fold(function(){console.log("Can not find form")},function(V){lr.setValue(V,{hex:J.from(I[1]).getOr("")}),sf.getField(V,"hex").each(function(j){Bo(j,Ta())})})}}}),J0()])}}),dropzone:Ps(function(l,p){return function md(l,p){function x(Y,ae){ae.stop()}function C(Y){return function(ae,fe){zr(Y,function(me){me(ae,fe)})}}function I(Y,ae){Vr.isDisabled(Y)||V(Y,ae.event.raw.dataTransfer.files)}function P(Y,ae){V(Y,ae.event.raw.target.files)}function V(Y,ae){var fe,me;lr.setValue(Y,(fe=ae,me=sv.explode(p.getSetting("images_file_types","jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp","string")),It(Fh(fe),function(Ce){return jt(me,function(Oe){return lt(Ce.name.toLowerCase(),"."+Oe.toLowerCase())})}))),Gr(Y,pd,{name:l.name})}var j=di({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:$n([sr("input-file-events",[Id(vl()),Id(Ld())])])});return B0(l.label.map(function(Y){return hd(Y,p)}),ai.parts.field({factory:{sketch:function(Y){return{uid:Y.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:$n([Cy([]),J0(),Vr.config({}),ci.config({toggleClass:"dragenter",toggleOnExecute:!1}),sr("dropzone-events",[xn("dragenter",C([x,ci.toggle])),xn("dragleave",C([x,ci.toggle])),xn("dragover",x),xn("drop",C([x,I])),xn(Zf(),P)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:p.translate("Drop an image here")}},il.sketch({dom:{tag:"button",innerHtml:p.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[j.asSpec()],action:function(ae){j.get(ae).element.dom.click()},buttonBehaviours:$n([ei.config({}),R0(p.isDisabled),$a()])})]}]}}}}),["tox-form__group--stretched"],[])}(l,p.shared.providers)}),grid:Ps(function(l,p){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+l.columns+"col"]},components:Ht(l.items,p.shared.interpreter)}}),listbox:Ps(function(l,p){return I=(C=p).shared.providers,P=Ci((x=l).items).filter(T1),V=x.label.map(function(Y){return hd(Y,I)}),j={dom:{tag:"div",classes:["tox-listboxfield"]},components:[ai.parts.field({dom:{},factory:{sketch:function(Y){return i_({uid:Y.uid,text:P.map(function(ae){return ae.text}),icon:J.none(),tooltip:x.label,role:J.none(),fetch:function(ae,fe){fe(y1(oT(ae,x.name,x.items,lr.getValue(ae)),Mp.CLOSE_ON_EXECUTE,C,!1))},onSetup:U(K),getApi:U({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[ei.config({}),lr.config({store:{mode:"manual",initialValue:P.map(function(ae){return ae.value}).getOr(""),getValue:function(ae){return fs(ae.element,iA)},setValue:function(ae,fe){aA(x.items,fe).each(function(me){Ur(ae.element,iA,me.value),Gr(ae,uf,{text:me.text})})}}})]},"tox-listbox",C.shared)}}})]},ai.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Bn([V.toArray(),[j]]),fieldBehaviours:$n([Vr.config({disabled:U(x.disabled),onDisabled:function(Y){ai.getField(Y).each(Vr.disable)},onEnabled:function(Y){ai.getField(Y).each(Vr.enable)}})])});var x,C,I,P,V,j}),selectbox:Ps(function(l,p){return C=p.shared.providers,I=Ht((x=l).items,function(j){return{text:C.translate(j.text),value:j.value}}),P=x.label.map(function(j){return hd(j,C)}),V={dom:{tag:"div",classes:["tox-selectfield"]},components:Bn([[ai.parts.field({dom:{},selectAttributes:{size:x.size},options:I,factory:RP,selectBehaviours:$n([Vr.config({disabled:function(){return x.disabled||C.isDisabled()}}),ei.config({}),sr("selectbox-change",[xn(Zf(),function(j,Y){Gr(j,pd,{name:x.name})})])])})],(1<x.size?J.none():J.some(tf("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},C.icons))).toArray()])},ai.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Bn([P.toArray(),[V]]),fieldBehaviours:$n([Vr.config({disabled:function(){return x.disabled||C.isDisabled()},onDisabled:function(j){ai.getField(j).each(Vr.disable)},onEnabled:function(j){ai.getField(j).each(Vr.enable)}}),$a()])});var x,C,I,P,V}),sizeinput:Ps(function(l,p){return qC(l,p.shared.providers)}),urlinput:Ps(function(l,p){return function fk(l,p,x){function C(qe){var Je=lr.getValue(qe);x.addToHistory(Je.value,l.filetype)}var I,P,V,j,Y=p.shared.providers,ae=ai.parts.field({factory:hO,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":B2,type:"url"},minChars:0,responseTime:0,fetch:function(qe){var Je,Ee,Ze,ft,Ct=y1((Je=l.filetype,Ee=x,Ze=lr.getValue(qe),ft=void 0!==Ze.meta.text?Ze.meta.text:Ze.value,Ee.getLinkInformation().fold(function(){return[]},function(Jt){var Ft=ck(ft,Ht(Ee.getHistory(Je),function(nn){return lv(nn,nn)}));return"file"===Je?Lr([Ft,ck(ft,uS("header",Jt.targets)),ck(ft,Bn([J.from(Jt.anchorTop).map(function(nn){return lv("<top>",nn)}).toArray(),uS("anchor",Jt.targets),J.from(Jt.anchorBottom).map(function(nn){return lv("<bottom>",nn)}).toArray()]))],function(nn,Cn){return 0===nn.length||0===Cn.length?nn.concat(Cn):nn.concat(NP,Cn)},[]):Ft})),Mp.BUBBLE_TO_SANDBOX,p,!1);return Ap(Ct)},getHotspot:function(qe){return ze.getOpt(qe)},onSetValue:function(qe,Je){qe.hasConfigured(Jm)&&Jm.run(qe).get(K)},typeaheadBehaviours:$n(Bn([x.getValidationHandler().map(function(qe){return Jm.config({getRoot:function(Je){return Xr(Je.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(Je,Ee){me.getOpt(Je).each(function(Ze){Ur(Ze.element,"title",Y.translate(Ee))})}},validator:{validate:function(Je){var Ee=lr.getValue(Je);return function(l){return hS($m(l))}(function(Ze){qe({type:l.filetype,url:Ee.value},function(ft){var Ct,Jt;"invalid"===ft.status?(Ct=Po.error(ft.message),Ze(Ct)):(Jt=Po.value(ft.message),Ze(Jt))})})},validateOnLoad:!1}})}).toArray(),[Vr.config({disabled:function(){return l.disabled||Y.isDisabled()}}),ei.config({}),sr("urlinput-events",Bn(["file"===l.filetype?[xn(Ta(),function(qe){Gr(qe,pd,{name:l.name})})]:[],[xn(Zf(),function(qe){Gr(qe,pd,{name:l.name}),C(qe)}),xn(Rd(),function(qe){Gr(qe,pd,{name:l.name}),C(qe)})]]))]])),eventOrder:((I={})[Ta()]=["streaming","urlinput-events","invalidating"],I),model:{getDisplayText:function(qe){return qe.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:p.shared.getSink,parts:{menu:rC(0,0,"normal")},onExecute:function(qe,Je,Ee){Gr(Je,af,{})},onItemExecute:function(qe,Je,Ee,Ze){C(qe),Gr(qe,pd,{name:l.name})}}),fe=l.label.map(function(qe){return hd(qe,Y)}),me=di((P="invalid",V=J.some(B2),tf("warning",{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+P],attributes:ve({title:Y.translate(j=void 0===j?P:j),"aria-live":"polite"},V.fold(function(){return{}},function(qe){return{id:qe}}))},Y.icons))),Ce=di({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[me.asSpec()]}),Oe=x.getUrlPicker(l.filetype),Ge=Rr("browser.url.event"),ze=di({dom:{tag:"div",classes:["tox-control-wrap"]},components:[ae,Ce.asSpec()],behaviours:$n([Vr.config({disabled:function(){return l.disabled||Y.isDisabled()}})])}),Ue=di(PM({name:l.name,icon:J.some("browse"),text:l.label.getOr(""),disabled:l.disabled,primary:!1,borderless:!0},function(qe){return Bo(qe,Ge)},Y,[],["tox-browse-url"]));return ai.sketch({dom:Ig([]),components:fe.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Bn([[ze.asSpec()],Oe.map(function(){return Ue.asSpec()}).toArray()])}]),fieldBehaviours:$n([Vr.config({disabled:function(){return l.disabled||Y.isDisabled()},onDisabled:function(qe){ai.getField(qe).each(Vr.disable),Ue.getOpt(qe).each(Vr.disable)},onEnabled:function(qe){ai.getField(qe).each(Vr.enable),Ue.getOpt(qe).each(Vr.enable)}}),$a(),sr("url-input-events",[xn(Ge,function(qe){Wo.getCurrent(qe).each(function(Je){var Ee=lr.getValue(Je),Ze=ve({fieldname:l.name},Ee);Oe.each(function(ft){ft(Ze).get(function(Ct){lr.setValue(Je,Ct),Gr(qe,pd,{name:l.name})})})})})])])})}(l,p,p.urlinput)}),customeditor:Ps(function(l){var p=Ha(),x=di({dom:{tag:l.tag}}),C=Ha();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:$n([sr("custom-editor-events",[ca(function(I){x.getOpt(I).each(function(P){(Sr(l,"init")?l.init(P.element.dom):qM.load(l.scriptId,l.scriptUrl).then(function(V){return V(P.element.dom,l.settings)})).then(function(V){C.on(function(j){V.setValue(j)}),C.clear(),p.set(V)})})})]),lr.config({store:{mode:"manual",getValue:function(){return p.get().fold(function(){return C.get().getOr("")},function(I){return I.getValue()})},setValue:function(I,P){p.get().fold(function(){C.set(P)},function(V){return V.setValue(P)})}}}),J0()]),components:[x.asSpec()]}}),htmlpanel:Ps(function(l){return Os.sketch("presentation"===l.presets?{dom:{tag:"div",classes:["tox-form__group"],innerHtml:l.html}}:{dom:{tag:"div",classes:["tox-form__group"],innerHtml:l.html,attributes:{role:"document"}},containerBehaviours:$n([ei.config({}),co.config({})])})}),imagetools:Ps(function(l,p){return A2(l,p.shared.providers)}),table:Ps(function(l,p){return function nA(l,p){function x(C){return{dom:{tag:"td",innerHtml:p.translate(C)}}}return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Ht(l.header,function(C){return{dom:{tag:"th",innerHtml:p.translate(C)}}})}]},{dom:{tag:"tbody"},components:Ht(l.cells,function(C){return{dom:{tag:"tr"},components:Ht(C,x)}})}],behaviours:$n([ei.config({}),co.config({})])}}(l,p.shared.providers)}),panel:Ps(function(l,p){return{dom:{tag:"div",classes:l.classes},components:Ht(l.items,p.shared.interpreter)}})},gO={field:function(l,p){return p}},z2=function(l,p,x){return vn(pO,p.type).fold(function(){return console.error('Unknown factory type "'+p.type+'", defaulting to container: ',p),p},function(C){return C(l,p,x)})},mO={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},vO=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],F2=function(l){return Lr(l,function(p,x){if(Sr(x,"items")){var C=F2(x.items);return{customFormats:p.customFormats.concat(C.customFormats),formats:p.formats.concat([{title:x.title,items:C.formats}])}}if(Sr(x,"inline")||Sr(x,"block")||Sr(x,"selector")){var I="custom-"+(ne(x.name)?x.name:x.title.toLowerCase());return{customFormats:p.customFormats.concat([{name:I,format:x}]),formats:p.formats.concat([{title:x.title,format:I,icon:x.icon}])}}return ve(ve({},p),{formats:p.formats.concat(x)})},{customFormats:[],formats:[]})},yO=sv.trim,pS=JM("true"),gS=JM("false"),hk=function(l){var p=Ht(el(bt.fromDom(l),"h1,h2,h3,h4,h5,h6,a:not([href])"),function(x){return x.dom});return It(Ht(It(p,w),M).concat(Ht(It(p,d),O)),L)},V2="tinymce-url-history",ih=mg,mS=ld,BP=U([Bt("shell",!1),Dn("makeItem"),Bt("setupItem",K),yp("listBehaviours",[yo])]),iT=U([Kd({name:"items",overrides:function(){return{behaviours:$n([yo.config({})])}}})]),bO=tl({name:U("CustomList")(),configFields:BP(),partFields:iT(),factory:function(l,p,x,C){var I=l.shell?{behaviours:[yo.config({})],components:[]}:{behaviours:[],components:p};return{uid:l.uid,dom:l.dom,components:I.components,behaviours:vs(l.listBehaviours,I.behaviours),apis:{setItems:function(P,V){var j;j=P,(l.shell?J.some(j):jo(j,l,"items")).fold(function(){throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},function(Y){var ae=yo.contents(Y),fe=V.length,me=fe-ae.length,Ce=0<me?Cr(me,function(){return l.makeItem()}):[],Oe=ae.slice(fe);zr(Oe,function(ze){return yo.remove(Y,ze)}),zr(Ce,function(ze){return yo.append(Y,ze)});var Ge=yo.contents(Y);zr(Ge,function(ze,Ue){l.setupItem(P,ze,V[Ue],Ue)})})}}}},apis:{setItems:function(l,p,x){l.setItems(p,x)}}}),E1=U([Dn("dom"),Bt("shell",!0),Xa("toolbarBehaviours",[yo])]),zP=U([Kd({name:"groups",overrides:function(){return{behaviours:$n([yo.config({})])}}})]),Wg=tl({name:"Toolbar",configFields:E1(),partFields:zP(),factory:function(l,p,x,C){var I=l.shell?{behaviours:[yo.config({})],components:[]}:{behaviours:[],components:p};return{uid:l.uid,dom:l.dom,components:I.components,behaviours:vs(l.toolbarBehaviours,I.behaviours),apis:{setGroups:function(P,V){var j;j=P,(l.shell?J.some(j):jo(j,l,"groups")).fold(function(){throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},function(Y){yo.set(Y,V)})}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(l,p,x){l.setGroups(p,x)}}}),H2=U([]),FP=Object.freeze({__proto__:null,setup:K,isDocked:Ke,getBehaviours:H2}),uA=os([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),lA=function(l,p,x){var C,I,P,V;l.getSystem().isConnected()&&(P=x,V=(I=p).lazyViewport(C=l),P.isDocked()&&on(C,I,P,V),function Vt(l,p,x){var C,I,P,V=l.element;return wr(Ki(V,"position"),"fixed")?(I=p,rt(C=V,P=x).filter(function(j){return Ye(P.getModes(),j,I)}).bind(function(j){return dt(C,j,P)})):function(j,Y,ae){var fe,me,Ce=Yl(j);if(Ye(ae.getModes(),Ce,Y))return J.none();fe=j,me=Ce,ae.setInitialPos({style:function(){var Je={},Ee=fe.dom;if(va(Ee))for(var Ze=0;Ze<Ee.style.length;Ze++){var ft=Ee.style.item(Ze);Je[ft]=Ee.style[ft]}return Je}(),position:Ns(fe,"position")||"static",bounds:me});var Oe=fl(),ze=Y.y-Oe.y,Ue=Oe.bottom-Y.bottom,qe=Ce.y<=Y.y;return J.some(uA.fixed(El("fixed",J.some(Ce.x-Oe.x),qe?J.some(ze):J.none(),J.none(),qe?J.none():J.some(Ue))))}(V,p,x)}(C,V,P).each(function(j){j.fold(function(){return Zt(C,I,P)},function(Y){return ln(C,I,P,Y)},function(Y){on(C,I,P,V,!0),ln(C,I,P,Y)})}))},xO=Object.freeze({__proto__:null,refresh:lA,reset:Mt,isDocked:function(l,p,x){return x.isDocked()},getModes:function(l,p,x){return x.getModes()},setModes:function(l,p,x,C){return x.setModes(C)}}),W2=Object.freeze({__proto__:null,events:function(l,p){return Ei([Av(ph(),function(x,C){l.contextual.each(function(I){la(x.element,I.transitionClass)&&(xf(x.element,[I.transitionClass,I.fadeInClass]),(p.isVisible()?I.onShown:I.onHidden)(x)),C.stop()})}),xn(Gc(),function(x,C){lA(x,l,p)}),xn(za(),function(x,C){Mt(x,l,p)})])}}),lf=ji({fields:[Wi("contextual",[jr("fadeInClass"),jr("fadeOutClass"),jr("transitionClass"),Lu("lazyContext"),Ho("onShow"),Ho("onShown"),Ho("onHide"),Ho("onHidden")]),Li("lazyViewport",fl),Uf("modes",["top","bottom"],qa),Ho("onDocked"),Ho("onUndocked")],name:"docking",active:W2,apis:xO,state:Object.freeze({__proto__:null,init:function(l){var p=Nr(!1),x=Nr(!0),C=Ha(),I=Nr(l.modes);return ec({isDocked:p.get,setDocked:p.set,getInitialPos:C.get,setInitialPos:C.set,clearInitialPos:C.clear,isVisible:x.get,setVisible:x.set,getModes:I.get,setModes:I.set,readState:function(){return"docked:  "+p.get()+", visible: "+x.get()+", modes: "+I.get().join(",")}})}})}),G2=U(Rr("toolbar-height-change")),Dy={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},cA="tox-tinymce--toolbar-sticky-on",fA="tox-tinymce--toolbar-sticky-off",_O=Object.freeze({__proto__:null,setup:function(l,p,x){l.inline||(p.header.isPositionedAtTop()||l.on("ResizeEditor",function(){x().each(lf.reset)}),l.on("ResizeWindow ResizeEditor",function(){x().each(zt)}),l.on("SkinLoaded",function(){x().each(function(C){lf.isDocked(C)?lf.reset(C):lf.refresh(C)})}),l.on("FullscreenStateChanged",function(){x().each(lf.reset)})),l.on("AfterScrollIntoView",function(C){x().each(function(I){lf.refresh(I);var P,V,j,Y,ae,fe,me,Ce,Oe,Ge,ze,Ue,qe,Je,Ee,Ze,ft=I.element;ce(ft)&&(P=C,Y=(j=Wt(V=ft)).dom.defaultView.innerHeight,ae=ts(j),me=uh(fe=bt.fromDom(P.elm)),Ce=Pu(fe),Ge=(Oe=me.y)+Ce,ze=Ul(V),Ue=Pu(V),Je=(qe=ze.top)+Ue,Ee=Math.abs(qe-ae.top)<2,Ze=Math.abs(Je-(ae.top+Y))<2,Ee&&Oe<Je?qg(ae.left,Oe-Ue,j):Ze&&qe<Ge&&qg(ae.left,Oe-Y+Ce+Ue,j))})}),l.on("PostRender",function(){On(l,!1)})},isDocked:function(l){return l().map(lf.isDocked).getOr(!1)},getBehaviours:er}),wO=Fr([jr("type"),Xl("items",Wh([kv([jr("name"),Zu("items",qa)]),qa]))].concat(kg)),SO=[Ri("text"),Ri("tooltip"),Ri("icon"),Lu("fetch"),Li("onSetup",function(){return K})],VP=Fr(Ve([jr("type")],SO,!0)),HP=Fr([jr("type"),Ri("tooltip"),Ri("icon"),Ri("text"),vc("select"),Lu("fetch"),Li("onSetup",function(){return K}),pl("presets","normal",["normal","color","listpreview"]),Bt("columns",1),Lu("onAction"),Lu("onItemAction")]),dA=Bl({factory:function(l,p){var x={focus:Zr.focusIn,setMenus:function(C,I){var P=Ht(I,function(V){return WC(An({type:"menubutton",text:V.text,fetch:function(j){j(V.getItems())}}).mapError(function(j){return Ku(j)}).getOrDie(),"tox-mbtn",p.backstage,J.some("menuitem"))});yo.set(C,P)}};return{uid:l.uid,dom:l.dom,components:[],behaviours:$n([yo.config({}),sr("menubar-events",[ca(function(C){l.onSetup(C)}),xn(fi(),function(C,I){fa(C.element,".tox-mbtn--active").each(function(P){Sf(I.event.target,".tox-mbtn").each(function(V){Mn(P,V)||C.getSystem().getByDom(P).each(function(j){C.getSystem().getByDom(V).each(function(Y){bd.expand(Y),bd.close(j),co.focus(Y)})})})})}),xn(L_(),function(C,I){I.event.prevFocus.bind(function(P){return C.getSystem().getByDom(P).toOptional()}).each(function(P){I.event.newFocus.bind(function(V){return C.getSystem().getByDom(V).toOptional()}).each(function(V){bd.isOpen(P)&&(bd.expand(V),bd.close(P))})})})]),Zr.config({mode:"flow",selector:".tox-mbtn",onEscape:function(C){return l.onEscape(C),J.some(!0)}}),ei.config({})]),apis:x,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Dn("dom"),Dn("uid"),Dn("onEscape"),Dn("backstage"),Bt("onSetup",K)],apis:{focus:function(l,p){l.focus(p)},setMenus:function(l,p,x){l.setMenus(p,x)}}}),WP=Object.freeze({__proto__:null,refresh:function(l,p,x){var C;x.isExpanded()&&(mi(l.element,Fn(p)),C=Yn(p,l.element),Qr(l.element,Fn(p),C))},grow:function(l,p,x){x.isExpanded()||Tr(l,p,x)},shrink:function(l,p,x){x.isExpanded()&&Hn(l,p,x)},immediateShrink:function(l,p,x){x.isExpanded()&&pr(l,p,x)},hasGrown:function(l,p,x){return x.isExpanded()},hasShrunk:function(l,p,x){return x.isCollapsed()},isGrowing:Dr,isShrinking:Ao,isTransitioning:function(l,p,x){return Dr(l,p)||Ao(l,p)},toggleGrow:function(l,p,x){(x.isExpanded()?Hn:Tr)(l,p,x)},disableTransitions:qn}),CO=Object.freeze({__proto__:null,exhibit:function(l,p,x){return Yf(p.expanded?{classes:[p.openClass],styles:{}}:{classes:[p.closedClass],styles:yf(p.dimension.property,"0px")})},events:function(l,p){return Ei([Av(ph(),function(x,C){C.event.raw.propertyName===l.dimension.property&&(qn(x,l),p.isExpanded()&&mi(x.element,l.dimension.property),(p.isExpanded()?l.onGrown:l.onShrunk)(x))})])}}),Nh=ji({fields:[Dn("closedClass"),Dn("openClass"),Dn("shrinkingClass"),Dn("growingClass"),vi("getAnimationRoot"),Ho("onShrunk"),Ho("onStartShrink"),Ho("onGrown"),Ho("onStartGrow"),Bt("expanded",!1),Xl("dimension",Na("property",{width:[Ii("property","width"),Ii("getDimension",function(l){return gn(l)+"px"})],height:[Ii("property","height"),Ii("getDimension",function(l){return Pu(l)+"px"})]}))],name:"sliding",active:CO,apis:WP,state:Object.freeze({__proto__:null,init:function(l){var p=Nr(l.expanded);return ec({isExpanded:function(){return!0===p.get()},isCollapsed:function(){return!1===p.get()},setCollapsed:Qe(p.set,!1),setExpanded:Qe(p.set,!0),readState:function(){return"expanded: "+p.get()}})}})}),hA="container",GP=[Xa("slotBehaviours",[])],kO=jn({getSlotNames:function(l,p){return l.getSlotNames(p)},getSlot:function(l,p,x){return l.getSlot(p,x)},isShowing:function(l,p,x){return l.isShowing(p,x)},hideSlot:function(l,p,x){return l.hideSlot(p,x)},hideAllSlots:function(l,p){return l.hideAllSlots(p)},showSlot:function(l,p,x){return l.showSlot(p,x)}},Zh),fv=ve(ve({},kO),{sketch:function(l){var p,x={slot:function(P,V){return p.push(P),sg(hA,gt(P),V)},record:U(p=[])},C=l(x),I=Ht(x.record(),function(P){return Is({name:P,pname:gt(P)})});return Cm(hA,GP,I,rA,C)}}),MO=Fr([Ri("icon"),Ri("tooltip"),Li("onShow",K),Li("onHide",K),Li("onSetup",function(){return K})]),U2=Rr("FixSizeEvent"),pA=Rr("AutoSizeEvent"),TO=Object.freeze({__proto__:null,block:function(l,p,x,C){Ur(l.element,"aria-busy",!0);var I=p.getRoot(l).getOr(l),P=$n([Zr.config({mode:"special",onTab:function(){return J.some(!0)},onShiftTab:function(){return J.some(!0)}}),co.config({})]),V=C(I,P),j=I.getSystem().build(V);yo.append(I,tc(j)),j.hasConfigured(Zr)&&p.focus&&Zr.focusIn(j),x.isBlocked()||p.onBlock(l),x.blockWith(function(){return yo.remove(I,j)})},unblock:function(l,p,x){Ss(l.element,"aria-busy"),x.isBlocked()&&p.onUnblock(l),x.clear()}}),P1=ji({fields:[Li("getRoot",J.none),rs("focus",!0),Ho("onBlock"),Ho("onUnblock")],name:"blocking",apis:TO,state:Object.freeze({__proto__:null,init:function(){var l=zv();return ec({readState:l.isSet,blockWith:function(p){l.set({destroy:p})},clear:l.clear,isBlocked:l.isSet})}})}),gA=U([Xa("splitToolbarBehaviours",[ys]),Bu("builtGroups",function(){return Nr([])})]),mA=U([po(["overflowToggledClass"]),vc("getOverflowBounds"),Dn("lazySink"),Bu("overflowGroups",function(){return Nr([])})].concat(gA())),UP=U([Is({factory:Wg,schema:E1(),name:"primary"}),ud({schema:E1(),name:"overflow"}),ud({name:"overflow-button"}),ud({name:"overflow-group"})]),vA=U(function(l,p){var x=l,C=Math.floor(p);Qr(x,"max-width",ns.max(x,C,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"])+"px")}),DO=U([po(["toggledClass"]),Dn("lazySink"),Lu("fetch"),vc("getBounds"),Wi("fireDismissalEventInstead",[Bt("event",rp())]),cm()]),jP=U([ud({name:"button",overrides:function(l){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:$n([ci.config({toggleClass:l.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),ud({factory:Wg,schema:E1(),name:"toolbar",overrides:function(l){return{toolbarBehaviours:$n([Zr.config({mode:"cyclic",onEscape:function(p){return jo(p,l,"button").each(co.focus),J.none()}})])}}})]),vS=tl({name:"FloatingToolbarButton",factory:function(l,p,x,C){return ve(ve({},il.sketch(ve(ve({},C.button()),{action:function(I){xs(I,C)},buttonBehaviours:Qc({dump:C.button().buttonBehaviours},[ys.config({others:{toolbarSandbox:function(I){return P=I,V=x,j=l,{dom:{tag:"div",attributes:{id:(Y=yu()).id}},behaviours:$n([Zr.config({mode:"special",onEscape:function(ae){return qo.close(ae),J.some(!0)}}),qo.config({onOpen:function(ae,fe){j.fetch().get(function(me){Tl(P,fe,j,V.layouts,me),Y.link(P.element),Zr.focusIn(fe)})},onClose:function(){ci.off(P),co.focus(P),Y.unlink(P.element)},isPartOf:function(ae,fe,me){return nc(fe,me)||nc(P,me)},getAttachPoint:function(){return j.lazySink(P).getOrDie()}}),Va.config({channels:ve(ve({},Ob(ve({isExtraPart:Ke},j.fireDismissalEventInstead.map(function(ae){return{fireEventInstead:{event:ae.event}}}).getOr({})))),Ws({doReposition:function(){qo.getState(ys.getCoupled(P,"toolbarSandbox")).each(function(ae){Wu(P,ae,j,V.layouts)})}}))})])};var P,V,j,Y}}})])}))),{apis:{setGroups:function(I,P){qo.getState(ys.getCoupled(I,"toolbarSandbox")).each(function(V){Tl(I,V,l,x.layouts,P)})},reposition:function(I){qo.getState(ys.getCoupled(I,"toolbarSandbox")).each(function(P){Wu(I,P,l,x.layouts)})},toggle:function(I){xs(I,C)},getToolbar:function(I){return qo.getState(ys.getCoupled(I,"toolbarSandbox"))},isOpen:function(I){return qo.isOpen(ys.getCoupled(I,"toolbarSandbox"))}}})},configFields:DO(),partFields:jP(),apis:{setGroups:function(l,p,x){l.setGroups(p,x)},reposition:function(l,p){l.reposition(p)},toggle:function(l,p){l.toggle(p)},getToolbar:function(l,p){return l.getToolbar(p)},isOpen:function(l,p){return l.isOpen(p)}}}),AO=U([Dn("items"),po(["itemSelector"]),Xa("tgroupBehaviours",[Zr])]),aT=U([ry({name:"items",unit:"item"})]),pk=tl({name:"ToolbarGroup",configFields:AO(),partFields:aT(),factory:function(l,p,x,C){return{uid:l.uid,dom:l.dom,components:p,behaviours:vs(l.tgroupBehaviours,[Zr.config({mode:"flow",selector:l.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}}}),j2=tl({name:"SplitFloatingToolbar",configFields:mA(),partFields:UP(),factory:function(l,p,x,C){var I=di(vS.sketch({fetch:function(){return $m(function(P){P(Cu(l.overflowGroups.get()))})},layouts:{onLtr:function(){return[xu,Vs]},onRtl:function(){return[Vs,xu]},onBottomLtr:function(){return[hs,Pl]},onBottomRtl:function(){return[Pl,hs]}},getBounds:x.getOverflowBounds,lazySink:l.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:l.markers.overflowToggledClass},parts:{button:C["overflow-button"](),toolbar:C.overflow()}}));return{uid:l.uid,dom:l.dom,components:p,behaviours:vs(l.splitToolbarBehaviours,[ys.config({others:{overflowGroup:function(){return pk.sketch(ve(ve({},C["overflow-group"]()),{items:[I.asSpec()]}))}}})]),apis:{setGroups:function(P,V){l.builtGroups.set(Ht(V,P.getSystem().build)),Wl(P,I,l)},refresh:function(P){return Wl(P,I,l)},toggle:function(P){I.getOpt(P).each(function(V){vS.toggle(V)})},isOpen:function(P){return I.getOpt(P).map(vS.isOpen).getOr(!1)},reposition:function(P){I.getOpt(P).each(function(V){vS.reposition(V)})},getOverflow:function(P){return I.getOpt(P).bind(vS.getToolbar)}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(l,p,x){l.setGroups(p,x)},refresh:function(l,p){l.refresh(p)},reposition:function(l,p){l.reposition(p)},toggle:function(l,p){l.toggle(p)},isOpen:function(l,p){return l.isOpen(p)},getOverflow:function(l,p){return l.getOverflow(p)}}}),qP=U([po(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Ho("onOpened"),Ho("onClosed")].concat(gA())),YP=U([Is({factory:Wg,schema:E1(),name:"primary"}),Is({factory:Wg,schema:E1(),name:"overflow",overrides:function(l){return{toolbarBehaviours:$n([Nh.config({dimension:{property:"height"},closedClass:l.markers.closedClass,openClass:l.markers.openClass,shrinkingClass:l.markers.shrinkingClass,growingClass:l.markers.growingClass,onShrunk:function(p){jo(p,l,"overflow-button").each(function(x){ci.off(x),co.focus(x)}),l.onClosed(p)},onGrown:function(p){Zr.focusIn(p),l.onOpened(p)},onStartGrow:function(p){jo(p,l,"overflow-button").each(ci.on)}}),Zr.config({mode:"acyclic",onEscape:function(p){return jo(p,l,"overflow-button").each(co.focus),J.some(!0)}})])}}}),ud({name:"overflow-button",overrides:function(l){return{buttonBehaviours:$n([ci.config({toggleClass:l.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),ud({name:"overflow-group"})]),yA=tl({name:"SplitSlidingToolbar",configFields:qP(),partFields:YP(),factory:function(l,p,x,C){var I="alloy.toolbar.toggle";return{uid:l.uid,dom:l.dom,components:p,behaviours:vs(l.splitToolbarBehaviours,[ys.config({others:{overflowGroup:function(P){return pk.sketch(ve(ve({},C["overflow-group"]()),{items:[il.sketch(ve(ve({},C["overflow-button"]()),{action:function(V){Bo(P,I)}}))]}))}}}),sr("toolbar-toggle-events",[xn(I,function(P){cv(P,l)})])]),apis:{setGroups:function(P,V){var j=Ht(V,P.getSystem().build);l.builtGroups.set(j),oA(P,l)},refresh:function(P){return oA(P,l)},toggle:function(P){return cv(P,l)},isOpen:function(P){return jo(P,l,"overflow").map(Nh.hasGrown).getOr(!1)}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(l,p,x){l.setGroups(p,x)},refresh:function(l,p){l.refresh(p)},toggle:function(l,p){l.toggle(p)},isOpen:function(l,p){return l.isOpen(p)}}}),XP=mS.optional({factory:dA,name:"menubar",schema:[Dn("backstage")]}),ZP=mS.optional({factory:{sketch:function(l){return bO.sketch({uid:l.uid,dom:l.dom,listBehaviours:$n([Zr.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return ab({type:l.type,uid:Rr("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:l.providers,onEscape:function(){return l.onEscape(),J.some(!0)}})},setupItem:function(p,x,C,I){Wg.setGroups(x,C)},shell:!0})}},name:"multiple-toolbar",schema:[Dn("dom"),Dn("onEscape")]}),KP=mS.optional({factory:{sketch:function(l){return(l.type===nf.sliding?function(p){var x=yA.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),C=yA.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),I=ib(p);return yA.sketch(ve(ve({},I),{components:[x,C],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(P){P.getSystem().broadcastOn([G2()],{type:"opened"})},onClosed:function(P){P.getSystem().broadcastOn([G2()],{type:"closed"})}}))}:l.type===nf.floating?function(p){var x=ib(p),C=j2.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return j2.sketch(ve(ve({},x),{lazySink:p.getSink,getOverflowBounds:function(){var I=p.moreDrawerData.lazyHeader().element,P=uh(I),V=no(I),j=uh(V),Y=Math.max(V.dom.scrollHeight,j.height);return Ru(P.x+4,j.y,P.width-8,Y)},parts:ve(ve({},x.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:p.attributes}}}),components:[C],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))}:ab)({type:l.type,uid:l.uid,onEscape:function(){return l.onEscape(),J.some(!0)},cyclicKeying:!1,initGroups:[],getSink:l.getSink,providers:l.providers,moreDrawerData:{lazyToolbar:l.lazyToolbar,lazyMoreButton:l.lazyMoreButton,lazyHeader:l.lazyHeader},attributes:l.attributes})}},name:"toolbar",schema:[Dn("dom"),Dn("onEscape"),Dn("getSink")]}),IO=mS.optional({factory:{sketch:function(l){return{uid:l.uid,dom:l.dom,components:l.components,behaviours:$n((l.sticky?er:H2)(l.editor,l.sharedBackstage))}}},name:"header",schema:[Dn("dom")]}),OO=mS.optional({name:"socket",schema:[Dn("dom")]}),EO=mS.optional({factory:{sketch:function(l){return{uid:l.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:$n([ei.config({}),co.config({}),Nh.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(p){Wo.getCurrent(p).each(fv.hideAllSlots),Bo(p,pA)},onGrown:function(p){Bo(p,pA)},onStartGrow:function(p){Gr(p,U2,{width:Ki(p.element,"width").getOr("")})},onStartShrink:function(p){Gr(p,U2,{width:gn(p.element)+"px"})}}),yo.config({}),Wo.config({find:function(p){return Ci(yo.contents(p))}})])}],behaviours:$n([eb(0),sr("sidebar-sliding-events",[xn(U2,function(p,x){Qr(p.element,"width",x.event.width)}),xn(pA,function(p,x){mi(p.element,"width")})])])}}},name:"sidebar",schema:[Dn("dom")]}),PO=mS.optional({factory:{sketch:function(l){return{uid:l.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:$n([yo.config({}),P1.config({focus:!1}),Wo.config({find:function(p){return Ci(p.components())}})]),components:[]}}},name:"throbber",schema:[Dn("dom")]}),Rs=tl({name:"OuterContainer",factory:function(l,p,x){return{uid:l.uid,dom:l.dom,components:p,apis:{getSocket:function(C){return ih.getPart(C,l,"socket")},setSidebar:function(C,I){ih.getPart(C,l,"sidebar").each(function(P){return function mn(l,p){Wo.getCurrent(l).each(function(x){return yo.set(x,[(C=p,fv.sketch(function(I){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:(P=I,j=Ht(Ni(V=C),function(Y){var fe=hl(ua("sidebar",MO,V[Y]));return{name:Y,getApi:Et,onSetup:fe.onSetup,onShow:fe.onShow,onHide:fe.onHide}}),Ht(j,function(Y){var ae=Nr(K);return P.slot(Y.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:Ex([e1(Y,ae),Lx(Y,ae),xn(mb(),function(fe,me){var Ce=me.event;Uo(j,function(Oe){return Oe.name===Ce.name}).each(function(Oe){(Ce.visible?Oe.onShow:Oe.onHide)(Oe.getApi(fe))})})])})})),slotBehaviours:Ex([ca(function(Y){return fv.hideAllSlots(Y)})])};var P,V,j}))]);var C})}(P,I)})},toggleSidebar:function(C,I){ih.getPart(C,l,"sidebar").each(function(P){var V=I;Wo.getCurrent(P).each(function(j){Wo.getCurrent(j).each(function(Y){Nh.hasGrown(j)?fv.isShowing(Y,V)?Nh.shrink(j):(fv.hideAllSlots(Y),fv.showSlot(Y,V)):(fv.hideAllSlots(Y),fv.showSlot(Y,V),Nh.grow(j))})})})},whichSidebar:function(C){return ih.getPart(C,l,"sidebar").bind(Nn).getOrNull()},getHeader:function(C){return ih.getPart(C,l,"header")},getToolbar:function(C){return ih.getPart(C,l,"toolbar")},setToolbar:function(C,I){ih.getPart(C,l,"toolbar").each(function(P){P.getApis().setGroups(P,I)})},setToolbars:function(C,I){ih.getPart(C,l,"multiple-toolbar").each(function(P){bO.setItems(P,I)})},refreshToolbar:function(C){ih.getPart(C,l,"toolbar").each(function(I){return I.getApis().refresh(I)})},toggleToolbarDrawer:function(C){ih.getPart(C,l,"toolbar").each(function(I){var P=I.getApis().toggle;null!=P?J.some(P(I)):J.none()})},isToolbarDrawerToggled:function(C){return ih.getPart(C,l,"toolbar").bind(function(I){return J.from(I.getApis().isOpen).map(function(P){return P(I)})}).getOr(!1)},getThrobber:function(C){return ih.getPart(C,l,"throbber")},focusToolbar:function(C){ih.getPart(C,l,"toolbar").orThunk(function(){return ih.getPart(C,l,"multiple-toolbar")}).each(function(I){Zr.focusIn(I)})},setMenubar:function(C,I){ih.getPart(C,l,"menubar").each(function(P){dA.setMenus(P,I)})},focusMenubar:function(C){ih.getPart(C,l,"menubar").each(function(I){dA.focus(I)})}},behaviours:l.behaviours}},configFields:[Dn("dom"),Dn("behaviours")],partFields:[IO,XP,KP,ZP,OO,EO,PO],apis:{getSocket:function(l,p){return l.getSocket(p)},setSidebar:function(l,p,x){l.setSidebar(p,x)},toggleSidebar:function(l,p,x){l.toggleSidebar(p,x)},whichSidebar:function(l,p){return l.whichSidebar(p)},getHeader:function(l,p){return l.getHeader(p)},getToolbar:function(l,p){return l.getToolbar(p)},setToolbar:function(l,p,x){var C=Ht(x,Pp);l.setToolbar(p,C)},setToolbars:function(l,p,x){var C=Ht(x,function(I){return Ht(I,Pp)});l.setToolbars(p,C)},refreshToolbar:function(l,p){return l.refreshToolbar(p)},toggleToolbarDrawer:function(l,p){l.toggleToolbarDrawer(p)},isToolbarDrawerToggled:function(l,p){return l.isToolbarDrawerToggled(p)},getThrobber:function(l,p){return l.getThrobber(p)},setMenubar:function(l,p,x){l.setMenubar(p,x)},focusMenubar:function(l,p){l.focusMenubar(p)},focusToolbar:function(l,p){l.focusToolbar(p)}}}),q2={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},dv=Qe(nT,!1),RO=Qe(nT,!0);function bA(l,p,x,C){var I;return{type:"basic",data:(I=l.getParam(p,x,"string"),Ht(C===fS.SemiColon?I.replace(/;$/,"").split(";"):I.split(" "),function(P){var V=P,j=P,Y=P.split("=");return 1<Y.length&&(V=Y[0],j=Y[1]),{title:V,format:j}}))}}function LO(l){var p={type:"basic",data:AA};return{tooltip:"Align",text:J.none(),icon:J.some("align-left"),isSelectedFor:function(x){return function(){return l.formatter.match(x)}},getCurrentValue:J.none,getPreviewFor:function(x){return J.none},onAction:function(x){return function(){return Uo(AA,function(C){return C.format===x.format}).each(function(C){return l.execCommand(C.command)})}},updateText:function(x){var C=Uo(AA,function(I){return l.formatter.match(I.format)}).fold(U("left"),function(I){return I.title.toLowerCase()});Gr(x,T2,{icon:"align-"+C})},dataset:p,shouldHide:!1,isInvalid:function(x){return!l.formatter.canApply(x.format)}}}function NO(l){return Ht(l.split(/\s*,\s*/),function(p){return p.replace(/^['"]+|['"]+$/g,"")})}function BO(l){function p(){function I(Y){return Y?NO(Y)[0]:""}var P=l.queryCommandValue("FontName"),V=C.data,j=P?P.toLowerCase():"";return{matchOpt:Uo(V,function(Y){var ae=Y.format;return ae.toLowerCase()===j||I(ae).toLowerCase()===I(j).toLowerCase()}).orThunk(function(){return ni(0===(Y=j).indexOf("-apple-system")&&(ae=NO(Y.toLowerCase()),tt(IA,function(fe){return-1<ae.indexOf(fe.toLowerCase())})),{title:x,format:j});var Y,ae}),font:P}}var x="System Font",C=bA(l,"font_formats","Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",fS.SemiColon);return{tooltip:"Fonts",text:J.some(x),icon:J.none(),isSelectedFor:function(I){return function(P){return P.exists(function(V){return V.format===I})}},getCurrentValue:function(){return p().matchOpt},getPreviewFor:function(I){return function(){return J.some({tag:"div",styles:-1===I.indexOf("dings")?{"font-family":I}:{}})}},onAction:function(I){return function(){l.undoManager.transact(function(){l.focus(),l.execCommand("FontName",!1,I.format)})}},updateText:function(I){var P=p(),Y=P.matchOpt.fold(U(P.font),function(ae){return ae.title});Gr(I,uf,{text:Y})},dataset:C,shouldHide:!1,isInvalid:Ke}}function zO(l){function p(){var I=J.none(),P=C.data,V=l.queryCommandValue("FontSize");if(V)for(var j=function(ae){var fe,me,Ce,Oe,Ge=(me=ae,/[0-9.]+px$/.test(fe=V)?(Ce=72*parseInt(fe,10)/96,Oe=Math.pow(10,me||0),Math.round(Ce*Oe)/Oe+"pt"):vn(OA,fe).getOr(fe)),ze=vn(cf,Ge).getOr("");I=Uo(P,function(Ue){return Ue.format===V||Ue.format===Ge||Ue.format===ze})},Y=3;I.isNone()&&0<=Y;Y--)j(Y);return{matchOpt:I,size:V}}var x=U(J.none),C=bA(l,"fontsize_formats","8pt 10pt 12pt 14pt 18pt 24pt 36pt",fS.Space);return{tooltip:"Font sizes",text:J.some("12pt"),icon:J.none(),isSelectedFor:function(I){return function(P){return P.exists(function(V){return V.format===I})}},getPreviewFor:x,getCurrentValue:function(){return p().matchOpt},onAction:function(I){return function(){l.undoManager.transact(function(){l.focus(),l.execCommand("FontSize",!1,I.format)})}},updateText:function(I){var P=p(),Y=P.matchOpt.fold(U(P.size),function(ae){return ae.title});Gr(I,uf,{text:Y})},dataset:C,shouldHide:!1,isInvalid:Ke}}function xA(l,p){var x=p(),C=Ht(x,function(I){return I.format});return J.from(l.formatter.closest(C)).bind(function(I){return Uo(x,function(P){return P.format===I})}).orThunk(function(){return ni(l.formatter.match("p"),{title:"Paragraph",format:"p"})})}function Y2(l){var p=bA(l,"block_formats","Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",fS.SemiColon);return{tooltip:"Blocks",text:J.some("Paragraph"),icon:J.none(),isSelectedFor:function(x){return function(){return l.formatter.match(x)}},getCurrentValue:J.none,getPreviewFor:function(x){return function(){var C=l.formatter.get(x);return J.some({tag:0<C.length&&(C[0].inline||C[0].block)||"div",styles:l.dom.parseStyle(l.formatter.getCssText(x))})}},onAction:P2(l),updateText:function(x){var C=xA(l,function(){return p.data}).fold(U("Paragraph"),function(I){return I.title});Gr(x,uf,{text:C})},dataset:p,shouldHide:!1,isInvalid:function(x){return!l.formatter.canApply(x.format)}}}function FO(l,p){return{tooltip:"Formats",text:J.some("Paragraph"),icon:J.none(),isSelectedFor:function(x){return function(){return l.formatter.match(x)}},getCurrentValue:J.none,getPreviewFor:function(x){return function(){var C=l.formatter.get(x);return void 0!==C?J.some({tag:0<C.length&&(C[0].inline||C[0].block)||"div",styles:l.dom.parseStyle(l.formatter.getCssText(x))}):J.none()}},onAction:P2(l),updateText:function(x){var C=function(V){var j=V.items;return void 0!==j&&0<j.length?cr(j,C):[{title:V.title,format:V.format}]},I=cr(g_(l),C),P=xA(l,U(I)).fold(U("Paragraph"),function(V){return V.title});Gr(x,uf,{text:P})},shouldHide:l.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(x){return!l.formatter.canApply(x.format)},dataset:p}}function _A(l){return{isDisabled:function(){return Vr.isDisabled(l)},setDisabled:function(p){return Vr.set(l,p)}}}function sT(l){return{setActive:function(p){ci.set(l,p)},isActive:function(){return ci.isOn(l)},isDisabled:function(){return Vr.isDisabled(l)},setDisabled:function(p){return Vr.set(l,p)}}}function wA(l,p){return l.map(function(x){return{"aria-label":p.translate(x),title:p.translate(x)}}).getOr({})}function uT(l,p,x,C,I,P){var V;return{dom:{tag:"button",classes:["tox-tbtn"].concat(p.isSome()?["tox-tbtn--select"]:[]),attributes:wA(x,P)},components:yy([l.map(function(j){return m1(j,P.icons)}),p.map(function(j){return Jw(j,"tox-tbtn",P)})]),eventOrder:((V={})[Jl()]=["focusing","alloy.base.behaviour","common-button-display-events"],V),buttonBehaviours:$n([bC(P.isDisabled),$a(),sr("common-button-display-events",[xn(Jl(),function(j,Y){Y.event.prevent(),Bo(j,$2)})])].concat(C.map(function(j){return ff.config({channel:j,initialData:{icon:l,text:p},renderComponents:function(Y,ae){return yy([Y.icon.map(function(fe){return m1(fe,P.icons)}),Y.text.map(function(fe){return Jw(fe,"tox-tbtn",P)})])}})}).toArray()).concat(I.getOr([])))}}function lT(l,p,x){var C,I=Nr(K),P=uT(l.icon,l.text,l.tooltip,J.none(),J.none(),x);return il.sketch({dom:P.dom,components:P.components,eventOrder:My,buttonBehaviours:$n([sr("toolbar-button-events",[(C={onAction:l.onAction,getApi:p.getApi},Nd(function(V,j){Rx(C,V)(function(Y){Gr(V,ZM,{buttonApi:Y}),C.onAction(Y)})})),e1(p,I),Lx(p,I)]),bC(function(){return l.disabled||x.isDisabled()}),$a()].concat(p.toolbarButtonBehaviours))})}function cT(l,p){return function(x,C,I){var P=l(x).mapError(function(V){return Ku(V)}).getOrDie();return p(P,C,I)}}function gk(l,p,x,C){var I,P=p.outerContainer,V=x.toolbar,j=x.buttons;We(V,ne)?(I=V.map(function(Y){return hT(l,{toolbar:Y,buttons:j,allowToolbarGroups:x.allowToolbarGroups},{backstage:C},J.none())}),Rs.setToolbars(P,I)):Rs.setToolbar(P,hT(l,x,{backstage:C},J.none()))}function SA(l){return/^[0-9\.]+(|px)$/i.test(""+l)?J.some(parseInt(""+l,10)):J.none()}function CA(l){return et(l)?l+"px":l}function fT(l,p,x){var C=p.filter(function(P){return l<P}),I=x.filter(function(P){return P<l});return C.or(I).getOr(l)}function kA(l){var p=jb(l),x=Ix(l),C=qb(l);return SA(p).map(function(I){return fT(I,x,C)})}function MA(l,p){var x=Yl(l);return{pos:p?x.y:x.bottom,bounds:x}}function VO(l,p){return xn(ZM,function(x,C){var I,P=l.get(x),V=(I=P,{hide:function(){return Bo(I,gh())},getValue:function(){return lr.getValue(I)}});p.onAction(V,C.event.buttonApi)})}function HO(l,p,x){return p.bottom-l.y>=(x=void 0===x?.01:x)&&l.bottom-p.y>=x}function TA(l){var p=function(I){var P=I.getBoundingClientRect();if(P.height<=0&&P.width<=0){var V=Or(bt.fromDom(I.startContainer),I.startOffset).element;return(dc(V)?Xr(V):J.some(V)).filter(fu).map(function(j){return j.dom.getBoundingClientRect()}).getOr(P)}return P}(l.selection.getRng());if(l.inline){var x=ts();return Ru(x.left+p.left,x.top+p.top,p.width,p.height)}var C=uh(bt.fromDom(l.getBody()));return Ru(C.x+p.left,C.y+p.top,p.width,p.height)}function WO(l,p,x,C){void 0===C&&(C=0);var I,P,V,j,Y=To(window),ae=Yl(bt.fromDom(l.getContentAreaContainer())),fe=Oc(l)||kp(l)||vw(l),me=(I=ae,P=Y,V=C,{x:j=Math.max(I.x+V,P.x),width:Math.min(I.right-V,P.right)-j}),Ce=me.x,Oe=me.width;if(l.inline&&!fe)return Ru(Ce,Y.y,Oe,Y.height);var Ge=function(qe,Je,Ee,Ze,ft,Ct){var Jt=bt.fromDom(qe.getContainer()),Ft=fa(Jt,".tox-editor-header").getOr(Jt),nn=Yl(Ft),fn=Ze&&!(nn.y>=Je.bottom);if(qe.inline&&fn)return{y:Math.max(nn.bottom+Ct,Ee.y),bottom:Ee.bottom};if(qe.inline&&!fn)return{y:Ee.y,bottom:Math.min(nn.y-Ct,Ee.bottom)};var In="line"===ft?Yl(Jt):Je;return fn?{y:Math.max(nn.bottom+Ct,Ee.y),bottom:Math.min(In.bottom-Ct,Ee.bottom)}:{y:Math.max(In.y+Ct,Ee.y),bottom:Math.min(nn.y-Ct,Ee.bottom)}}(l,ae,Y,p.header.isPositionedAtTop(),x,C),ze=Ge.y;return Ru(Ce,ze,Oe,Ge.bottom-ze)}function X2(l){return"node"===l}function Z2(l,p){var x=Te(It(p,function(C){return C.predicate(l.dom)}),function(C){return"contexttoolbar"===C.type});return{contextToolbars:x.pass,contextForms:x.fail}}function jO(l,p,x,C){function I(){var Ft=Ee.get().getOr("node"),nn=X2(Ft)?1:0;return WO(l,ze,Ft,nn)}function P(){return!(l.removed||Ue()&&Ge.isContextMenuOpen())}function V(){if(P()){var Ft=I(),nn=wr(Ee.get(),"node")?(Cn=l,qe.get().filter(du).map(uh).getOrThunk(function(){return TA(Cn)})):TA(l);return Ft.height<=0||!HO(nn,Ft)}return 1;var Cn}function j(){qe.clear(),Je.clear(),Ee.clear(),Ka.hide(Ze)}function Y(){var Ft;Ka.isOpen(Ze)&&(mi(Ft=Ze.element,"display"),V()?Qr(Ft,"display","none"):(Je.set(0),Ka.reposition(Ze)))}function ae(Ft){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[Ft],behaviours:$n([Zr.config({mode:"acyclic"}),sr("pop-dialog-wrap-events",[ca(function(nn){l.shortcuts.add("ctrl+F9","focus statusbar",function(){return Zr.focusIn(nn)})}),Kf(function(nn){l.shortcuts.remove("ctrl+F9")})])])}}function me(Ft,nn){var Cn,fn,In,Gn;Jt.cancel(),P()&&(Cn=Ct(Ft),In=function fe(Ft,nn){var Cn,fn,In,Gn,yr,Hr,So,si="node"===Ft?ze.anchors.node(nn):ze.anchors.cursor(),wi=(Cn=l,fn=Ft,In=Ue(),Gn={lastElement:qe.get,isReposition:function(){return wr(Je.get(),0)},getMode:function(){return nl.getMode(x)}},"line"===fn?{bubble:Fv(12,0,Q2),layouts:{onLtr:function(){return[Fa]},onRtl:function(){return[Jf]}},overrides:NA}:{bubble:Fv(0,12,Q2,1/12),layouts:(yr=Cn,Hr=Gn,So=fn,In?{onLtr:function(zo){return[ru,Vs,xu,Pl,hs,oc].concat(hi(zo))},onRtl:function(zo){return[ru,xu,Vs,hs,Pl,oc].concat(hi(zo))}}:{onLtr:function(zo){return[oc,ru,Pl,Vs,hs,xu].concat(hi(zo))},onRtl:function(zo){return[oc,ru,hs,xu,Pl,Vs].concat(hi(zo))}}),overrides:NA});function hi(zo){return X2(So)?[(Mi=zo,function(Ti,Di,ui,na,al){var ls=function GO(l,p,x,C,I){var P=TA(l),V=C.lastElement().exists(function(fe){return Mn(x,fe)}),j=x,Y=l.selection.getRng(),ae=Or(bt.fromDom(Y.startContainer),Y.startOffset);return Y.startContainer===Y.endContainer&&Y.startOffset===Y.endOffset-1&&Mn(ae.element,j)?V?Rk:Cp:V?function(fe,me){var Ce=Ki(fe,"position");Qr(fe,"position",me);var Oe=HO(P,Yl(p))&&!C.isReposition()?Lk:Rk;return Ce.each(function(Ge){return Qr(fe,"position",Ge)}),Oe}(p,C.getMode()):("fixed"===C.getMode()?I.y+ts().top:I.y)+(Pu(p)+12)<=P.y?Cp:x0}(yr,na,Mi,Hr,al),df=ve(ve({},Ti),{y:al.y,height:al.height});return ve(ve({},ls(df,Di,ui,na,al)),{alwaysFit:!0})})]:[];var Mi}return No(si,wi)}(fn=Ft[0].position,nn),Ee.set(fn),Je.set(1),mi(Gn=Ze.element,"display"),wr(qt(nn,qe.get(),Mn),!0)||(ri(Gn,eD),nl.reset(x,Ze)),Ka.showWithinBounds(Ze,ae(Cn),{anchor:In,transition:{classes:[eD],mode:"placement"}},function(){return J.some(I())}),nn.fold(qe.clear,qe.set),V()&&Qr(Gn,"display","none"))}var Ce,Oe,Ge=C.backstage,ze=Ge.shared,Ue=Dl().deviceType.isTouch,qe=Ha(),Je=Ha(),Ee=Ha(),Ze=Yi((Ce={sink:x,onEscape:function(){return l.focus(),J.some(!0)}},Oe=Nr([]),Ka.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(Ft){Oe.set([]),Ka.getContent(Ft).each(function(nn){mi(nn.element,"visibility")}),ri(Ft.element,zA),mi(Ft.element,"width")},inlineBehaviours:$n([sr("context-toolbar-events",[Av(ph(),function(Ft,nn){"width"===nn.event.raw.propertyName&&(ri(Ft.element,zA),mi(Ft.element,"width"))}),xn(BA,function(Ft,nn){var Cn=Ft.element;mi(Cn,"width");var fn=gn(Cn);Ka.setContent(Ft,nn.event.contents),Qn(Cn,zA);var In=gn(Cn);Qr(Cn,"width",fn+"px"),Ka.getContent(Ft).each(function(Gn){nn.event.focus.bind(function(yr){return ed(yr),td(Cn)}).orThunk(function(){return Zr.focusIn(Gn),Do(Ai(Cn))})}),ly.setTimeout(function(){Qr(Ft.element,"width",In+"px")},0)}),xn(KO,function(Ft,nn){Ka.getContent(Ft).each(function(Cn){Oe.set(Oe.get().concat([{bar:Cn,focus:Do(Ai(Ft.element))}]))}),Gr(Ft,BA,{contents:nn.event.forwardContents,focus:J.none()})}),xn($O,function(Ft,nn){Oa(Oe.get()).each(function(Cn){Oe.set(Oe.get().slice(0,Oe.get().length-1)),Gr(Ft,BA,{contents:tc(Cn.bar),focus:Cn.focus})})})]),Zr.config({mode:"special",onEscape:function(Ft){return Oa(Oe.get()).fold(function(){return Ce.onEscape()},function(nn){return Bo(Ft,$O),J.some(!0)})}})]),lazySink:function(){return Po.value(Ce.sink)}}))),ft=dn(function(){return function yS(l,p){var x={},C=[],I=[],P={},V={},j=Ni(l);return zr(j,function(Y){var ae,fe,me,Ce,Oe,Ge=l[Y];"contextform"===Ge.type?(me=Y,Oe=hl(ua("ContextForm",Ax,Ce=Ge)),(x[me]=Oe).launch.map(function(ze){P["form:"+me]=ve(ve({},Ce.launch),{type:"contextformtogglebutton"===ze.type?"togglebutton":"button",onAction:function(){p(Oe)}})}),("editor"===Oe.scope?I:C).push(Oe),V[me]=Oe):"contexttoolbar"===Ge.type&&(ae=Y,ua("ContextToolbar",VT,fe=Ge).each(function(ze){("editor"===fe.scope?I:C).push(ze),V[ae]=ze}))}),{forms:x,inNodeScope:C,inEditorScope:I,lookupTable:V,formNavigators:P}}(p,function(Ft){var nn=Ct([Ft]);Gr(Ze,KO,{forwardContents:ae(nn)})})}),Ct=function(Ft){var nn=l.ui.registry.getAll().buttons,Cn=ft(),fn=ve(ve({},nn),Cn.formNavigators),In=Px(l)===nf.scrolling?nf.scrolling:nf.default,Gn=Bn(Ht(Ft,function(yr){return"contexttoolbar"===yr.type?hT(l,{buttons:fn,toolbar:yr.items,allowToolbarGroups:!1},C,J.some(["form:"])):ZO(yr,ze.providers)}));return ab({type:In,uid:Rr("context-toolbar"),initGroups:Gn,onEscape:J.none,cyclicKeying:!0,providers:ze.providers})},Jt=w0(function(){l.hasFocus()&&!l.removed&&(la(Ze.element,eD)?Jt.throttle():function UO(l,p){function x(V){return Mn(V,I)}var C,I=bt.fromDom(p.getBody()),P=bt.fromDom(p.selection.getNode());return x(C=P)||En(I,C)?function(V,j,Y){var ae=Z2(V,j);if(0<ae.contextForms.length)return J.some({elem:V,toolbars:[ae.contextForms[0]]});var fe=Z2(V,Y);if(0<fe.contextForms.length)return J.some({elem:V,toolbars:[fe.contextForms[0]]});if(0<ae.contextToolbars.length||0<fe.contextToolbars.length){var me=function(Ce){if(Ce.length<=1)return Ce;function Oe(Ee){return jt(Ce,function(Ze){return Ze.position===Ee})}function Ge(Ee){return It(Ce,function(Ze){return Ze.position===Ee})}var ze=Oe("selection"),Ue=Oe("node");if(ze||Ue){if(Ue&&ze){var qe=Ge("node"),Je=Ht(Ge("selection"),function(Ee){return ve(ve({},Ee),{position:"node"})});return qe.concat(Je)}return Ge(ze?"selection":"node")}return Ge("line")}(ae.contextToolbars.concat(fe.contextToolbars));return J.some({elem:V,toolbars:me})}return J.none()}(P,l.inNodeScope,l.inEditorScope).orThunk(function(){return Y=l,(V=x)(j=P)?J.none():em(j,function(ae){if(fu(ae)){var fe=Z2(ae,Y.inNodeScope),Ce=fe.contextForms,Oe=0<Ce.length?Ce:(ze=fe.contextToolbars).length<=1?ze:Ge("selection").orThunk(function(){return Ge("node")}).orThunk(function(){return Ge("line")}).map(function(Ue){return Ue.position}).fold(function(){return[]},function(Ue){return It(ze,function(qe){return qe.position===Ue})});return 0<Oe.length?J.some({elem:ae,toolbars:Oe}):J.none()}function Ge(Ue){return Uo(ze,function(qe){return qe.position===Ue})}var ze;return J.none()},V);var V,j,Y}):J.none()}(ft(),l).fold(j,function(Ft){me(Ft.toolbars,J.some(Ft.elem))}))},17);l.on("init",function(){l.on("remove",j),l.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",Y),l.on("click keyup focus SetContent",Jt.throttle),l.on(gT,j),l.on("contexttoolbar-show",function(Ft){vn(ft().lookupTable,Ft.toolbarKey).each(function(nn){me([nn],ni(Ft.target!==l,Ft.target)),Ka.getContent(Ze).each(Zr.focusIn)})}),l.on("focusout",function(Ft){ly.setEditorTimeout(l,function(){td(x.element).isNone()&&td(Ze.element).isNone()&&j()},0)}),l.on("SwitchMode",function(){l.mode.isReadOnly()&&j()}),l.on("AfterProgressState",function(Ft){Ft.state?j():l.hasFocus()&&Jt.throttle()}),l.on("NodeChange",function(Ft){td(Ze.element).fold(Jt.throttle,K)})})}(dS=fS=fS||{})[dS.SemiColon=0]="SemiColon",dS[dS.Space=1]="Space";var bS,DA,mk,AA=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],IA=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],cf={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},OA={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},K2=Object.freeze({__proto__:null,events:function(l,p){function x(C,I){l.updateState.each(function(P){var V=P(C,I);p.set(V)}),l.renderComponents.each(function(P){var V=Ht(P(I,p.get()),C.getSystem().build);ix(C,V)})}return Ei([xn(Qo(),function(C,I){var V=I;V.universal||Io(V.channels,l.channel)&&x(C,V.data)}),ca(function(C,I){l.initialData.each(function(P){x(C,P)})})])}}),qO=Object.freeze({__proto__:null,getState:function(l,p,x){return x}}),ff=ji({fields:[Dn("channel"),vi("renderComponents"),vi("updateState"),vi("initialData")],name:"reflecting",active:K2,apis:qO,state:Object.freeze({__proto__:null,init:function(){var l=Nr(J.none());return{readState:function(){return l.get().getOr("none")},get:l.get,set:l.set,clear:function(){return l.set(J.none())}}}})}),dT=U([Dn("toggleClass"),Dn("fetch"),jc("onExecute"),Bt("getHotspot",J.some),Bt("getAnchorOverrides",U({})),cm(),jc("onItemExecute"),vi("lazySink"),Dn("dom"),Ho("onOpen"),Xa("splitDropdownBehaviours",[ys,Zr,co]),Bt("matchWidth",!1),Bt("useMinWidth",!1),Bt("eventOrder",{}),vi("role")].concat(th())),xS=U([Is({factory:il,schema:[Dn("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:$n([co.revoke()])}},overrides:function(l){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(p){p.getSystem().getByUid(l.uid).each(Dd)},buttonBehaviours:$n([ci.config({toggleOnExecute:!1,toggleClass:l.toggleClass})])}}}),Is({factory:il,schema:[Dn("dom")],name:"button",defaults:function(){return{buttonBehaviours:$n([co.revoke()])}},overrides:function(l){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(p){p.getSystem().getByUid(l.uid).each(function(x){l.onExecute(x,p)})}}}}),Kd({factory:{sketch:function(l){return{uid:l.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:l.text}}}},schema:[Dn("text")],name:"aria-descriptor"}),ud({schema:[Ju()],name:"menu",defaults:function(l){return{onExecute:function(p,x){p.getSystem().getByUid(l.uid).each(function(C){l.onItemExecute(C,p,x)})}}}}),Qm()]),vk=tl({name:"SplitDropdown",configFields:dT(),partFields:xS(),factory:function(l,p,x,C){function I(fe){Wo.getCurrent(fe).each(function(me){$o.highlightFirst(me),Zr.focusIn(me)})}function P(fe){c1(l,Z,fe,C,I,Nf.HighlightFirst).get(K)}function V(fe){return Dd(io(fe,l,"button")),J.some(!0)}var j,Y=ve(ve({},Ei([ca(function(fe,me){jo(fe,l,"aria-descriptor").each(function(Ce){var Oe=Rr("aria");Ur(Ce.element,"id",Oe),Ur(fe.element,"aria-describedby",Oe)})})])),Vm(J.some(P)));return{uid:l.uid,dom:l.dom,components:p,apis:{repositionMenus:function(fe){ci.isOn(fe)&&Qx(fe)}},eventOrder:ve(ve({},l.eventOrder),((j={})[bc()]=["disabling","toggling","alloy.base.behaviour"],j)),events:Y,behaviours:vs(l.splitDropdownBehaviours,[ys.config({others:{sandbox:function(fe){var me=io(fe,l,"arrow");return Jx(l,fe,{onOpen:function(){ci.on(me),ci.on(fe)},onClose:function(){ci.off(me),ci.off(fe)}})}}}),Zr.config({mode:"special",onSpace:V,onEnter:V,onDown:function(fe){return P(fe),J.some(!0)}}),co.config({}),ci.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:l.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:function(l,p){return l.repositionMenus(p)}}}),$2=Rr("focus-button"),EA=function(l,p,x){return lT(l,{toolbarButtonBehaviours:[].concat(0<x.length?[sr("toolbarButtonWith",x)]:[]),getApi:_A,onSetup:l.onSetup},p)},YO=function(l,p,x){return No(lT(l,{toolbarButtonBehaviours:[yo.config({}),ci.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(0<x.length?[sr("toolbarToggleButtonWith",x)]:[]),getApi:sT,onSetup:l.onSetup},p))},J2=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],_S={button:cT(Mx,function(l,p){return EA(l,p.backstage.shared.providers,[])}),togglebutton:cT(Ga,function(l,p){return YO(l,p.backstage.shared.providers,[])}),menubutton:cT(An,function(l,p){return WC(l,"tox-tbtn",p.backstage,J.none())}),splitbutton:cT(function(l){return ua("SplitButton",HP,l)},function(l,p){return C=l,I=p.backstage.shared,ae=Rr("channel-update-split-dropdown-display"),fe=Nr(K),me={getApi:x,onSetup:C.onSetup},vk.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:ve({"aria-pressed":!1},wA(C.tooltip,I.providers))},onExecute:function(Ce){C.onAction(x(Ce))},onItemExecute:function(Ce,Oe,Ge){},splitDropdownBehaviours:$n([cM(I.providers.isDisabled),$a(),sr("split-dropdown-events",[xn($2,co.focus),e1(me,fe),Lx(me,fe)]),l_.config({})]),eventOrder:((P={})[tu()]=["alloy.base.behaviour","split-dropdown-events"],P),toggleClass:"tox-tbtn--enabled",lazySink:I.getSink,fetch:(V=x,j=C,Y=I.providers,function(Ce){return $m(function(Oe){return j.fetch(Oe)}).map(function(Oe){return J.from(MC(No(by(Rr("menu-value"),Oe,function(Ge){j.onItemAction(V(Ce),Ge)},j.columns,j.presets,Mp.CLOSE_ON_EXECUTE,j.select.getOr(Ke),Y),{movement:jx(j.columns,j.presets),menuBehaviours:Ex("auto"!==j.columns?[]:[ca(function(Ge,ze){cw(Ge,4,tM(j.presets)).each(function(Ue){Zr.setGridSize(Ge,Ue.numRows,Ue.numColumns)})})])})))})}),parts:{menu:rC(0,0,C.presets)},components:[vk.parts.button(uT(C.icon,C.text,J.none(),J.some(ae),J.some([ci.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),I.providers)),vk.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:J_("chevron-down",I.providers.icons)},buttonBehaviours:$n([cM(I.providers.isDisabled),$a(),Nk()])}),vk.parts["aria-descriptor"]({text:I.providers.translate("To open the popup, press Shift+Enter")})]});function x(Ce){return{isDisabled:function(){return Vr.isDisabled(Ce)},setDisabled:function(Oe){return Vr.set(Ce,Oe)},setIconFill:function(Oe,Ge){fa(Ce.element,'svg path[id="'+Oe+'"], rect[id="'+Oe+'"]').each(function(ze){Ur(ze,"fill",Ge)})},setIconStroke:function(Oe,Ge){fa(Ce.element,'svg path[id="'+Oe+'"], rect[id="'+Oe+'"]').each(function(ze){Ur(ze,"stroke",Ge)})},setActive:function(Oe){Ur(Ce.element,"aria-pressed",Oe),fa(Ce.element,"span").each(function(Ge){Ce.getSystem().getByDom(Ge).each(function(ze){return ci.set(ze,Oe)})})},isActive:function(){return fa(Ce.element,"span").exists(function(Oe){return Ce.getSystem().getByDom(Oe).exists(ci.isOn)})}}}var C,I,P,V,j,Y,ae,fe,me}),grouptoolbarbutton:cT(function(l){return ua("GroupToolbarButton",wO,l)},function(l,p,x){var C,I,V,j,Y,ae=x.ui.registry.getAll().buttons,fe=((C={})[ox]=p.backstage.shared.header.isPositionedAtTop()?pa.TopToBottom:pa.BottomToTop,C);if(Px(x)!==nf.floating)throw new Error("Toolbar groups are only supported when using floating toolbar mode");return V=function(me){return hT(x,{buttons:ae,toolbar:me,allowToolbarGroups:!1},p,J.none())},j=fe,vS.sketch({lazySink:(Y=p.backstage.shared).getSink,fetch:function(){return $m(function(me){me(Ht(V(I.items),Pp))})},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:uT((I=l).icon,I.text,I.tooltip,J.none(),J.none(),Y.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:j}}}})}),styleSelectButton:function(l,p){return cS(l,x=p.backstage,FO(l,ve({type:"advanced"},x.styleselect)));var x},fontsizeSelectButton:function(l,p){return cS(l,p.backstage,zO(l))},fontSelectButton:function(l,p){return cS(l,p.backstage,BO(l))},formatButton:function(l,p){return cS(l,p.backstage,Y2(l))},alignMenuButton:function(l,p){return cS(l,p.backstage,LO(l))}},XO={styleselect:_S.styleSelectButton,fontsizeselect:_S.fontsizeSelectButton,fontselect:_S.fontSelectButton,formatselect:_S.formatButton,align:_S.alignMenuButton},hT=function(l,p,x,C){var I,P,V,Y=!1===(V=p.toolbar)?[]:void 0===V||!0===V?(I=p.buttons,P=Ht(J2,function(ae){var fe=It(ae.items,function(me){return Sr(I,me)||Sr(XO,me)});return{name:ae.name,items:fe}}),It(P,function(ae){return 0<ae.items.length})):ne(V)?Ht(V.split("|"),function(ae){return{items:ae.trim().split(" ")}}):We(V,function(ae){return Sr(ae,"name")&&Sr(ae,"items")})?V:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[]);return It(Ht(Y,function(ae){var fe=cr(ae.items,function(me){return 0===me.trim().length?[]:(Ce=l,ze=p.allowToolbarGroups,Ue=x,qe=C,vn(Oe=p.buttons,(Ge=me).toLowerCase()).orThunk(function(){return qe.bind(function(Je){return bn(Je,function(Ee){return vn(Oe,Ee+Ge.toLowerCase())})})}).fold(function(){return vn(XO,Ge.toLowerCase()).map(function(Je){return Je(Ce,Ue)}).orThunk(function(){return J.none()})},function(Je){return"grouptoolbarbutton"!==Je.type||ze?(Ze=Ue,ft=Ce,vn(_S,(Ee=Je).type).fold(function(){return console.error("skipping button defined by",Ee),J.none()},function(Ct){return J.some(Ct(Ee,Ze,ft))})):(console.warn("Ignoring the '"+Ge+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested."),J.none());var Ee,Ze,ft}).toArray());var Ce,Oe,Ge,ze,Ue,qe});return{title:J.from(l.translate(ae.name)),items:fe}}),function(ae){return 0<ae.items.length})},PA=Dl(),RA=PA.os.isiOS()&&PA.os.version.major<=12,LA=Object.freeze({__proto__:null,render:function(l,p,x,C,I){var P=Nr(0),V=p.outerContainer;dv(l);var j=bt.fromDom(I.targetNode),Y=Zi(Ai(j));lx(j,p.mothership,Ks),ag(Y,p.uiMothership),l.on("PostRender",function(){gk(l,p,x,C),P.set(l.getWin().innerWidth),Rs.setMenubar(V,E2(l,x)),Rs.setSidebar(V,x.sidebar),function(qe,Je){function Ee(){var Gn=nn.get();Gn.left===Jt.innerWidth&&Gn.top===Jt.innerHeight||(nn.set(Ca(Jt.innerWidth,Jt.innerHeight)),zx(qe))}function Ze(){var Gn=qe.getDoc().documentElement,yr=Cn.get();yr.left===Gn.offsetWidth&&yr.top===Gn.offsetHeight||(Cn.set(Ca(Gn.offsetWidth,Gn.offsetHeight)),zx(qe))}function ft(Gn){return qe.fire("ScrollContent",Gn)}var Ct=qe.dom,Jt=qe.getWin(),Ft=qe.getDoc().documentElement,nn=Nr(Ca(Jt.innerWidth,Jt.innerHeight)),Cn=Nr(Ca(Ft.offsetWidth,Ft.offsetHeight));Ct.bind(Jt,"resize",Ee),Ct.bind(Jt,"scroll",ft);var fn=tg(bt.fromDom(qe.getBody()),"load",Ze),In=Je.uiMothership.element;qe.on("hide",function(){Qr(In,"display","none")}),qe.on("show",function(){mi(In,"display")}),qe.on("NodeChange",Ze),qe.on("remove",function(){fn.unbind(),Ct.unbind(Jt,"resize",Ee),Ct.unbind(Jt,"scroll",ft),Jt=null})}(l,p)});var fe,me,Ce,Oe,Ge=Rs.getSocket(V).getOrDie("Could not find expected socket element");RA&&(Sa(Ge.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"}),me=function(){l.fire("ScrollContent")},Ce=null,Oe=function(){for(var qe=[],Je=0;Je<arguments.length;Je++)qe[Je]=arguments[Je];se(Ce)&&(Ce=setTimeout(function(){Ce=null,me.apply(null,qe)},20))},fe=ps(Ge.element,"scroll",Oe),l.on("remove",fe.unbind)),fC(l,p),l.addCommand("ToggleSidebar",function(qe,Je){Rs.toggleSidebar(V,Je),l.fire("ToggleSidebar")}),l.addQueryValueHandler("ToggleSidebar",function(){return Rs.whichSidebar(V)});var ze=Px(l);return ze!==nf.sliding&&ze!==nf.floating||l.on("ResizeWindow ResizeEditor ResizeContent",function(){var qe=l.getWin().innerWidth;qe!==P.get()&&(Rs.refreshToolbar(p.outerContainer),P.set(qe))}),{iframeContainer:Ge.element.dom,editorContainer:V.element.dom,api:{enable:function(){Qb(p,!1)},disable:function(){Qb(p,!0)},isDisabled:function(){return Vr.isDisabled(V)}}}}}),pT=Object.freeze({__proto__:null,render:function(l,p,x,C,I){var P=p.mothership,V=p.uiMothership,j=p.outerContainer,Y=Nr(null),ae=bt.fromDom(I.targetNode),fe=function $P(l,p,x,C,I){function P(){return Ze.get()&&!l.removed}function V(ft){return Ee?ft.fold(U(0),function(Ct){return 1<Ct.components().length?Pu(Ct.components()[1].element):0}):0}function j(){fe.broadcastOn([dg()],{})}function Y(ft){var Ct,Jt,Ft,nn,Cn;void 0===ft&&(ft=!1),P()&&(Oe||(Ct=ze.getOrThunk(function(){var fn=SA(Ns(Ra(),"margin-left")).getOr(0);return gn(Ra())-Ul(p).left+fn}),Qr(I.get().element,"max-width",Ct+"px")),Ee&&Rs.refreshToolbar(me),Oe||(Jt=V(Rs.getToolbar(me)),Ft=Yl(p),nn=qe()?Math.max(Ft.y-Pu(I.get().element)+Jt,0):Ft.bottom,Sa(me.element,{position:"absolute",top:Math.round(nn)+"px",left:Math.round(Ft.x)+"px"})),Ge&&(Cn=I.get(),ft?lf.reset(Cn):lf.refresh(Cn)),j())}function ae(ft){var Ct,Jt;void 0===ft&&(ft=!0),!Oe&&Ge&&P()&&(Ct=Ue.getDockingMode(),(Jt=function(Ft){switch(py(l)){case k0.auto:var nn=V(Rs.getToolbar(me)),Cn=Pu(Ft.element)-nn,fn=Yl(p);if(fn.y>Cn)return"top";var In=no(p),Gn=Math.max(In.dom.scrollHeight,Pu(In));return fn.bottom<Gn-Cn||fl().bottom<fn.bottom-Cn?"bottom":"top";case k0.bottom:return"bottom";default:return"top"}}(I.get()))!==Ct&&(function(Ft){var nn=I.get();lf.setModes(nn,[Ft]),Ue.setDockingMode(Ft);var Cn=qe()?pa.TopToBottom:pa.BottomToTop;Ur(nn.element,ox,Cn)}(Jt),ft&&Y(!0)))}var fe=x.uiMothership,me=x.outerContainer,Ce=jm.DOM,Oe=gy(l),Ge=vy(l),ze=qb(l).or(kA(l)),Ue=C.shared.header,qe=Ue.isPositionedAtTop,Je=Px(l),Ee=Je===nf.sliding||Je===nf.floating,Ze=Nr(!1);return{isVisible:P,isPositionedAtTop:qe,show:function(){Ze.set(!0),Qr(me.element,"display","flex"),Ce.addClass(l.getBody(),"mce-edit-focus"),mi(fe.element,"display"),ae(!1),Y()},hide:function(){Ze.set(!1),x.outerContainer&&(Qr(me.element,"display","none"),Ce.removeClass(l.getBody(),"mce-edit-focus")),Qr(fe.element,"display","none")},update:Y,updateMode:ae,repositionPopups:j}}(l,ae,p,C,Y),me=l.getParam("toolbar_persist",!1,"boolean");function Ce(){var Ge;Y.get()?fe.show():(Y.set(Rs.getHeader(j).getOrDie()),ag(Ge=yw(l),P),ag(Ge,V),gk(l,p,x,C),Rs.setMenubar(j,E2(l,x)),fe.show(),function(ze,Ue,qe,Je){function Ee(Ct){var Jt=MA(Ue,qe.isPositionedAtTop()),Ft=Jt.pos,nn=Jt.bounds,Cn=Ze.get(),fn=Cn.pos,In=Cn.bounds,Gn=nn.height!==In.height||nn.width!==In.width;Ze.set({pos:Ft,bounds:nn}),Gn&&zx(ze,Ct),qe.isVisible()&&(fn!==Ft?qe.update(!0):Gn&&(qe.updateMode(),qe.repositionPopups()))}var Ze=Nr(MA(Ue,qe.isPositionedAtTop()));Je||(ze.on("activate",qe.show),ze.on("deactivate",qe.hide)),ze.on("SkinLoaded ResizeWindow",function(){return qe.update(!0)}),ze.on("NodeChange keydown",function(Ct){ly.requestAnimationFrame(function(){return Ee(Ct)})}),ze.on("ScrollWindow",function(){return qe.updateMode()});var ft=jd();ft.set(tg(bt.fromDom(ze.getBody()),"load",Ee)),ze.on("remove",function(){ft.clear()})}(l,ae,fe,me),l.nodeChanged())}return RO(l),l.on("show",Ce),l.on("hide",fe.hide),me||(l.on("focus",Ce),l.on("blur",fe.hide)),l.on("init",function(){(l.hasFocus()||me)&&Ce()}),fC(l,p),{editorContainer:j.element.dom,api:{show:function(){fe.show()},hide:function(){fe.hide()},enable:function(){Qb(p,!1)},disable:function(){Qb(p,!0)},isDisabled:function(){return Vr.isDisabled(j)}}}}}),gT="contexttoolbar-hide",ZO=function(l,p){var x,C,I,P,V=l.label.fold(function(){return{}},function(ae){return{"aria-label":ae}}),j=di(xy.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:l.initValue(),inputAttributes:V,selectOnFocus:!0,inputBehaviours:$n([Zr.config({mode:"special",onEnter:function(ae){return Y.findPrimary(ae).map(function(fe){return Dd(fe),!0})},onLeft:function(ae,fe){return fe.cut(),J.none()},onRight:function(ae,fe){return fe.cut(),J.none()}})])})),Y=(x=j,I=p,P=Ht(C=l.commands,function(ae){return di(("contextformtogglebutton"===ae.type?function(fe,me,Ce){var Ge=Re(me.original,["primary"]),ze=hl(Ga(ve(ve({},Ge),{type:"togglebutton",onAction:K})));return YO(ze,Ce.backstage.shared.providers,[VO(fe,me)])}:function(fe,me,Ce){var Ge=Re(me.original,["primary"]),ze=hl(Mx(ve(ve({},Ge),{type:"button",onAction:K})));return EA(ze,Ce.backstage.shared.providers,[VO(fe,me)])})(x,ae,{backstage:{shared:{providers:I}}}))}),{asSpecs:function(){return Ht(P,function(ae){return ae.asSpec()})},findPrimary:function(ae){return bn(C,function(fe,me){return fe.primary?J.from(P[me]).bind(function(Ce){return Ce.getOpt(ae)}).filter(st(Vr.isDisabled)):J.none()})}});return[{title:J.none(),items:[j.asSpec()]},{title:J.none(),items:Y.asSpecs()}]},Q2={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},NA={maxHeightFunction:_h(),maxWidthFunction:vA()},KO=Rr("forward-slide"),$O=Rr("backward-slide"),BA=Rr("change-slide-event"),zA="tox-pop--resizing",eD="tox-pop--transition",JP={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},JO=(mk=["Infinity",(bS="[0-9]+")+"\\."+mT(bS)+mT(DA="[eE][+-]?[0-9]+"),"\\."+bS+mT(DA),bS+mT(DA)].join("|"),new RegExp("^([+-]?(?:"+mk+"))(.*)$"));function mT(l){return"(?:"+l+")?"}function FA(l,p){function x(){var C=p.getOptions(l),I=p.getCurrent(l).map(p.hash),P=Ha();return Ht(C,function(V){return{type:"togglemenuitem",text:p.display(V),onSetup:function(j){function Y(fe){fe&&(P.on(function(me){return me.setActive(!1)}),P.set(j)),j.setActive(fe)}Y(wr(I,p.hash(V)));var ae=p.watcher(l,V,Y);return function(){P.clear(),ae()}},onAction:function(){return p.setCurrent(l,V)}}})}l.ui.registry.addMenuButton(p.name,{tooltip:p.text,icon:p.icon,fetch:function(C){return C(x())},onSetup:p.onToolbarSetup}),l.ui.registry.addNestedMenuItem(p.name,{type:"nestedmenuitem",text:p.text,getSubmenuItems:x,onSetup:p.onMenuSetup})}function VA(l,p){return function(){l.execCommand("mceToggleFormat",!1,p)}}function wS(l,p){return y_(l,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(x){x.setDisabled(l.mode.isReadOnly()||!l.undoManager[p]())})}function b_(l,p){return{type:"makeshift",x:l,y:p}}function WA(l){return"longpress"===l.type||0===l.type.indexOf("touch")}function GA(l,p,x){switch(x){case"node":return{type:"node",node:J.some(bt.fromDom((C=l).selection.getNode())),root:bt.fromDom(C.getBody())};case"point":return function vT(l,p){return"contextmenu"===p.type||"longpress"===p.type?l.inline?function(j){if(WA(j)){var Y=j.touches[0];return b_(Y.pageX,Y.pageY)}return b_(j.pageX,j.pageY)}(p):(x=l.getContentAreaContainer(),C=function(j){if(WA(j)){var Y=j.touches[0];return b_(Y.clientX,Y.clientY)}return b_(j.clientX,j.clientY)}(p),I=jm.DOM.getPos(x),b_(C.x+I.x,C.y+I.y)):tI(l);var x,C,I}(l,p);case"selection":return tI(l)}var C}function UA(l,p,x,C,I,P){function V(){var Oe,Ge,ze,Ue,qe,Je,Ee,Ze,ft,Ct;ze=x(),Ue=C,qe=I,Ee=!(me||ae||fe&&Ce),ft=GA(Oe=l,Ge=p,Ze=Je=P),Ct=ve({bubble:Fv(0,"point"===Ze?12:0,nI),layouts:nE,overrides:{maxWidthFunction:vA(),maxHeightFunction:_h()}},ft),y1(ze,Mp.CLOSE_ON_EXECUTE,Ue,!0).map(function(Ft){Ge.preventDefault(),Ka.showMenuWithinBounds(qe,{anchor:Ct},{menu:{markers:Wb("normal"),highlightImmediately:Ee},data:Ft,type:"horizontal"},function(){return J.some(WO(Oe,Ue.shared,"node"===Je?"node":"selection"))}),Oe.fire(gT)})}var j,Y=Dl(),ae=Y.os.isiOS(),fe=Y.os.isOSX(),me=Y.os.isAndroid(),Ce=Y.deviceType.isTouch();(fe||ae)&&"node"!==P?(j=function(){(function(Oe){function Ge(){ly.setEditorTimeout(Oe,function(){Oe.selection.setRng(ze)},10),Je()}var ze=Oe.selection.getRng();function Ue(Ee){Ee.preventDefault(),Ee.stopImmediatePropagation()}function qe(){return Je()}Oe.once("touchend",Ge),Oe.on("mousedown",Ue,!0),Oe.once("longpresscancel",qe);var Je=function(){Oe.off("touchend",Ge),Oe.off("longpresscancel",qe),Oe.off("mousedown",Ue)}})(l),V()},function(Oe,Ge){var ze=Oe.selection;if(!(ze.isCollapsed()||Ge.touches.length<1)){var Ue=Ge.touches[0],qe=ze.getRng();return Kc(Oe.getWin(),gm.domRange(qe)).exists(function(Je){return Je.left<=Ue.clientX&&Je.right>=Ue.clientX&&Je.top<=Ue.clientY&&Je.bottom>=Ue.clientY})}}(l,p)?j():(l.once("selectionchange",j),l.once("touchend",function(){return l.off("selectionchange",j)}))):V()}function tD(l){return"string"==typeof l?l.split(/[ ,]/):l}function jA(l){return l.getParam("contextmenu_never_use_native",!1,"boolean")}function nD(l){return ne(l)?"|"===l:"separator"===l.type}function QO(l,p){if(0===p.length)return l;var x=Oa(l).filter(function(C){return!nD(C)}).fold(function(){return[]},function(C){return[cD]});return l.concat(x).concat(p).concat([cD])}function yk(l,p){return"longpress"!==p.type&&(2!==p.button||p.target===l.getBody()&&""===p.pointerType)}function bk(l,p){return yk(l,p)?l.selection.getStart(!0):p.target}function eE(l,p,x){function C(j){return Ka.hide(V)}function I(j){var Y;jA(l)&&j.preventDefault(),j.ctrlKey&&!jA(l)||!1===l.getParam("contextmenu")||(Y=function(ae,fe){var me=ae.getParam("contextmenu_avoid_overlap","","string"),Ce=yk(ae,fe)?"selection":"point";if(cs(me)){var Oe=bk(ae,fe);return s1(bt.fromDom(Oe),me)?"node":Ce}return Ce}(l,j),(P()?UA:function(ae,fe,me,Ce,Oe,Ge){var ze=me(),Ue=GA(ae,fe,Ge);y1(ze,Mp.CLOSE_ON_EXECUTE,Ce,!1).map(function(qe){fe.preventDefault(),Ka.showMenuAt(Oe,{anchor:Ue},{menu:{markers:Wb("normal")},data:qe})})})(l,j,function(){var ae,fe,me,Ce=bk(l,j),Oe=l.ui.registry.getAll(),Ge=(me=(fe=l).ui.registry.getAll().contextMenus,J.from(fe.getParam("contextmenu")).map(tD).getOrThunk(function(){return It(tD("link linkchecker image imagetools table spellchecker configurepermanentpen"),function(qe){return Sr(me,qe)})})),ze=Oe.contextMenus,Ue=Ce;return 0<(ae=Lr(Ge,function(qe,Je){return vn(ze,Je.toLowerCase()).map(function(Ee){var Ze=Ee.update(Ue);if(ne(Ze))return QO(qe,Ze.split(" "));if(0<Ze.length){var ft=Ht(Ze,rE);return QO(qe,ft)}return qe}).getOrThunk(function(){return qe.concat([Je])})},[])).length&&nD(ae[ae.length-1])&&ae.pop(),ae},x,V,Y))}var P=Dl().deviceType.isTouch,V=Yi(Ka.sketch({dom:{tag:"div"},lazySink:p,onEscape:function(){return l.focus()},onShow:function(){return x.setContextMenuState(!0)},onHide:function(){return x.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:$n([sr("dismissContextMenu",[xn(rp(),function(j,Y){qo.close(j),l.focus()})])])}));l.on("init",function(){var j="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(P()?"":" ResizeWindow");l.on(j,C),l.on("longpress contextmenu",I)})}function xk(l){return function(p){return p.translate(-l.left,-l.top)}}function _k(l){return function(p){return p.translate(l.left,l.top)}}function R1(l){return function(p,x){return Lr(l,function(C,I){return I(C)},Ca(p,x))}}function yT(l,p,x){return l.fold(R1([_k(x),xk(p)]),R1([xk(p)]),R1([]))}function wk(l,p,x){return l.fold(R1([_k(x)]),R1([]),R1([_k(p)]))}function SS(l,p,x){return l.fold(R1([]),R1([xk(x)]),R1([_k(p),xk(x)]))}function tE(l,p,x){var C=l.fold(function(I,P){return{position:J.some("absolute"),left:J.some(I+"px"),top:J.some(P+"px")}},function(I,P){return{position:J.some("absolute"),left:J.some(I-x.left+"px"),top:J.some(P-x.top+"px")}},function(I,P){return{position:J.some("fixed"),left:J.some(I+"px"),top:J.some(P+"px")}});return ve({right:J.none(),bottom:J.none()},C)}function qA(l,p,x,C){function I(P,V){return function(j,Y){var ae=P(p,x,C);return V(j.getOr(ae.left),Y.getOr(ae.top))}}return l.fold(I(SS,fD),I(wk,Lp),I(yT,__))}function YA(l,p){var x=fs(l,p);return he(x)?NaN:parseInt(x,10)}function ZA(l,p,x,C){return bn(l,function(I){var P,V,j=I.sensor,Y=I.range.left,ae=I.range.top,fe=wk(p,P=x,V=C),me=wk(j,P,V);return Math.abs(fe.left-me.left)<=Y&&Math.abs(fe.top-me.top)<=ae?J.some({output:qA(I.output,p,x,C),extra:I.extra}):J.none()})}function rD(l,p){var x;l.getSystem().addToGui(p),Xr((x=p).element).filter(fu).each(function(C){Ki(C,"z-index").each(function(I){Ur(C,rI,I)}),Qr(C,"z-index",Ns(x.element,"z-index"))})}function tR(l){Xr(l.element).filter(fu).each(function(p){Ls(p,rI).fold(function(){return mi(p,"z-index")},function(x){return Qr(p,"z-index",x)}),Ss(p,rI)}),l.getSystem().removeFromGui(l)}function oD(l,p,x){return l.getSystem().build(Os.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[p]},events:x}))}function KA(l,p){return{bounds:l.getBounds(),height:Wr(p.element),width:Ut(p.element)}}function iD(l,p,x,C,I){var P=x.update(C,I),V=x.getStartData().getOrThunk(function(){return KA(p,l)});P.each(function(j){var Y,ae,fe,me,Ce,Ge,ze,Ue,qe,Je,Ee,Ze,ft,Ct,Jt,Ft,nn,Cn,fn,In,Gn,yr,Hr,So,si=l,wi=V,hi=j,zo=(Y=p).getTarget(si.element);Y.repositionTarget&&(ae=ts(Wt(si.element)),fe=je(zo),Gn=Ki(In=zo,"left"),yr=Ki(In,"top"),Hr=Ki(In,"position"),So=function(Mi,Ti,Di){return("fixed"===Di?__:fD)(parseInt(Mi,10),parseInt(Ti,10))},me=(Gn.isSome()&&yr.isSome()&&Hr.isSome()?J.some(So(Gn.getOrDie(),yr.getOrDie(),Hr.getOrDie())):J.none()).getOrThunk(function(){var Mi=Ul(In);return Lp(Mi.left,Mi.top)}),Ce=si,Ge=me,ze=ae,Ue=fe,qe=hi,Je=wi,Ze=Y.snaps.fold(function(){var Mi,Ti,Di=yT((Mi=qe.left,Ti=qe.top,Ge.fold(function(ui,na){return fD(ui+Mi,na+Ti)},function(ui,na){return Lp(ui+Mi,na+Ti)},function(ui,na){return __(ui+Mi,na+Ti)})),ze,Ue);return __(Di.left,Di.top)},function(Mi){var Ti=function XA(l,p,x,C,I,P){var V,j,Y,ae,fe,me,Ce=(V=x,j=C,fe=YA(ae=l.element,(Y=p).leftAttr),me=YA(ae,Y.topAttr),(isNaN(fe)||isNaN(me)?J.none():J.some(Ca(fe,me))).fold(function(){return V},function(Je){return __(Je.left+j.left,Je.top+j.top)})),Oe=(p.mustSnap?oE:iE)(l,p,Ce,I,P),Ge=yT(Ce,I,P),ze=p,Ue=Ge,qe=l.element;return Ur(qe,ze.leftAttr,Ue.left+"px"),Ur(qe,ze.topAttr,Ue.top+"px"),Oe.fold(function(){return{coord:__(Ge.left,Ge.top),extra:J.none()}},function(Je){return{coord:Je.output,extra:Je.extra}})}(Ce,Mi,Ge,qe,ze,Ue);return Ti.extra.each(function(Di){Mi.onSensor(Ce,Di)}),Ti.coord}),Jt=(Ee=Je).bounds,Ft=wk(Ze,ft=ze,Ct=Ue),nn=wc(Ft.left,Jt.x,Jt.x+Jt.width-Ee.width),Cn=wc(Ft.top,Jt.y,Jt.y+Jt.height-Ee.height),fn=Lp(nn,Cn),Eu(zo,tE(Ze.fold(function(){var Mi=SS(fn,ft,Ct);return fD(Mi.left,Mi.top)},U(fn),function(){var Mi=yT(fn,ft,Ct);return __(Mi.left,Mi.top)}),0,fe))),Y.onDrag(si,zo,hi)})}function aD(l,p,x,C){p.each(tR),x.snaps.each(function(P){var V,j;Ss(j=l.element,(V=P).leftAttr),Ss(j,V.topAttr)});var I=x.getTarget(l.element);C.reset(),x.onDrop(l,I)}function bT(l){return function(p,x){function C(I){x.setStartData(KA(p,I))}return Ei(Ve([xn(Gc(),function(I){x.getStartData().each(function(){return C(I)})})],l(p,x,C),!0))}}function sD(l,p,x){return[xn(Jl(),function(C,I){var P,V,j,Y,ae;0===I.event.raw.button&&(I.stop(),j={drop:P=function(){return aD(C,J.some(Y),l,p)},delayDrop:(V=pM(P,200)).schedule,forceDrop:P,move:function(fe){V.cancel(),iD(C,l,p,dD,fe)}},Y=oD(C,l.blockerClass,(ae=j,Ei([xn(Jl(),ae.forceDrop),xn(gb(),ae.drop),xn(nm(),function(fe,me){ae.move(me.event)}),xn(Gp(),ae.delayDrop)]))),x(C),rD(C,Y))})]}function $A(l,p,x){function C(P){aD(P,I.get(),l,p),I.clear()}var I=Ha();return[xn(mu(),function(P,V){V.stop();var Y,ae,fe,me=oD(P,l.blockerClass,(ae=Y=function j(){return C(P)},fe=function(Ce){iD(P,l,p,aE,Ce)},Ei([xn(mu(),ae),xn($i(),Y),xn(qi(),Y),xn($l(),function(Ce,Oe){fe(Oe.event)})])));I.set(me),x(P),rD(P,me)}),xn($l(),function(P,V){V.stop(),iD(P,l,p,aE,V.event)}),xn($i(),function(P,V){V.stop(),C(P)}),xn(qi(),C)]}function JA(l,p,x,C,I,P){return l.fold(function(){return CS.snap({sensor:Lp(x-20,C-20),range:Ca(I,P),output:Lp(J.some(x),J.some(C)),extra:{td:p}})},function(V){var j=x-20,Y=C-20,ae=V.element.dom.getBoundingClientRect();return CS.snap({sensor:Lp(j,Y),range:Ca(40,40),output:Lp(J.some(x-ae.width/2),J.some(C-ae.height/2)),extra:{td:p}})})}function uD(l,p,x){return{getSnapPoints:l,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(C,I){var P=I.td,V=p.get(),j=P;V.exists(function(Y){return Mn(Y,j)})||(p.set(P),x(P))},mustSnap:!0}}function lD(l){return di(il.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:$n([CS.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:l}),l_.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))}var L1,Ay,eI={name:"lineheight",text:"Line height",icon:"line-height",getOptions:function(l){return l.getParam("lineheight_formats","1 1.1 1.2 1.3 1.4 1.5 2","string").split(" ")},hash:function(l){return p=["fixed","relative","empty"],J.from(JO.exec(l)).bind(function(x){var C=Number(x[1]),I=x[2],P=I;return jt(p,function(V){return jt(JP[V],function(j){return P===j})})?J.some({value:C,unit:I}):J.none()}).map(function(x){return x.value+x.unit}).getOr(l);var p},display:Z,watcher:function(l,p,x){return l.formatter.formatChanged("lineheight",x,!1,{value:p}).unbind},getCurrent:function(l){return J.from(l.queryCommandValue("LineHeight"))},setCurrent:function(l,p){return l.execCommand("LineHeight",!1,p)}},tI=function(l){return{type:"selection",root:bt.fromDom(l.selection.getNode())}},nE={onLtr:function(){return[ru,Vs,xu,Pl,hs,oc,Cp,x0,fd,Za,ef,Jd]},onRtl:function(){return[ru,xu,Vs,hs,Pl,oc,Cp,x0,ef,Jd,fd,Za]}},nI={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},cD={type:"separator"},rE=function(l){function p(C){return{text:C.text,icon:C.icon,disabled:C.disabled,shortcut:C.shortcut}}var x;if(ne(l))return l;switch(l.type){case"separator":return cD;case"submenu":return ve(ve({type:"nestedmenuitem"},p(l)),{getSubmenuItems:function(){var C=l.getSubmenuItems();return ne(C)?C:Ht(C,rE)}});default:return ve(ve({type:"menuitem"},p(l)),{onAction:(x=l.onAction,function(){return x()})})}},x_=os([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),fD=x_.offset,Lp=x_.absolute,__=x_.fixed,oE=function(l,p,x,C,I){var P=p.getSnapPoints(l);return ZA(P,x,C,I).orThunk(function(){return Lr(P,function(V,j){var Y,ae,fe,me,Ce,Oe,Ge,ze=(Y=j.sensor,me=wk(x,ae=C,fe=I),Ce=wk(Y,ae,fe),Oe=Math.abs(me.left-Ce.left),Ge=Math.abs(me.top-Ce.top),Ca(Oe,Ge));return V.deltas.fold(function(){return{deltas:J.some(ze),snap:J.some(j)}},function(Ue){return(ze.left+ze.top)/2<=(Ue.left+Ue.top)/2?{deltas:J.some(ze),snap:J.some(j)}:V})},{deltas:J.none(),snap:J.none()}).snap.map(function(V){return{output:qA(V.output,x,C,I),extra:V.extra}})})},iE=function(l,p,x,C,I){return ZA(p.getSnapPoints(l),x,C,I)},nR=Object.freeze({__proto__:null,snapTo:function(l,p,x,C){var I,P,V,j=p.getTarget(l.element);p.repositionTarget&&(I=ts(Wt(l.element)),P=je(j),Eu(j,tE(qA((V=C).output,V.output,I,P),0,P)))}}),rI="data-initial-z-index",rR=Wi("snaps",[Dn("getSnapPoints"),Ho("onSensor"),Dn("leftAttr"),Dn("topAttr"),Bt("lazyViewport",fl),Bt("mustSnap",!1)]),oI=[Bt("useFixed",Ke),Dn("blockerClass"),Bt("getTarget",Z),Bt("onDrag",K),Bt("repositionTarget",!0),Bt("onDrop",K),Li("getBounds",fl),rR],dD=Object.freeze({__proto__:null,getData:function(l){return J.from(Ca(l.x,l.y))},getDelta:function(l,p){return Ca(p.left-l.left,p.top-l.top)}}),oR=Ve(Ve([],oI,!0),[Ii("dragger",{handlers:bT(sD)})],!1),aE=Object.freeze({__proto__:null,getData:function(l){var p,x=l.raw.touches;return 1===x.length?J.some(Ca((p=x[0]).clientX,p.clientY)):J.none()},getDelta:function(l,p){return Ca(p.left-l.left,p.top-l.top)}}),iR=Ve(Ve([],oI,!0),[Ii("dragger",{handlers:bT($A)})],!1),aR=Ve(Ve([],oI,!0),[Ii("dragger",{handlers:bT(function(l,p,x){return Ve(Ve([],sD(l,p,x),!0),$A(l,p,x),!0)})})],!1),CS=Lv({branchKey:"mode",branches:Object.freeze({__proto__:null,mouse:oR,touch:iR,mouseOrTouch:aR}),name:"dragging",active:{events:function(l,p){return l.dragger.handlers(l,p)}},extra:{snap:function(l){return{sensor:l.sensor,range:l.range,output:l.output,extra:J.from(l.extra)}}},state:Object.freeze({__proto__:null,init:function(){var l=J.none(),p=J.none(),x=U({});return ec({readState:x,reset:function(){l=J.none(),p=J.none()},update:function(C,I){return C.getData(I).bind(function(P){return V=C,j=P,Y=l.map(function(ae){return V.getDelta(ae,j)}),l=J.some(j),Y;var V,j,Y})},getStartData:function(){return p},setStartData:function(C){p=J.some(C)}})}}),apis:nR});function sE(l,p,x){var C,I,P,V,j,Y,ae=bt.fromDom(l.getContainer());Qt((C=l,I=p,P=x,V=Pu(ae),j=gn(ae),(Y={}).height=fT(V+I.top,fw(C),rM(C)),P===L1.Both&&(Y.width=fT(j+I.left,Ix(C),qb(C))),Y),function(fe,me){return Qr(ae,me,CA(fe)),0}),l.fire("ResizeEditor")}function hD(l,p,x,C){return sE(l,Ca(20*x,20*C),p),J.some(!0)}function uE(l){function p(){return Di.bind(Rs.getHeader)}function x(){return Po.value(Je)}function C(){return Di.bind(function(Xo){return Rs.getThrobber(Xo)}).getOrDie("Could not find throbber element")}var I,P,V,j,Y=l.inline,ae=Y?pT:LA,fe=vy(l)?_O:FP,Di=J.none(),me=Dl(),Ce=me.browser.isIE()?["tox-platform-ie"]:[],Oe=me.deviceType.isTouch()?["tox-platform-touch"]:[],Ge=cC(l),ze=yw(l),Ue=Ah.isRtl()?{attributes:{dir:"rtl"}}:{},qe={attributes:((I={})[ox]=Ge?pa.BottomToTop:pa.TopToBottom,I)},Je=Yi((P=Mn(Ra(),ze)&&"grid"===Ns(ze,"display"),V={dom:ve({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(Ce).concat(Oe)},Ue),behaviours:$n([nl.config({useFixed:function(){return fe.isDocked(p)}})])},j={dom:{styles:{width:document.body.clientWidth+"px"}},events:Ei([xn(za(),function(){Qr(Co.element,"width",document.body.clientWidth+"px")})])},No(V,P?j:{}))),Ee=di({dom:{tag:"div",classes:["tox-anchorbar"]}}),Ze=function ke(l,p,x){var C,I,P,V,j,Y,ae,fe,me,Ce,Oe,Ge,ze,Ue=Nr(!1),qe={isPositionedAtTop:function(){return"top"===C.get()},getDockingMode:(C=Nr(cC(p)?"bottom":"top")).get,setDockingMode:C.set},Je={shared:{providers:{icons:function(){return p.ui.registry.getAll().icons},menuItems:function(){return p.ui.registry.getAll().menuItems},translate:Ah.translate,isDisabled:function(){return p.mode.isReadOnly()||p.ui.isDisabled()},getSetting:p.getParam.bind(p)},interpreter:function(ft){return z2(gO,ft,Je)},anchors:lS(p,x,qe.isPositionedAtTop),header:qe,getSink:function(){return Po.value(l)}},urlinput:Me(p),styleselect:(me=Nr([]),Ce=Nr([]),Oe=Nr([]),Ge=Nr([]),ze=Nr(!(fe=function(ft){var Ct=ft.items;return void 0!==Ct&&0<Ct.length?cr(Ct,fe):[ft.format]})),(ae=p).on("PreInit",function(ft){var Ct=g_(ae),Jt=O2(ae,Ct,Ee,Ze);me.set(Jt),Ce.set(cr(Jt,fe))}),ae.on("addStyleModifications",function(ft){var Ct=O2(ae,ft.items,Ee,Ze);Oe.set(Ct),ze.set(ft.replace),Ge.set(cr(Ct,fe))}),{getData:function(){var ft=ze.get()?[]:me.get(),Ct=Oe.get();return ft.concat(Ct)},getFlattenedKeys:function(){var ft=ze.get()?[]:Ce.get(),Ct=Ge.get();return ft.concat(Ct)}}),colorinput:{colorPicker:function(ft,Ct){JT(Y)(ft,Ct)},hasCustomColors:function(){return Cw(j)},getColors:function(){return wC(V)},getColorCols:(P=V=j=Y=p,function(){return kw(P)})},dialog:{isDraggableModal:(I=p,function(){return I.getParam("draggable_modal",!1,"boolean")})},isContextMenuOpen:function(){return Ue.get()},setContextMenuState:function(ft){return Ue.set(ft)}};function Ee(ft){return function(){return ae.formatter.match(ft)}}function Ze(ft){return function(){var Ct=ae.formatter.get(ft);return void 0!==Ct?J.some({tag:0<Ct.length&&(Ct[0].inline||Ct[0].block)||"div",styles:ae.dom.parseStyle(ae.formatter.getCssText(ft))}):J.none()}}return Je}(Je,l,function(){return Di.bind(function(Xo){return Ee.getOpt(Xo)}).getOrDie("Could not find a anchor bar element")}),ft=Rs.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:Ze,onEscape:function(){l.focus()}}),Ct=Px(l),Jt=Rs.parts.toolbar(ve({dom:{tag:"div",classes:["tox-toolbar"]},getSink:x,providers:Ze.shared.providers,onEscape:function(){l.focus()},type:Ct,lazyToolbar:function(){return Di.bind(function(Xo){return Rs.getToolbar(Xo)}).getOrDie("Could not find more toolbar element")},lazyHeader:function(){return p().getOrDie("Could not find header element")}},qe)),Ft=Rs.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:Ze.shared.providers,onEscape:function(){l.focus()},type:Ct}),nn=Rs.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Cn=Rs.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),fn=Rs.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:Ze}),In=l.getParam("statusbar",!0,"boolean")&&!Y?J.some(function sR(l,p){var x,C,I,P,V,j,Y,ae,fe,me,Ce,Oe,Ge,ze,Ue,qe;return{dom:{tag:"div",classes:["tox-statusbar"]},components:(qe=[],l.getParam("elementpath",!0,"boolean")&&qe.push((Ge=l,Ue=p,(ze={}).delimiter||(ze.delimiter="\xbb"),{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:$n([Zr.config({mode:"flow",selector:"div[role=button]"}),Vr.config({disabled:Ue.isDisabled}),$a(),ei.config({}),yo.config({}),sr("elementPathEvents",[ca(function(Ee,Ze){Ge.shortcuts.add("alt+F11","focus statusbar elementpath",function(){return Zr.focusIn(Ee)}),Ge.on("NodeChange",function(ft){var Ct,Jt,Ft=function(nn){for(var Cn=[],fn=nn.length;0<fn--;){var In=nn[fn];if(1===In.nodeType&&!function(yr){if(1===yr.nodeType&&("BR"===yr.nodeName||yr.getAttribute("data-mce-bogus")||"bookmark"===yr.getAttribute("data-mce-type")))return 1}(In)){var Gn=Ge.fire("ResolveName",{name:In.nodeName.toLowerCase(),target:In});if(Gn.isDefaultPrevented()||Cn.push({name:Gn.name,element:In}),Gn.isPropagationStopped())break}}return Cn}(ft.parents);yo.set(Ee,0<Ft.length?(Ct=Ht(Ft||[],function(nn,Cn){return il.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":Cn,"tab-index":-1,"aria-level":Cn+1},innerHtml:nn.name},action:function(fn){Ge.focus(),Ge.selection.select(nn.element),Ge.nodeChanged()},buttonBehaviours:$n([R0(Ue.isDisabled),$a()])})}),Jt={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+ze.delimiter+" "}},Lr(Ct.slice(1),function(nn,Cn){var fn=nn;return fn.push(Jt),fn.push(Cn),fn},[Ct[0]])):[])})})])]),components:[]})),l.hasPlugin("wordcount")&&qe.push((me=l,Ce=p,il.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:$n([R0(Ce.isDisabled),$a(),ei.config({}),yo.config({}),lr.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),sr("wordcount-events",[Nd(function(Ee){var Ze=lr.getValue(Ee),ft="words"===Ze.mode?"characters":"words";lr.setValue(Ee,{mode:ft,count:Ze.count}),Je(Ee,Ze.count,ft)}),ca(function(Ee){me.on("wordCountUpdate",function(Ze){var ft=lr.getValue(Ee).mode;lr.setValue(Ee,{mode:ft,count:Ze.wordCount}),Je(Ee,Ze.wordCount,ft)})})])]),eventOrder:((Oe={})[bc()]=["disabling","alloy.base.behaviour","wordcount-events"],Oe)}))),l.getParam("branding",!0,"boolean")&&qe.push({dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:'<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+(fe=Ah.translate(["Powered by {0}","Tiny"]))+'">'+fe+"</a>"}}),x=0<qe.length?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:qe}]:[],P=p,j=!(V=I=l).hasPlugin("autoresize"),C=(ae=!1===(Y=V.getParam("resize",j))?L1.None:"both"===Y?L1.Both:L1.Vertical)===L1.None?J.none():J.some(tf("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:P.translate("Resize")},behaviours:[CS.config({mode:"mouse",repositionTarget:!1,onDrag:function(Ee,Ze,ft){return sE(I,ft,ae)},blockerClass:"tox-blocker"}),Zr.config({mode:"special",onLeft:function(){return hD(I,ae,-1,0)},onRight:function(){return hD(I,ae,1,0)},onUp:function(){return hD(I,ae,0,-1)},onDown:function(){return hD(I,ae,0,1)}}),ei.config({}),co.config({})]},P.icons)),x.concat(C.toArray()))};function Je(Ee,Ze,ft){return yo.set(Ee,[Od(Ce.translate(["{0} "+ft,Ze[ft]]))])}}(l,Ze.shared.providers)):J.none(),Gn={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[nn,Cn]},yr=vw(l),Hr=kp(l),So=Oc(l),si=Rs.parts.header({dom:ve({tag:"div",classes:["tox-editor-header"]},qe),components:Bn([So?[ft]:[],yr?[Ft]:Hr?[Jt]:[],gy(l)?[]:[Ee.asSpec()]]),sticky:vy(l),editor:l,sharedBackstage:Ze.shared}),wi=Bn([Ge?[]:[si],Y?[]:[Gn],Ge?[si]:[]]),hi=Bn([[{dom:{tag:"div",classes:["tox-editor-container"]},components:wi}],Y?[]:In.toArray(),[fn]]),zo=my(l),Mi=ve(ve({role:"application"},Ah.isRtl()?{dir:"rtl"}:{}),zo?{"aria-hidden":"true"}:{}),Ti=Yi(Rs.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(Y?["tox-tinymce-inline"]:[]).concat(Ge?["tox-tinymce--toolbar-bottom"]:[]).concat(Oe).concat(Ce),styles:ve({visibility:"hidden"},zo?{opacity:"0",border:"0"}:{}),attributes:Mi},components:hi,behaviours:$n([$a(),Vr.config({disableClass:"tox-tinymce--disabled"}),Zr.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])}));Di=J.some(Ti),l.shortcuts.add("alt+F9","focus menubar",function(){Rs.focusMenubar(Ti)}),l.shortcuts.add("alt+F10","focus toolbar",function(){Rs.focusToolbar(Ti)}),l.addCommand("ToggleToolbarDrawer",function(){Rs.toggleToolbarDrawer(Ti)}),l.addQueryStateHandler("ToggleToolbarDrawer",function(){return Rs.isToolbarDrawerToggled(Ti)});var ui,na,al,ls,df,ra,Ff,ws,Oi,ir=Qd(Ti),Co=Qd(Je);return ui=l,na=ir,al=Co,ls=am(),df=ps(ls,"touchstart",cc),ra=ps(ls,"touchmove",function(Xo){return Xi(np(),Xo)}),Ff=ps(ls,"touchend",function(Xo){return Xi(R_(),Xo)}),ws=ps(ls,"mousedown",cc),Oi=ps(ls,"mouseup",function(Xo){0===Xo.raw.button&&Ia(h0(),{target:Xo.target})}),ui.on("PostRender",function(){ui.on("click",js),ui.on("tap",js),ui.on("mouseup",ku),ui.on("mousedown",Gl),ui.on("ScrollWindow",Mu),ui.on("ResizeWindow",Tu),ui.on("ResizeEditor",sl),ui.on("AfterProgressState",Du),ui.on("DismissPopups",zh)}),ui.on("remove",function(){ui.off("click",js),ui.off("tap",js),ui.off("mouseup",ku),ui.off("mousedown",Gl),ui.off("ScrollWindow",Mu),ui.off("ResizeWindow",Tu),ui.off("ResizeEditor",sl),ui.off("AfterProgressState",Du),ui.off("DismissPopups",zh),ws.unbind(),df.unbind(),ra.unbind(),Ff.unbind(),Oi.unbind()}),ui.on("detach",function(){qv(na),qv(al),na.destroy(),al.destroy()}),{mothership:ir,uiMothership:Co,backstage:Ze,renderUI:function(){var Xo,hf;fe.setup(l,Ze.shared,p),function HA(l,p){var x,C,I,P,V,j,Y,ae,fe,me,Ce,Oe,Ge,ze,Ue,qe,Je,Ee,Ze,ft,Ct,Jt,Ft,nn,Cn,fn=l;zr([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],function(In){fn.ui.registry.addToggleButton(In.name,{tooltip:In.text,icon:In.icon,onAction:Rp(fn,In.cmd),onSetup:v_(fn,In.name)})}),fn.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:Rp(fn,"JustifyNone")}),function QP(l){var p,x;(function(C){sv.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],function(V,j){C.ui.registry.addToggleButton(V.name,{tooltip:V.text,icon:V.icon,onSetup:v_(C,V.name),onAction:VA(C,V.name)})});for(var I=1;I<=6;I++){var P="h"+I;C.ui.registry.addToggleButton(P,{text:P.toUpperCase(),tooltip:"Heading "+I,onSetup:v_(C,P),onAction:VA(C,P)})}})(l),p=l,sv.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],function(C){p.ui.registry.addButton(C.name,{tooltip:C.text,icon:C.icon,onAction:Rp(p,C.action)})}),x=l,sv.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],function(C){x.ui.registry.addToggleButton(C.name,{tooltip:C.text,icon:C.icon,onAction:Rp(x,C.action),onSetup:v_(x,C.name)})})}(nn=l),Cn=nn,sv.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],function(In){Cn.ui.registry.addMenuItem(In.name,{text:In.text,icon:In.icon,shortcut:In.shortcut,onAction:Rp(Cn,In.action)})}),Cn.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:VA(Cn,"code")}),Ft=O1(0,Ce=fe=p,LO(me=ae=l)),me.ui.registry.addNestedMenuItem("align",{text:Ce.shared.providers.translate("Align"),getSubmenuItems:function(){return Ft.items.validateItems(Ft.getStyleItems())}}),ze=O1(0,Ge=fe,BO(Oe=ae)),Oe.ui.registry.addNestedMenuItem("fontformats",{text:Ge.shared.providers.translate("Fonts"),getSubmenuItems:function(){return ze.items.validateItems(ze.getStyleItems())}}),Ue=ae,Je=ve({type:"advanced"},(qe=fe).styleselect),Ee=O1(0,qe,FO(Ue,Je)),Ue.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return Ee.items.validateItems(Ee.getStyleItems())}}),ft=O1(0,fe,Y2(Ze=ae)),Ze.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return ft.items.validateItems(ft.getStyleItems())}}),Jt=O1(0,fe,zO(Ct=ae)),Ct.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return Jt.items.validateItems(Jt.getStyleItems())}}),(j=V=l).ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:wS(j,"hasUndo"),onAction:Rp(j,"undo")}),j.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:wS(j,"hasRedo"),onAction:Rp(j,"redo")}),(Y=V).ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",disabled:!0,onSetup:wS(Y,"hasUndo"),onAction:Rp(Y,"undo")}),Y.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",disabled:!0,onSetup:wS(Y,"hasRedo"),onAction:Rp(Y,"redo")}),function(In){var Gn;(Gn=In).addCommand("mceApplyTextcolor",function(So,si){var wi,hi=So,zo=si;(wi=Gn).undoManager.transact(function(){wi.focus(),wi.formatter.apply(hi,{value:zo}),wi.nodeChanged()})}),Gn.addCommand("mceRemoveTextcolor",function(So){var si,wi=So;(si=Gn).undoManager.transact(function(){si.focus(),si.formatter.remove(wi,{value:null},null,!0),si.nodeChanged()})});var yr=Nr(Aw),Hr=Nr(Aw);N0(In,"forecolor","forecolor","Text color",yr),N0(In,"backcolor","hilitecolor","Background color",Hr),Vl(In,"forecolor","forecolor","Text color"),Vl(In,"backcolor","hilitecolor","Background color")}(l),function eR(l){var p;l.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:Rp(l,"mceToggleVisualAid")}),l.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:y_(p=l,"VisualAid",function(x){x.setActive(p.hasVisual)}),onAction:Rp(l,"mceToggleVisualAid")})}(l),(I=l).ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:y_(P=I,"NodeChange",function(In){In.setDisabled(!P.queryCommandState("outdent"))}),onAction:Rp(I,"outdent")}),I.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:Rp(I,"indent")}),FA(x=l,eI),J.from((C=x).getParam("content_langs",void 0,"array")).map(function(In){return{name:"language",text:"Language",icon:"language",getOptions:U(In),hash:function(Gn){return he(Gn.customCode)?Gn.code:Gn.code+"/"+Gn.customCode},display:function(Gn){return Gn.title},watcher:function(Gn,yr,Hr){return Gn.formatter.formatChanged("lang",Hr,!1,{value:yr.code,customValue:yr.customCode}).unbind},getCurrent:function(Gn){return $u(bt.fromDom(Gn.selection.getNode()),function(yr){return J.some(yr).filter(fu).bind(function(Hr){return Ls(Hr,"lang").map(function(So){return{code:So,customCode:Ls(Hr,"data-mce-lang").getOrUndefined(),title:""}})})})},setCurrent:function(Gn,yr){return Gn.execCommand("Lang",!1,yr)},onToolbarSetup:function(Gn){var yr=jd();return Gn.setActive(C.formatter.match("lang",{},void 0,!0)),yr.set(C.formatter.formatChanged("lang",Gn.setActive,!0)),yr.clear}}}).each(function(In){return FA(x,In)})}(l,Ze),eE(l,x,Ze),hf=(Xo=l).ui.registry.getAll().sidebars,zr(Ni(hf),function(mv){function vv(){return wr(J.from(Xo.queryCommandValue("ToggleSidebar")),mv)}var Dk=hf[mv];Xo.ui.registry.addToggleButton(mv,{icon:Dk.icon,tooltip:Dk.tooltip,onAction:function(IS){Xo.execCommand("ToggleSidebar",!1,mv),IS.setActive(vv())},onSetup:function(IS){function OS(){return IS.setActive(vv())}return Xo.on("ToggleSidebar",OS),function(){Xo.off("ToggleSidebar",OS)}}})}),function $r(l,p,x){function C(j){var Y;!I.get()||"focusin"===(Y=j).type&&(Y.composed?Ci(Y.composedPath()):J.from(Y.target)).map(bt.fromDom).filter(fu).exists(function(ae){return la(ae,"mce-pastebin")})||(j.preventDefault(),or(p()),l.editorManager.setActive(l))}var I=Nr(!1),P=Ha();function V(j){var Y,ae,fe,me,Ce,Oe,Ge,ze,Ue,qe;j!==I.get()&&(I.set(j),Y=l,ae=p(),me=x.providers,ze=ae.element,Ue=fe=j,qe="data-mce-"+(Ce="tabindex"),J.from(Y.iframeElement).map(bt.fromDom).each(function(Je){Ue?(Ls(Je,Ce).each(function(Ee){return Ur(Je,qe,Ee)}),Ur(Je,Ce,-1)):(Ss(Je,Ce),Ls(Je,qe).each(function(Ee){Ur(Je,Ce,Ee),Ss(Je,qe)}))}),fe?(P1.block(ae,(Ge=me,function(Je,Ee){return{dom:{tag:"div",attributes:{"aria-label":Ge.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:wn('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}})),mi(ze,"display"),Ss(ze,"aria-hidden"),Y.hasFocus()&&or(ae)):(Oe=Wo.getCurrent(ae).exists(function(Je){return xh(Je.element)}),P1.unblock(ae),Qr(ze,"display","none"),Ur(ze,"aria-hidden","true"),Oe&&Y.focus()),l.fire("AfterProgressState",{state:j}))}l.inline||l.on("PreInit",function(){l.dom.bind(l.getWin(),"focusin",C),l.on("BeforeExecCommand",function(j){"mcefocus"===j.command.toLowerCase()&&!0!==j.value&&C(j)})}),l.on("ProgressState",function(j){var Y;P.on(ly.clearTimeout),et(j.time)?(Y=ly.setEditorTimeout(l,function(){return V(j.state)},j.time),P.set(Y)):(V(j.state),P.clear())})}(l,C,Ze.shared),jn(l.getParam("toolbar_groups",{},"object"),function(mv,vv){l.ui.registry.addGroupToolbarButton(vv,mv)});var Gu,Gg=l.ui.registry.getAll(),pv=Gg.buttons,gv=Gg.menuItems,sb=Gg.contextToolbars,k_=Gg.sidebars,M_=dw(l),AS={menuItems:gv,menus:(Gu=l.getParam("menu"))?jn(Gu,function(mv){return ve(ve({},mv),{items:mv.items})}):{},menubar:l.getParam("menubar"),toolbar:M_.getOrThunk(function(){return l.getParam("toolbar",!0)}),allowToolbarGroups:Ct===nf.floating,buttons:pv,sidebar:k_};jO(l,sb,Je,{backstage:Ze}),function QA(l,p){function x(Je){var Ee=uh(Je);return JA(Ge.getOpt(p),Je,Ee.x,Ee.y,Ee.width,Ee.height)}function C(Je){var Ee=uh(Je);return JA(ze.getOpt(p),Je,Ee.right,Ee.bottom,Ee.width,Ee.height)}function I(Je,Ee,Ze,ft){var Ct=Ze(Ee);CS.snapTo(Je,Ct),function(Jt){var Ft=Ee.dom.getBoundingClientRect();mi(Jt.element,"display");var nn=Jr(bt.fromDom(l.getBody())).dom.innerHeight;(Ft[ft]<0||Ft[ft]>nn)&&Qr(Jt.element,"display","none")}(Je)}function P(Je){return I(Ue,Je,x,"top")}function V(Je){return I(qe,Je,C,"bottom")}var j=Nr([]),Y=Nr([]),ae=Nr(!1),fe=Ha(),me=Ha(),Ce=uD(function(){return Ht(j.get(),x)},fe,function(Je){me.get().each(function(Ee){l.fire("TableSelectorChange",{start:Je,finish:Ee})})}),Oe=uD(function(){return Ht(Y.get(),C)},me,function(Je){fe.get().each(function(Ee){l.fire("TableSelectorChange",{start:Ee,finish:Je})})}),Ge=lD(Ce),ze=lD(Oe),Ue=Yi(Ge.asSpec()),qe=Yi(ze.asSpec());Dl().deviceType.isTouch()&&(l.on("TableSelectionChange",function(Je){ae.get()||(Rl(p,Ue),Rl(p,qe),ae.set(!0)),fe.set(Je.start),me.set(Je.finish),Je.otherCells.each(function(Ee){j.set(Ee.upOrLeftCells),Y.set(Ee.downOrRightCells),P(Je.start),V(Je.finish)})}),l.on("ResizeEditor ResizeWindow ScrollContent",function(){fe.get().each(P),me.get().each(V)}),l.on("TableSelectionClear",function(){ae.get()&&(bm(Ue),bm(qe),ae.set(!1)),fe.clear(),me.clear()}))}(l,Je);var Ey=l.getElement(),T_=function Vi(){var Xo,hf,Gu,Gg,pv,gv,sb=CA((Gg=Ub(Gu=hf=l),pv=fw(Gu),gv=rM(Gu),SA(Gg).map(function(M_){return fT(M_,pv,gv)}).getOr(Ub(hf)))),k_=CA(kA(Xo=l).getOr(jb(Xo)));return l.inline||(Bc("div","width",k_)&&Qr(Ti.element,"width",k_),Bc("div","height",sb)?Qr(Ti.element,"height",sb):Qr(Ti.element,"height","200px")),sb}();return ae.render(l,{mothership:ir,uiMothership:Co,outerContainer:Ti},AS,Ze,{targetNode:Ey,height:T_})},getUi:function(){return{channels:{broadcastAll:Co.broadcast,broadcastOn:Co.broadcastOn,register:K}}}};function Xi(Xo,hf){zr([na,al],function(Gu){Gu.broadcastEvent(Xo,hf)})}function Ia(Xo,hf){zr([na,al],function(Gu){Gu.broadcastOn([Xo],hf)})}function cc(Xo){return Ia(vp(),{target:Xo.target})}function js(Xo){return Ia(vp(),{target:bt.fromDom(Xo.target)})}function ku(Xo){0===Xo.button&&Ia(h0(),{target:bt.fromDom(Xo.target)})}function Gl(){zr(ui.editorManager.get(),function(Xo){ui!==Xo&&Xo.fire("DismissPopups",{relatedTarget:ui})})}function Mu(Xo){return Xi(Gc(),Cb(Xo))}function Tu(Xo){Ia(dg(),{}),Xi(za(),Cb(Xo))}function sl(){return Ia(dg(),{})}function Du(Xo){Xo.state&&Ia(vp(),{target:bt.fromDom(ui.getContainer())})}function zh(Xo){Ia(vp(),{target:bt.fromDom(Xo.relatedTarget.getContainer())})}}function pD(l){return ds("items","items",{tag:"required",process:{}},Cd(Gh(function(p){return ua("Checking item of "+l,_T,p).fold(function(x){return Po.error(Ku(x))},function(x){return Po.value(x)})})))}function lE(l){return ne(l.type)&&ne(l.name)}function gD(l){return{internalDialog:hl(ua("dialog",MR,l)),dataValidator:(p=cr(It(wD(l),lE),function(x){return J.from(SI[x.type]).fold(function(){return[]},function(C){return[Xl(x.name,C)]})}),Fr(p)),initialData:l.initialData};var p}function cE(l){var p=[],x={};return Qt(l,function(C,I){C.fold(function(){p.push(I)},function(P){x[I]=P})}),0<p.length?Po.error(p):Po.value(x)}function fE(l,p){Qr(l,"height",p+"px"),Dl().browser.isIE()?mi(l,"flex-basis"):Qr(l,"flex-basis",p+"px")}function mD(l,p,x){ap(l,'[role="dialog"]').each(function(C){fa(C,'[role="tablist"]').each(function(I){x.get().map(function(P){return Qr(p,"height","0"),Qr(p,"flex-basis","0"),Math.min(P,(j=p,Y=I,ae=no(V=C).dom,fe="fixed"===Ns(ap(V,".tox-dialog-wrap").getOr(V),"position")?Math.max(ae.clientHeight,window.innerHeight):Math.max(ae.offsetHeight,ae.scrollHeight),me=Pu(j),Ce=j.dom.offsetLeft>=Y.dom.offsetLeft+gn(Y)?Math.max(Pu(Y),me):me,Oe=parseInt(Ns(V,"margin-top"),10)||0,Ge=parseInt(Ns(V,"margin-bottom"),10)||0,fe-(Pu(V)+Oe+Ge-Ce)));var V,j,Y,ae,fe,me,Ce,Oe,Ge}).each(function(P){fE(p,P)})})})}function iI(l){return fa(l,'[role="tabpanel"]')}function uR(l,p){function x(fe){var me=cE(lr.getValue(fe)).getOr({}),Ce=V.get(),Oe=No(Ce,me);V.set(Oe)}function C(fe){var me=V.get();lr.setValue(fe,me)}var I,P,V=Nr({}),j=Nr(null),Y=Ht(l.tabs,function(fe){return{value:fe.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:p.shared.providers.translate(fe.title)},view:function(){return[sf.sketch(function(me){return{dom:{tag:"div",classes:["tox-form"]},components:Ht(fe.items,function(Ce){return I2(me,Ce,p)}),formBehaviours:$n([Zr.config({mode:"acyclic",useTabstopAt:st(Es)}),sr("TabView.form.events",[ca(C),Kf(x)]),Va.config({channels:Td([{key:BE,value:{onReceive:x}},{key:CI,value:{onReceive:C}}])})])}})]}}}),ae=(I=Y,P=Ha(),{extraEvents:[ca(function(fe){var me=fe.element;iI(me).each(function(Ce){var Oe;Qr(Ce,"visibility","hidden"),fe.getSystem().getByDom(Ce).toOptional().each(function(Ge){var ze,Ue,qe;Ci(fr((Ue=Ce,qe=Ge,Ht(ze=I,function(Je,Ee){yo.set(qe,ze[Ee].view());var Ze=Ue.dom.getBoundingClientRect();return yo.set(qe,[]),Ze.height})),function(Je,Ee){return Ee<Je?-1:Je<Ee?1:0})).fold(P.clear,P.set)}),mD(me,Ce,P),mi(Ce,"visibility"),Oe=fe,Ci(I).each(function(Ge){return kk.showTab(Oe,Ge.value)}),ly.requestAnimationFrame(function(){mD(me,Ce,P)})})}),xn(za(),function(fe){var me=fe.element;iI(me).each(function(Ce){mD(me,Ce,P)})}),xn(Ml,function(fe,me){var Ce=fe.element;iI(Ce).each(function(Oe){var Ge=Do(Ai(Oe));Qr(Oe,"visibility","hidden");var ze=Ki(Oe,"height").map(function(qe){return parseInt(qe,10)});mi(Oe,"height"),mi(Oe,"flex-basis");var Ue=Oe.dom.getBoundingClientRect().height;ze.forall(function(qe){return qe<Ue})?(P.set(Ue),mD(Ce,Oe,P)):ze.each(function(qe){fE(Oe,qe)}),mi(Oe,"visibility"),Ge.each(ed)})})],selectFirst:!1});return kk.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(fe,me,Ce){var Oe=lr.getValue(me);Gr(fe,vM,{name:Oe,oldName:j.get()}),j.set(Oe)},tabs:Y,components:[kk.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[NE.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:$n([ei.config({})])}),kk.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:ae.selectFirst,tabSectionBehaviours:$n([sr("tabpanel",ae.extraEvents),Zr.config({mode:"acyclic"}),Wo.config({find:function(fe){return Ci(kk.getViewItems(fe))}}),lr.config({store:{mode:"manual",getValue:function(fe){return fe.getSystem().broadcastOn([BE],{}),V.get()},setValue:function(fe,me){V.set(me),fe.getSystem().broadcastOn([CI],{})}}})])})}function dE(l,p,x,C){return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:ve(ve({},p.map(function(I){return{id:I}}).getOr({})),C?{"aria-live":"polite"}:{})},components:[],behaviours:$n([eb(0),ff.config({channel:FE,updateState:function(I,P){return J.some({isTabPanel:function(){return"tabpanel"===P.body.type}})},renderComponents:function(I){return"tabpanel"!==I.body.type?[(P=I.body,V=x,{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[(j=di(sf.sketch(function(Y){return{dom:{tag:"div",classes:["tox-form"].concat(P.classes)},components:Ht(P.items,function(ae){return I2(Y,ae,V)})}}))).asSpec()]}],behaviours:$n([Zr.config({mode:"acyclic",useTabstopAt:st(Es)}),Q0(j),nb(j,{postprocess:function(Y){return cE(Y).fold(function(ae){return console.error(ae),{}},Z)}})])})]:[uR(I.body,x)];var P,V,j},initialData:l})])}}(Ay=L1=L1||{})[Ay.None=0]="None",Ay[Ay.Both=1]="Both",Ay[Ay.Vertical=2]="Vertical";var aI,sI=U([Dn("lazySink"),vi("dragBlockClass"),Li("getBounds",fl),Bt("useTabstopAt",pt),Bt("eventOrder",{}),Xa("modalBehaviours",[Zr]),Fs("onExecute"),Ui("onEscape")]),uI={sketch:Z},lR=U([Kd({name:"draghandle",overrides:function(l,p){return{behaviours:$n([CS.config({mode:"mouse",getTarget:function(x){return ap(x,'[role="dialog"]').getOr(x)},blockerClass:l.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(p,null,2)).message),getBounds:l.getDragBounds})])}}}),Is({schema:[Dn("dom")],name:"title"}),Is({factory:uI,schema:[Dn("dom")],name:"close"}),Is({factory:uI,schema:[Dn("dom")],name:"body"}),Kd({factory:uI,schema:[Dn("dom")],name:"footer"}),ud({factory:{sketch:function(l,p){return ve(ve({},l),{dom:p.dom,components:p.components})}},schema:[Bt("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Bt("components",[])],name:"blocker"})]),_s=tl({name:"ModalDialog",configFields:sI(),partFields:lR(),factory:function(l,p,x,C){var I,P=Ha(),V=Rr("modal-events"),j=ve(ve({},l.eventOrder),((I={})[tu()]=[V].concat(l.eventOrder["alloy.system.attached"]||[]),I));return{uid:l.uid,dom:l.dom,components:p,apis:{show:function(Y){P.set(Y);var ae=l.lazySink(Y).getOrDie(),fe=C.blocker(),me=ae.getSystem().build(ve(ve({},fe),{components:fe.components.concat([tc(Y)]),behaviours:$n([co.config({}),sr("dialog-blocker-events",[Av(Xf(),function(){Zr.focusIn(Y)})])])}));Rl(ae,me),Zr.focusIn(Y)},hide:function(Y){P.clear(),Xr(Y.element).each(function(ae){Y.getSystem().getByDom(ae).each(function(fe){bm(fe)})})},getBody:function(Y){return io(Y,l,"body")},getFooter:function(Y){return io(Y,l,"footer")},setIdle:function(Y){P1.unblock(Y)},setBusy:function(Y,ae){P1.block(Y,ae)}},eventOrder:j,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:vs(l.modalBehaviours,[yo.config({}),Zr.config({mode:"cyclic",onEnter:l.onExecute,onEscape:l.onEscape,useTabstopAt:l.useTabstopAt}),P1.config({getRoot:P.get}),sr(V,[ca(function(Y){var ae,fe,me,Ce=Y.element,Oe=io(Y,l,"title").element,Ge=Ls(Ce,"id").fold(function(){var ze=Rr("dialog-label");return Ur(Oe,"id",ze),ze},Z);Ur(Ce,"aria-labelledby",Ge),ae=Y.element,fe=io(Y,l,"body").element,me=J.from(fs(ae,"id")).fold(function(){var ze=Rr("dialog-describe");return Ur(fe,"id",ze),ze},Z),Ur(ae,"aria-describedby",me)})])])}},apis:{show:function(l,p){l.show(p)},hide:function(l,p){l.hide(p)},getBody:function(l,p){return l.getBody(p)},getFooter:function(l,p){return l.getFooter(p)},setBusy:function(l,p,x){l.setBusy(p,x)},setIdle:function(l,p){l.setIdle(p)}}}),lI=Fr([jr("type"),jr("name")].concat(Yb)),Sk=Mv,vD=[ds("name","name",Yu(function(){return Rr("button-name")}),qa),Ri("icon"),pl("align","end",["start","end"]),rs("primary",!1),rs("disabled",!1)],cI=Ve(Ve([],vD,!0),[jr("text")],!1),yD=Ve([Uh("type",["submit","cancel","custom"])],cI,!0),hE=Na("type",{submit:yD,cancel:yD,custom:yD,menu:Ve([Uh("type",["menu"]),Ri("text"),Ri("tooltip"),Ri("icon"),Zu("items",lI)],vD,!0)}),cR=[jr("type"),jr("text"),Uh("level",["info","warn","error","success"]),jr("icon"),Bt("url","")],pE=Fr(cR),fR=[jr("type"),jr("text"),rs("disabled",!1),rs("primary",!1),ds("name","name",Yu(function(){return Rr("button-name")}),qa),Ri("icon"),rs("borderless",!1)],dR=Fr(fR),bD=[jr("type"),jr("name"),jr("label"),rs("disabled",!1)],hR=Fr(bD),pR=Mv,fI=[jr("type"),jr("name")],Np=fI.concat([Ri("label")]),kS=Np.concat([Bt("columns","auto")]),xT=Fr(kS),Ck=kv([jr("value"),jr("text"),jr("icon")]),gR=Fr(Np),gE=qa,mR=Fr(Np),vR=qa,mE=fI.concat([Zl("tag","textarea"),jr("scriptId"),jr("scriptUrl"),vf("settings",void 0,q1)]),yR=fI.concat([Zl("tag","textarea"),Lu("init")]),dI=Gh(function(l){return ua("customeditor.old",dl(yR),l).orThunk(function(){return ua("customeditor.new",dl(mE),l)})}),vE=qa,yE=Fr(Np),bE=Cd(E_),xE=[jr("type"),jr("html"),pl("presets","presentation",["presentation","document"])],hI=Fr(xE),pI=Np.concat([rs("sandboxed",!0)]),gI=Fr(pI),_E=qa,mI=Np.concat([Xl("currentState",Fr([Dn("blob"),jr("url")]))]),MS=Fr(mI),wE=Np.concat([Ri("inputMode"),Ri("placeholder"),rs("maximized",!1),rs("disabled",!1)]),SE=Fr(wE),CE=qa,vI=[jr("text"),jr("value")],N1=[jr("text"),Zu("items",(aI=dn(function(){return xD}),{extract:function(l,p){return aI().extract(l,p)},toString:function(){return aI().toString()}}))],xD=Wh([Fr(vI),Fr(N1)]),kE=Np.concat([Zu("items",xD),rs("disabled",!1)]),yI=Fr(kE),ME=qa,bR=Np.concat([Gf("items",[jr("text"),jr("value")]),Qs("size",1),rs("disabled",!1)]),TE=Fr(bR),bI=qa,xI=Np.concat([rs("constrain",!0),rs("disabled",!1)]),_I=Fr(xI),wI=Fr([jr("width"),jr("height")]),DE=[jr("type"),Zu("header",qa),Zu("cells",Cd(qa))],xR=Fr(DE),AE=Np.concat([Ri("placeholder"),rs("maximized",!1),rs("disabled",!1)]),_D=Fr(AE),IE=qa,OE=Np.concat([pl("filetype","file",["image","media","file"]),Bt("disabled",!1)]),EE=Fr(OE),PE=Fr([jr("value"),Bt("meta",{})]),_T=db(function(){return hu("type",{alertbanner:pE,bar:Fr((x=pD("bar"),[jr("type"),x])),button:dR,checkbox:hR,colorinput:gR,colorpicker:mR,dropzone:yE,grid:Fr((l=pD("grid"),[jr("type"),Xl("columns",Nu),l])),iframe:gI,input:SE,listbox:yI,selectbox:TE,sizeinput:_I,textarea:_D,urlinput:EE,customeditor:dI,htmlpanel:hI,imagetools:MS,collection:xT,label:Fr((p=pD("label"),[jr("type"),jr("label"),p])),table:xR,panel:RE});var l,p,x}),_R=[jr("type"),Bt("classes",[]),Zu("items",_T)],RE=Fr(_R),wR=[ds("name","name",Yu(function(){return Rr("tab-name")}),qa),jr("title"),Zu("items",_T)],SR=[jr("type"),Gf("tabs",wR)],LE=Fr(SR),CR=cI,kR=hE,MR=Fr([jr("title"),Xl("body",hu("type",{panel:RE,tabpanel:LE})),Zl("size","normal"),Zu("buttons",kR),Bt("initialData",{}),Li("onAction",K),Li("onChange",K),Li("onSubmit",K),Li("onClose",K),Li("onCancel",K),Bt("onTabChange",K)]),TR=Fr(Ve([Uh("type",["cancel","custom"])],CR,!0)),DR=Fr([jr("title"),jr("url"),H1("height"),H1("width"),Sv("buttons",TR),Li("onAction",K),Li("onCancel",K),Li("onClose",K),Li("onMessage",K)]),wD=function(l){return te(l)?[l].concat(cr(_n(l),wD)):le(l)?cr(l,wD):[]},SI={checkbox:pR,colorinput:gE,colorpicker:vR,dropzone:bE,input:CE,iframe:_E,sizeinput:wI,selectbox:bI,listbox:ME,size:wI,textarea:IE,urlinput:PE,customeditor:vE,collection:Ck,togglemenuitem:Sk},wT={open:function(l,p){var x=gD(p);return l(x.internalDialog,x.initialData,x.dataValidator)},openUrl:function(l,p){return l(hl(ua("dialog",DR,p)))},redial:gD},AR=Bl({name:"TabButton",configFields:[Bt("uid",void 0),Dn("value"),ds("dom","dom",Oo(function(){return{attributes:{role:"tab",id:Rr("aria"),"aria-selected":"false"}}}),Hc()),vi("action"),Bt("domModification",{}),Xa("tabButtonBehaviours",[co,Zr,lr]),Dn("view")],factory:function(l,p){return{uid:l.uid,dom:l.dom,components:l.components,events:Vm(l.action),behaviours:vs(l.tabButtonBehaviours,[co.config({}),Zr.config({mode:"execution",useSpace:!0,useEnter:!0}),lr.config({store:{mode:"memory",initialValue:l.value}})]),domModification:l.domModification}}}),IR=U([Dn("tabs"),Dn("dom"),Bt("clickToDismiss",!1),Xa("tabbarBehaviours",[$o,Zr]),po(["tabClass","selectedClass"])]),OR=U([ry({factory:AR,name:"tabs",unit:"tab",overrides:function(l){return{action:function(p){var x=p.getSystem().getByUid(l.uid).getOrDie(),C=$o.isHighlighted(x,p);(C&&l.clickToDismiss?function(I,P){$o.dehighlight(I,P),Gr(I,op(),{tabbar:I,button:P})}:C?K:function(I,P){$o.highlight(I,P),Gr(I,Ov(),{tabbar:I,button:P})})(x,p)},domModification:{classes:[l.markers.tabClass]}}}})]),NE=tl({name:"Tabbar",configFields:IR(),partFields:OR(),factory:function(l,p,x,C){return{uid:l.uid,dom:l.dom,components:p,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:vs(l.tabbarBehaviours,[$o.config({highlightClass:l.markers.selectedClass,itemClass:l.markers.tabClass,onHighlight:function(I,P){Ur(P.element,"aria-selected","true")},onDehighlight:function(I,P){Ur(P.element,"aria-selected","false")}}),Zr.config({mode:"flow",getInitial:function(I){return $o.getHighlighted(I).map(function(P){return P.element})},selector:"."+l.markers.tabClass,executeOnMove:!0})])}}}),w_=Bl({name:"Tabview",configFields:[Xa("tabviewBehaviours",[yo])],factory:function(l,p){return{uid:l.uid,dom:l.dom,behaviours:vs(l.tabviewBehaviours,[yo.config({})]),domModification:{attributes:{role:"tabpanel"}}}}}),SD=U([Bt("selectFirst",!0),Ho("onChangeTab"),Ho("onDismissTab"),Bt("tabs",[]),Xa("tabSectionBehaviours",[])]),S_=U([Is({factory:NE,schema:[Dn("dom"),Wf("markers",[Dn("tabClass"),Dn("selectedClass")])],name:"tabbar",defaults:function(l){return{tabs:l.tabs}}}),Is({factory:w_,name:"tabview"})]),kk=tl({name:"TabSection",configFields:SD(),partFields:S_(),factory:function(l,p,x,C){function I(P,V){jo(P,l,"tabbar").each(function(j){V(j).each(Dd)})}return{uid:l.uid,dom:l.dom,components:p,behaviours:Sh(l.tabSectionBehaviours),events:Ei(Bn([l.selectFirst?[ca(function(P,V){I(P,$o.getFirst)})]:[],[xn(Ov(),function(P,V){var j=V.event.button,Y=lr.getValue(j);jo(j,l,"tabview").each(function(ae){Uo(l.tabs,function(fe){return fe.value===Y}).each(function(fe){var me=fe.view();Ls(j.element,"id").each(function(Ce){Ur(ae.element,"aria-labelledby",Ce)}),yo.set(ae,me),l.onChangeTab(ae,j,me)})})}),xn(op(),function(P,V){l.onDismissTab(P,V.event.button)})]])),apis:{getViewItems:function(P){return jo(P,l,"tabview").map(function(V){return yo.contents(V)}).getOr([])},showTab:function(P,V){I(P,function(j){return Uo($o.getCandidates(j),function(Y){return lr.getValue(Y)===V}).filter(function(Y){return!$o.isHighlighted(j,Y)})})}}}},apis:{getViewItems:function(l,p){return l.getViewItems(p)},showTab:function(l,p,x){l.showTab(p,x)}}}),BE="send-data-to-section",CI="send-data-to-view",CD=Rr("update-dialog"),zE=Rr("update-title"),FE=Rr("update-body"),VE=Rr("update-footer"),kI=Rr("body-send-message");function TS(l){return(TS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(l)}function HE(l,p){return(HE=Object.setPrototypeOf||function(x,C){return x.__proto__=C,x})(l,p)}function Mk(l,p,x){return(Mk=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),1}catch{return}}}()?Reflect.construct:function(C,I,P){var V=[null];V.push.apply(V,I);var j=new(Function.bind.apply(C,V));return P&&HE(j,P.prototype),j}).apply(null,arguments)}function Iy(l){return function(p){if(Array.isArray(p))return MI(p)}(l)||function(){if("undefined"!=typeof Symbol&&null!=l[Symbol.iterator]||null!=l["@@iterator"])return Array.from(l)}()||function(p){if(p){if("string"==typeof p)return MI(p,void 0);var x=Object.prototype.toString.call(p).slice(8,-1);return"Map"===(x="Object"===x&&p.constructor?p.constructor.name:x)||"Set"===x?Array.from(p):"Arguments"===x||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?MI(p,void 0):void 0}}(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MI(l,p){(null==p||p>l.length)&&(p=l.length);for(var x=0,C=new Array(p);x<p;x++)C[x]=l[x];return C}var WE,ER=Object.hasOwnProperty,GE=Object.setPrototypeOf,PR=Object.isFrozen,TI=Object.getPrototypeOf,UE=Object.getOwnPropertyDescriptor,_d=Object.freeze,Oy=Object.seal,DI=Object.create,jE="undefined"!=typeof Reflect&&Reflect,qE=jE.apply||function(l,p,x){return l.apply(p,x)},AI=(_d=_d||function(l){return l},Oy=Oy||function(l){return l},jE.construct||function(l,p){return Mk(l,Iy(p))}),YE=hv(Array.prototype.forEach),XE=hv(Array.prototype.pop),ST=hv(Array.prototype.push),kD=hv(String.prototype.toLowerCase),RR=hv(String.prototype.match),C_=hv(String.prototype.replace),LR=hv(String.prototype.indexOf),NR=hv(String.prototype.trim),Bh=hv(RegExp.prototype.test),MD=(WE=TypeError,function(){for(var l=arguments.length,p=new Array(l),x=0;x<l;x++)p[x]=arguments[x];return AI(WE,p)});function hv(l){return function(p){for(var x=arguments.length,C=new Array(1<x?x-1:0),I=1;I<x;I++)C[I-1]=arguments[I];return qE(l,p,C)}}function ta(l,p){GE&&GE(l,null);for(var x=p.length;x--;){var C,I=p[x];"string"!=typeof I||(C=kD(I))!==I&&(PR(p)||(p[x]=C),I=C),l[I]=!0}return l}function DS(l){var p,x=DI(null);for(p in l)qE(ER,l,[p])&&(x[p]=l[p]);return x}function TD(l,p){for(;null!==l;){var x=UE(l,p);if(x){if(x.get)return hv(x.get);if("function"==typeof x.value)return hv(x.value)}l=TI(l)}return function(C){return console.warn("fallback value for",C),null}}var II=_d(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),DD=_d(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),OI=_d(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),BR=_d(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),EI=_d(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),zR=_d(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),PI=_d(["#text"]),ZE=_d(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),RI=_d(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),KE=_d(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),CT=_d(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),FR=Oy(/\{\{[\w\W]*|[\w\W]*\}\}/gm),AD=Oy(/<%[\w\W]*|[\w\W]*%>/gm),VR=Oy(/^data-[\-\w.\u00B7-\uFFFF]/),HR=Oy(/^aria-[\-\w]+$/),$E=Oy(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),WR=Oy(/^(?:\w+script|data):/i),GR=Oy(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),UR=Oy(/^html$/i);function LI(l,p){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[l,p]}}function ID(l,p){return _s.parts.close(il.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":p.translate("Close")}},action:l,buttonBehaviours:$n([ei.config({})])}))}function JE(){return _s.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})}function NI(l,p){return _s.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:wn("<p>"+(x=p.translate(l),oP().sanitize(x)+"</p>"))}]}]});var x}function OD(l){return _s.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:l})}function BI(l,p){return[Os.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:l}),Os.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:p})]}function ED(l){var p,x="tox-dialog",C=x+"-wrap",I=C+"__backdrop",P=x+"__disable-scroll";return _s.sketch({lazySink:l.lazySink,onEscape:function(V){return l.onEscape(V),J.some(!0)},useTabstopAt:function(V){return!Es(V)},dom:{tag:"div",classes:[x].concat(l.extraClasses),styles:ve({position:"relative"},l.extraStyles)},components:Ve([l.header,l.body],l.footer.toArray(),!0),parts:{blocker:{dom:wn('<div class="'+C+'"></div>'),components:[{dom:{tag:"div",classes:XI?[I,I+"--opaque"]:[I]}}]}},dragBlockClass:C,modalBehaviours:$n(Ve([co.config({}),sr("dialog-events",l.dialogEvents.concat([Av(Xf(),function(V,j){Zr.focusIn(V)})])),sr("scroll-lock",[ca(function(){Qn(Ra(),P)}),Kf(function(){ri(Ra(),P)})])],l.extraBehaviours,!0)),eventOrder:ve(((p={})[bc()]=["dialog-events"],p[tu()]=["scroll-lock","dialog-events","alloy.base.behaviour"],p[Ql()]=["alloy.base.behaviour","dialog-events","scroll-lock"],p),l.eventOrder)})}function zI(l){return il.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":l.translate("Close"),title:l.translate("Close")}},components:[tf("close",{tag:"div",classes:["tox-icon"]},l.icons)],action:function(p){Bo(p,u1)}})}function FI(l,p,x){function C(I){return[Od(x.translate(I.title))]}return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:ve({},p.map(function(I){return{id:I}}).getOr({}))},components:C(l),behaviours:$n([ff.config({channel:zE,renderComponents:C})])}}function VI(){return{dom:wn('<div class="tox-dialog__draghandle"></div>')}}function HI(l,p){return x={title:p.shared.providers.translate(l),draggable:p.dialog.isDraggableModal()},C=p.shared.providers,I=_s.parts.title(FI(x,J.none(),C)),P=_s.parts.draghandle(VI()),V=_s.parts.close(zI(C)),j=[I].concat(x.draggable?[P]:[]).concat([V]),Os.sketch({dom:wn('<div class="tox-dialog__header"></div>'),components:j});var x,C,I,P,V,j}function QE(l,p,x){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":x.translate(l)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:p,components:[{dom:wn('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}}function eP(l,p,x){return{onClose:function(){return x.closeWindow()},onBlock:function(C){_s.setBusy(l(),function(I,P){return QE(C.message,P,p)})},onUnblock:function(){_s.setIdle(l())}}}function WI(l,p,x,C){var I;return Yi(ED(ve(ve({},l),{lazySink:C.shared.getSink,extraBehaviours:Ve([ff.config({channel:CD,updateState:function(P,V){return J.some(V)},initialData:p}),Cy({})],l.extraBehaviours,!0),onEscape:function(P){Bo(P,u1)},dialogEvents:x,eventOrder:((I={})[Qo()]=[ff.name(),Va.name()],I[tu()]=["scroll-lock",ff.name(),"messages","dialog-events","alloy.base.behaviour"],I[Ql()]=["alloy.base.behaviour","dialog-events","messages",ff.name(),"scroll-lock"],I)})))}function GI(l){return Ht(l,function(p){return"menu"===p.type?(C=Ht((x=p).items,function(I){var P=Nr(!1);return ve(ve({},I),{storage:P})}),ve(ve({},x),{items:C})):p;var x,C})}function UI(l){return Lr(l,function(p,x){return"menu"!==x.type?p:Lr(x.items,function(C,I){return C[I.name]=I.storage,C},p)},{})}function PD(l,p){return[Yh(Xf(),us),l(F0,function(x,C){p.onClose(),C.onClose()}),l(u1,function(x,C,I,P){C.onCancel(x),Bo(P,F0)}),xn(IC,function(x,C){return p.onUnblock()}),xn(Xm,function(x,C){return p.onBlock(C.event)})]}function Tk(l,p){function x(I,P){return Os.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+I]},components:Ht(P,function(V){return V.memento.asSpec()})})}var C=Te(p.map(function(I){return I.footerButtons}).getOr([]),function(I){return"start"===I.align});return[x("start",C.pass),x("end",C.fail)]}function jI(l,p){return{dom:wn('<div class="tox-dialog__footer"></div>'),components:[],behaviours:$n([ff.config({channel:VE,initialData:l,updateState:function(x,C){var I=Ht(C.buttons,function(P){var V=di(Ec(P,P.type,p));return{name:P.name,align:P.align,memento:V}});return J.some({lookupByName:function(P,V){return j=P,Y=V,Uo(I,function(ae){return ae.name===Y}).bind(function(ae){return ae.memento.getOpt(j)});var j,Y},footerButtons:I})},renderComponents:Tk})])}}function qI(l,p){return _s.parts.footer(jI(l,p))}function YI(l,p){if(l.getRoot().getSystem().isConnected()){var x=Wo.getCurrent(l.getFormWrapper()).getOr(l.getFormWrapper());return sf.getField(x,p).fold(function(){var C=l.getFooter();return ff.getState(C).get().bind(function(I){return I.lookupByName(x,p)})},function(C){return J.some(C)})}return J.none()}function tP(l,p,x){function C(P){var V=l.getRoot();V.getSystem().isConnected()&&P(V)}var I={getData:function(){var P=l.getRoot(),V=P.getSystem().isConnected()?l.getFormWrapper():P,j=lr.getValue(V),Y=jn(x,function(ae){return ae.get()});return ve(ve({},j),Y)},setData:function(P){C(function(V){var j,Y,ae=I.getData(),fe=ve(ve({},ae),P),me=(j=fe,Y=l.getRoot(),ff.getState(Y).get().map(function(Oe){return hl(ua("data",Oe.dataValidator,j))}).getOr(j)),Ce=l.getFormWrapper();lr.setValue(Ce,me),Qt(x,function(Oe,Ge){Sr(fe,Ge)&&Oe.set(fe[Ge])})})},disable:function(P){YI(l,P).each(Vr.disable)},enable:function(P){YI(l,P).each(Vr.enable)},focus:function(P){YI(l,P).each(co.focus)},block:function(P){if(!ne(P))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");C(function(V){Gr(V,Xm,{message:P})})},unblock:function(){C(function(P){Bo(P,IC)})},showTab:function(P){C(function(V){var j=l.getBody();ff.getState(j).get().exists(function(Y){return Y.isTabPanel()})&&Wo.getCurrent(j).each(function(Y){kk.showTab(Y,P)})})},redial:function(P){C(function(V){var j=p(P);V.getSystem().broadcastOn([CD],j),V.getSystem().broadcastOn([zE],j.internalDialog),V.getSystem().broadcastOn([FE],j.internalDialog),V.getSystem().broadcastOn([VE],j.internalDialog),I.setData(j.initialData)})},close:function(){C(function(P){Bo(P,F0)})}};return I}function nP(l){return te(l)&&-1!==sP.indexOf(l.mceAction)}function rP(l){function x(Ce,Oe,Ge,ze){return wT.open(function(Ue,qe,Je){function Ee(){return df.on(function(Oi){Ka.reposition(Oi),lf.refresh(Oi)})}var Ze,ft,Ct,Jt,Ft,nn,Cn,fn,In,Gn,Hr,So,si,wi,hi,zo,Mi,Ti,Di,ui,na,al,ls=hl(ua("data",Je,qe)),df=Ha(),ra=j.shared.header.isPositionedAtTop(),Ff=(ft={dataValidator:Je,initialData:ls,internalDialog:Ue},Ct={redial:wT.redial,closeWindow:function(){df.on(Ka.hide),Y.off("ResizeEditor",Ee),df.clear(),Ge(Ff.instanceApi)}},Jt=j,Ft=ze,si=Rr("dialog-label"),wi=Rr("dialog-content"),hi=di((fn={title:ft.internalDialog.title,draggable:!0},In=si,Gn=Jt.shared.providers,Os.sketch({dom:wn('<div class="tox-dialog__header"></div>'),components:[FI(fn,J.some(In),Gn),VI(),zI(Gn)],containerBehaviours:$n([CS.config({mode:"mouse",blockerClass:"blocker",getTarget:function(Oi){return Sf(Oi,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))),zo=di((Hr=Jt,So=Ft,dE({body:ft.internalDialog.body},J.some(wi),Hr,So))),Ti=UI(Mi=GI(ft.internalDialog.buttons)),Di=di(qR({buttons:Mi},Jt)),ui=aP(function(){return al},{onBlock:function(Oi){P1.block(na,function(ir,Co){return QE(Oi.message,Co,Jt.shared.providers)})},onUnblock:function(){P1.unblock(na)},onClose:function(){return Ct.closeWindow()}},Jt.shared.getSink),na=Yi({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:((nn={role:"dialog"})["aria-labelledby"]=si,nn["aria-describedby"]=wi,nn)},eventOrder:((Cn={})[Qo()]=[ff.name(),Va.name()],Cn[bc()]=["execute-on-form"],Cn[tu()]=["reflecting","execute-on-form"],Cn),behaviours:$n([Zr.config({mode:"cyclic",onEscape:function(Oi){return Bo(Oi,F0),J.some(!0)},useTabstopAt:function(Oi){return!Es(Oi)&&("button"!==un(Oi)||"disabled"!==fs(Oi,"disabled"))}}),ff.config({channel:CD,updateState:function(Oi,ir){return J.some(ir)},initialData:ft}),co.config({}),sr("execute-on-form",ui.concat([Av(Xf(),function(Oi,ir){Zr.focusIn(Oi)})])),P1.config({getRoot:function(){return J.some(na)}}),yo.config({}),Cy({})]),components:[hi.asSpec(),zo.asSpec(),Di.asSpec()]}),al=tP({getRoot:U(na),getFooter:function(){return Di.get(na)},getBody:function(){return zo.get(na)},getFormWrapper:function(){var Oi=zo.get(na);return Wo.getCurrent(Oi).getOr(Oi)}},Ct.redial,Ti),{dialog:na,instanceApi:al}),ws=Yi(Ka.sketch(ve(ve({lazySink:j.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},ra?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:$n(Ve([sr("window-manager-inline-events",[xn(rp(),function(Oi,ir){Bo(Ff.dialog,u1)})])],(Ze=Y,ae&&ra?[]:[lf.config({contextual:{lazyContext:function(){return J.some(Yl(bt.fromDom(Ze.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]),!0)),isExtraPart:function(Oi,ir){return s1(Co=ir,".tox-alert-dialog")||s1(Co,".tox-confirm-dialog");var Co}})));return df.set(ws),Ka.showWithin(ws,tc(Ff.dialog),{anchor:Oe},J.some(Ra())),ae&&ra||(lf.refresh(ws),Y.on("ResizeEditor",Ee)),Ff.instanceApi.setData(ls),Zr.focusIn(Ff.dialog),Ff.instanceApi},Ce)}var C,I,P,V,j=l.backstage,Y=l.editor,ae=vy(Y),fe=(I=(C=l).backstage.shared,{open:function(Ce,Oe){function Ge(){_s.hide(Je),Oe()}var ze=di(Ec({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:J.none()},"cancel",C.backstage)),Ue=JE(),qe=ID(Ge,I.providers),Je=Yi(ED({lazySink:function(){return I.getSink()},header:LI(Ue,qe),body:NI(Ce,I.providers),footer:J.some(OD(BI([],[ze.asSpec()]))),onEscape:Ge,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[xn(u1,Ge)],eventOrder:{}}));_s.show(Je);var Ee=ze.get(Je);co.focus(Ee)}}),me=(V=(P=l).backstage.shared,{open:function(Ce,Oe){function Ge(ft){_s.hide(Ee),Oe(ft)}var ze=di(Ec({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:J.none()},"submit",P.backstage)),Ue=Ec({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:J.none()},"cancel",P.backstage),qe=JE(),Je=ID(function(){return Ge(!1)},V.providers),Ee=Yi(ED({lazySink:function(){return V.getSink()},header:LI(qe,Je),body:NI(Ce,V.providers),footer:J.some(OD(BI([],[Ue,ze.asSpec()]))),onEscape:function(){return Ge(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[xn(u1,function(){return Ge(!1)}),xn(af,function(){return Ge(!0)})],eventOrder:{}}));_s.show(Ee);var Ze=ze.get(Ee);co.focus(Ze)}});return{open:function(Ce,Oe,Ge){return void 0!==Oe&&"toolbar"===Oe.inline?x(Ce,j.shared.anchors.inlineDialog(),Ge,Oe.ariaAttrs):void 0!==Oe&&"cursor"===Oe.inline?x(Ce,j.shared.anchors.cursor(),Ge,Oe.ariaAttrs):function p(Ce,Oe){return wT.open(function(Ge,ze,Ue){var qe,Je,Ee,Ze,ft,Ct,Jt,Ft,nn,Cn,fn,In,Gn,yr,Hr=ze,So=(Je={redial:wT.redial,closeWindow:function(){_s.hide(So.dialog),Oe(So.instanceApi)}},Ct=HI((qe={dataValidator:Ue,initialData:Hr,internalDialog:Ge}).internalDialog.title,Ee=j),Ze=Ee,ft=dE({body:qe.internalDialog.body},J.none(),Ze,!1),Jt=_s.parts.body(ft),nn=UI(Ft=GI(qe.internalDialog.buttons)),Cn=qI({buttons:Ft},Ee),fn=aP(function(){return yr},eP(function(){return Gn},Ee.shared.providers,Je),Ee.shared.getSink),In=function(){switch(qe.internalDialog.size){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}}(),Gn=WI({header:Ct,body:Jt,footer:J.some(Cn),extraClasses:In,extraBehaviours:[],extraStyles:{}},qe,fn,Ee),yr=tP({getRoot:U(Gn),getBody:function(){return _s.getBody(Gn)},getFooter:function(){return _s.getFooter(Gn)},getFormWrapper:function(){var si=_s.getBody(Gn);return Wo.getCurrent(si).getOr(si)}},Je.redial,nn),{dialog:Gn,instanceApi:yr});return _s.show(So.dialog),So.instanceApi.setData(Hr),So.instanceApi},Ce)}(Ce,Ge)},openUrl:function(Ce,Oe){return Ge=Oe,wT.openUrl(function(ze){var Ue=function jR(l,p,x,C){var I,P,V,j=HI(l.title,C),Y=(P={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[AM({dom:{tag:"iframe",attributes:{src:l.url}},behaviours:$n([ei.config({}),co.config({})])})]}],behaviours:$n([Zr.config({mode:"acyclic",useTabstopAt:st(Es)})])},_s.parts.body(P)),ae=l.buttons.bind(function(Ee){return 0===Ee.length?J.none():J.some(qI({buttons:Ee},C))}),fe=iP(function(){return qe},eP(function(){return Ue},C.shared.providers,p)),me=ve(ve({},l.height.fold(function(){return{}},function(Ee){return{height:Ee+"px","max-height":Ee+"px"}})),l.width.fold(function(){return{}},function(Ee){return{width:Ee+"px","max-width":Ee+"px"}})),Ce=l.width.isNone()&&l.height.isNone()?["tox-dialog--width-lg"]:[],Oe=new RD(l.url,{base_uri:new RD(window.location.href)}),Ge=Oe.protocol+"://"+Oe.host+(Oe.port?":"+Oe.port:""),ze=jd(),Ue=WI({header:j,body:Y,footer:ae,extraClasses:Ce,extraBehaviours:[sr("messages",[ca(function(){var Ee=ps(bt.fromDom(window),"message",function(Ze){var ft,Ct;Oe.isSameOrigin(new RD(Ze.raw.origin))&&(nP(ft=Ze.raw.data)?function(Jt,Ft,nn){switch(nn.mceAction){case"insertContent":Jt.insertContent(nn.content);break;case"setContent":Jt.setContent(nn.content);break;case"execCommand":var Cn=!!oe(nn.ui)&&nn.ui;Jt.execCommand(nn.cmd,Cn,nn.value);break;case"close":Ft.close();break;case"block":Ft.block(nn.message);break;case"unblock":Ft.unblock()}}(x,qe,ft):!nP(Ct=ft)&&te(Ct)&&Sr(Ct,"mceAction")&&l.onMessage(qe,ft))});ze.set(Ee)}),Kf(ze.clear)]),Va.config({channels:((I={})[kI]={onReceive:function(Ee,Ze){fa(Ee.element,"iframe").each(function(ft){ft.dom.contentWindow.postMessage(Ze,Ge)})}},I)})],extraStyles:me},l,fe,C),qe={block:function(Ee){if(!ne(Ee))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");Je(function(Ze){Gr(Ze,Xm,{message:Ee})})},unblock:function(){Je(function(Ee){Bo(Ee,IC)})},close:function(){Je(function(Ee){Bo(Ee,F0)})},sendMessage:function(Ee){Je(function(Ze){Ze.getSystem().broadcastOn([kI],Ee)})}};function Je(Ee){V.getSystem().isConnected()&&Ee(V)}return{dialog:V=Ue,instanceApi:qe}}(ze,{closeWindow:function(){_s.hide(Ue.dialog),Ge(Ue.instanceApi)}},Y,j);return _s.show(Ue.dialog),Ue.instanceApi},Ce);var Ge},alert:function(Ce,Oe){fe.open(Ce,function(){Oe()})},close:function(Ce){Ce.close()},confirm:function(Ce,Oe){me.open(Ce,function(Ge){Oe(Ge)})}}}var oP=function l(p){function x(rn){return l(rn)}var C=0<arguments.length&&void 0!==p?p:"undefined"==typeof window?null:window;if(x.version="2.3.8",x.removed=[],!C||!C.document||9!==C.document.nodeType)return x.isSupported=!1,x;var I,P=C.document,V=C.document,j=C.DocumentFragment,Y=C.HTMLTemplateElement,ae=C.Node,fe=C.Element,me=C.NodeFilter,Ce=C.NamedNodeMap,Oe=void 0===Ce?C.NamedNodeMap||C.MozNamedAttrMap:Ce,Ge=C.HTMLFormElement,ze=C.DOMParser,Ue=C.trustedTypes,qe=fe.prototype,Je=TD(qe,"cloneNode"),Ee=TD(qe,"nextSibling"),Ze=TD(qe,"childNodes"),ft=TD(qe,"parentNode");"function"!=typeof Y||(I=V.createElement("template")).content&&I.content.ownerDocument&&(V=I.content.ownerDocument);var Ct=function(rn,Fo){if("object"!==TS(rn)||"function"!=typeof rn.createPolicy)return null;var Mo=null,Pc="data-tt-policy-suffix",ul="dompurify"+((Mo=Fo.currentScript&&Fo.currentScript.hasAttribute(Pc)?Fo.currentScript.getAttribute(Pc):Mo)?"#"+Mo:"");try{return rn.createPolicy(ul,{createHTML:function(fc){return fc}})}catch{return console.warn("TrustedTypes policy "+ul+" could not be created."),null}}(Ue,P),Jt=Ct?Ct.createHTML(""):"",Ft=V,nn=Ft.implementation,Cn=Ft.createNodeIterator,fn=Ft.createDocumentFragment,In=Ft.getElementsByTagName,Gn=P.importNode,yr={};try{yr=DS(V).documentMode?V.documentMode:{}}catch{}var Hr={};function So(rn){return rn instanceof RegExp||rn instanceof Function}function si(rn){vv&&vv===rn||(rn=DS(rn=rn&&"object"===TS(rn)?rn:{}),ra="ALLOWED_TAGS"in rn?ta({},rn.ALLOWED_TAGS):Ff,ws="ALLOWED_ATTR"in rn?ta({},rn.ALLOWED_ATTR):Oi,sb="ADD_URI_SAFE_ATTR"in rn?ta(DS(k_),rn.ADD_URI_SAFE_ATTR):k_,pv="ADD_DATA_URI_TAGS"in rn?ta(DS(gv),rn.ADD_DATA_URI_TAGS):gv,Gu="FORBID_CONTENTS"in rn?ta({},rn.FORBID_CONTENTS):Gg,Co="FORBID_TAGS"in rn?ta({},rn.FORBID_TAGS):{},Vi="FORBID_ATTR"in rn?ta({},rn.FORBID_ATTR):{},wi="USE_PROFILES"in rn&&rn.USE_PROFILES,Xi=!1!==rn.ALLOW_ARIA_ATTR,Ia=!1!==rn.ALLOW_DATA_ATTR,cc=rn.ALLOW_UNKNOWN_PROTOCOLS||!1,js=rn.SAFE_FOR_TEMPLATES||!1,ku=rn.WHOLE_DOCUMENT||!1,Tu=rn.RETURN_DOM||!1,sl=rn.RETURN_DOM_FRAGMENT||!1,Du=rn.RETURN_TRUSTED_TYPE||!1,Mu=rn.FORCE_BODY||!1,zh=!1!==rn.SANITIZE_DOM,Xo=!1!==rn.KEEP_CONTENT,hf=rn.IN_PLACE||!1,df=rn.ALLOWED_URI_REGEXP||df,T_=rn.NAMESPACE||Ey,rn.CUSTOM_ELEMENT_HANDLING&&So(rn.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ir.tagNameCheck=rn.CUSTOM_ELEMENT_HANDLING.tagNameCheck),rn.CUSTOM_ELEMENT_HANDLING&&So(rn.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ir.attributeNameCheck=rn.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),rn.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof rn.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(ir.allowCustomizedBuiltInElements=rn.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),hi=-1===mv.indexOf(rn.PARSER_MEDIA_TYPE)?"text/html":rn.PARSER_MEDIA_TYPE,zo="application/xhtml+xml"===hi?function(Fo){return Fo}:kD,js&&(Ia=!1),sl&&(Tu=!0),wi&&(ra=ta({},Iy(PI)),ws=[],!0===wi.html&&(ta(ra,II),ta(ws,ZE)),!0===wi.svg&&(ta(ra,DD),ta(ws,RI),ta(ws,CT)),!0===wi.svgFilters&&(ta(ra,OI),ta(ws,RI),ta(ws,CT)),!0===wi.mathMl&&(ta(ra,EI),ta(ws,KE),ta(ws,CT))),rn.ADD_TAGS&&ta(ra=ra===Ff?DS(ra):ra,rn.ADD_TAGS),rn.ADD_ATTR&&ta(ws=ws===Oi?DS(ws):ws,rn.ADD_ATTR),rn.ADD_URI_SAFE_ATTR&&ta(sb,rn.ADD_URI_SAFE_ATTR),rn.FORBID_CONTENTS&&ta(Gu=Gu===Gg?DS(Gu):Gu,rn.FORBID_CONTENTS),Xo&&(ra["#text"]=!0),ku&&ta(ra,["html","head","body"]),ra.table&&(ta(ra,["tbody"]),delete Co.tbody),_d&&_d(rn),vv=rn)}x.isSupported="function"==typeof ft&&nn&&void 0!==nn.createHTMLDocument&&9!==yr;var wi,hi,zo,Mi,Ti=FR,Di=AD,ui=VR,na=HR,al=WR,ls=GR,df=$E,ra=null,Ff=ta({},[].concat(Iy(II),Iy(DD),Iy(OI),Iy(EI),Iy(PI))),ws=null,Oi=ta({},[].concat(Iy(ZE),Iy(RI),Iy(KE),Iy(CT))),ir=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Co=null,Vi=null,Xi=!0,Ia=!0,cc=!1,js=!1,ku=!1,Gl=!1,Mu=!1,Tu=!1,sl=!1,Du=!1,zh=!0,Xo=!0,hf=!1,Gu=null,Gg=ta({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),pv=null,gv=ta({},["audio","video","img","source","image","track"]),sb=null,k_=ta({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),M_="http://www.w3.org/1998/Math/MathML",AS="http://www.w3.org/2000/svg",Ey="http://www.w3.org/1999/xhtml",T_=Ey,mv=["application/xhtml+xml","text/html"],vv=null,Dk=V.createElement("form"),IS=ta({},["mi","mo","mn","ms","mtext"]),OS=ta({},["foreignobject","desc","title","annotation-xml"]),uP=ta({},["title","style","font","a","script"]),kT=ta({},DD);ta(kT,OI),ta(kT,BR);var ZI=ta({},EI);function B1(rn){ST(x.removed,{element:rn});try{rn.parentNode.removeChild(rn)}catch{try{rn.outerHTML=Jt}catch{rn.remove()}}}function lP(rn,Fo){try{ST(x.removed,{attribute:Fo.getAttributeNode(rn),from:Fo})}catch{ST(x.removed,{attribute:null,from:Fo})}if(Fo.removeAttribute(rn),"is"===rn&&!ws[rn])if(Tu||sl)try{B1(Fo)}catch{}else try{Fo.setAttribute(rn,"")}catch{}}function KI(rn){var Fo,Mo,Pc;Mu?rn="<remove></remove>"+rn:Pc=(Mo=RR(rn,/^[\r\n\t ]+/))&&Mo[0],"application/xhtml+xml"===hi&&(rn='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+rn+"</body></html>");var ul=Ct?Ct.createHTML(rn):rn;if(T_===Ey)try{Fo=(new ze).parseFromString(ul,hi)}catch{}if(!Fo||!Fo.documentElement){Fo=nn.createDocument(T_,"template",null);try{Fo.documentElement.innerHTML=Mi?"":ul}catch{}}var fc=Fo.body||Fo.documentElement;return rn&&Pc&&fc.insertBefore(V.createTextNode(Pc),fc.childNodes[0]||null),T_===Ey?In.call(Fo,ku?"html":"body")[0]:ku?Fo.documentElement:fc}function cP(rn){return Cn.call(rn.ownerDocument||rn,rn,me.SHOW_ELEMENT|me.SHOW_COMMENT|me.SHOW_TEXT,null,!1)}function Ug(rn){return"object"===TS(ae)?rn instanceof ae:rn&&"object"===TS(rn)&&"number"==typeof rn.nodeType&&"string"==typeof rn.nodeName}function z1(rn,Fo,Mo){Hr[rn]&&YE(Hr[rn],function(Pc){Pc.call(x,Fo,Mo,vv)})}function $I(rn){var Fo;if(z1("beforeSanitizeElements",rn,null),rn instanceof Ge&&("string"!=typeof rn.nodeName||"string"!=typeof rn.textContent||"function"!=typeof rn.removeChild||!(rn.attributes instanceof Oe)||"function"!=typeof rn.removeAttribute||"function"!=typeof rn.setAttribute||"string"!=typeof rn.namespaceURI||"function"!=typeof rn.insertBefore)||Bh(/[\u0080-\uFFFF]/,rn.nodeName))return B1(rn),1;var Mo=zo(rn.nodeName);if(z1("uponSanitizeElement",rn,{tagName:Mo,allowedTags:ra}),rn.hasChildNodes()&&!Ug(rn.firstElementChild)&&(!Ug(rn.content)||!Ug(rn.content.firstElementChild))&&Bh(/<[/\w]/g,rn.innerHTML)&&Bh(/<[/\w]/g,rn.textContent)||"select"===Mo&&Bh(/<template/i,rn.innerHTML))return B1(rn),1;if(ra[Mo]&&!Co[Mo])return rn instanceof fe&&!function(ah){var Uu=ft(ah);Uu&&Uu.tagName||(Uu={namespaceURI:Ey,tagName:"template"});var wd=kD(ah.tagName),pf=kD(Uu.tagName);return ah.namespaceURI===AS?Uu.namespaceURI===Ey?"svg"===wd:Uu.namespaceURI===M_?"svg"===wd&&("annotation-xml"===pf||IS[pf]):Boolean(kT[wd]):ah.namespaceURI===M_?Uu.namespaceURI===Ey?"math"===wd:Uu.namespaceURI===AS?"math"===wd&&OS[pf]:Boolean(ZI[wd]):ah.namespaceURI===Ey&&(Uu.namespaceURI!==AS||OS[pf])&&(Uu.namespaceURI!==M_||IS[pf])&&!ZI[wd]&&(uP[wd]||!kT[wd])}(rn)||("noscript"===Mo||"noembed"===Mo)&&Bh(/<\/no(script|embed)/i,rn.innerHTML)?(B1(rn),1):(js&&3===rn.nodeType&&(Fo=C_(Fo=rn.textContent,Ti," "),Fo=C_(Fo,Di," "),rn.textContent!==Fo&&(ST(x.removed,{element:rn.cloneNode()}),rn.textContent=Fo)),z1("afterSanitizeElements",rn,null),0);if(Co[Mo]||!LD(Mo)||!(ir.tagNameCheck instanceof RegExp&&Bh(ir.tagNameCheck,Mo)||ir.tagNameCheck instanceof Function&&ir.tagNameCheck(Mo))){if(Xo&&!Gu[Mo]){var Pc=ft(rn)||rn.parentNode,ul=Ze(rn)||rn.childNodes;if(ul&&Pc)for(var fc=ul.length-1;0<=fc;--fc)Pc.insertBefore(Je(ul[fc],!0),Ee(rn))}return B1(rn),1}}function fP(rn,Fo,Mo){if(zh&&("id"===Fo||"name"===Fo)&&(Mo in V||Mo in Dk))return!1;if((!Ia||Vi[Fo]||!Bh(ui,Fo))&&(!Xi||!Bh(na,Fo)))if(!ws[Fo]||Vi[Fo]){if(!(LD(rn)&&(ir.tagNameCheck instanceof RegExp&&Bh(ir.tagNameCheck,rn)||ir.tagNameCheck instanceof Function&&ir.tagNameCheck(rn))&&(ir.attributeNameCheck instanceof RegExp&&Bh(ir.attributeNameCheck,Fo)||ir.attributeNameCheck instanceof Function&&ir.attributeNameCheck(Fo))||"is"===Fo&&ir.allowCustomizedBuiltInElements&&(ir.tagNameCheck instanceof RegExp&&Bh(ir.tagNameCheck,Mo)||ir.tagNameCheck instanceof Function&&ir.tagNameCheck(Mo))))return!1}else if(!sb[Fo]&&!Bh(df,C_(Mo,ls,""))&&("src"!==Fo&&"xlink:href"!==Fo&&"href"!==Fo||"script"===rn||0!==LR(Mo,"data:")||!pv[rn])&&(!cc||Bh(al,C_(Mo,ls,"")))&&Mo)return!1;return!0}function JI(rn){z1("beforeSanitizeAttributes",rn,null);var Fo=rn.attributes;if(Fo){for(var Mo={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ws},Pc=Fo.length;Pc--;){var ul,fc=(ul=Fo[Pc]).name,ah=ul.namespaceURI,Uu="value"===fc?ul.value:NR(ul.value),wd=zo(fc);if(Mo.attrName=wd,Mo.attrValue=Uu,Mo.keepAttr=!0,Mo.forceKeepAttr=void 0,z1("uponSanitizeAttribute",rn,Mo),Uu=Mo.attrValue,!Mo.forceKeepAttr&&(lP(fc,rn),Mo.keepAttr))if(Bh(/\/>/i,Uu))lP(fc,rn);else if(js&&(Uu=C_(Uu,Ti," "),Uu=C_(Uu,Di," ")),fP(zo(rn.nodeName),wd,Uu))try{ah?rn.setAttributeNS(ah,fc,Uu):rn.setAttribute(fc,Uu),XE(x.removed)}catch{}}z1("afterSanitizeAttributes",rn,null)}}ta(ZI,zR);var LD=function(rn){return 0<rn.indexOf("-")};return x.sanitize=function(rn,Fo){var Mo,Pc,ul,fc,ah;if("string"!=typeof(rn=(Mi=!rn)?"\x3c!--\x3e":rn)&&!Ug(rn)){if("function"!=typeof rn.toString)throw MD("toString is not a function");if("string"!=typeof(rn=rn.toString()))throw MD("dirty is not a string, aborting")}if(!x.isSupported){if("object"===TS(C.toStaticHTML)||"function"==typeof C.toStaticHTML){if("string"==typeof rn)return C.toStaticHTML(rn);if(Ug(rn))return C.toStaticHTML(rn.outerHTML)}return rn}if(Gl||si(Fo),x.removed=[],hf="string"!=typeof rn&&hf){if(rn.nodeName){var Uu=zo(rn.nodeName);if(!ra[Uu]||Co[Uu])throw MD("root node is forbidden and cannot be sanitized in-place")}}else if(rn instanceof ae)1===(Pc=(Mo=KI("\x3c!----\x3e")).ownerDocument.importNode(rn,!0)).nodeType&&"BODY"===Pc.nodeName||"HTML"===Pc.nodeName?Mo=Pc:Mo.appendChild(Pc);else{if(!Tu&&!js&&!ku&&-1===rn.indexOf("<"))return Ct&&Du?Ct.createHTML(rn):rn;if(!(Mo=KI(rn)))return Tu?null:Du?Jt:""}Mo&&Mu&&B1(Mo.firstChild);for(var wd=cP(hf?rn:Mo);ul=wd.nextNode();)3===ul.nodeType&&ul===fc||$I(ul)||(ul.content instanceof j&&function YR(QI){var Ak,eO=cP(QI);for(z1("beforeSanitizeShadowDOM",QI,null);Ak=eO.nextNode();)z1("uponSanitizeShadowNode",Ak,null),$I(Ak)||(Ak.content instanceof j&&YR(Ak.content),JI(Ak));z1("afterSanitizeShadowDOM",QI,null)}(ul.content),JI(ul),fc=ul);if(fc=null,hf)return rn;if(Tu){if(sl)for(ah=fn.call(Mo.ownerDocument);Mo.firstChild;)ah.appendChild(Mo.firstChild);else ah=Mo;return ws.shadowroot?Gn.call(P,ah,!0):ah}var pf=ku?Mo.outerHTML:Mo.innerHTML;return ku&&ra["!doctype"]&&Mo.ownerDocument&&Mo.ownerDocument.doctype&&Mo.ownerDocument.doctype.name&&Bh(UR,Mo.ownerDocument.doctype.name)&&(pf="<!DOCTYPE "+Mo.ownerDocument.doctype.name+">\n"+pf),js&&(pf=C_(pf,Ti," "),pf=C_(pf,Di," ")),Ct&&Du?Ct.createHTML(pf):pf},x.setConfig=function(rn){si(rn),Gl=!0},x.clearConfig=function(){vv=null,Gl=!1},x.isValidAttribute=function(rn,Fo,Mo){return vv||si({}),fP(zo(rn),zo(Fo),Mo)},x.addHook=function(rn,Fo){"function"==typeof Fo&&(Hr[rn]=Hr[rn]||[],ST(Hr[rn],Fo))},x.removeHook=function(rn){if(Hr[rn])return XE(Hr[rn])},x.removeHooks=function(rn){Hr[rn]&&(Hr[rn]=[])},x.removeAllHooks=function(){Hr={}},x}(),XI=_C.deviceType.isTouch(),iP=function(l,p){function x(C,I){return xn(C,function(P,V){var Y;Y=function(ae,fe){I(l(),ae,V.event,P)},ff.getState(P).get().each(function(ae){Y(ae)})})}return Ve(Ve([],PD(x,p),!0),[x(Dp,function(C,I,P){I.onAction(C,{name:P.name})})],!1)},aP=function(l,p,x){function C(I,P){return xn(I,function(V,j){var ae;ae=function(fe,me){P(l(),fe,j.event,V)},ff.getState(V).get().each(function(fe){ae(fe.internalDialog)})})}return Ve(Ve([],PD(C,p),!0),[C(af,function(I,P){return P.onSubmit(I)}),C(pd,function(I,P,V){P.onChange(I,{name:V.name})}),C(Dp,function(I,P,V,j){function Y(){return Zr.focusIn(j)}function ae(Ce){return Ou(Ce,"disabled")||Ls(Ce,"aria-disabled").exists(function(Oe){return"true"===Oe})}var fe=Ai(j.element),me=Do(fe);P.onAction(I,{name:V.name,value:V.value}),Do(fe).fold(Y,function(Ce){ae(Ce)||me.exists(function(Oe){return En(Ce,Oe)&&ae(Oe)})?Y():x().toOptional().filter(function(Oe){return!En(Oe.element,Ce)}).each(Y)})}),C(vM,function(I,P,V){P.onTabChange(I,{newTabName:V.name,oldTabName:V.oldName})}),Kf(function(I){var P=l();lr.setValue(I,P.getData())})],!1)},qR=jI,RD=tinymce.util.Tools.resolve("tinymce.util.URI"),sP=["insertContent","setContent","execCommand","close","block","unblock"];He.add("silver",function(l){var p=uE(l),x=p.uiMothership,C=p.backstage,I=p.renderUI,P=p.getUi;return function KD(l,p){function x(){return V.get().isSome()}function C(){x()&&Ka.hide(Y)}var I,P,V=Ha(),j=Nr(!1),Y=Yi(Ka.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:$n([sr("dismissAutocompleter",[xn(rp(),function(){return ae()})])]),lazySink:p.getSink})),ae=function(){var Ge;x()&&(Ge=V.get().map(function(ze){return ze.element}),Tx(Ge.getOr(bt.fromDom(l.selection.getNode()))).each(cl),C(),V.clear(),j.set(!1))},fe=dn(function(){return Ge=Rn(Ue=jn(l.ui.registry.getAll().popups,function(Ee){return ua("Autocompleter",Qk,Ee).fold(function(Ze){throw new Error(Ku(Ze))},Z)}),function(Ee){return Ee.ch}),ze={},zr(Ge,function(Ee){ze[Ee]={}}),qe=Ni(ze),Je=_n(Ue),{dataset:Ue,triggerChars:qe,lookupByChar:function(Ee){return It(Je,function(Ze){return Ze.ch===Ee})}};var Ge,ze,Ue,qe,Je}),me=function(Ge){var ze=Ge;V.get().map(function(Ue){return sw(l.dom,l.selection.getRng(),Ue.triggerChar).bind(function(qe){return S0(l,fe,qe,ze)})}).getOrThunk(function(){return Ue=l,Je=(qe=fe)(),Ee=Ue.selection.getRng(),Ze=Ue.dom,ft=Ee,bn(Je.triggerChars,function(Ct){return sw(Ze,ft,Ct)}).bind(function(Ct){return S0(Ue,qe,Ct)});var Ue,qe,Je,Ee,Ze,ft}).fold(ae,function(Ue){var qe,Je=Ue.context;x()||(qe=function Cg(l,p){return Tx(bt.fromDom(l.selection.getNode())).getOrThunk(function(){var x,C,I=bt.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',l.getDoc());return ka(I,bt.fromDom(p.extractContents())),p.insertNode(I.dom),Xr(I).each(function(P){return P.dom.normalize()}),x=Ib,(C=function(P){for(var V=gi(P),j=V.length-1;0<=j;j--){var Y=V[j];if(x(Y))return J.some(Y);var ae=C(Y);if(ae.isSome())return ae}return J.none()})(I).map(function(P){var V;l.selection.setCursorLocation(P.dom,"img"===un(V=P)?1:Ab(V).fold(function(){return gi(V).length},function(j){return j.length}))}),I})}(l,Je.range),V.set({triggerChar:Je.triggerChar,element:qe,matchLength:Je.text.length}),j.set(!1)),Ue.lookupData.then(function(Ee){V.get().map(function(Ze){var ft,Ct,Jt,Ft,nn=Ue.context;Ze.triggerChar===nn.triggerChar&&(Ct=nn.triggerChar,Ft=bn(Jt=Ee,function(Cn){return J.from(Cn.columns)}).getOr(1),0<(ft=cr(Jt,function(Cn){return function e2(l,p,x,C,I,P,V){var j=1===C,Y=!j||Gb(l);return go(Ht(l,function(ae){switch(ae.type){case"separator":return ua("Autocompleter.Separator",Jk,ae).fold(Um,function(fe){return J.some(hM(fe))});case"cardmenuitem":return ua("cardmenuitem",Hu,ae).fold(Um,function(fe){return J.some((me=ve(ve({},fe),{onAction:function(Ue){fe.onAction(Ue),x(fe.value,fe.meta)}}),Ce=I,Oe=P,Ge={itemBehaviours:xw(fe.meta,P),cardText:{matchText:p,highlightOn:V}},ze={dom:gC(me.label),optComponents:[J.some({dom:{tag:"div",classes:[uC,iM]},components:KT(me.items,Ge)})]},sc({data:A0(ve({text:J.none()},me)),disabled:me.disabled,getApi:function(Ue){return{isDisabled:function(){return Vr.isDisabled(Ue)},setDisabled:function(qe){Vr.set(Ue,qe),zr(el(Ue.element,"*"),function(Je){Ue.getSystem().getByDom(Je).each(function(Ee){Ee.hasConfigured(Vr)&&Vr.set(Ee,qe)})})}}},onAction:me.onAction,onSetup:me.onSetup,triggersSubmenu:!1,itemBehaviours:J.from(Ge.itemBehaviours).getOr([])},ze,Ce,Oe.providers)));var me,Ce,Oe,Ge,ze});default:return ua("Autocompleter.Item",Vb,ae).fold(Um,function(fe){return J.some(function(me,Ce,Oe,Ge,ze,Ue,qe,Je){void 0===Je&&(Je=!0);var Ee=Nx({presets:"normal",textContent:J.none(),htmlContent:Oe?me.text.map(function(Ze){return Bx(Ze,Ce)}):J.none(),ariaLabel:me.text,iconContent:me.icon,shortcutContent:J.none(),checkMark:J.none(),caret:J.none(),value:me.value},qe.providers,Je,me.icon);return sc({data:A0(me),disabled:me.disabled,getApi:U({}),onAction:function(Ze){return ze(me.value,me.meta)},onSetup:U(K),triggersSubmenu:!1,itemBehaviours:xw(me.meta,qe)},Ee,Ue,qe.providers)}(fe,p,j,0,x,I,P,Y))})}}))}(Cn.items,Cn.matchText,function(fn,In){var Gn=l.selection.getRng();sw(l.dom,Gn,Ct).fold(function(){return console.error("Lost context. Cursor probably moved")},function(yr){var Hr=yr.range,So={hide:function(){ae()},reload:function(si){C(),me(si)}};j.set(!0),Cn.onAction(So,Hr,fn,In),j.set(!1)})},Ft,Mp.BUBBLE_TO_SANDBOX,p,Cn.highlightOn)})).length?function(Cn,fn,In,Gn){Cn.matchLength=fn.text.length;var yr,Hr,So,si,wi,hi,zo=bn(In,function(Mi){return J.from(Mi.columns)}).getOr(1);Ka.showAt(Y,Dh.sketch((yr=iC("autocompleter-value",!0,Gn,zo,"normal"),Hr=zo,si=((So=Tw.ContentFocus)===Tw.ContentFocus?If:Kv)(),wi=jx(Hr,"normal"),hi=Wb("normal"),{dom:yr.dom,components:yr.components,items:yr.items,value:yr.value,markers:{selectedItem:hi.selectedItem,item:hi.item},movement:wi,fakeFocus:So===Tw.ContentFocus,focusManager:si,menuBehaviours:Ex("auto"!==Hr?[]:[ca(function(Mi,Ti){cw(Mi,4,hi.item).each(function(Di){Zr.setGridSize(Mi,Di.numRows,Di.numColumns)})})])})),{anchor:{type:"node",root:bt.fromDom(l.getBody()),node:J.from(Cn.element)}}),Ka.getContent(Y).each($o.highlightFirst)}(Ze,nn,Ee,ft):(10<=nn.text.length-Ze.matchLength?ae:C)())})})})},Ce={onKeypress:w0(function(Ge){27!==Ge.which&&me()},50),cancelIfNecessary:ae,isMenuOpen:function(){return Ka.isOpen(Y)},isActive:x,isProcessingAction:j.get,getView:function(){return Ka.getContent(Y)}};function Oe(Ge,ze){Gr(Ge,Ed(),{raw:ze})}!1===l.hasPlugin("rtc")&&((P=l).on("keypress compositionend",(I=Ce).onKeypress.throttle),P.on("remove",I.onKeypress.cancel),P.on("keydown",function(Ge){function ze(){return I.getView().bind($o.getHighlighted)}8===Ge.which&&I.onKeypress.throttle(Ge),I.isActive()&&(27===Ge.which&&I.cancelIfNecessary(),I.isMenuOpen()?13===Ge.which?(ze().each(Dd),Ge.preventDefault()):40===Ge.which?(ze().fold(function(){I.getView().each($o.highlightFirst)},function(Ue){Oe(Ue,Ge)}),Ge.preventDefault(),Ge.stopImmediatePropagation()):37!==Ge.which&&38!==Ge.which&&39!==Ge.which||ze().each(function(Ue){Oe(Ue,Ge),Ge.preventDefault(),Ge.stopImmediatePropagation()}):13!==Ge.which&&38!==Ge.which&&40!==Ge.which||I.cancelIfNecessary())}),P.on("NodeChange",function(Ge){I.isActive()&&!I.isProcessingAction()&&Tx(bt.fromDom(Ge.element)).isNone()&&I.cancelIfNecessary()}))}(l,C.shared),{renderUI:I,getWindowManagerImpl:U(rP({editor:l,backstage:C})),getNotificationManagerImpl:function(){return V=l,j=x,Y=C.shared,{open:function(ae,fe){function me(){fe(),Ka.hide(Ge)}var Ce=!ae.closeButton&&ae.timeout&&(0<ae.timeout||ae.timeout<0),Oe=Yi(_0.sketch({text:ae.text,level:Io(["success","error","warning","warn","info"],ae.type)?ae.type:void 0,progress:!0===ae.progressBar,icon:J.from(ae.icon),closeButton:!Ce,onAction:me,iconProvider:Y.providers.icons,translationProvider:Y.providers.translate})),Ge=Yi(Ka.sketch(ve({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:Y.getSink,fireDismissalEventInstead:{}},Y.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));function ze(){var Ue=Yl(bt.fromDom(V.getContentAreaContainer())),qe=fl(),Je=wc(qe.x,Ue.x,Ue.right),Ee=wc(qe.y,Ue.y,Ue.bottom),Ze=Math.max(Ue.right,qe.right),ft=Math.max(Ue.bottom,qe.bottom);return J.some(Ru(Je,Ee,Ze-Je,ft-Ee))}return j.add(Ge),0<ae.timeout&&ly.setTimeout(function(){me()},ae.timeout),{close:me,moveTo:function(Ue,qe){Ka.showAt(Ge,tc(Oe),{anchor:{type:"makeshift",x:Ue,y:qe}})},moveRel:function(Ue,qe){var Je,Ee,Ze,ft=tc(Oe),Ct={maxHeightFunction:_h()};"banner"!==qe&&De(Ue)?(Je=function(){switch(qe){case"bc-bc":return x0;case"tc-tc":return Cp;case"tc-bc":return oc;default:return ru}}(),Ee={type:"node",root:Ra(),node:J.some(bt.fromDom(Ue)),overrides:Ct,layouts:{onRtl:function(){return[Je]},onLtr:function(){return[Je]}}},Ka.showWithinBounds(Ge,ft,{anchor:Ee},ze)):(Ze=ve(ve({},Y.anchors.banner()),{overrides:Ct}),Ka.showWithinBounds(Ge,ft,{anchor:Ze},ze))},text:function(Ue){_0.updateText(Oe,Ue)},settings:ae,getEl:function(){return Oe.element.dom},progressBar:{value:function(Ue){_0.updateProgress(Oe,Ue)}}}},close:function(ae){ae.close()},reposition:function(ae){0<ae.length&&zr(ae,function(fe,me){0===me?fe.moveRel(null,"banner"):fe.moveRel(ae[me-1].getEl(),"bc-tc")})},getArgs:function(ae){return ae.settings}};var V,j,Y},ui:P()}})}(),function(){"use strict";function _t(qt){return function(Wn){return Rt=typeof(lt=Wn),(null===lt?"null":"object"==Rt&&(Array.prototype.isPrototypeOf(lt)||lt.constructor&&"Array"===lt.constructor.name)?"array":"object"==Rt&&(String.prototype.isPrototypeOf(lt)||lt.constructor&&"String"===lt.constructor.name)?"string":Rt)===qt;var lt,Rt}}function yn(qt){return function(Wn){return typeof Wn===qt}}function yt(){}function at(qt){return function(){return qt}}function We(qt){return qt}function K(qt,Wn){return qt===Wn}function xe(){return Le}var Z=tinymce.util.Tools.resolve("tinymce.PluginManager"),de=tinymce.util.Tools.resolve("tinymce.util.VK"),ne=_t("string"),te=_t("array"),se=yn("boolean"),oe=yn("function"),he=at(!1),De=at(!null),Le={fold:function(qt,Wn){return qt()},isSome:he,isNone:De,getOr:We,getOrThunk:et,getOrDie:function(qt){throw new Error(qt||"error: getOrDie called on none.")},getOrNull:at(null),getOrUndefined:at(void 0),or:We,orThunk:et,map:xe,each:yt,bind:xe,exists:he,forall:De,filter:function(){return Le},toArray:function(){return[]},toString:at("none()")};function et(qt){return qt()}function st(qt){for(var Wn=[],lt=0,Rt=qt.length;lt<Rt;++lt){if(!te(qt[lt]))throw new Error("Arr.flatten item "+lt+" was not an array, input: "+qt);wr.apply(Wn,qt[lt])}return Wn}function Kt(qt,Wn){for(var lt=0;lt<qt.length;lt++){var Rt=Wn(qt[lt],lt);if(Rt.isSome())return Rt}return vn.none()}function Ke(qt,Wn,lt){return void 0===lt&&(lt=K),qt.exists(function(Rt){return lt(Rt,Wn)})}function pt(qt,Wn){return qt?vn.some(Wn):vn.none()}function He(qt){var Wn=qt.getParam("link_assume_external_targets",!1);return se(Wn)&&Wn?1:!ne(Wn)||"http"!==Wn&&"https"!==Wn?0:Wn}function ve(qt){return qt.getParam("default_link_target")}function Re(qt){return qt.getParam("target_list",!0)}function Ve(qt){return qt.getParam("rel_list",[],"array")}function vt(qt){return qt.getParam("allow_unsafe_link_target",!1,"boolean")}function Pe(qt){return ne(qt.value)?qt.value:""}function ht(qt){return void 0===qt&&(qt=Pe),function(Wn){return vn.from(Wn).map(function(lt){return ni(lt,qt)})}}function jt(qt,Wn){return va.call(qt,Wn)}function Cr(qt){return qt&&"a"===qt.nodeName.toLowerCase()}function _r(qt){return Cr(qt)&&!!Ir(qt)}function Ht(qt,Wn){if(qt.collapsed)return[];for(var lt=qt.cloneContents(),Rt=new Ua(lt.firstChild,lt),bt=[],un=lt.firstChild;Wn(un)&&bt.push(un),un=Rt.next(););return bt}function Te(qt){return/^\w+:/i.test(qt)}function It(qt,Wn){function lt(dn){return dn.filter(function(mr){return-1===go.inArray(bt,mr)})}var Rt,bt=["noopener"],un=qt?qt.split(/\s+/):[],en=Wn?0<(Rt=lt(Rt=un)).length?Rt.concat(bt):bt:lt(un);return 0<en.length?go.trim(en.sort().join(" ")):""}function Sn(qt,Wn){return Wn=Wn||qt.selection.getNode(),J(Wn)?qt.dom.select("a[href]",Wn)[0]:qt.dom.getParent(Wn,"a[href]")}function Lr(qt,Wn){return(Wn?Wn.innerText||Wn.textContent:qt.getContent({format:"text"})).replace(/\uFEFF/g,"")}function Uo(qt){return 0<go.grep(qt,_r).length}function Zn(qt){var Wn=qt.schema.getTextInlineElements();return 0===Ht(qt.selection.getRng(),function(lt){return 1===lt.nodeType&&!Cr(lt)&&!jt(Wn,lt.nodeName.toLowerCase())}).length}function cr(qt,Wn,lt){var Rt,bt,un,en,mr,Jn,Kn,vr,rr,Mn=(Rt=qt,bt=lt.href,Vo(Vo({},lt),{href:ja.isDomSafe(bt,"a",Rt.settings)?bt:""}));qt.hasPlugin("rtc",!0)?qt.execCommand("createlink",!1,(mr=Mn.href,Jn=Mn.rel,Kn=Mn.target,vr=Mn.text,rr=Mn.title,function sn(qt,Wn,lt,Rt){(function(bt){for(var un=cs(bt),en=0,dn=un.length;en<dn;en++){var mr=un[en];(Wn(Jn=bt[mr],Kn=mr)?lt:Rt)(Jn,Kn)}var Jn,Kn})(qt)}({class:Mn.class.getOrNull(),href:mr,rel:Jn.getOrNull(),target:Kn.getOrNull(),text:vr.getOrNull(),title:rr.getOrNull()},function(En,Wt){return!1===function(qt){return null===qt}(En)},(un=en={},function(En,Wt){un[Wt]=En}),yt),en)):function Bn(qt,Wn,lt){var Rt,bt,un,en,dn,mr,Jn,Kn=qt.selection.getNode(),vr=Sn(qt,Kn),rr=(bt=qt,un=function Qe(qt,Wn,lt){return function(Rt){for(var un=0,en=Rt.length;un<en;un++)lt=Wn(lt,Rt[un],un)}(qt),lt}(["title","rel","class","target"],function(Mn,En){return Rt[En].each(function(Wt){Mn[En]=0<Wt.length?Wt:null}),Mn},{href:(Rt=lt).href}),Jn=Vo({},un),0<Ve(bt).length||!1!==vt(bt)||(en=It(Jn.rel,"_blank"===Jn.target),Jn.rel=en||null),vn.from(Jn.target).isNone()&&!1===Re(bt)&&(Jn.target=ve(bt)),Jn.href=(dn=Jn.href,"http"!==(mr=He(bt))&&"https"!==mr||Te(dn)?dn:mr+"://"+dn),Jn);qt.undoManager.transact(function(){var Mn,En,Wt,eo,no,Jr,ho;lt.href===Wn.href&&Wn.attach(),vr?(qt.focus(),no=qt,Jr=vr,ho=rr,lt.text.each(function(gi){jt(Jr,"innerText")?Jr.innerText=gi:Jr.textContent=gi}),no.dom.setAttribs(Jr,ho),no.selection.select(Jr)):(Mn=qt,Wt=lt.text,eo=rr,J(En=Kn)?Qa(Mn,En,eo):Wt.fold(function(){Mn.execCommand("mceInsertLink",!1,eo)},function(gi){Mn.insertContent(Mn.dom.createHTML("a",eo,Mn.dom.encode(gi)))}))})}(qt,Wn,Mn)}function tt(qt){var Wn;qt.hasPlugin("rtc",!0)?qt.execCommand("unlink"):(Wn=qt).undoManager.transact(function(){var lt,Rt,bt,un,en,dn,mr,Jn=Wn.selection.getNode();J(Jn)?Au(Wn,Jn):(Rt=(lt=Wn).dom,un=(bt=lt.selection).getBookmark(),en=bt.getRng().cloneRange(),dn=Rt.getParent(en.startContainer,"a[href]",lt.getBody()),mr=Rt.getParent(en.endContainer,"a[href]",lt.getBody()),dn&&en.setStartBefore(dn),mr&&en.setEndAfter(mr),bt.setRng(en),lt.execCommand("unlink"),bt.moveToBookmark(un)),Wn.focus()})}function hn(qt){var Wn=qt.href;return 0<Wn.indexOf("@")&&-1===Wn.indexOf("/")&&-1===Wn.indexOf("mailto:")?vn.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(lt){return Vo(Vo({},lt),{href:"mailto:"+Wn})}}):vn.none()}function Un(qt,Wn,lt){var Rt=qt.getAttrib(Wn,lt);return null!==Rt&&0<Rt.length?vn.some(Rt):vn.none()}function hr(qt,Wn){return qt.dom.getParent(Wn,"a[href]")}function fr(qt){return hr(qt,qt.selection.getStart())}function aa(qt,Wn){var lt,Rt;Wn&&(lt=Ir(Wn),/^#/.test(lt)?(Rt=qt.$(lt)).length&&qt.selection.scrollIntoView(Rt[0],!0):function(bt){var un=document.createElement("a");un.target="_blank",un.href=bt,un.rel="noreferrer noopener";var en,dn,mr=document.createEvent("MouseEvents");mr.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),en=un,dn=mr,document.body.appendChild(en),en.dispatchEvent(dn),document.body.removeChild(en)}(Wn.href))}function Ci(qt){return function(){!function Ja(qt){var Wn,lt=Sn(Wn=qt);Sr(Wn,lt).then(function(Rt){var bt,un,en,dn,Jn=en=qt,Kn=(bt=dn=Rt).anchor.text.map(function(){return{name:"text",type:"input",label:"Text to display"}}).toArray(),vr=bt.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],rr=vn.from(ve(Jn)),Mn=bt.anchor,En={url:{value:un=Mn.url.getOr(""),meta:{original:{value:un}}},text:Mn.text.getOr(""),title:Mn.title.getOr(""),anchor:un,link:un,rel:Mn.rel.getOr(""),target:Mn.target.or(rr).getOr(""),linkClass:Mn.linkClass.getOr("")},Wt=bt.catalogs,eo=Io(En,Wt);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:st([[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],Kn,vr,function(no){for(var Jr=[],Xr=function(gi){Jr.push(gi)},ho=0;ho<no.length;ho++)no[ho].each(Xr);return Jr}([Wt.anchor.map(sa.createUi("anchor","Anchors")),Wt.rels.map(sa.createUi("rel","Rel")),Wt.targets.map(sa.createUi("target","Open link in...")),Wt.link.map(sa.createUi("link","Link list")),Wt.classes.map(sa.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:En,onChange:function(no,Jr){eo.onChange(no.getData,{name:Jr.name}).each(function(ho){no.setData(ho)})},onSubmit:function(no){var Jr=no.getData();if(!Jr.url.value)return tt(en),void no.close();function Xr(oo){return vn.from(Jr[oo]).filter(function(Xs){return!Ke(dn.anchor[oo],Xs)})}var ho={href:Jr.url.value,text:Xr("text"),target:Xr("target"),rel:Xr("rel"),class:Xr("linkClass"),title:Xr("title")},gi={href:Jr.url.value,attach:void 0!==Jr.url.meta&&Jr.url.meta.attach?Jr.url.meta.attach:yt};Ni(en,ho).then(function(oo){cr(en,gi,oo)}),no.close()}}}).then(function(Rt){qt.windowManager.open(Rt)})}(qt)}}function Oa(qt){return function(){aa(qt,fr(qt))}}function bn(qt,Wn){return qt.on("NodeChange",Wn),function(){return qt.off("NodeChange",Wn)}}function Qt(qt){return function(Wn){function lt(){return Wn.setActive(!qt.mode.isReadOnly()&&null!==Sn(qt,qt.selection.getNode()))}return lt(),bn(qt,lt)}}function jn(qt){return function(Wn){function lt(){return Wn.setDisabled(null===Sn(qt,qt.selection.getNode()))}return lt(),bn(qt,lt)}}function Rn(qt){return function(Wn){function lt(bt){return Uo(bt)||0<Ht(qt.selection.getRng(),_r).length}var Rt=qt.dom.getParents(qt.selection.getStart());return Wn.setDisabled(!lt(Rt)),bn(qt,function(bt){return Wn.setDisabled(!lt(bt.parents))})}}function ar(qt){var Wn=st(function(lt,Rt){for(var bt=lt.length,un=new Array(bt),en=0;en<bt;en++)un[en]=Rt(lt[en]);return un}(qt.dom.select("a:not([href])"),function(lt){var Rt=lt.name||lt.id;return Rt?[{text:Rt,value:"#"+Rt}]:[]}));return 0<Wn.length?vn.some([{text:"None",value:""}].concat(Wn)):vn.none()}var _n=function(qt){function Wn(){return bt}function lt(un){return un(qt)}var Rt=at(qt),bt={fold:function(un,en){return en(qt)},isSome:De,isNone:he,getOr:Rt,getOrThunk:Rt,getOrDie:Rt,getOrNull:Rt,getOrUndefined:Rt,or:Wn,orThunk:Wn,map:function(un){return _n(un(qt))},each:function(un){un(qt)},bind:lt,exists:lt,forall:lt,filter:function(un){return un(qt)?bt:Le},toArray:function(){return[qt]},toString:function(){return"some("+qt+")"}};return bt},vn={some:_n,none:xe,from:function(qt){return null==qt?Le:_n(qt)}},bo=Array.prototype.indexOf,wr=Array.prototype.push,go=tinymce.util.Tools.resolve("tinymce.util.Tools"),ni=function(qt,Wn){var lt=[];return go.each(qt,function(Rt){var bt,un,en,dn=ne((bt=Rt).text)?bt.text:ne(bt.title)?bt.title:"";void 0!==Rt.menu?(un=ni(Rt.menu,Wn),lt.push({text:dn,items:un})):(en=Wn(Rt),lt.push({text:dn,value:en}))}),lt},sa={sanitize:function(qt){return ht(Pe)(qt)},sanitizeWith:ht,createUi:function(qt,Wn){return function(lt){return{name:qt,type:"listbox",label:Wn,items:lt}}},getValue:Pe},Vo=function(){return(Vo=Object.assign||function(qt){for(var Wn,lt=1,Rt=arguments.length;lt<Rt;lt++)for(var bt in Wn=arguments[lt])Object.prototype.hasOwnProperty.call(Wn,bt)&&(qt[bt]=Wn[bt]);return qt}).apply(this,arguments)},cs=Object.keys,va=Object.hasOwnProperty,Ua=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),ja=tinymce.util.Tools.resolve("tinymce.util.URI"),Ir=function(qt){return qt.getAttribute("data-mce-href")||qt.getAttribute("href")},J=function(qt){return qt&&"FIGURE"===qt.nodeName&&/\bimage\b/i.test(qt.className)},Au=function(qt,Wn){var lt,Rt=qt.dom.select("img",Wn)[0];!Rt||(lt=qt.dom.getParents(Rt,"a[href]",Wn)[0])&&(lt.parentNode.insertBefore(Rt,lt),qt.dom.remove(lt))},Qa=function(qt,Wn,lt){var Rt,bt=qt.dom.select("img",Wn)[0];bt&&(Rt=qt.dom.create("a",lt),bt.parentNode.insertBefore(Rt,bt),Rt.appendChild(bt))},Mr=function(qt,Wn){return Kt(Wn,function(lt){return jt(Rt=lt,"items")&&null!=Rt.items?Mr(qt,lt.items):pt(lt.value===qt,lt);var Rt})},Io=function(qt,Wn){var Rt={text:qt.text,title:qt.title};return{onChange:function(bt,un){var dn,mr,Kn,vr,rr=un.name;return"url"===rr?(dn=bt(),Kn=pt(Rt.text.length<=0,vn.from((mr=dn.url).meta.text).getOr(mr.value)),vr=pt(Rt.title.length<=0,vn.from(dn.url.meta.title).getOr("")),Kn.isSome()||vr.isSome()?vn.some(Vo(Vo({},Kn.map(function(Mn){return{text:Mn}}).getOr({})),vr.map(function(Mn){return{title:Mn}}).getOr({}))):vn.none()):-1<bo.call(["anchor","link"],rr)?function lt(bt,un){var en,dn,Kn,vr,rr=("link"===(en=un.name)?Wn.link:"anchor"===en?Wn.anchor:vn.none()).getOr([]);return vr=0<(dn=Rt.text).length,void 0!==(Kn=bt[un.name])?Mr(Kn,rr).map(function(Mn){return{url:{value:Mn.value,meta:{text:vr?dn:Mn.text,attach:yt}},text:vr?dn:Mn.text}}):vn.none()}(bt(),un):("text"!==rr&&"title"!==rr||(Rt[rr]=bt()[rr]),vn.none())}}},zr=tinymce.util.Tools.resolve("tinymce.util.Delay"),Fh=tinymce.util.Tools.resolve("tinymce.util.Promise"),Ni=function(qt,Wn){return Kt([hn,(lt=He(qt),Rt=qt.getParam("link_default_protocol","http","string"),function(bt){var un=bt.href;return 1===lt&&!Te(un)||0===lt&&/^\s*www(\.|\d\.)/i.test(un)?vn.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+Rt+":// prefix?",preprocess:function(en){return Vo(Vo({},en),{href:Rt+"://"+un})}}):vn.none()})],function(bt){return bt(Wn)}).fold(function(){return Fh.resolve(Wn)},function(bt){return new Fh(function(un){var en=qt,dn=bt.message,Jn=en.selection.getRng();zr.setEditorTimeout(en,function(){en.windowManager.confirm(dn,function(Kn){en.selection.setRng(Jn),function(Kn){un(Kn?bt.preprocess(Wn):Wn)}(Kn)})})})});var lt,Rt},so=tinymce.util.Tools.resolve("tinymce.util.XHR"),Iu=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],Sr=function(qt,Wn){return bt=(Rt=qt).getParam("link_list"),new Fh(function(un){ne(bt)?so.send({url:bt,success:function(en){return un(function(dn){try{return vn.some(JSON.parse(dn))}catch{return vn.none()}}(en))},error:function(en){return un(vn.none())}}):oe(bt)?bt(function(en){return un(vn.some(en))}):un(vn.from(bt))}).then(function(un){return un.bind(sa.sanitizeWith(lt)).map(function(en){return 0<en.length?[{text:"None",value:""}].concat(en):en})}).then(function(un){var en,dn,mr,Jn,Kn,vr,rr,Mn,En,Wt,eo=(dn=Wn,mr=(en=qt).dom,Jn=Zn(en)?vn.some(Lr(en.selection,dn)):vn.none(),Kn=dn?vn.some(mr.getAttrib(dn,"href")):vn.none(),vr=dn?vn.from(mr.getAttrib(dn,"target")):vn.none(),rr=Un(mr,dn,"rel"),Mn=Un(mr,dn,"class"),{url:Kn,text:Jn,title:Un(mr,dn,"title"),target:vr,rel:rr,linkClass:Mn});return{anchor:eo,catalogs:{targets:(Wt=Re(qt),te(Wt)?sa.sanitize(Wt).orThunk(function(){return vn.some(Iu)}):!1===Wt?vn.none():vn.some(Iu)),rels:function(no,Jr){var Xr=Ve(no);if(0<Xr.length){var ho=Ke(Jr,"_blank");return(!1===vt(no)?sa.sanitizeWith(function(gi){return It(sa.getValue(gi),ho)}):sa.sanitize)(Xr)}return vn.none()}(qt,eo.target),classes:0<(En=qt.getParam("link_class_list",[],"array")).length?sa.sanitize(En):vn.none(),anchor:ar(qt),link:un},optNode:vn.from(Wn),flags:{titleEnabled:qt.getParam("link_title",!0,"boolean")}}});function lt(un){return Rt.convertURL(un.value||un.url,"href")}var Rt,bt};Z.add("link",function(qt){var Wn,lt,Rt,bt,un,en,dn;function mr(Jn){var Kn=dn.selection.getNode();return Jn.setDisabled(!Sn(dn,Kn)),yt}(Wn=qt).ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:Ci(Wn),onSetup:Qt(Wn)}),Wn.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:Oa(Wn),onSetup:jn(Wn)}),Wn.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return tt(Wn)},onSetup:Rn(Wn)}),(lt=qt).ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:Oa(lt),onSetup:jn(lt)}),lt.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:Ci(lt)}),lt.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return tt(lt)},onSetup:Rn(lt)}),(Rt=qt).ui.registry.addContextMenu("link",{update:function(Jn){return Uo(Rt.dom.getParents(Jn,"a"))?"link unlink openlink":"link"}}),(dn=qt).ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Qt(dn)},label:"Link",predicate:function(Jn){return!!Sn(dn,Jn)&&dn.getParam("link_context_toolbar",!1,"boolean")},initValue:function(){var Jn=Sn(dn);return Jn?Ir(Jn):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(Jn){var Kn=dn.selection.getNode();return Jn.setActive(!!Sn(dn,Kn)),Qt(dn)(Jn)},onAction:function(Jn){var Kn=Jn.getValue(),vr=function(rr){var Mn=Sn(dn),En=Zn(dn);if(Mn||!En)return vn.none();var Wt=Lr(dn.selection,Mn);return vn.some(0<Wt.length?Wt:rr)}(Kn);cr(dn,{href:Kn,attach:yt},{href:Kn,text:vr,title:vn.none(),rel:vn.none(),target:vn.none(),class:vn.none()}),dn.selection.collapse(!1),Jn.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:mr,onAction:function(Jn){tt(dn),Jn.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:mr,onAction:function(Jn){Oa(dn)(),Jn.hide()}}]}),(en=qt).on("click",function(Jn){var Kn=hr(en,Jn.target);Kn&&de.metaKeyPressed(Jn)&&(Jn.preventDefault(),aa(en,Kn))}),en.on("keydown",function(Jn){var Kn=fr(en);Kn&&13===Jn.keyCode&&!0===Jn.altKey&&!1===Jn.shiftKey&&!1===Jn.ctrlKey&&!1===Jn.metaKey&&(Jn.preventDefault(),aa(en,Kn))}),(bt=qt).addCommand("mceLink",function(){bt.getParam("link_quicklink",!1,"boolean")?bt.fire("contexttoolbar-show",{toolbarKey:"quicklink"}):Ci(bt)()}),(un=qt).addShortcut("Meta+K","",function(){un.execCommand("mceLink")})})}(),function(){"use strict";function _t(lt){var Rt=lt;return{get:function(){return Rt},set:function(bt){Rt=bt}}}function yn(lt){return null!=lt}function yt(){}function at(lt){return function(){return lt}}function We(lt){return lt}function K(){return te}var U=tinymce.util.Tools.resolve("tinymce.PluginManager"),Z=function(lt){return bt=typeof(Rt=lt),"array"==(null===Rt?"null":"object"==bt&&(Array.prototype.isPrototypeOf(Rt)||Rt.constructor&&"Array"===Rt.constructor.name)?"array":"object"==bt&&(String.prototype.isPrototypeOf(Rt)||Rt.constructor&&"String"===Rt.constructor.name)?"string":bt);var Rt,bt},de=at(!1),ne=at(!0),te={fold:function(lt,Rt){return lt()},isSome:de,isNone:ne,getOr:We,getOrThunk:le,getOrDie:function(lt){throw new Error(lt||"error: getOrDie called on none.")},getOrNull:at(null),getOrUndefined:at(void 0),or:We,orThunk:le,map:K,each:yt,bind:K,exists:de,forall:ne,filter:function(){return te},toArray:function(){return[]},toString:at("none()")};function le(lt){return lt()}function se(lt,Rt){for(var bt=0,un=lt.length;bt<un;bt++)if(Rt(lt[bt],bt))return!0;return!1}function oe(lt,Rt){for(var bt=lt.length,un=new Array(bt),en=0;en<bt;en++)un[en]=Rt(lt[en],en);return un}function he(lt,Rt){for(var bt=0,un=lt.length;bt<un;bt++)Rt(lt[bt],bt)}function De(){var lt,Rt,bt=(lt=yt,Rt=_t(go.none()),{clear:function(){un(),Rt.set(go.none())},isSet:function(){return Rt.get().isSome()},get:function(){return Rt.get()},set:function(en){un(),Rt.set(go.some(en))}});function un(){return Rt.get().each(lt)}return cs(cs({},bt),{on:function(en){return bt.get().each(en)}})}function Le(lt,Rt,bt){return""===Rt||lt.length>=Rt.length&&lt.substr(bt,bt+Rt.length)===Rt}function et(lt,Rt){return lt.fire("PastePlainTextToggle",{state:Rt})}function Qe(lt){return lt.getParam("paste_data_images",!1)}function st(lt){return lt.getParam("paste_retain_style_properties")}function Kt(lt){return lt.getParam("validate")}function Ke(lt){return lt.getParam("paste_data_images",!1,"boolean")}function pt(lt){return J.explode(lt.getParam("images_file_types","jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp","string"))}function He(lt){return-1!==lt.indexOf(Qa)}function Re(lt,Rt){return J.each(Rt,function(bt){lt=bt.constructor===RegExp?lt.replace(bt,""):lt.replace(bt[0],bt[1])}),lt}function Ve(lt){return Re(lt,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,function(Rt,bt,un){return bt||un?"\xa0":" "}],/<br class="Apple-interchange-newline">/g,/<br>$/i])}function vt(lt){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^']*\bmso-|w:WordDocument/i.test(lt)||/class="OutlineElement/.test(lt)||/id="?docs\-internal\-guid\-/.test(lt)}function ht(lt,Rt){return{content:lt,cancelled:Rt}}function jt(lt,Rt){return lt.insertContent(Rt,{merge:lt.getParam("paste_merge_formats",!0),paste:!0}),!0}function Cr(lt){return/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(lt)}function _r(lt,Rt,bt){return!(!1!==lt.selection.isCollapsed()||!Cr(Rt)||(en=Rt,dn=bt,(un=lt).undoManager.extra(function(){dn(un,en)},function(){un.execCommand("mceInsertLink",!1,en)}),0));var un,en,dn}function Ht(lt,Rt,bt){return un=lt,!(!Cr(en=Rt)||!se(pt(un),function(Kn){return Le(vr=en.toLowerCase(),rr="."+Kn.toLowerCase(),vr.length-rr.length);var vr,rr})||(mr=Rt,Jn=bt,(dn=lt).undoManager.extra(function(){Jn(dn,mr)},function(){dn.insertContent('<img src="'+mr+'">')}),0));var un,en,dn,mr,Jn}function Te(lt){return"\n"===lt||"\r"===lt}function It(lt,Rt,bt,un){var en,dn,mr,Jn,Kn=function sn(lt,Rt,bt){var un,en,dn,mr,Jn,Kn,vr,rr,Mn,En,Wt,eo,no=vt(Rt),Jr=no?(en=Rt,(un=lt).getParam("paste_enable_default_filters",!0)?function Pe(lt,Rt){var bt,un=st(lt);un&&(bt=J.makeMap(un.split(/[, ]/))),Rt=Re(Rt,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,"\xa0"],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(Kn,vr){return 0<vr.length?vr.replace(/./," ").slice(Math.floor(vr.length/2)).split("").join("\xa0"):""}]]);var en=lt.getParam("paste_word_valid_elements","-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody"),dn=Iu({valid_elements:en,valid_children:"-li[p]"});J.each(dn.elements,function(Kn){Kn.attributes.class||(Kn.attributes.class={},Kn.attributesOrder.push("class")),Kn.attributes.style||(Kn.attributes.style={},Kn.attributesOrder.push("style"))});var mr=Fh({},dn);mr.addAttributeFilter("style",function(Kn){for(var vr,rr=Kn.length;rr--;)(vr=Kn[rr]).attr("style",function(Mn,En,Wt,eo){var no={},Jr=Mn.dom.parseStyle(eo);return J.each(Jr,function(Xr,ho){switch(ho){case"mso-list":var gi=/\w+ \w+([0-9]+)/i.exec(eo);gi&&(Wt._listLevel=parseInt(gi[1],10)),/Ignore/i.test(Xr)&&Wt.firstChild&&(Wt._listIgnore=!0,Wt.firstChild._listIgnore=!0);break;case"horiz-align":ho="text-align";break;case"vert-align":ho="vertical-align";break;case"font-color":case"mso-foreground":ho="color";break;case"mso-background":case"mso-highlight":ho="background";break;case"font-weight":case"font-style":return void("normal"!==Xr&&(no[ho]=Xr));case"mso-element":if(/^(comment|comment-list)$/i.test(Xr))return void Wt.remove()}0!==ho.indexOf("mso-comment")?0!==ho.indexOf("mso-")&&("all"===st(Mn)||En&&En[ho])&&(no[ho]=Xr):Wt.remove()}),/(bold)/i.test(no["font-weight"])&&(delete no["font-weight"],Wt.wrap(new so("b",1))),/(italic)/i.test(no["font-style"])&&(delete no["font-style"],Wt.wrap(new so("i",1))),Mn.dom.serializeStyle(no,Wt.name)||null}(lt,bt,vr,vr.attr("style"))),"span"===vr.name&&vr.parent&&!vr.attributes.length&&vr.unwrap()}),mr.addAttributeFilter("class",function(Kn){for(var vr,rr,Mn=Kn.length;Mn--;)rr=(vr=Kn[Mn]).attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(rr)&&vr.remove(),vr.attr("class",null)}),mr.addNodeFilter("del",function(Kn){for(var vr=Kn.length;vr--;)Kn[vr].remove()}),mr.addNodeFilter("a",function(Kn){for(var vr,rr,Mn,En=Kn.length;En--;)rr=(vr=Kn[En]).attr("href"),Mn=vr.attr("name"),rr&&-1!==rr.indexOf("#_msocom_")?vr.remove():!(rr=rr&&0===rr.indexOf("file://")?(rr=rr.split("#")[1])&&"#"+rr:rr)&&!Mn||Mn&&!/^_?(?:toc|edn|ftn)/i.test(Mn)?vr.unwrap():vr.attr({href:rr,name:Mn})});var Jn=mr.parse(Rt);return lt.getParam("paste_convert_word_fake_lists",!0)&&function(Kn){for(var vr,rr,Mn=1,En=function(Or){var wo="";if(3===Or.type)return Or.value;if(Or=Or.firstChild)for(;wo+=En(Or),Or=Or.next;);return wo},Wt=function(Or,wo){if(3===Or.type&&wo.test(Or.value))return Or.value=Or.value.replace(wo,""),!1;if(Or=Or.firstChild)do{if(!Wt(Or,wo))return!1}while(Or=Or.next);return!0},eo=function(Or){if(Or._listIgnore)Or.remove();else if(Or=Or.firstChild)for(;eo(Or),Or=Or.next;);},no=function(Or,wo,Zi){var Zs=Or._listLevel||Mn;(vr=Zs!==Mn?Zs<Mn?vr&&vr.parent.parent:(rr=vr,null):vr)&&vr.name===wo?vr.append(Or):(rr=rr||vr,vr=new so(wo,1),1<Zi&&vr.attr("start",""+Zi),Or.wrap(vr)),Or.name="li",Mn<Zs&&rr&&rr.lastChild.append(vr),Mn=Zs,eo(Or),Wt(Or,/^\u00a0+/),Wt(Or,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),Wt(Or,/^\u00a0+/)},Jr=[],Xr=Kn.firstChild;null!=Xr;)if(Jr.push(Xr),null!==(Xr=Xr.walk()))for(;void 0!==Xr&&Xr.parent!==Kn;)Xr=Xr.walk();for(var ho,gi,oo,Xs=0;Xs<Jr.length;Xs++)"p"===(Kn=Jr[Xs]).name&&Kn.firstChild?(ho=En(Kn),/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(ho)?no(Kn,"ul"):function(Or){var wo=!1;return Or=ho.replace(/^[\u00a0 ]+/,""),J.each([/^[IVXLMCD]+\.[ \u00a0]/,/^[ivxlmcd]+\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],function(Zi){if(Zi.test(Or))return!(wo=!0)}),wo}(ho)?(oo=1,no(Kn,"ol",oo=(gi=/([0-9]+)\./.exec(ho))?parseInt(gi[1],10):oo)):Kn._listLevel?no(Kn,"ul",1):vr=null):(rr=vr,vr=null)}(Jn),Ni({validate:Kt(lt)},dn).serialize(Jn)}(un,en):en):Rt;return Wt=(dn=lt).fire("PastePreProcess",{content:Jr,internal:mr=bt,wordContent:Jn=no}),eo=function(Xr,ho){var gi=Fh({},Xr.schema);gi.addNodeFilter("meta",function(Xs){J.each(Xs,function(Or){Or.remove()})});var oo=gi.parse(ho,{forced_root_block:!1,isRootContent:!0});return Ni({validate:Kt(Xr)},Xr.schema).serialize(oo)}(dn,Wt.content),dn.hasEventListeners("PastePostProcess")&&!Wt.isDefaultPrevented()?(vr=mr,rr=Jn,Mn=(Kn=dn).dom.create("div",{style:"display:none"},eo),ht((En=Kn.fire("PastePostProcess",{node:Mn,internal:vr,wordContent:rr})).node.innerHTML,En.isDefaultPrevented())):ht(eo,Wt.isDefaultPrevented())}(lt,Rt,bt);!1===Kn.cancelled&&(en=lt,dn=Kn.content,un||!1===en.getParam("smart_paste",!0)?jt(en,dn):(mr=en,Jn=dn,J.each([_r,Ht,jt],function(vr){return!0!==vr(mr,Jn,jt)})))}function Sn(lt,Rt,bt){var un=bt||He(Rt);It(lt,Rt.replace(Qa,""),un,!1)}function Lr(lt,Rt){var bt,un,en,dn,mr,Jn,vr=function ve(lt,Rt,bt){return Rt?(un=!0===Rt?"p":Rt,en=bt,dn=lt.split(/\n\n/),mr=function(vr,rr){var En=[],Wt="<"+vr;if("object"==typeof rr){for(var eo in rr)Io.call(rr,eo)&&En.push(eo+'="'+zr.encodeAllRaw(rr[eo])+'"');En.length&&(Wt+=" "+En.join(" "))}return Wt+">"}(un,en),Jn="</"+un+">",1===(Kn=J.map(dn,function(vr){return vr.split(/\n/).join("<br />")})).length?Kn[0]:J.map(Kn,function(vr){return mr+vr+Jn}).join("")):lt.replace(/\r?\n/g,"<br>");var un,en,dn,mr,Jn,Kn}((bt=lt.dom.encode(Rt).replace(/\r\n/g,"\n"),dn=(un=lt.getParam("paste_tab_spaces",4,"number"))<=0?"":new Array(un+1).join(" "),mr=bt.replace(/\t/g,dn),Jn={pcIsSpace:!(en=function(rr,Mn){return-1!==" \f\t\v".indexOf(Mn)||"\xa0"===Mn?rr.pcIsSpace||""===rr.str||rr.str.length===mr.length-1||(En=rr.str.length+1)<mr.length&&0<=En&&Te(mr[En])?{pcIsSpace:!1,str:rr.str+"\xa0"}:{pcIsSpace:!0,str:rr.str+" "}:{pcIsSpace:Te(Mn),str:rr.str+Mn};var En}),str:""},he(mr,function(rr,Mn){Jn=en(Jn,rr)}),Jn.str),lt.getParam("forced_root_block"),lt.getParam("forced_root_block_attrs"));It(lt,vr,!1,!0)}function Uo(lt){var Rt,bt={};if(lt&&(!lt.getData||(Rt=lt.getData("Text"))&&0<Rt.length&&-1===Rt.indexOf("data:text/mce-internal,")&&(bt["text/plain"]=Rt),lt.types))for(var un=0;un<lt.types.length;un++){var en=lt.types[un];try{bt[en]=lt.getData(en)}catch{bt[en]=""}}return bt}function Zn(lt,Rt){return Rt in lt&&0<lt[Rt].length}function Bn(lt){return Zn(lt,"text/html")||Zn(lt,"text/plain")}function cr(lt,Rt,bt){var un,en,dn,mr,Jn,Kn="paste"===Rt.type?Rt.clipboardData:Rt.dataTransfer;if(Ke(lt)&&Kn){var vr=(un=lt,dn=(en=Kn).items?function(rr){for(var Mn=[],En=0,Wt=rr.length;En<Wt;++En){if(!Z(rr[En]))throw new Error("Arr.flatten item "+En+" was not an array, input: "+rr);sa.apply(Mn,rr[En])}return Mn}(oe(Vo(en.items),function(rr){return"file"===rr.kind?[rr.getAsFile()]:[]})):[],mr=en.files?Vo(en.files):[],function(rr,Mn){for(var En=[],Wt=0,eo=rr.length;Wt<eo;Wt++){var no=rr[Wt];Mn(no,Wt)&&En.push(no)}return En}(0<dn.length?dn:mr,(Jn=pt(un),function(rr){return Le(rr.type,"image/",0)&&se(Jn,function(Mn){return En=Mn.toLowerCase(),(J.hasOwn(Wt={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"},En)?"image/"+Wt[En]:"image/"+En)===rr.type;var En,Wt})})));if(0<vr.length)return Rt.preventDefault(),ja.all(oe(vr,function(rr){return new ja(function(Mn){var En=yn(rr.getAsFile)?rr.getAsFile():rr,Wt=new window.FileReader;Wt.onload=function(){Mn({blob:En,uri:Wt.result})},Wt.readAsDataURL(En)})})).then(function(rr){bt&&lt.selection.setRng(bt),he(rr,function(Mn){var En,Wt,eo,no,Jr,Xr,ho,gi,Xs,Or,wo,Zi,Zs,uu,Ur,Ea,fs,Ls,Ou;En=lt,eo=(Wt=Mn).uri,Ur=(uu=(no=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(eo))?{type:no[1],data:decodeURIComponent(no[2])}:{type:null,data:null}).data,Ea=uu.type,fs=Sr(),Ls=Wt.blob,(Ou=new Image).src=Wt.uri,Zi=Ou,!(Zs=En.getParam("images_dataimg_filter"))||Zs(Zi)?(Xs=void 0,(Xr=(Jr=En.editorUpload.blobCache).getByData(Ur,Ea))?Xs=Xr:(gi=(ho=En.getParam("images_reuse_filename")&&yn(Ls.name))?(Or=En,yn(wo=Ls.name.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i))?Or.dom.encode(wo[1]):null):fs,Xs=Jr.create(fs,Ls,Ur,gi,ho?Ls.name:void 0),Jr.add(Xs)),Sn(En,'<img src="'+Xs.blobUri()+'">',!1)):Sn(En,'<img src="'+Wt.uri+'">',!1)})}),!0}return!1}function tt(lt){return Ir.metaKeyPressed(lt)&&86===lt.keyCode||lt.shiftKey&&45===lt.keyCode}function Un(lt){return va.ie&&lt.inline?document.body:lt.getBody()}function hr(lt,Rt,bt,un){!function(en,dn,mr){if(!1===va.iOS&&"function"==typeof(null==en?void 0:en.setData))try{return en.clearData(),en.setData("text/html",dn),en.setData("text/plain",mr),en.setData(Mr(),dn),1}catch{return}}(lt.clipboardData,Rt.html,Rt.text)?bt(Rt.html,un):(lt.preventDefault(),un())}function fr(lt){return function(Rt,bt){var un=Qa+Rt,en=lt.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),dn=lt.dom.create("div",{contenteditable:"true"},un);lt.dom.setStyles(en,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),en.appendChild(dn),lt.dom.add(lt.getBody(),en);var mr=lt.selection.getRng();dn.focus();var Jn=lt.dom.createRng();Jn.selectNodeContents(dn),lt.selection.setRng(Jn),Ua.setTimeout(function(){lt.selection.setRng(mr),en.parentNode.removeChild(en),bt()},0)}}function aa(lt){return{html:lt.selection.getContent({contextual:!0}),text:lt.selection.getContent({format:"text"})}}function Ci(lt){return!lt.selection.isCollapsed()||(Rt=lt).dom.getParent(Rt.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",Rt.getBody());var Rt}function Oa(lt,Rt){return Wn.getCaretRangeFromPoint(Rt.clientX,Rt.clientY,lt.getDoc())}function bn(lt,Rt){lt.focus(),lt.selection.setRng(Rt)}function Qt(lt,Rt){lt.on("PastePreProcess",function(bt){bt.content=Rt(lt,bt.content,bt.internal,bt.wordContent)})}function jn(lt,Rt){if(!vt(Rt))return Rt;var bt=[];return J.each(lt.schema.getBlockElements(),function(un,en){bt.push(en)}),Rt=Re(Rt,[[new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+bt.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g"),"$1"]]),Re(Rt,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])}function Rn(lt,Rt,bt,un){if(un||bt)return Rt;var en,dn,mr,Jn=lt.getParam("paste_webkit_styles");return!1===lt.getParam("paste_remove_styles_if_webkit",!0)||"all"===Jn?Rt:(Rt=(en=Jn?Jn.split(/[, ]/):en)?(dn=lt.dom,mr=lt.selection.getNode(),Rt.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(Kn,vr,rr,Mn){var En=dn.parseStyle(dn.decode(rr)),Wt={};if("none"===en)return vr+Mn;for(var eo=0;eo<en.length;eo++){var no=En[en[eo]],Jr=dn.getStyle(mr,en[eo],!0);/color/.test(en[eo])&&(no=dn.toHex(no),Jr=dn.toHex(Jr)),Jr!==no&&(Wt[en[eo]]=no)}var Xr=dn.serializeStyle(Wt,"span");return Xr?vr+' style="'+Xr+'"'+Mn:vr+Mn})):Rt.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3")).replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(Kn,vr,rr,Mn){return vr+' style="'+rr+'"'+Mn})}function ar(lt,Rt){lt.$("a",Rt).find("font,u").each(function(bt,un){lt.dom.remove(un,!0)})}function _n(lt,Rt){return function(bt){function un(en){return bt.setActive(en.state)}return bt.setActive("text"===Rt.pasteFormat.get()),lt.on("PastePlainTextToggle",un),function(){return lt.off("PastePlainTextToggle",un)}}}function vn(lt){return lt.dom.get("mcepastebin")}var bo,wr=function(lt){function Rt(){return en}function bt(dn){return dn(lt)}var un=at(lt),en={fold:function(dn,mr){return mr(lt)},isSome:ne,isNone:de,getOr:un,getOrThunk:un,getOrDie:un,getOrNull:un,getOrUndefined:un,or:Rt,orThunk:Rt,map:function(dn){return wr(dn(lt))},each:function(dn){dn(lt)},bind:bt,exists:bt,forall:bt,filter:function(dn){return dn(lt)?en:te},toArray:function(){return[lt]},toString:function(){return"some("+lt+")"}};return en},go={some:wr,none:K,from:function(lt){return null==lt?te:wr(lt)}},ni=Array.prototype.slice,sa=Array.prototype.push,Vo="function"==typeof Array.from?Array.from:function(lt){return ni.call(lt)},cs=function(){return(cs=Object.assign||function(lt){for(var Rt,bt=1,un=arguments.length;bt<un;bt++)for(var en in Rt=arguments[bt])Object.prototype.hasOwnProperty.call(Rt,en)&&(lt[en]=Rt[en]);return lt}).apply(this,arguments)},va=tinymce.util.Tools.resolve("tinymce.Env"),Ua=tinymce.util.Tools.resolve("tinymce.util.Delay"),ja=tinymce.util.Tools.resolve("tinymce.util.Promise"),Ir=tinymce.util.Tools.resolve("tinymce.util.VK"),J=tinymce.util.Tools.resolve("tinymce.util.Tools"),Au="x-tinymce/html",Qa="\x3c!-- "+Au+" --\x3e",Mr=at(Au),Io=Object.hasOwnProperty,zr=tinymce.util.Tools.resolve("tinymce.html.Entities"),Fh=tinymce.util.Tools.resolve("tinymce.html.DomParser"),Ni=tinymce.util.Tools.resolve("tinymce.html.Serializer"),so=tinymce.util.Tools.resolve("tinymce.html.Node"),Iu=tinymce.util.Tools.resolve("tinymce.html.Schema"),Sr=(bo=0,function(){return"mceclip"+bo++}),qt=function(lt,Rt){var bt=vn(lt);return bt&&"mcepastebin"===bt.id&&bt.innerHTML===Rt},Wn=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils");U.add("paste",function(lt){if(0==(!!lt.hasPlugin("powerpaste",!0)&&(void 0!==window.console&&window.console.log&&window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),!0))){var Rt=_t(!1),bt=_t(lt.getParam("paste_as_text",!1)?"text":"html"),un=(ho=bt,gi=function Ja(lt){var Rt=_t(null),bt="%MCEPASTEBIN%";return{create:function(){return function(un,en,dn){var mr=un.dom,Jn=un.getBody();en.set(un.selection.getRng());var Kn,vr,Mn,En=un.dom.add(Un(un),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},"%MCEPASTEBIN%");(va.ie||va.gecko)&&mr.setStyle(En,"left","rtl"===mr.getStyle(Jn,"direction",!0)?65535:-65535),mr.bind(En,"beforedeactivate focusin focusout",function(Wt){Wt.stopPropagation()}),vr=En,Un(Mn=Kn=un)!==Mn.getBody()&&Kn.dom.bind(vr,"paste keyup",function(Wt){qt(Kn,"%MCEPASTEBIN%")||Kn.fire("paste")}),En.focus(),un.selection.select(En,!0)}(lt,Rt)},remove:function(){return function(un,en){if(vn(un)){for(var dn,mr=en.get();dn=un.dom.get("mcepastebin");)un.dom.remove(dn),un.dom.unbind(dn);mr&&un.selection.setRng(mr)}en.set(null)}(lt,Rt)},getEl:function(){return vn(lt)},getHtml:function(){return function(un){function en(rr,Mn){rr.appendChild(Mn),un.dom.remove(Mn,!0)}var dn=J.grep(Un(un).childNodes,function(rr){return"mcepastebin"===rr.id}),mr=dn.shift();J.each(dn,function(rr){en(mr,rr)});for(var Jn=un.dom.select("div[id=mcepastebin]",mr),Kn=Jn.length-1;0<=Kn;Kn--){var vr=un.dom.create("div");mr.insertBefore(vr,Jn[Kn]),en(vr,Jn[Kn])}return mr?mr.innerHTML:""}(lt)},getLastRng:Rt.get,isDefault:function(){return qt(lt,bt)},isDefaultContent:function(un){return un===bt}}}(Xr=lt),Xr.on("PreInit",function(){return function hn(lt,Rt,bt){var un,en,dn,mr,Jn,Kn,vr;function rr(Mn,En,Wt,eo,no){var Jr;Zn(En,"text/html")?Jr=En["text/html"]:(Jr=dn.getHtml(),no=no||He(Jr),dn.isDefaultContent(Jr)&&(eo=!0)),Jr=Ve(Jr),dn.remove();var Xr,ho,gi,oo,Xs,Or,wo,Zi,Zs=!1===no&&!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(Jr),uu=Cr(Jr);((eo=!Jr.length||Zs&&!uu||eo)||uu)&&(Jr=Zn(En,"text/plain")&&Zs?En["text/plain"]:(Xr=Jr,ho=Iu(),gi=Fh({},ho),oo="",Xs=ho.getShortEndedElements(),Or=J.makeMap("script noscript style textarea video audio iframe object"," "),wo=ho.getBlockElements(),Zi=function(Ur){var Ea=Ur.name,fs=Ur;if("br"!==Ea){if("wbr"!==Ea)if(Xs[Ea]&&(oo+=" "),Or[Ea])oo+=" ";else{if(3===Ur.type&&(oo+=Ur.value),!Ur.shortEnded&&(Ur=Ur.firstChild))for(;Zi(Ur),Ur=Ur.next;);wo[Ea]&&fs.next&&(oo+="\n","p"===Ea&&(oo+="\n"))}}else oo+="\n"},Xr=Re(Xr,[/<!\[[^\]]+\]>/g]),Zi(gi.parse(Xr)),oo)),dn.isDefaultContent(Jr)?Wt||Mn.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents."):eo?Lr(Mn,Jr):Sn(Mn,Jr,no)}en=lt,dn=Rt,mr=bt,Kn=De(),vr=De(),en.on("keyup",vr.clear),en.on("keydown",function(Mn){function En(Wt){tt(Wt)&&!Wt.isDefaultPrevented()&&dn.remove()}if(tt(Mn)&&!Mn.isDefaultPrevented()&&(!(Jn=Mn.shiftKey&&86===Mn.keyCode)||!va.webkit||-1===navigator.userAgent.indexOf("Version/"))){if(Mn.stopImmediatePropagation(),Kn.set(Mn),vr.set(!0),va.ie&&Jn)return Mn.preventDefault(),void en.fire("paste",{ieFake:!0});dn.remove(),dn.create(),en.once("keyup",En),en.once("paste",function(){en.off("keyup",En)})}}),en.on("paste",function(Mn){var En=Kn.isSet()||vr.isSet();En&&Kn.clear();var Wt,eo=Uo(Mn.clipboardData||en.getDoc().dataTransfer),no="text"===mr.get()||Jn,Jr=Zn(eo,Mr());Jn=!1,Mn.isDefaultPrevented()||(Wt=Mn.clipboardData,-1!==navigator.userAgent.indexOf("Android")&&Wt&&Wt.items&&0===Wt.items.length)||!Bn(eo)&&cr(en,Mn,dn.getLastRng()||en.selection.getRng())?dn.remove():(En||Mn.preventDefault(),!va.ie||En&&!Mn.ieFake||Zn(eo,"text/html")||(dn.create(),en.dom.bind(dn.getEl(),"paste",function(Xr){Xr.stopPropagation()}),en.getDoc().execCommand("Paste",!1,null),eo["text/html"]=dn.getHtml()),Zn(eo,"text/html")?(Mn.preventDefault(),Jr=Jr||He(eo["text/html"]),rr(en,eo,En,no,Jr)):Ua.setEditorTimeout(en,function(){rr(en,eo,En,no,Jr)},0))}),lt.parser.addNodeFilter("img",function(Mn,En,Wt){var eo;if(!Ke(lt)&&Wt.data&&!0===Wt.data.paste)for(var no=Mn.length;no--;)(un=Mn[no].attr("src"))&&(0!==un.indexOf("webkit-fake-url")&&(lt.getParam("allow_html_data_urls",!1,"boolean")||0!==un.indexOf("data:"))||(eo=Mn[no]).attr("data-mce-object")||un===va.transparentSrc||eo.remove())})}(Xr,gi,ho)}),{pasteFormat:ho,pasteHtml:function(Or,wo){return Sn(Xr,Or,wo)},pasteText:function(Or){return Lr(Xr,Or)},pasteImageData:function(Or,wo){return cr(Xr,Or,wo)},getDataTransferItems:Uo,hasHtmlOrText:Bn,hasContentType:Zn}),eo=lt;return va.webkit&&Qt(eo,Rn),va.ie&&(Qt(eo,jn),Jr=ar,(no=eo).on("PastePostProcess",function(Or){Jr(no,Or.node)})),(En=lt).ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:oo,onSetup:_n(En,Wt=un)}),En.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:oo,onSetup:_n(En,Wt)}),Mn=un,(rr=lt).addCommand("mceTogglePlainTextPaste",function(){var Or,wo=rr;"text"===(Or=Mn).pasteFormat.get()?(Or.pasteFormat.set("html"),et(wo,!1)):(Or.pasteFormat.set("text"),et(wo,!0)),wo.focus()}),rr.addCommand("mceInsertClipboardContent",function(Or,wo){wo.content&&Mn.pasteHtml(wo.content,wo.internal),wo.text&&Mn.pasteText(wo.text)}),function(Or){var wo=Or.plugins.paste,Zi=Or.getParam("paste_preprocess");Zi&&Or.on("PastePreProcess",function(uu){Zi.call(wo,wo,uu)});var Zs=Or.getParam("paste_postprocess");Zs&&Or.on("PastePostProcess",function(uu){Zs.call(wo,wo,uu)})}(lt),(Jn=lt).on("cut",(Kn=Jn,function(Or){Ci(Kn)&&hr(Or,aa(Kn),fr(Kn),function(){var wo;va.browser.isChrome()||va.browser.isFirefox()?(wo=Kn.selection.getRng(),Ua.setEditorTimeout(Kn,function(){Kn.selection.setRng(wo),Kn.execCommand("Delete")},0)):Kn.execCommand("Delete")})})),Jn.on("copy",(vr=Jn,function(Or){Ci(vr)&&hr(Or,aa(vr),fr(vr),yt)})),dn=un,mr=Rt,(en=lt).getParam("paste_block_drop",!1)&&en.on("dragend dragover draggesture dragdrop drop drag",function(Or){Or.preventDefault(),Or.stopPropagation()}),Qe(en)||en.on("drop",function(Or){var wo=Or.dataTransfer;wo&&wo.files&&0<wo.files.length&&Or.preventDefault()}),en.on("drop",function(Or){var wo,Zi,Zs,uu,Ur=Oa(en,Or);Or.isDefaultPrevented()||mr.get()||(wo=dn.getDataTransferItems(Or.dataTransfer),Zi=dn.hasContentType(wo,Mr()),(!dn.hasHtmlOrText(wo)||(Zs=wo["text/plain"])&&0===Zs.indexOf("file://"))&&dn.pasteImageData(Or,Ur)||!Ur||!en.getParam("paste_filter_drop",!0)||(uu=wo["mce-internal"]||wo["text/html"]||wo["text/plain"])&&(Or.preventDefault(),Ua.setEditorTimeout(en,function(){en.undoManager.transact(function(){wo["mce-internal"]&&en.execCommand("Delete"),bn(en,Ur),uu=Ve(uu),wo["text/html"]?dn.pasteHtml(uu,Zi):dn.pasteText(uu)})})))}),en.on("dragstart",function(Or){mr.set(!0)}),en.on("dragover dragend",function(Or){Qe(en)&&!1===mr.get()&&(Or.preventDefault(),bn(en,Oa(en,Or))),"dragend"===Or.type&&mr.set(!1)}),{clipboard:un}}var en,dn,mr,Jn,Kn,vr,rr,Mn,En,Wt,no,Jr,Xr,ho,gi;function oo(){return En.execCommand("mceTogglePlainTextPaste")}})}(),function(){"use strict";function _t(T){return function(R){return Q=typeof(H=R),(null===H?"null":"object"==Q&&(Array.prototype.isPrototypeOf(H)||H.constructor&&"Array"===H.constructor.name)?"array":"object"==Q&&(String.prototype.isPrototypeOf(H)||H.constructor&&"String"===H.constructor.name)?"string":Q)===T;var H,Q}}function yn(T){return function(R){return typeof R===T}}function yt(T){return function(R){return T===R}}function at(T){return null!=T}function We(){}function K(T){return function(){return T}}function xe(T){return T}function U(T,R){return T===R}var Z=_t("string"),de=_t("object"),ne=_t("array"),te=yt(null),le=yn("boolean"),se=yt(void 0),oe=yn("function"),he=yn("number");function De(T){for(var R=[],H=1;H<arguments.length;H++)R[H-1]=arguments[H];return function(){for(var Q=[],ce=0;ce<arguments.length;ce++)Q[ce]=arguments[ce];var ge=R.concat(Q);return T.apply(null,ge)}}function Le(T){return function(R){return!T(R)}}function et(){return Kt}var Qe=K(!1),st=K(!0),Kt={fold:function(T,R){return T()},isSome:Qe,isNone:st,getOr:xe,getOrThunk:Ke,getOrDie:function(T){throw new Error(T||"error: getOrDie called on none.")},getOrNull:K(null),getOrUndefined:K(void 0),or:xe,orThunk:Ke,map:et,each:We,bind:et,exists:Qe,forall:st,filter:function(){return Kt},toArray:function(){return[]},toString:K("none()")};function Ke(T){return T()}function pt(T,R){return-1<Un.call(T,R)}function He(T,R){for(var H=0,Q=T.length;H<Q;H++)if(R(T[H],H))return!0;return!1}function ve(T,R){for(var H=[],Q=0;Q<T;Q++)H.push(R(Q));return H}function Re(T,R){for(var H=T.length,Q=new Array(H),ce=0;ce<H;ce++)Q[ce]=R(T[ce],ce);return Q}function Ve(T,R){for(var H=0,Q=T.length;H<Q;H++)R(T[H],H)}function vt(T,R){for(var H=[],Q=[],ce=0,ge=T.length;ce<ge;ce++){var Ie=T[ce];(R(Ie,ce)?H:Q).push(Ie)}return{pass:H,fail:Q}}function Pe(T,R){for(var H=[],Q=0,ce=T.length;Q<ce;Q++){var ge=T[Q];R(ge,Q)&&H.push(ge)}return H}function ht(T,R,H){return function(Q){for(var ge=Q.length-1;0<=ge;ge--)H=R(H,Q[ge],ge)}(T),H}function sn(T,R,H){return Ve(T,function(Q,ce){H=R(H,Q,ce)}),H}function jt(T,R){return function(H,Q,ce){for(var ge=0,Ie=H.length;ge<Ie;ge++){var Be=H[ge];if(Q(Be,ge))return tt.some(Be);if(ce(Be,ge))break}return tt.none()}(T,R,Qe)}function Cr(T,R){for(var H=0,Q=T.length;H<Q;H++)if(R(T[H],H))return tt.some(H);return tt.none()}function _r(T){for(var R=[],H=0,Q=T.length;H<Q;++H){if(!ne(T[H]))throw new Error("Arr.flatten item "+H+" was not an array, input: "+T);Ja.apply(R,T[H])}return R}function Ht(T,R){return _r(Re(T,R))}function Te(T,R){for(var H=0,Q=T.length;H<Q;++H)if(!0!==R(T[H],H))return!1;return!0}function It(T,R){for(var H={},Q=0,ce=T.length;Q<ce;Q++){var ge=T[Q];H[String(ge)]=R(ge,Q)}return H}function Sn(T){return[T]}function Lr(T,R){return 0<=R&&R<T.length?tt.some(T[R]):tt.none()}function Uo(T){return Lr(T,0)}function Zn(T){return Lr(T,T.length-1)}function Bn(T,R){for(var H=0;H<T.length;H++){var Q=R(T[H],H);if(Q.isSome())return Q}return tt.none()}var cr=function(T){function R(){return ce}function H(ge){return ge(T)}var Q=K(T),ce={fold:function(ge,Ie){return Ie(T)},isSome:st,isNone:Qe,getOr:Q,getOrThunk:Q,getOrDie:Q,getOrNull:Q,getOrUndefined:Q,or:R,orThunk:R,map:function(ge){return cr(ge(T))},each:function(ge){ge(T)},bind:H,exists:H,forall:H,filter:function(ge){return ge(T)?ce:Kt},toArray:function(){return[T]},toString:function(){return"some("+T+")"}};return ce},tt={some:cr,none:et,from:function(T){return null==T?Kt:cr(T)}},hn=Array.prototype.slice,Un=Array.prototype.indexOf,Ja=Array.prototype.push,hr=function(){return(hr=Object.assign||function(T){for(var R,H=1,Q=arguments.length;H<Q;H++)for(var ce in R=arguments[H])Object.prototype.hasOwnProperty.call(R,ce)&&(T[ce]=R[ce]);return T}).apply(this,arguments)};function fr(T,R,H){if(H||2===arguments.length)for(var Q,ce=0,ge=R.length;ce<ge;ce++)!Q&&ce in R||((Q=Q||Array.prototype.slice.call(R,0,ce))[ce]=R[ce]);return T.concat(Q||Array.prototype.slice.call(R))}function aa(T){var R,H=!1;return function(){for(var Q=[],ce=0;ce<arguments.length;ce++)Q[ce]=arguments[ce];return H||(H=!0,R=T.apply(null,Q)),R}}function Ci(T,R){var H=String(R).toLowerCase();return jt(T,function(Q){return Q.search(H)})}function Oa(T,R,H){return""===R||T.length>=R.length&&T.substr(H,H+R.length)===R}function bn(T,R){return-1!==T.indexOf(R)}function Qt(T,R){return Oa(T,R,T.length-R.length)}function jn(T){return 0<T.length}function Rn(T){return function(R){return bn(R,T)}}function ar(T){return window.matchMedia(T).matches}function _n(T,R){var H=T.dom;if(1!==H.nodeType)return!1;var Q=H;if(void 0!==Q.matches)return Q.matches(R);if(void 0!==Q.msMatchesSelector)return Q.msMatchesSelector(R);if(void 0!==Q.webkitMatchesSelector)return Q.webkitMatchesSelector(R);if(void 0!==Q.mozMatchesSelector)return Q.mozMatchesSelector(R);throw new Error("Browser lacks native selectors")}function vn(T){return 1!==T.nodeType&&9!==T.nodeType&&11!==T.nodeType||0===T.childElementCount}function bo(T,R){var H=void 0===R?document:R.dom;return vn(H)?tt.none():tt.from(H.querySelector(T)).map(Wt.fromDom)}function wr(T,R){return T.dom===R.dom}function go(T,R){return En().browser.isIE()?(ce=Node.DOCUMENT_POSITION_CONTAINED_BY,0!=(T.dom.compareDocumentPosition(R.dom)&ce)):(ge=T.dom)!==(Ie=R.dom)&&ge.contains(Ie);var ce,ge,Ie}function ni(T,R){for(var H=no(T),Q=0,ce=H.length;Q<ce;Q++){var ge=H[Q];R(T[ge],ge)}}function sa(T,R){return Xr(T,function(H,Q){return{k:Q,v:R(H,Q)}})}function Vo(T,R){var H={},Q=R,ce=H,ge=function(Be,$e){ce[$e]=Be},Ie=We;return ni(T,function(Be,$e){(Q(Be,$e)?ge:Ie)(Be,$e)}),H}function cs(T,R){var H=[];return ni(T,function(Q,ce){H.push(R(Q,ce))}),H}function va(T){return cs(T,xe)}function Ua(T){return no(T).length}function ja(T,R){return ho(T,R)?tt.from(T[R]):tt.none()}function Ir(T,R){return ho(T,R)&&null!=T[R]}function J(T,R,H){return{element:T,rowspan:R,colspan:H}}function Au(T,R,H){return{element:T,cells:R,section:H}}function Qa(T,R,H){return{element:T,isNew:R,isLocked:H}}function Mr(T,R,H,Q){return{element:T,cells:R,section:H,isNew:Q}}function Io(){return Iu(0,0)}function zr(T){function R(ce){return function(){return H===ce}}var H=T.current;return{current:H,version:T.version,isEdge:R("Edge"),isChrome:R("Chrome"),isIE:R("IE"),isOpera:R("Opera"),isFirefox:R(bt),isSafari:R("Safari")}}function Fh(T){function R(ce){return function(){return H===ce}}var H=T.current;return{current:H,version:T.version,isWindows:R(dn),isiOS:R("iOS"),isAndroid:R(mr),isOSX:R("OSX"),isLinux:R("Linux"),isSolaris:R(Jn),isFreeBSD:R(Kn),isChromeOS:R(vr)}}function Ni(T){if(null==T)throw new Error("Node cannot be null or undefined");return{dom:T}}var so,Iu=function(T,R){return{major:T,minor:R}},Sr={nu:Iu,detect:function(T,R){var H,Q,ce=String(R).toLowerCase();return 0===T.length?Io():(Q=function(Ie,Be){for(var $e=0;$e<Ie.length;$e++){var ot=Ie[$e];if(ot.test(Be))return ot}}(T,H=ce))?Iu(ge(1),ge(2)):{major:0,minor:0};function ge(Ie){return Number(H.replace(Q,"$"+Ie))}},unknown:Io},qt=function(T,R){return Oa(T,R,0)},Wn=(so=/^\s+|\s+$/g,function(T){return T.replace(so,"")}),lt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Rt={browsers:K([{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(T){return bn(T,"edge/")&&bn(T,"chrome")&&bn(T,"safari")&&bn(T,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,lt],search:function(T){return bn(T,"chrome")&&!bn(T,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(T){return bn(T,"msie")||bn(T,"trident")}},{name:"Opera",versionRegexes:[lt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Rn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Rn("firefox")},{name:"Safari",versionRegexes:[lt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(T){return(bn(T,"safari")||bn(T,"mobile/"))&&bn(T,"applewebkit")}}]),oses:K([{name:"Windows",search:Rn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(T){return bn(T,"iphone")||bn(T,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Rn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Rn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Rn("linux"),versionRegexes:[]},{name:"Solaris",search:Rn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Rn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Rn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}])},bt="Firefox",un=function(){return zr({current:void 0,version:Sr.unknown()})},en=zr,dn=(K("Edge"),K("Chrome"),K("IE"),K("Opera"),K(bt),K("Safari"),"Windows"),mr="Android",Jn="Solaris",Kn="FreeBSD",vr="ChromeOS",rr=function(){return Fh({current:void 0,version:Sr.unknown()})},Mn=Fh,En=(K(dn),K("iOS"),K(mr),K("Linux"),K("OSX"),K(Jn),K(Kn),K(vr),aa(function(){return T=navigator.userAgent,R=tt.from(navigator.userAgentData),H=ar,$t=Rt.browsers(),an=Rt.oses(),{browser:kt=R.bind(function(Pn){return Lt=$t,Bn(Pn.brands,function(Ln){var cn=Ln.brand.toLowerCase();return jt(Lt,function(Ar){var Vn;return cn===(null===(Vn=Ar.brand)||void 0===Vn?void 0:Vn.toLowerCase())}).map(function(Ar){return{current:Ar.name,version:Sr.nu(parseInt(Ln.version,10),0)}})});var Lt}).orThunk(function(){return Ci($t,Pn=T).map(function(Lt){var Ln=Sr.detect(Lt.versionRegexes,Pn);return{current:Lt.name,version:Ln}});var Pn}).fold(un,en),os:Yt=Ci(an,Q=T).map(function(Pn){var Lt=Sr.detect(Pn.versionRegexes,Q);return{current:Pn.name,version:Lt}}).fold(rr,Mn),deviceType:(ge=kt,Ie=T,Be=H,$e=(ce=Yt).isiOS()&&!0===/ipad/i.test(Ie),ot=ce.isiOS()&&!$e,St=(xt=ce.isiOS()||ce.isAndroid())||Be("(pointer:coarse)"),wt=$e||!ot&&xt&&Be("(min-device-width:768px)"),Nt=ot||xt&&!wt,Tt=ge.isSafari()&&ce.isiOS()&&!1===/safari/i.test(Ie),{isiPad:K($e),isiPhone:K(ot),isTablet:K(wt),isPhone:K(Nt),isTouch:K(St),isAndroid:ce.isAndroid,isiOS:ce.isiOS,isWebView:K(Tt),isDesktop:K(!Nt&&!wt&&!Tt)})};var T,R,H,Q,ce,ge,Ie,Be,$e,ot,xt,St,wt,Nt,Tt,$t,an,kt,Yt})),Wt={fromHtml:function(T,R){var H=(R||document).createElement("div");if(H.innerHTML=T,!H.hasChildNodes()||1<H.childNodes.length)throw console.error("HTML does not have a single root node",T),new Error("HTML must have a single root node");return Ni(H.childNodes[0])},fromTag:function(T,R){return Ni((R||document).createElement(T))},fromText:function(T,R){return Ni((R||document).createTextNode(T))},fromDom:Ni,fromPoint:function(T,R,H){return tt.from(T.dom.elementFromPoint(R,H)).map(Ni)}},eo=_n,no=Object.keys,Jr=Object.hasOwnProperty,Xr=function(T,R){var H={};return ni(T,function(Q,ce){var ge=R(Q,ce);H[ge.k]=ge.v}),H},ho=function(T,R){return Jr.call(T,R)},gi=["tfoot","thead","tbody","colgroup"];function oo(T){return T.dom.nodeName.toLowerCase()}function Xs(T){return T.dom.nodeType}function Or(T){return function(R){return Xs(R)===T}}function wo(T){return 8===Xs(T)||"#comment"===oo(T)}function Zi(T){return function(R){return Eu(R)&&oo(R)===T}}function Zs(T){return Wt.fromDom(T.dom.ownerDocument)}function uu(T){return Ki(T)?T:Zs(T)}function Ur(T){return tt.from(T.dom.parentNode).map(Wt.fromDom)}function Ea(T,R){for(var H=oe(R)?R:Qe,Q=T.dom,ce=[];null!=Q.parentNode;){var ge=Q.parentNode,Ie=Wt.fromDom(ge);if(ce.push(Ie),!0===H(Ie))break;Q=ge}return ce}function fs(T){return tt.from(T.dom.previousSibling).map(Wt.fromDom)}function Ls(T){return tt.from(T.dom.nextSibling).map(Wt.fromDom)}function Ou(T){return Re(T.dom.childNodes,Wt.fromDom)}function Ss(T,R){return tt.from(T.dom.childNodes[R]).map(Wt.fromDom)}function cb(T){return Wt.fromDom(T.dom.host)}function jg(T,R,H){return Q=function(ce){return _n(ce,R)},Pe(Ea(T,H),Q);var Q}function Qr(T,R){return H=function(Q){return _n(Q,R)},Pe(Ou(T),H);var H}function Sa(T,R){return vn(H=void 0===T?document:T.dom)?[]:Re(H.querySelectorAll(R),Wt.fromDom);var H}"undefined"!=typeof window||Function("return this;")();var Eu=Or(1),Ns=Or(3),Ki=Or(9),Bc=Or(11),mi=oe(Element.prototype.attachShadow)&&oe(Node.prototype.getRootNode),Py=K(mi),Ry=mi?function(T){return Wt.fromDom(T.dom.getRootNode())}:uu,Wr=function(T){var R=Ns(T)?T.dom.parentNode:T.dom;if(null==R||null===R.ownerDocument)return!1;var H,Q,ce,ge,Ie,Be=R.ownerDocument;return ce=Wt.fromDom(R),Ie=Ry(ce),(Bc(ge=Ie)&&at(ge.dom.host)?tt.some(Ie):tt.none()).fold(function(){return Be.body.contains(R)},(H=Wr,Q=cb,function($e){return H(Q($e))}))},zc=function(T){var R=T.dom.body;if(null==R)throw new Error("Body is not available yet");return Wt.fromDom(R)},Ul=function(T,R){var H=[];return Ve(Ou(T),function(Q){H=(H=R(Q)?H.concat([Q]):H).concat(Ul(Q,R))}),H};function gn(T,R,H,Q,ce){return T(H,Q)?tt.some(H):oe(ce)&&ce(H)?tt.none():R(H,Q,ce)}function Ut(T,R,H){for(var Q=T.dom,ce=oe(H)?H:Qe;Q.parentNode;){var ge=Wt.fromDom(Q=Q.parentNode);if(R(ge))return tt.some(ge);if(ce(ge))break}return tt.none()}function Pa(T,R,H){return Ut(T,function(Q){return _n(Q,R)},H)}function Ly(T,R){return H=function(Q){return _n(Q,R)},jt(T.dom.childNodes,function(Q){return H(Wt.fromDom(Q))}).map(Wt.fromDom);var H}function mo(T,R){return bo(R,T)}function Ks(T,R,H){return gn(_n,Pa,T,R,H)}function sh(T,R,H){if(!(Z(H)||le(H)||he(H)))throw console.error("Invalid call to Attribute.set. Key ",R,":: Value ",H,":: Element ",T),new Error("Attribute value was not simple");T.setAttribute(R,H+"")}function es(T,R,H){sh(T.dom,R,H)}function $s(T,R){var H=T.dom;ni(R,function(Q,ce){sh(H,ce,Q)})}function cl(T,R){var H=T.dom.getAttribute(R);return null===H?void 0:H}function ts(T,R){return tt.from(cl(T,R))}function qg(T){return sn(T.dom.attributes,function(R,H){return R[H.name]=H.value,R},{})}function Bp(T,R,H){return void 0===H&&(H=U),T.exists(function(Q){return H(Q,R)})}function To(T){for(var R=[],H=function(ce){R.push(ce)},Q=0;Q<T.length;Q++)T[Q].each(H);return R}function Ny(T,R,H){return T.isSome()&&R.isSome()?tt.some(H(T.getOrDie(),R.getOrDie())):tt.none()}function uh(T,R){return T?tt.some(R):tt.none()}function Yg(T){return void 0!==T.style&&oe(T.style.getPropertyValue)}function Xg(T,R,H){if(!Z(H))throw console.error("Invalid call to CSS.set. Property ",R,":: Value ",H,":: Element ",T),new Error("CSS value must be a string: "+H);Yg(T)&&T.style.setProperty(R,H)}function lu(T,R,H){Xg(T.dom,R,H)}function jl(T,R){var H=T.dom;ni(R,function(Q,ce){Xg(H,ce,Q)})}function cu(T,R){var H=T.dom,Q=window.getComputedStyle(H).getPropertyValue(R);return""!==Q||Wr(T)?Q:uo(H,R)}function fu(T,R){var Q=uo(T.dom,R);return tt.from(Q).filter(function(ce){return 0<ce.length})}function dc(T,R){var H,Q=R;Yg(H=T.dom)&&H.style.removeProperty(Q),Bp(ts(T,"style").map(Wn),"")&&Ma(T,"style")}function Vf(T,R,H){return void 0===H&&(H=0),ts(T,R).map(function(Q){return parseInt(Q,10)}).getOr(H)}function bv(T,R){return Vf(T,R,1)}function By(T){return Zi("col")(T)?1<Vf(T,"span",1):1<bv(T,"colspan")}function lh(T){return 1<bv(T,"rowspan")}function Vh(T,R){return parseInt(cu(T,R),10)}function zy(T,R){return qu(T,R,st)}function Zg(T,R){return H=["td","th"],(ce=void 0===(ce=R)?Qe:R)(Q=T)?tt.none():pt(H,oo(Q))?tt.some(Q):Pa(Q,H.join(","),function(ge){return _n(ge,"table")||ce(ge)});var H,Q,ce}function zp(T){return zy(T,"th,td")}function Fy(T){return _n(T,"colgroup")?Qr(T,"col"):Ht(Yu(T),function(R){return Qr(R,"col")})}function ba(T,R){return Ks(T,"table",R)}function xv(T){return zy(T,"tr")}function hc(T,R){return Re(T,function(H){if("colgroup"!==oo(H))return Au(H,Q=Re(zp(H),function(ce){return J(ce,Vf(ce,"rowspan",1),Vf(ce,"colspan",1))}),R(H));var Q=Re(Fy(H),function(ce){return J(ce,1,Vf(ce,"span",1))});return Au(H,Q,"colgroup")})}function Fp(T){return Ur(T).map(function(R){var H=oo(R);return pt(gi,H)?H:"tbody"}).getOr("tbody")}function _v(T){var R=xv(T);return hc(fr(fr([],Yu(T),!0),R,!0),Fp)}function pc(T,R,H){var Q=T.cells,ce=Q.slice(0,R),ge=Q.slice(R),Ie=ce.concat(H).concat(ge);return Vp(T,Ie)}function Kg(T,R,H){return pc(T,R,[H])}function Dl(T,R,H){T.cells[R]=H}function gc(T,R){return T.cells[R]}function ya(T,R){return gc(T,R).element}function Bs(T){return T.cells.length}function Ai(T){var R=vt(T,function(H){return"colgroup"===H.section});return{rows:R.fail,cols:R.pass}}function ql(T,R,H){var Q=Re(T.cells,H);return Mr(R(T.element),Q,T.section,!0)}function Fc(T){return ts(T,La).bind(function(R){return tt.from(R.match(/\d+/g))}).map(function(R){return It(R,st)})}function du(T){var R,H=cs(sn(Ai(T).rows,function(Q,ce){return Ve(ce.cells,function(ge,Ie){ge.isLocked&&(Q[Ie]=!0)}),Q},{}),function(Q,ce){return parseInt(ce,10)});return(R=hn.call(H,0)).sort(void 0),R}function Ra(T){var R={},H=[],Q=Uo(T).map(function(wt){return wt.element}).bind(ba).bind(Fc).getOr({}),ce=0,ge=0,Ie=0,Be=vt(T,function(wt){return"colgroup"===wt.section}),$e=Be.pass;Ve(Be.fail,function(wt){var Nt=[];Ve(wt.cells,function(Tt){for(var $t=0;void 0!==R[Ie+","+$t];)$t++;for(var an=Ir(Q,$t.toString()),kt={element:Tt.element,rowspan:Tt.rowspan,colspan:Tt.colspan,row:Ie,column:$t,isLocked:an},Yt=0;Yt<Tt.colspan;Yt++)for(var Pn=0;Pn<Tt.rowspan;Pn++){var Lt=$t+Yt;R[Ie+Pn+","+Lt]=kt,ge=Math.max(ge,Lt+1)}Nt.push(kt)}),ce++,H.push(Au(wt.element,Nt,wt.section)),Ie++});var ot=Zn($e).map(function(wt){var Nt,Tt,$t=(Nt={},Tt=0,Ve(wt.cells,function(an){var kt=an.colspan;ve(kt,function(Yt){var Pn=Tt+Yt;Nt[Pn]={element:an.element,colspan:kt,column:Pn}}),Tt+=kt}),Nt);return{colgroups:[{element:wt.element,columns:va($t)}],columns:$t}}).getOrThunk(function(){return{colgroups:[],columns:{}}});return{grid:{rows:ce,columns:ge},access:R,all:H,columns:ot.columns,colgroups:ot.colgroups}}function Hh(T,R){return R.column<=T.finishCol&&R.column+R.colspan-1>=T.startCol&&R.row<=T.finishRow&&R.row+R.rowspan-1>=T.startRow}function fb(T,R){return R.column>=T.startCol&&R.column+R.colspan-1<=T.finishCol&&R.row>=T.startRow&&R.row+R.rowspan-1<=T.finishRow}function Hf(T,R,H){var Q=Oo.findItem(T,R,wr),ce=Oo.findItem(T,H,wr);return Q.bind(function(ge){return ce.map(function(Ie){return Be=ge,$e=Ie,{startRow:Math.min(Be.row,$e.row),startCol:Math.min(Be.column,$e.column),finishRow:Math.max(Be.row+Be.rowspan-1,$e.row+$e.rowspan-1),finishCol:Math.max(Be.column+Be.colspan-1,$e.column+$e.colspan-1)};var Be,$e})})}function Sd(T,R,H){return Hf(T,R,H).map(function(Q){return Re(Oo.filterItems(T,De(Hh,Q)),function(ce){return ce.element})})}function Ca(T,R){return Oo.findItem(T,R,function(H,Q){return go(Q,H)}).map(function(H){return H.element})}function Vy(T,R,H,Q,ce){var ge=Xu(T),Ie=wr(T,H)?tt.some(R):Ca(ge,R),Be=wr(T,ce)?tt.some(Q):Ca(ge,Q);return Ie.bind(function($e){return Be.bind(function(ot){return Sd(ge,$e,ot)})})}function ns(T,R){Ur(T).each(function(H){H.dom.insertBefore(R.dom,T.dom)})}function mc(T,R){Ls(T).fold(function(){Ur(T).each(function(H){to(H,R)})},function(H){ns(H,R)})}function ka(T,R){Ss(T,0).fold(function(){to(T,R)},function(H){T.dom.insertBefore(R.dom,H.dom)})}function mf(T,R){ns(T,R),to(R,T)}function O_(T,R){Ve(R,function(H,Q){mc(0===Q?T:R[Q-1],H)})}function ju(T,R){Ve(R,function(H){to(T,H)})}function Ru(T){T.dom.textContent="",Ve(Ou(T),function(R){ks(R)})}function Yl(T){var R,H=Ou(T);0<H.length&&(R=T,Ve(H,function(Q){ns(R,Q)})),ks(T)}function fl(T){return Il.get(T)}function Cs(T){return Il.getOption(T)}function Js(T,R){return Il.set(T,R)}function Po(T,R){return Pe(Ht(T.all,function(H){return H.cells}),R)}var $g,Al,Ma=function(T,R){T.dom.removeAttribute(R)},uo=function(T,R){return Yg(T)?T.style.getPropertyValue(R):""},Vc=K(10),Er=K(10),qu=function(T,R,H){return Ht(Ou(T),function(Q){return _n(Q,R)?H(Q)?[Q]:[]:qu(Q,R,H)})},Yu=function(T){return ba(T).fold(K([]),function(R){return Qr(R,"colgroup")})},Vp=function(T,R){return Mr(T.element,R,T.section,T.isNew)},La="data-snooker-locked-cols",Oo={fromTable:function(T){return Ra(_v(T))},generate:Ra,getAt:function(T,R,H){return tt.from(T.access[R+","+H])},findItem:function(T,R,H){var Q=Po(T,function(ce){return H(R,ce.element)});return 0<Q.length?tt.some(Q[0]):tt.none()},filterItems:Po,justCells:function(T){return Ht(T.all,function(R){return R.cells})},justColumns:function(T){return va(T.columns)},hasColumns:function(T){return 0<no(T.columns).length},getColumnAt:function(T,R){return tt.from(T.columns[R])}},Xu=Oo.fromTable,to=function(T,R){T.dom.appendChild(R.dom)},ks=function(T){var R=T.dom;null!==R.parentNode&&R.parentNode.removeChild(R)},Il=($g=Ns,{get:function(T){if(!$g(T))throw new Error("Can only get text value of a text node");return Al(T).getOr("")},getOption:Al=function(T){return $g(T)?tt.from(T.dom.nodeValue):tt.none()},set:function(T,R){if(!$g(T))throw new Error("Can only set raw text value of a text node");T.dom.nodeValue=R}}),Hy=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function db(){return{up:K({selector:Pa,closest:Ks,predicate:Ut,all:Ea}),down:K({selector:Sa,predicate:Ul}),styles:K({get:cu,getRaw:fu,set:lu,remove:dc}),attrs:K({get:cl,set:es,remove:Ma,copyTo:function(T,R){$s(R,qg(T))}}),insert:K({before:ns,after:mc,afterAll:O_,append:to,appendAll:ju,prepend:ka,wrap:mf}),remove:K({unwrap:Yl,remove:ks}),create:K({nu:Wt.fromTag,clone:function(T){return Wt.fromDom(T.dom.cloneNode(!1))},text:Wt.fromText}),query:K({comparePosition:function(T,R){return T.dom.compareDocumentPosition(R.dom)},prevSibling:fs,nextSibling:Ls}),property:K({children:Ou,name:oo,parent:Ur,document:function(T){return uu(T).dom},isText:Ns,isComment:wo,isElement:Eu,isSpecial:function(T){return pt(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],oo(T))},getLanguage:function(T){return Eu(T)?ts(T,"lang"):tt.none()},getText:fl,setText:Js,isBoundary:function(T){return!!Eu(T)&&("body"===oo(T)||pt(Hy,oo(T)))},isEmptyTag:function(T){return!!Eu(T)&&pt(["br","img","hr","input"],oo(T))},isNonEditable:function(T){return Eu(T)&&"false"===cl(T,"contenteditable")}}),eq:wr,is:eo}}function dl(T,R){return Md(Qg,function(H,Q){return T(Q)},R)}function Cd(T){return Pa(T,"table")}function Wh(T,R,H){function Q(ce){return function(ge){return void 0!==H&&H(ge)||wr(ge,ce)}}return wr(T,R)?tt.some({boxes:tt.some([T]),start:T,finish:R}):Cd(T).bind(function(ce){return Cd(R).bind(function(ge){if(wr(ce,ge))return tt.some({boxes:(ot=T,xt=R,Sd(Xu(ce),ot,xt)),start:T,finish:R});if(go(ce,ge)){var Ie=0<(Be=jg(R,"td,th",Q(ce))).length?Be[Be.length-1]:R;return tt.some({boxes:Vy(ce,T,ce,R,ge),start:T,finish:Ie})}if(go(ge,ce)){var Be,$e=0<(Be=jg(T,"td,th",Q(ge))).length?Be[Be.length-1]:T;return tt.some({boxes:Vy(ge,T,ce,R,ge),start:T,finish:$e})}return G1(Qg,T,R,void 0).shared.bind(function(St){return Ks(St,"table",H).bind(function(wt){var Nt=jg(R,"td,th",Q(wt)),Tt=0<Nt.length?Nt[Nt.length-1]:R,$t=jg(T,"td,th",Q(wt)),an=0<$t.length?$t[$t.length-1]:T;return tt.some({boxes:Vy(wt,T,ce,R,ge),start:an,finish:Tt})})});var ot,xt})})}function ch(T,R){var H=Sa(T,R);return 0<H.length?tt.some(H):tt.none()}function hu(T,R,H){return mo(T,R).bind(function(Q){return mo(T,H).bind(function(ce){return dl(Cd,[Q,ce]).map(function(ge){return{first:Q,last:ce,table:ge}})})})}function ua(T,R,H,Q){return T.fold(R,H,Q)}function hl(T,R){return Wt.fromDom(T.dom.cloneNode(R))}function pu(T){return hl(T,!1)}function Na(T){return hl(T,!0)}function wv(T,R){var H=Wt.fromTag(R);return $s(H,qg(T)),H}function Dn(T,R){function H(ce){var ge=R(ce);if(ge<=0||null===ge){var Ie=cu(ce,T);return parseFloat(Ie)||0}return ge}function Q(ce,ge){return sn(ge,function(Ie,Be){var $e=cu(ce,Be),ot=void 0===$e?0:parseInt($e,10);return isNaN(ot)?Ie:Ie+ot},0)}return{set:function(ce,ge){if(!he(ge)&&!ge.match(/^[0-9]+$/))throw new Error(T+".set accepts only positive integer values. Value was "+ge);var Ie=ce.dom;Yg(Ie)&&(Ie.style[T]=ge+"px")},get:H,getOuter:H,aggregate:Q,max:function(ce,ge,Ie){var Be=Q(ce,Ie);return Be<ge?ge-Be:0}}}function Xl(){var T=En().browser;return T.isIE()||T.isEdge()}function jr(T,R,H){return Q=cu(T,R),ce=H,ge=parseFloat(Q),(isNaN(ge)?tt.none():tt.some(ge)).getOr(ce);var Q,ce,ge}function Uh(T){return cu(T,"box-sizing")}function Lu(T,R,H,Q){return R-jr(T,"padding-"+H,0)-jr(T,"padding-"+Q,0)-jr(T,"border-"+H+"-width",0)-jr(T,"border-"+Q+"-width",0)}function Wf(T,R){var H=T.dom,Q=H.getBoundingClientRect().width||H.offsetWidth;return"border-box"===R?Q:Lu(T,Q,"left","right")}function Gf(T){return kv.get(T)}function Zu(T){return kv.getOuter(T)}function vi(T,R){void 0===R&&(R=st);var H=T.grid,Q=ve(H.columns,xe),ce=ve(H.rows,xe);return Re(Q,function(ge){return qa(function(){return Ht(ce,function(Ie){return Oo.getAt(T,Ie,ge).filter(function(Be){return Be.column===ge}).toArray()})},function(Ie){return 1===Ie.colspan&&R(Ie.element)},function(){return Oo.getAt(T,0,ge)})})}function fh(T){var R=T.grid,H=ve(R.rows,xe),Q=ve(R.columns,xe);return Re(H,function(ce){return qa(function(){return Ht(Q,function(ge){return Oo.getAt(T,ce,ge).filter(function(Ie){return Ie.row===ce}).fold(K([]),function(Ie){return[Ie]})})},function(ge){return 1===ge.rowspan},function(){return Oo.getAt(T,ce,0)})})}function H1(T,R){return function(H){return"rtl"===Mv(H)?R:T}}function Ri(T){return Tv.get(T)}function vc(T){return Tv.getOuter(T)}function Sv(T,R){return void 0!==T?T:void 0!==R?R:0}function Wi(T){var R=T.dom.ownerDocument,H=R.body,Q=R.defaultView,ce=R.documentElement;if(H===T.dom)return Ku(H.offsetLeft,H.offsetTop);var ge=Sv(null==Q?void 0:Q.pageYOffset,ce.scrollTop),Ie=Sv(null==Q?void 0:Q.pageXOffset,ce.scrollLeft),Be=Sv(ce.clientTop,H.clientTop),$e=Sv(ce.clientLeft,H.clientLeft);return ds(T).translate(Ie-$e,ge-Be)}function Bt(T,R){return{row:T,y:R}}function vf(T,R){return{col:T,x:R}}function Qs(T){return Wi(T).left+Zu(T)}function Zl(T){return Wi(T).left}function pl(T,R){return vf(T,Zl(R))}function rs(T,R){return vf(T,Qs(R))}function Li(T){return Wi(T).top}function Uf(T,R){return Bt(T,Li(R))}function Jg(T,R){return Bt(T,Li(R)+vc(R))}function Nr(T,R,H){if(0===H.length)return[];var Q=Re(H.slice(1),function(ge,Ie){return ge.map(function(Be){return T(Ie,Be)})}),ce=H[H.length-1].map(function(ge){return R(H.length-1,ge)});return Q.concat([ce])}function os(T){if(!ne(T))throw new Error("cases must be an array");if(0===T.length)throw new Error("there must be at least one case");var R=[],H={};return Ve(T,function(Q,ce){var ge=no(Q);if(1!==ge.length)throw new Error("one and only one name per case");var Ie=ge[0],Be=Q[Ie];if(void 0!==H[Ie])throw new Error("duplicate key detected:"+Ie);if("cata"===Ie)throw new Error("cannot have a case named cata (sorry)");if(!ne(Be))throw new Error("case arguments must be an array");R.push(Ie),H[Ie]=function(){for(var $e=[],ot=0;ot<arguments.length;ot++)$e[ot]=arguments[ot];var xt=$e.length;if(xt!==Be.length)throw new Error("Wrong number of arguments to case "+Ie+". Expected "+Be.length+" ("+Be+"), got "+xt);return{fold:function(){for(var St=[],wt=0;wt<arguments.length;wt++)St[wt]=arguments[wt];if(St.length!==T.length)throw new Error("Wrong number of arguments to fold. Expected "+T.length+", got "+St.length);return St[ce].apply(null,$e)},match:function(St){var wt=no(St);if(R.length!==wt.length)throw new Error("Wrong number of arguments to match. Expected: "+R.join(",")+"\nActual: "+wt.join(","));if(!Te(R,function(Nt){return pt(wt,Nt)}))throw new Error("Not all branches were specified when using match. Specified: "+wt.join(", ")+"\nRequired: "+R.join(", "));return St[Ie].apply(null,$e)},log:function(St){console.log(St,{constructors:R,constructor:Ie,params:$e})}}}}),H}var Cv,kd,jh,Md=function(T,R,H){return 0<H.length?(Q=T,ce=R,ge=H[0],ht(H.slice(1),function(Ie,Be){var $e=ce(Q,Be);return function(T,R,H){return R.bind(function(Q){return H.filter(De(T.eq,Q))})}(Q,Ie,$e)},ce(Q,ge))):tt.none();var Q,ce,ge},G1=function(T,R,H,Q){function ce(xt){return Cr(xt,Q).fold(function(){return xt},function(St){return xt.slice(0,St+1)})}void 0===Q&&(Q=Qe);var ge=[R].concat(T.up().all(R)),Ie=[H].concat(T.up().all(H)),Be=ce(ge),$e=ce(Ie),ot=jt(Be,function(xt){return He($e,De(T.eq,xt))});return{firstpath:Be,secondpath:$e,shared:ot}},Qg=db(),Wy=ch,No=os([{none:[]},{multiple:["elements"]},{single:["element"]}]),U1=No.none,j1=No.multiple,E_=No.single,Fr=tinymce.util.Tools.resolve("tinymce.PluginManager"),kv=Dn("width",function(T){return T.dom.offsetWidth}),Hc=function(T){return Wf(T,"content-box")},Nu=function(T){return Xl()?Wf(T,Uh(T)):jr(T,"width",T.dom.offsetWidth)},qa=function(T,R,H){var Q=T();return jt(Q,R).orThunk(function(){return tt.from(Q[0]).orThunk(H)}).map(function(ce){return ce.element})},Mv=function(T){return"rtl"===cu(T,"direction")?"rtl":"ltr"},Tv=Dn("height",function(T){var R=T.dom;return Wr(T)?R.getBoundingClientRect().height:R.offsetHeight}),q1=function(T,R){return{left:T,top:R,translate:function(H,Q){return q1(T+H,R+Q)}}},Ku=q1,ds=function(T){var R,H=T.dom,Q=H.ownerDocument.body;return Q===H?Ku(Q.offsetLeft,Q.offsetTop):Wr(T)?(R=H.getBoundingClientRect(),Ku(R.left,R.top)):Ku(0,0)},Bu={delta:xe,positions:function(T){return Nr(Uf,Jg,T)},edge:Li},yf=H1({delta:xe,edge:Zl,positions:function(T){return Nr(pl,rs,T)}},{delta:function(T){return-T},edge:Qs,positions:function(T){return Nr(rs,pl,T)}}),Td={delta:function(T,R){return yf(R).delta(T,R)},positions:function(T,R){return yf(R).positions(T,R)},edge:function(T){return yf(T).edge(T)}},jf={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},em=(jh=["Infinity",(Cv="[0-9]+")+"\\."+$u(Cv)+$u(kd="[eE][+-]?[0-9]+"),"\\."+Cv+$u(kd),Cv+$u(kd)].join("|"),new RegExp("^([+-]?(?:"+jh+"))(.*)$"));function $u(T){return"(?:"+T+")?"}function Gy(T,R,H){var Q=tt.from(T.dom.parentElement).map(Wt.fromDom).getOrThunk(function(){return zc(Zs(T))});return R(T)/H(Q)*100}function dh(T,R){lu(T,"width",R+"px")}function Bi(T,R){lu(T,"width",R+"%")}function Bo(T,R){lu(T,"height",R+"px")}function Dd(T,R){return fu(T,R).orThunk(function(){return ts(T,R).map(function(H){return H+"px"})})}function gu(T){return Dd(T,"width")}function yc(T){return Gy(T,Gf,Hc)}function zs(T){return(nx(T)?Gf:Nu)(T)}function qh(T){return function Gr(T){var R,H,Q,ce,ge,Ie,Be,$e,ot,xt,St=function(T){return Xl()?(H=Uh(R=T),ce=(Q=R.dom).getBoundingClientRect().height||Q.offsetHeight,"border-box"===H?ce:Lu(R,ce,"top","bottom")):jr(T,"height",T.dom.offsetHeight);var R,H,Q,ce}(T)+"px";return St?(R=St,H=T,Q=Ri,ce=Bo,xt=parseFloat(R),Qt(R,"%")&&"table"!==oo(H)?(Ie=xt,Be=Q,$e=ce,ot=ba(ge=H).map(function(wt){var Nt=Be(wt);return Math.floor(Ie/100*Nt)}).getOr(Ie),$e(ge,ot),ot):xt):Ri(T)}(R=T)/bv(R,"rowspan");var R}function xn(T,R,H){lu(T,"width",R+H)}function Dv(T){return Gy(T,Gf,Hc)+"%"}function gl(T){return gu(T).getOrThunk(function(){return zs(T)+"px"})}function Ad(T){return Dd(T,"height").getOrThunk(function(){return qh(T)+"px"})}function Yh(T,R,H,Q,ce,ge){return T.filter(Q).fold(function(){return ge(function(Ie,Be){if(Be<0||Be>=Ie.length-1)return tt.none();var $e=Ie[Be].fold(function(){var xt,St;return Bn((xt=Ie.slice(0,Be),(St=hn.call(xt,0)).reverse(),St),function(wt,Nt){return wt.map(function(Tt){return{value:Tt,delta:Nt+1}})})},function(xt){return tt.some({value:xt,delta:0})}),ot=Ie[Be+1].fold(function(){return Bn(Ie.slice(Be+1),function(xt,St){return xt.map(function(wt){return{value:wt,delta:St+1}})})},function(xt){return tt.some({value:xt,delta:1})});return $e.bind(function(xt){return ot.map(function(St){var wt=St.delta+xt.delta;return Math.abs(St.value-xt.value)/wt})})}(H,R))},function(Ie){return ce(Ie)})}function Id(T,R,H,Q){var ce=vi(T),ge=Oo.hasColumns(T)?Re(Oo.justColumns(T),function($e){return tt.from($e.element)}):ce,Ie=[tt.some(Td.edge(R))].concat(Re(Td.positions(ce,R),function($e){return $e.map(function(ot){return ot.x})})),Be=Le(By);return Re(ge,function($e,ot){return Yh($e,ot,Ie,Be,function(xt){return wt=xt,Tt=(Nt=En().browser).isChrome()||Nt.isFirefox(),!cm(wt)||Tt?H(xt):Yh(null!=(St=ce[ot])?St:tt.none(),ot,Ie,Be,function($t){return Q(tt.some(Gf($t)))},Q);var St,wt,Nt,Tt},Q)})}function Av(T){return T.map(function(R){return R+"px"}).getOr("")}function Xh(T,R,H){return Id(T,R,zs,function(Q){return Q.getOrThunk(H.minCellWidth)})}function Uy(T,R,H,Q,ce){var ge=fh(T),Ie=[tt.some(H.edge(R))].concat(Re(H.positions(ge,R),function(Be){return Be.map(function($e){return $e.y})}));return Re(ge,function(Be,$e){return Yh(Be,$e,Ie,Le(lh),Q,ce)})}function bf(T,R){return function(){return Wr(T)?R(T):parseFloat(fu(T,"width").getOr("0"))}}function Rr(T){var R=bf(T,function(Q){return parseFloat(Dv(Q))}),H=bf(T,Gf);return{width:R,pixelWidth:H,getWidths:function(Q,ce){return ge=ce,Id(Q,T,yc,function(Ie){return Ie.fold(function(){return ge.minCellWidth()},function(Be){return Be/ge.pixelWidth()*100})});var ge},getCellDelta:function(Q){return Q/H()*100},singleColumnWidth:function(Q,ce){return[100-Q]},minCellWidth:function(){return Vc()/H()*100},setElementWidth:Bi,adjustTableWidth:function(Q){var ce=R();Bi(T,ce+Q/100*ce)},isRelative:!0,label:"percent"}}function tm(T){var R=bf(T,Gf);return{width:R,pixelWidth:R,getWidths:function(H,Q){return Xh(H,T,Q)},getCellDelta:xe,singleColumnWidth:function(H,Q){return[Math.max(Vc(),H+Q)-H]},minCellWidth:Vc,setElementWidth:dh,adjustTableWidth:function(H){var Q=R()+H;dh(T,Q)},isRelative:!1,label:"pixel"}}function qf(T){return"img"===oo(T)?1:Cs(T).fold(function(){return Ou(T).length},function(R){return R.length})}function lo(T){return Cs(T).filter(function(R){return 0!==R.trim().length||-1<R.indexOf("\xa0")}).isSome()||pt(rx,oo(T))}function Zh(T){return R=lo,(H=function(Q){for(var ce=0;ce<Q.childNodes.length;ce++){var ge=Wt.fromDom(Q.childNodes[ce]);if(R(ge))return tt.some(ge);var Ie=H(Q.childNodes[ce]);if(Ie.isSome())return Ie}return tt.none()})(T.dom);var R,H}function Kh(T){return fm(T,lo)}function Yf(T){return function(){var R=Wt.fromTag("td",T.dom);return to(R,Wt.fromTag("br",T.dom)),R}}function Wp(T){return function(){return Wt.fromTag("col",T.dom)}}function P_(T){return function(){return Wt.fromTag("colgroup",T.dom)}}function hb(T){return function(){return Wt.fromTag("tr",T.dom)}}function jy(T,R,H){var Q,ce,ge=(ju(ce=wv(Q=T,R),Ou(Na(Q))),ce);return ni(H,function(Ie,Be){null===Ie?Ma(ge,Be):es(ge,Be,Ie)}),ge}function zi(T){return T}function Qn(T,R,H){function Q(ce,ge){var Ie=ce.element.dom,Be=ge.dom;Yg(Ie)&&Yg(Be)&&(Be.style.cssText=Ie.style.cssText),dc(ge,"height"),1!==ce.colspan&&dc(ge,"width")}return{col:function(ce){var ge=Wt.fromTag(oo(ce.element),R.dom);return Q(ce,ge),T(ce.element,ge),ge},colgroup:P_(R),row:hb(R),cell:function(ce){var ge,Ie,Be,$e,ot,xt=Wt.fromTag(oo(ce.element),R.dom),St=H.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),wt=0<St.length?(Ie=xt,Be=St,Zh(ge=ce.element).map(function(Nt){return ht(jg(Nt,Be.join(","),function(Tt){return wr(Tt,ge)}),function(Tt,$t){var an=pu($t);return Ma(an,"contenteditable"),to(Tt,an),an},Ie)}).getOr(Ie)):xt;return to(wt,Wt.fromTag("br")),Q(ce,xt),$e=ce.element,ot=xt,ni(Fu,function(Nt,Tt){return ts($e,Tt).filter(function($t){return pt(Nt,$t)}).each(function($t){return es(ot,Tt,$t)})}),T(ce.element,xt),xt},replace:jy,colGap:Wp(R),gap:Yf(R)}}function ri(T){return{col:Wp(T),colgroup:P_(T),row:hb(T),cell:Yf(T),replace:zi,colGap:Wp(T),gap:Yf(T)}}function la(T){return Re(T,Wt.fromDom)}function eu(T){return Wt.fromDom(T.getBody())}function xf(T){return T.getBoundingClientRect().width}function Kl(T){return T.getBoundingClientRect().height}function ml(T){return function(R){return wr(R,eu(T))}}function $h(T){return/^\d+(\.\d+)?$/.test(T)?T+"px":T}function _f(T){function R(H){return Ma(H,"data-mce-style")}Ma(T,"data-mce-style"),Ve(zp(T),R),Ve(Fy(T),R),Ve(xv(T),R)}function Ms(T){return Wt.fromDom(T.selection.getStart())}function Jh(T){return ua(T.get(),K([]),xe,Sn)}function Od(T,R,H){return{element:H,mergable:(ge=R,Ie=xl,ua(T.get(),tt.none,function(Be){return Be.length<=1?tt.none():function V1(T,R,H){return hu(T,R,H).bind(function(Q){function ce($e){return wr(T,$e)}var ge="thead,tfoot,tbody,table",Ie=Pa(Q.first,ge,ce),Be=Pa(Q.last,ge,ce);return Ie.bind(function($e){return Be.bind(function(ot){return wr($e,ot)?(wt=Q.first,Nt=Q.last,Tt=Xu(Q.table),Hf(xt=Tt,wt,Nt).bind(function($t){return function(an,kt){for(var Yt=!0,Pn=De(fb,kt),Lt=kt.startRow;Lt<=kt.finishRow;Lt++)for(var Ln=kt.startCol;Ln<=kt.finishCol;Ln++)Yt=Yt&&Oo.getAt(an,Lt,Ln).exists(Pn);return Yt?tt.some(kt):tt.none()}(xt,$t)})):tt.none();var xt,wt,Nt,Tt})})})}(ge,Ie.firstSelectedSelector,Ie.lastSelectedSelector).map(function($e){return{bounds:$e,cells:Be}})},tt.none)),unmergable:0<(ce=Jh(T)).length&&Te(ce,function(Be){return Q(Be,"rowspan")||Q(Be,"colspan")})?tt.some(ce):tt.none(),selection:Jh(T)};function Q(Be,$e){return ts(Be,$e).exists(function(ot){return 1<parseInt(ot,10)})}var ce,ge,Ie}function Wc(T){return function(R,H){var Q,ce=oo(R);return Ks("col"===ce||"colgroup"===ce?ba(Q=R).bind(function(ge){return Wy(ge,xl.firstSelectedSelector)}).fold(K(Q),function(ge){return ge[0]}):R,T,H)}}function pb(T,R,H){for(var Q=0,ce=T;ce<R;ce++)Q+=void 0!==H[ce]?H[ce]:0;return Q}function Ba(T,R,H){var Q,ce,ge,Ie;Ve((ce=R,Oo.hasColumns(Q=T)?(Ie=ce,Re(Oo.justColumns(Q),function(Be,$e){return{element:Be.element,width:Ie[$e],colspan:Be.colspan}})):(ge=ce,Re(Oo.justCells(Q),function(Be){var $e=pb(Be.column,Be.column+Be.colspan,ge);return{element:Be.element,width:$e,colspan:Be.colspan}}))),function(Be){H.setElementWidth(Be.element,Be.width)})}function mu(T,R,H,Q,ce){var ge,Ie,Be,$e,ot,xt,St,wt,Nt,Tt,$t=Oo.fromTable(T),an=ce.getCellDelta(R),kt=ce.getWidths($t,ce),Yt=H===$t.grid.columns-1,Pn=Q.clampTableDelta(kt,H,an,ce.minCellWidth(),Yt),Lt=(Ie=H,Be=Pn,$e=ce,ot=Q,wt=(ge=kt).slice(0),St=Ie,Nt=0===(xt=ge).length?hm.none():1===xt.length?hm.only(0):0===St?hm.left(0,1):St===xt.length-1?hm.right(St-1,St):0<St&&St<xt.length-1?hm.middle(St-1,St,St+1):hm.none(),Tt=K(Re(wt,K(0))),Nt.fold(Tt,function(Ln){return $e.singleColumnWidth(wt[Ln],Be)},function(Ln,cn){return ot.calcLeftEdgeDeltas(wt,Ln,cn,Be,$e.minCellWidth(),$e.isRelative)},function(Ln,cn,Ar){return ot.calcMiddleDeltas(wt,Ln,cn,Ar,Be,$e.minCellWidth(),$e.isRelative)},function(Ln,cn){return ot.calcRightEdgeDeltas(wt,Ln,cn,Be,$e.minCellWidth(),$e.isRelative)}));Ba($t,Re(Lt,function(Ln,cn){return Ln+kt[cn]}),ce),Q.resizeTable(ce.adjustTableWidth,Pn,Yt)}function $l(T){return Re(T,K(0))}function $i(T,R,H,Q,ce){return ce(T.slice(0,R)).concat(Q).concat(ce(T.slice(H)))}function qi(T){return function(R,H,Q,ce){if(T(Q)){var ge=Math.max(ce,R[H]-Math.abs(Q)),Ie=Math.abs(ge-R[H]);return 0<=Q?Ie:-Ie}return Q}}function Jl(){function T(H,Q,ce,ge){var Ie=(100+ce)/100,Be=Math.max(ge,(H[Q]+ce)/Ie);return Re(H,function($e,ot){return(ot===Q?Be:$e/Ie)-$e})}function R(H,Q,ce,ge,Ie,Be){return Be?T(H,Q,ge,Ie):(xt=ce,St=pm($e=H,ot=Q,ge,Ie),$i($e,ot,xt+1,[St,0],$l));var $e,ot,xt,St}return{resizeTable:function(H,Q){return H(Q)},clampTableDelta:pm,calcLeftEdgeDeltas:R,calcMiddleDeltas:function(H,Q,ce,ge,Ie,Be,$e){return R(H,ce,ge,Ie,Be,$e)},calcRightEdgeDeltas:function(H,Q,ce,ge,Ie,Be){if(Be)return T(H,ce,ge,Ie);var $e=pm(H,ce,ge,Ie);return $l(H.slice(0,ce)).concat([$e])},calcRedestributedWidths:function(H,Q,ce,ge){if(ge){var Ie=(Q+ce)/Q,Be=Re(H,function($e){return $e/Ie});return{delta:100*Ie-100,newSizes:Be}}return{delta:ce,newSizes:H}}}}function nm(){function T(R,H,Q,ce,ge){var Ie=ox(R,0<=ce?Q:H,ce,ge);return $i(R,H,Q+1,[Ie,-Ie],$l)}return{resizeTable:function(R,H,Q){Q&&R(H)},clampTableDelta:function(R,H,Q,ce,ge){if(ge){if(0<=Q)return Q;var Ie=sn(R,function(Be,$e){return Be+$e-ce},0);return Math.max(-Ie,Q)}return pm(R,H,Q,ce)},calcLeftEdgeDeltas:T,calcMiddleDeltas:function(R,H,Q,ce,ge,Ie){return T(R,Q,ce,ge,Ie)},calcRightEdgeDeltas:function(R,H,Q,ce,ge,Ie){return Ie?$l(R):Re(R,K(ce/R.length))},calcRedestributedWidths:function(R,H,Q,ce){return{delta:0,newSizes:R}}}}function Gp(T,R,H){var Q=H.substring(0,H.length-T.length),ce=parseFloat(Q);return Q===ce.toString()?R(ce):lp.invalid(H)}function gb(T,R,H){var Q,ce,ge,Ie,Be=Yd.from(H),$e=Te(T,function(ot){return"0px"===ot})?(Q=T.length,ce=Be.fold(function(){return K("")},function(ot){return K(ot/Q+"px")},function(){return K(100/Q+"%")}),ve(Q,ce)):(ge=T,Ie=R,Be.fold(function(){return ge},function(ot){return St=(xt=ot)/Ie,Re(ge,function(wt){return Yd.from(wt).fold(function(){return wt},function(Nt){return Nt*St+"px"},function(Nt){return Nt/100*xt+"px"})});var xt,St},function(ot){return xt=Ie,Re(ge,function(St){return Yd.from(St).fold(function(){return St},function(wt){return wt/xt*100+"%"},function(wt){return wt+"%"})});var xt}));return Wv($e)}function fi(T,R){return 0===T.length?R:ht(T,function(H,Q){return Yd.from(Q).fold(K(0),xe,xe)+H},0)}function Xf(T){return Gv(T).fold(K("px"),K("px"),K("%"))}function Qh(T,R,H){var Q=Oo.fromTable(T),ce=Q.all,ge=Oo.justCells(Q),Ie=Oo.justColumns(Q);R.each(function(Be){var $e,ot,xt,St,wt=Xf(Be),Nt=Gf(T),Tt=gb(Id(Q,T,gl,Av),Nt,Be);Oo.hasColumns(Q)?(xt=Tt,St=wt,Ve(Ie,function($t,an){var kt=fi([xt[an]],Vc());lu($t.element,"width",kt+St)})):($e=Tt,ot=wt,Ve(ge,function($t){var an=fi($e.slice($t.column,$t.colspan+$t.column),Vc());lu($t.element,"width",an+ot)})),lu(T,"width",Be)}),H.each(function(Be){var $e=Xf(Be),ot=Ri(T),xt=gb(Uy(Q,T,Bu,Ad,Av),ot,Be),St=ce,wt=$e;Ve(ge,function(Nt){var Tt=fi(xt.slice(Nt.row,Nt.rowspan+Nt.row),Er());lu(Nt.element,"height",Tt+wt)}),Ve(St,function(Nt,Tt){lu(Nt.element,"height",xt[Tt])}),lu(T,"height",Be)})}function Ed(T){return Oo.fromTable(T).grid}function Ko(T){var R=[];return{bind:function(H){if(void 0===H)throw new Error("Event bind error: undefined handler");R.push(H)},unbind:function(H){R=Pe(R,function(Q){return Q!==H})},trigger:function(){for(var H=[],Q=0;Q<arguments.length;Q++)H[Q]=arguments[Q];var ce={};Ve(T,function(ge,Ie){ce[ge]=H[Ie]}),Ve(R,function(ge){ge(ce)})}}}function Ta(T){return{registry:sa(T,function(R){return{bind:R.bind,unbind:R.unbind}}),trigger:sa(T,function(R){return R.trigger})}}function Zf(T){return T.slice(0).sort()}function vl(T,R){var H=Pe(R,function(Q){return!pt(T,Q)});0<H.length&&function(){throw new Error("Unsupported keys for object: "+Zf(H).join(", "))}()}function ep(T){return function(R,H,Q){if(0===H.length)throw new Error("You must specify at least one required field.");var ce;return function(ge,Ie){if(!ne(Ie))throw new Error("The "+ge+" fields must be an array. Was: "+Ie+".");Ve(Ie,function(Be){if(!Z(Be))throw new Error("The value "+Be+" in the "+ge+" fields was not a string.")})}("required",H),jt(ce=Zf(H),function(ge,Ie){return Ie<ce.length-1&&ge===ce[Ie+1]}).each(function(ge){throw new Error("The field: "+ge+" occurs more than once in the combined fields: ["+ce.join(", ")+"].")}),function(ge){var Ie=no(ge);Te(H,function($e){return pt(Ie,$e)})||function($e,ot){throw new Error("All required keys ("+Zf($e).join(", ")+") were not specified. Specified keys were: "+Zf(ot).join(", ")+".")}(H,Ie),R(H,Ie);var Be=Pe(H,function($e){return!Q.validate(ge[$e],$e)});return 0<Be.length&&function($e,ot){throw new Error("All values need to be of type: "+ot+". Keys ("+Zf($e).join(", ")+") were not.")}(Be,Q.label),ge}}(vl,T,{validate:oe,label:"function"})}function Iv(T){function R(){return T.stopPropagation()}function H(){return T.preventDefault()}var Q,ce,ge=Wt.fromDom(function(Be){if(Py()&&at(Be.target)){var $e=Wt.fromDom(Be.target);if(Eu($e)&&function(T){return at(T.dom.shadowRoot)}($e)&&Be.composed&&Be.composedPath){var ot=Be.composedPath();if(ot)return Uo(ot)}}return tt.from(Be.target)}(T).getOr(T.target)),Ie=(Q=H,ce=R,function(){for(var Be=[],$e=0;$e<arguments.length;$e++)Be[$e]=arguments[$e];return Q(ce.apply(null,Be))});return{target:ge,x:T.clientX,y:T.clientY,stop:R,prevent:H,kill:Ie,raw:T}}function is(T,R,H){return Ie=G_,Be=H,(Q=T).dom.addEventListener(ce=R,$e=function(ot){Ie(ot)&&Be(Iv(ot))},!1),{unbind:De(Db,Q,ce,$e,!1)};var Q,ce,Ie,Be,$e}function xa(T){return void 0!==T.dom.classList}function Pd(T,R){xa(T)?T.dom.classList.add(R):function yl(T,R){return ce=R,es(T,"class",(void 0===(Q=cl(T,"class"))||""===Q?[]:Q.split(" ")).concat([ce]).join(" ")),1;var Q,ce}(T,R)}function Rd(T,R){return xa(T)&&T.dom.classList.contains(R)}function Qo(T){var R=T.replace(/\./g,"-");return{resolve:function(H){return R+"-"+H}}}function bc(T){return Ks(T,"[contenteditable]")}function wf(T,R){return void 0===R&&(R=!1),!En().browser.isIE()&&Wr(T)?T.dom.isContentEditable:bc(T).fold(K(R),function(H){return"true"===Ab(H)})}function Ld(T){Ve(Sa(T.parent(),"."+el),ks)}function vu(T,R,H){var Q=T.origin();Ve(R,function(ce){ce.each(function(ge){var Ie=H(Q,ge);Pd(Ie,el),to(T.parent(),Ie)})})}function tp(T,R){var H;Ld(T),T.isResizable(R)&&function gh(T,R,H,Q,ce){var ge,Ie,Be,$e,ot,xt=Wi(H),St=R.isResizable,wt=0<Q.length?Bu.positions(Q,H):[],Nt=0<wt.length?(ge=St,Ht(T.all,function(Pr,Yr){return ge(Pr.element)?[Yr]:[]})):[];Ie=R,Be=Pe(wt,function(Pr,Yr){return He(Nt,function(Kr){return Yr===Kr})}),$e=xt,ot=Zu(H),vu(Ie,Be,function(Pr,Yr){var Kr,xo,Go,vo,Yo,bi=(Kr=Yr.row,xo=$e.left-Pr.left,Go=Yr.y-Pr.top,vo=ot,jl(Yo=Wt.fromTag("div"),{position:"absolute",left:xo+"px",top:Go-3.5+"px",height:"7px",width:vo+"px"}),$s(Yo,{"data-row":Kr,role:"presentation"}),Yo);return Pd(bi,o0),bi});var $t,an,kt,Yt,Pn,Lt,Ln,cn=0<ce.length?Td.positions(ce,H):[],Ar=0<cn.length?(an=St,kt=[],ve(($t=T).grid.columns,function(Pr){Oo.getColumnAt($t,Pr).map(function(Yr){return Yr.element}).forall(an)&&kt.push(Pr)}),Pe(kt,function(Pr){return Te(Oo.filterItems($t,function(Yr){return Yr.column===Pr}),function(Yr){return an(Yr.element)})})):[];Yt=R,Pn=Pe(cn,function(Pr,Yr){return He(Ar,function(Kr){return Yr===Kr})}),Lt=xt,Ln=vc(H),vu(Yt,Pn,function(Pr,Yr){var Kr,xo,Go,vo,Yo,bi=(Kr=Yr.col,xo=Yr.x-Pr.left,Go=Lt.top-Pr.top,vo=Ln,jl(Yo=Wt.fromTag("div"),{position:"absolute",left:xo-3.5+"px",top:Go+"px",height:vo+"px",width:"7px"}),$s(Yo,{"data-column":Kr,role:"presentation"}),Yo);return Pd(bi,mm),bi})}(H=Oo.fromTable(R),T,R,fh(H),vi(H))}function qy(T,R){Ve(Sa(T.parent(),"."+el),R)}function np(T){qy(T,function(R){lu(R,"display","none")})}function R_(T){qy(T,function(R){lu(R,"display","block")})}function za(T,R){return T.fire("newrow",{node:R})}function tu(T,R){return T.fire("newcell",{node:R})}function Ql(T,R,H){T.fire("TableModified",hr(hr({},H),{table:R}))}function rp(T){return T.getParam("table_sizing_mode","auto")}function Yy(T){return T.getParam("table_responsive_width")}function L_(T){return T.getParam("table_border_widths",fp,"array")}function mb(T){return T.getParam("table_border_styles",jv,"array")}function Ov(T){return T.getParam("table_default_attributes",RS,"object")}function op(T){return T.getParam("table_default_styles",function(R){var H;if(vm(R)){var Q=R.dom,ce=null!==(H=Q.getParent(R.selection.getStart(),Q.isBlock))&&void 0!==H?H:R.getBody(),ge=Hc(Wt.fromDom(ce));return hr(hr({},cp),{width:ge+"px"})}return dp(R)?Vo(cp,function(Ie,Be){return"width"!==Be}):cp}(T),"object")}function X1(T){return T.getParam("table_cell_advtab",!0,"boolean")}function rm(T){return T.getParam("table_row_advtab",!0,"boolean")}function mh(T){return T.getParam("table_advtab",!0,"boolean")}function Ei(T){return T.getParam("table_style_by_css",!1,"boolean")}function ca(T){return T.getParam("table_cell_class_list",[],"array")}function Kf(T){return T.getParam("table_class_list",[],"array")}function Up(T){return"relative"===rp(T)||!0===Yy(T)}function Nd(T){var R="section",H=T.getParam("table_header_type",R,"string");return pt(["section","cells","sectionCells","auto"],H)?H:R}function vh(T){var R=T.getParam("table_column_resizing",_l,"string");return jt(["preservetable","resizetable"],function(H){return H===R}).getOr(_l)}function Gi(T){return"preservetable"===vh(T)}function vb(T){return"resizetable"===vh(T)}function Bd(T){var R=T.getParam("table_clone_elements");return Z(R)?tt.some(R.split(/[ ,]/)):Array.isArray(R)?tt.some(R):tt.none()}function N_(T){return T.getParam("table_background_color_map",[],"array")}function jp(T){return T.getParam("table_border_color_map",[],"array")}function yb(T,R){return(Up(T)?W_:vm(T)?Ds:Tf)(R)}function qp(T){Ma(T,"width")}function ip(T){return"false"!==cl(T,"data-mce-resize")}function om(T,R){return{element:T,offset:R}}function Yp(T,R){return(T.property().isText(R)?T.property().getText(R):T.property().children(R)).length}function zd(T,R){1===bv(T,"colspan")&&gu(T).bind(function(H){return Q=["fixed","relative","empty"],tt.from(em.exec(H)).bind(function(ce){var ge=Number(ce[1]),Ie=ce[2],Be=Ie;return He(Q,function($e){return He(jf[$e],function(ot){return Be===ot})})?tt.some({value:ge,unit:Ie}):tt.none()});var Q}).each(function(H){var Q=H.value/2;xn(T,Q,H.unit),xn(R,Q,H.unit)})}function bl(T){return Te(T,function(R){return wh(R.element)})}function ec(T){var R="thead"===T.section,H=Bp(ag(T.cells),"th");return R||H?{type:"header",subType:R&&H?"sectionCells":R?"section":"cells"}:"tfoot"===T.section?{type:"footer"}:{type:"body"}}function Z1(T,R,H){return Qa(H(T.element,R),!0,T.isLocked)}function zu(T,R){return T.section!==R?Mr(T.element,T.cells,R,T.isNew):T}function xc(){return{transformRow:zu,transformCell:function(T,R,H){var Q,ce,ge=H(T.element,R);return Qa("td"!==oo(ge)?(ce=wv(Q=ge,"td"),ns(Q,ce),ju(ce,Ou(Q)),ks(Q),ce):ge,T.isNew,T.isLocked)}}}function Ev(){return{transformRow:zu,transformCell:Z1}}function nu(){return{transformRow:function(T,R){return zu(T,"thead"===R?"tbody":R)},transformCell:Z1}}function Yi(T,R,H,Q){H===Q?Ma(T,R):es(T,R,H)}function tc(T,R,H){Zn(Qr(T,R)).fold(function(){return ka(T,H)},function(Q){return mc(Q,H)})}function Xp(T,R){if(0===T.length)return 0;var H=T[0];return Cr(T,function(Q){return!R(H.element,Q.element)}).getOr(T.length)}function $f(T,R,H){var Q=[];Ve(T.colgroups,function(xt){for(var St=[],wt=0;wt<T.grid.columns;wt++){var Nt=Oo.getColumnAt(T,wt).map(function(Tt){return Qa(Tt.element,H,!1)}).getOrThunk(function(){return Qa(R.colGap(),!0,!1)});St.push(Nt)}Q.push(Mr(xt.element,St,"colgroup",H))});for(var ce=0;ce<T.grid.rows;ce++){for(var ge=[],Ie=0;Ie<T.grid.columns;Ie++){var Be=Oo.getAt(T,ce,Ie).map(function(xt){return Qa(xt.element,H,xt.isLocked)}).getOrThunk(function(){return Qa(R.gap(),!0,!1)});ge.push(Be)}var $e=T.all[ce],ot=Mr($e.element,ge,$e.section,H);Q.push(ot)}return Q}function ap(T){return function bb(T,R){var H=Re(T,function(Q){return Re(Q.cells,Qe)});return Re(T,function(Q,ce){var ge=Ht(Q.cells,function(Ie,Be){if(!1!==H[ce][Be])return[];var $e,ot,xt,St,wt,Nt,Tt,$t,an=(St=R,$t="colgroup"===(Tt=($e=T)[ot=ce]).section,{colspan:Xp(Tt.cells.slice(xt=Be),St),rowspan:$t?1:Xp((wt=$e.slice(ot),Nt=xt,Re(wt,function(kt){return gc(kt,Nt)})),St)});return function(kt,Yt,Pn,Lt){for(var Ln=kt;Ln<kt+Pn;Ln++)for(var cn=Yt;cn<Yt+Lt;cn++)H[Ln][cn]=!0}(ce,Be,an.rowspan,an.colspan),[{element:Ie.element,rowspan:an.rowspan,colspan:an.colspan,isNew:Ie.isNew}]});return{element:Q.element,cells:ge,section:Q.section,isNew:Q.isNew}})}(T,wr)}function fa(T,R){return Bn(T.all,function(H){return jt(H.cells,function(Q){return wr(R,Q.element)})})}function Sf(T,R,H){var Q=To(Re(R.selection,function(ce){return Zg(ce).bind(function(ge){return fa(T,ge)}).filter(H)}));return uh(0<Q.length,Q)}function yu(T,R,H,Q,ce){return function(ge,Ie,Be,$e,ot){var xt=Oo.fromTable(Ie),St=tt.from(null==ot?void 0:ot.section).getOrThunk(r0);return R(xt,Be).map(function(wt){var Nt=$f(xt,$e,!1),Tt=T(Nt,wt,wr,ce($e),St),$t=du(Tt.grid);return{info:wt,grid:ap(Tt.grid),cursor:Tt.cursor,lockedColumns:$t}}).bind(function(wt){var Nt=function Xy(T,R){function Q(xt,St){0<xt.length?function H(xt,St){var wt,Nt,Tt;ju((Ru(Tt=Ly(wt=T,Nt=St).getOrThunk(function(){var $t=Wt.fromTag(Nt,Zs(wt).dom);return"thead"===Nt?tc(wt,"caption,colgroup",$t):"colgroup"===Nt?tc(wt,"caption",$t):to(wt,$t),$t})),Tt),("colgroup"===St?function($t){return Ht($t,function(an){return Re(an.cells,function(kt){return Yi(kt.element,"span",kt.colspan,1),kt.element})})}:function($t){return Re($t,function(an){an.isNew&&ce.push(an.element);var kt=an.element;return Ru(kt),Ve(an.cells,function(Yt){Yt.isNew&&ge.push(Yt.element),Yi(Yt.element,"colspan",Yt.colspan,1),Yi(Yt.element,"rowspan",Yt.rowspan,1),to(kt,Yt.element)}),kt})})(xt))}(xt,St):Ly(T,St).each(ks)}var ce=[],ge=[],Ie=[],Be=[],$e=[],ot=[];return Ve(R,function(xt){switch(xt.section){case"thead":Ie.push(xt);break;case"tbody":Be.push(xt);break;case"tfoot":$e.push(xt);break;case"colgroup":ot.push(xt)}}),Q(ot,"colgroup"),Q(Ie,"thead"),Q(Be,"tbody"),Q($e,"tfoot"),{newRows:ce,newCells:ge}}(Ie,wt.grid),Tt=tt.from(null==ot?void 0:ot.sizing).getOrThunk(function(){return Tf(Ie)}),$t=tt.from(null==ot?void 0:ot.resize).getOrThunk(nm);return H(Ie,wt.grid,wt.info,{sizing:Tt,resize:$t,section:St}),Q(Ie),tp(ge,Ie),Ma(Ie,La),0<wt.lockedColumns.length&&es(Ie,La,wt.lockedColumns.join(",")),tt.some({cursor:wt.cursor,newRows:Nt.newRows,newCells:Nt.newCells})})}}function Zp(T,R){return Sf(T,R,st).map(function(H){return{cells:H,generators:R.generators,clipboard:R.clipboard}})}function Uc(T,R){return Sf(T,R,st)}function nc(T,R){return Sf(T,R,function(H){return!H.isLocked})}function K1(T,R){return Te(R,function(H){return fa(T,H).exists(function(Q){return!Q.isLocked})})}function da(T,R){return R.mergable.filter(function(H){return K1(T,H.cells)})}function Fd(T,R){return R.unmergable.filter(function(H){return K1(T,H)})}function Kp(T,R,H,Q){for(var ce=Ai(T).rows,ge=!0,Ie=0;Ie<ce.length;Ie++)for(var Be=0;Be<Bs(ce[0]);Be++){var $e=ce[Ie],ot=gc($e,Be),xt=H(ot.element,R);!0===xt&&!1===ge?Dl($e,Be,Qa(Q(),!0,ot.isLocked)):!0===xt&&(ge=!1)}return T}function yh(T,R){return{rowDelta:0,colDelta:Bs(T[0])-Bs(R[0])}}function Cf(T,R){return{rowDelta:T.length-R.length,colDelta:0}}function Ju(T,R,H,Q){var ce="colgroup"===R.section?H.col:H.cell;return ve(T,function(ge){return Qa(ce(),!0,Q(ge))})}function po(T,R,H,Q){var ce=T[T.length-1];return T.concat(ve(R,function(){var Ie=ql(ce,"colgroup"===ce.section?H.colgroup:H.row,xe),Be=Ju(Ie.cells.length,Ie,H,function($e){return ho(Q,$e.toString())});return Vp(Ie,Be)}))}function sp(T,R,H,Q){return Re(T,function(ce){var ge=Ju(R,ce,H,Qe);return pc(ce,Q,ge)})}function Ho(T,R,H){var Q=R.colDelta<0?sp:xe,ce=R.rowDelta<0?po:xe,ge=du(T),Ie=Bs(T[0]),Be=He(ge,function(xt){return xt===Ie-1}),$e=Q(T,Math.abs(R.colDelta),H,Be?Ie-1:Ie),ot=du($e);return ce($e,Math.abs(R.rowDelta),H,It(ot,st))}function Fs(T,R,H){return Pe(H,function(Q){return Q>=T.column&&Q<=Bs(R[0])+T.column})}function Ui(T,R,H,Q,ce){var ge=T,Ie=ce,Be=Q.cell;0<ge&&ge<R[0].cells.length&&Ve(R,function(ot){var St=ot.cells[ge];Ie(St.element,ot.cells[ge-1].element)&&Dl(ot,ge,Qa(Be(),!0,St.isLocked))});var $e=Ho(H,Cf(H,R),Q);return Re(Ho(R,Cf(R,$e),Q),function(ot,xt){return pc(ot,T,$e[xt].cells)})}function Ii(T,R,H,Q,ce){!function Vd(T,R,H,Q){var ge,Ie=Ai(T).rows;0<R&&R<Ie.length&&(ge=H,Ve(sn(Ie[R-1].cells,function(Be,$e){return He(Be,function(ot){return ge(ot.element,$e.element)})?Be:Be.concat([$e])},[]),function(Be){for(var $e=tt.none(),ot=R;ot<Ie.length;ot++)for(var xt=0;xt<Bs(Ie[0]);xt++)!function(St){var wt=Ie[ot],Nt=gc(wt,St);H(Nt.element,Be.element)&&($e=$e.isNone()?tt.some(Q()):$e).each(function(Tt){Dl(wt,St,Qa(Tt,!0,Nt.isLocked))})}(xt)}))}(R,T,ce,Q.cell);var ge,Ie,Be=du(R),$e=yh(R,H),ot=Ho(R,hr(hr({},$e),{colDelta:$e.colDelta-Be.length}),Q),xt=Ai(ot),St=xt.cols,wt=xt.rows,Nt=du(ot),Tt=yh(H,R),$t=hr(hr({},Tt),{colDelta:Tt.colDelta+Nt.length}),an=Ho((ge=Q,Ie=Nt,Re(H,function(kt){return sn(Ie,function(Yt,Pn){return Kg(Yt,Pn,Ju(1,kt,ge,st)[0])},kt)})),$t,Q);return St.concat(wt.slice(0,T)).concat(an).concat(wt.slice(T,wt.length))}function Pv(T,R,H,Q,ce){var Ie,Be,$e,ot=Ai(T),xt=ot.rows,St=ot.cols,wt=xt.slice(0,R),Nt=xt.slice(R),Tt=(Ie=function($t,an){return 0<R&&R<xt.length&&Q(ya(xt[R-1],an),ya(xt[R],an))?gc(xt[R],an):Qa(ce($t.element,Q),!0,$t.isLocked)},Be=Q,$e=ce,ql(xt[H],function($t){return $e($t,Be)},Ie));return St.concat(wt).concat([Tt]).concat(Nt)}function Ts(T,R,H,Q,ce){return Re(T,function(ge){var Be,$e=0<R&&R<Bs(ge)&&Q(ya(ge,R-1),ya(ge,R)),ot=(Be=ce,"colgroup"!==ge.section&&$e?gc(ge,R):Qa(Be(gc(ge,H).element,Q),!0,!1));return Kg(ge,R,ot)})}function rc(T,R,H,Q){return void 0!==ya((ge=T)[Ie=R],H)&&0<Ie&&Q(ya(ge[Ie-1],H),ya(ge[Ie],H))||(ce=T[R],0<H&&Q(ya(ce,H-1),ya(ce,H)));var ce,ge,Ie}function ha(T,R,H,Q){function ce(ge){return("row"===ge?lh:By)(R)?ge+"group":ge}return T?wh(R)?ce(H):null:Q&&wh(R)?ce("row"===H?"col":"row"):null}function Ya(T,R,H){return Qa(H(T.element,R),!0,T.isLocked)}function Hd(T,R,H,Q,ce,ge,Ie){return Re(T,function(Be,$e){return St=Re((ot=Be).cells,function(wt,Nt){if($t=wt,He(R,function(an){return H($t.element,an.element)})){var Tt=Ie(wt,$e,Nt)?ce(wt,H,Q):wt;return ge(Tt,$e,Nt).each(function(an){var kt=Tt.element;ni({scope:tt.from(an)},function(Yt,Pn){Yt.fold(function(){Ma(kt,Pn)},function(Lt){sh(kt.dom,Pn,Lt)})})}),Tt}return wt;var $t}),Mr(ot.element,St,ot.section,ot.isNew);var ot,St})}function im(T,R,H){return Ht(T,function(Q,ce){return rc(T,ce,R,H)?[]:[gc(Q,R)]})}function Rv(T,R,H,Q,ce){var ge,Ie,Be,$e,ot=Ai(T).rows,xt=Ht(R,function(Tt){return im(ot,Tt,Q)}),St=Re(T,function(Tt){return bl(Tt.cells)}),wt=(ge=xt,Te(Ie=St,xe)&&bl(ge)?st:function(Tt,$t,an){return!("th"===oo(Tt.element)&&Ie[$t])}),Nt=(Be=H,$e=St,function(Tt,$t){return tt.some(ha(Be,Tt.element,"row",$e[$t]))});return Hd(T,xt,Q,ce,Ya,Nt,wt)}function kf(T,R,H,Q){var ce=Ai(T).rows;return Hd(T,Re(R,function(ge){return gc(ce[ge.row],ge.column)}),H,Q,Ya,tt.none,st)}function Fa(T){return sn(T,function(R,H){return He(R,function(Q){return Q.column===H.column})?R:R.concat([H])},[]).sort(function(R,H){return R.column-H.column})}function Jf(T){return"tr"===oo(T)||wl(T)}function $1(T){return{element:T,colspan:Vf(T,"colspan",1),rowspan:Vf(T,"rowspan",1)}}function Wd(T){return ts(T,"scope").map(function(R){return R.substr(0,3)})}function Qf(T){return R=T,H=Eb.property().name(R),pt(j_,H);var R,H}function bh(T){return R=T,pt(["ol","ul"],Eb.property().name(R));var R}function _c(T){return wf(T,!0)}function Ol(T){0===zp(T).length&&ks(T)}function xb(T,R){return{grid:T,cursor:R}}function ji(T,R,H){var Q,ce,ge,Ie,Be;return xb(T,(Q=R,ce=H,Be=Ai(T).rows,tt.from(null===(Ie=null===(ge=Be[Q])||void 0===ge?void 0:ge.cells[ce])||void 0===Ie?void 0:Ie.element).filter(_c).orThunk(function(){return Bn(Be,function(ot){return Bn(ot.cells,function(xt){var St=xt.element;return uh(_c(St),St)})})})))}function Lv(T){return sn(T,function(R,H){return He(R,function(Q){return Q.row===H.row})?R:R.concat([H])},[]).sort(function(R,H){return R.row-H.row})}function am(T,R){return function(H,Q,ce,ge,Ie){return ji(function(Be,$e,ot,xt,St,wt,Nt){var Tt=Ai(Be),$t=Tt.cols,an=Tt.rows,kt=an[$e[0]],Yt=Ht($e,function(xo){return Yo=St,Ht((Go=an)[vo=xo].cells,function(bi,Ji){return rc(Go,vo,Ji,Yo)?[]:[bi]});var Go,vo,Yo}),Pn=Re(kt.cells,function(xo,Go){return bl(im(an,Go,St))}),Lt=fr([],an,!0);Ve($e,function(xo){Lt[xo]=Nt.transformRow(an[xo],ot)});var Ln,cn,Ar,Vn,Pr=$t.concat(Lt),Yr=(Ln=kt,Te(cn=Pn,xe)&&bl(Ln.cells)?st:function(xo,Go,vo){return!("th"===oo(xo.element)&&cn[vo])}),Kr=(Ar=xt,Vn=Pn,function(xo,Go,vo){return tt.some(ha(Ar,xo.element,"col",Vn[vo]))});return Hd(Pr,Yt,St,wt,Nt.transformCell,Kr,Yr)}(H,Re(Lv(Q),function(Be){return Be.row}),T,R,ce,ge.replaceOrInit,Ie),Q[0].row,Q[0].column)}}function ed(T,R,H){var Q,ce=(Q=H.section,hc(T,function(){return Q}));return $f(Oo.generate(ce),R,!0)}function xh(T,R,H,Q){var ce=Q.sizing,ge=Oo.generate(R);Ba(ge,ce.getWidths(ge,ce),ce)}function Do(T,R,H,Q){var ce=H,ge=Q.sizing,Ie=Q.resize,Be=Oo.generate(R),$e=ge.getWidths(Be,ge),ot=ge.pixelWidth(),xt=Ie.calcRedestributedWidths($e,ot,ce.pixelDelta,ge.isRelative),wt=xt.delta;Ba(Be,xt.newSizes,ge),ge.adjustTableWidth(wt)}function td(T,R){return He(R,function(H){return 0===H.column&&H.isLocked})}function $p(T,R){return He(R,function(H){return H.column+H.colspan>=T.grid.columns&&H.isLocked})}function El(T,R){var H=vi(T);return sn(Fa(R),function(Q,ce){return Q+H[ce.column].map(Zu).getOr(0)},0)}function J1(T){return function(R,H){return Uc(R,H).filter(function(Q){return!(T?td:$p)(R,Q)}).map(function(Q){return{details:Q,pixelDelta:El(R,Q)}})}}function bu(T){return function(R,H){return Zp(R,H).filter(function(Q){return!(T?td:$p)(R,Q.cells)})}}function Gd(T,R){var H=Oo.fromTable(T);return Uc(H,R).bind(function(Q){var ce=Q[Q.length-1],ge=Q[0].column,Ie=ce.column+ce.colspan,Be=_r(Re(H.all,function($e){return Pe($e.cells,function(ot){return ot.column>=ge&&ot.column<Ie})}));return ag(Be)}).getOr("")}function Jp(T,R){return Uc(Oo.fromTable(T),R).bind(ag).getOr("")}function Ud(T,R,H,Q){return ve(T,function(ce){return function(ge,Ie,Be,$e){for(var ot=Wt.fromTag("tr"),xt=0;xt<ge;xt++){var St=Wt.fromTag($e<Ie||xt<Be?"th":"td");xt<Be&&es(St,"scope","row"),$e<Ie&&es(St,"scope","col"),to(St,Wt.fromTag("br")),to(ot,St)}return ot}(R,H,Q,ce)})}function qc(T,R){T.selection.select(R.dom,!0),T.selection.collapse(!0)}function Zy(T,R,H,Q,ce){var ge=op(T),Ie={styles:ge,attributes:Ov(T),colGroups:T.getParam("table_use_colgroups",!1,"boolean")};return T.undoManager.ignore(function(){var Be=function(wt,Nt,Tt,$t,an,kt){void 0===kt&&(kt=Bl);var Yt,Pn,Lt=Wt.fromTag("table"),Ln="cells"!==an;jl(Lt,kt.styles),$s(Lt,kt.attributes),kt.colGroups&&to(Lt,(Yt=Nt,Pn=Wt.fromTag("colgroup"),ve(Yt,function(){return to(Pn,Wt.fromTag("col"))}),Pn));var cn,Ar=Math.min(wt,Tt);Ln&&0<Tt&&(cn=Wt.fromTag("thead"),to(Lt,cn),ju(cn,Ud(Tt,Nt,"sectionCells"===an?Ar:0,$t)));var Vn=Wt.fromTag("tbody");return to(Lt,Vn),ju(Vn,Ud(Ln?wt-Ar:wt,Nt,Ln?0:Tt,$t)),Lt}(H,R,ce,Q,Nd(T),Ie);es(Be,"data-mce-id","__mce");var $e,ot,xt,St=($e=Be,ot=Wt.fromTag("div"),xt=Wt.fromDom($e.dom.cloneNode(!0)),to(ot,xt),ot.dom.innerHTML);T.insertContent(St),T.addVisual()}),mo(eu(T),'table[data-mce-id="__mce"]').map(function(Be){var $e,ot,xt;return vm(T)?ic(Be):dp(T)?kc(Be):(Up(T)||Z($e=ge.width)&&-1!==$e.indexOf("%"))&&hp(Be),_f(Be),Ma(Be,"data-mce-id"),ot=T,Ve(Sa(Be,"tr"),function(St){za(ot,St.dom),Ve(Sa(St,"th,td"),function(wt){tu(ot,wt.dom)})}),xt=T,mo(Be,"td,th").each(De(qc,xt)),Be.dom}).getOr(null)}function oi(T,R,H,Q,ce){function ge(Be){return he(Be)&&0<Be}return void 0===Q&&(Q={}),ge(R)&&ge(H)?Zy(T,H,R,Q.headerColumns||0,Q.headerRows||0):(console.error(ce),null)}function Nv(T){return function(){return T().fold(function(){return[]},function(R){return Re(R,function(H){return H.dom})})}}function _b(T){return function(R){var H=0<R.length?tt.some(la(R)):tt.none();T(H)}}function li(T,R,H){var Q=Vf(T,R,1);1===H||Q<=1?Ma(T,R):es(T,R,Math.min(H,Q))}function Ky(T,R,H){return function(Q,ce){for(var ge=0;ge<ce.length;ge++){var Ie=T.getStyle(ce[ge],H);if((Q=void 0===Q?Ie:Q)!==Ie)return""}return Q}(void 0,T.select("td,th",R))}function up(T,R,H){H&&T.formatter.apply("align"+H,{},R)}function $y(T,R){tl.each("left center right".split(" "),function(H){T.formatter.remove("align"+H,{},R)})}function wc(T){return Zv.test(H=T)||Mc.test(H)?tt.some({value:(qt(R=T,"#")?R.substring(1):R).toUpperCase()}):tt.none();var R,H}function Yc(T){var R=T.toString(16);return(1===R.length?"0"+R:R).toUpperCase()}function Vs(T){return{value:Yc(T.red)+Yc(T.green)+Yc(T.blue)}}function xu(T,R,H,Q){return{red:T,green:R,blue:H,alpha:Q}}function Pl(T,R,H,Q){return xu(parseInt(T,10),parseInt(R,10),parseInt(H,10),parseFloat(Q))}function hs(T){var R=T;return{get:function(){return R},set:function(H){R=H}}}function oc(T){function R(){return H.get().each(T)}var H=hs(tt.none());return{clear:function(){R(),H.set(tt.none())},isSet:function(){return H.get().isSome()},get:function(){return H.get()},set:function(Q){R(),H.set(tt.some(Q))}}}function ru(){var T=oc(We);return hr(hr({},T),{on:function(R){return T.get().each(R)}})}function wb(T){return Ir(T,"menu")}function fo(T,R){return function(H){var Q;T.execCommand("mceTableApplyCellStyle",!1,((Q={})[R]=H,Q))}}function sm(T,R,H,Q,ce){return function(ge){return ge(kh(T,R,H,Q,ce))}}function $n(T,R,H){var Q=Re(R,function(ce){return{text:ce.title,value:"#"+wc(ge=ce.value).orThunk(function(){return function(Ie){if("transparent"===Ie)return tt.some(xu(0,0,0,0));var Be=l0.exec(Ie);if(null!==Be)return tt.some(Pl(Be[1],Be[2],Be[3],"1"));var $e=Ch.exec(Ie);return null!==$e?tt.some(Pl($e[1],$e[2],$e[3],$e[4])):tt.none()}(ge).map(Vs)}).getOrThunk(function(){var Ie=document.createElement("canvas");Ie.height=1,Ie.width=1;var Be=Ie.getContext("2d");Be.clearRect(0,0,Ie.width,Ie.height),Be.fillStyle="#FFFFFF",Be.fillStyle=ge,Be.fillRect(0,0,1,1);var $e=Be.getImageData(0,0,1,1).data;return Vs(xu($e[0],$e[1],$e[2],$e[3]))}).value,type:"choiceitem"};var ge});return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:0<Q.length?Q:void 0,allowCustomColors:!1},onAction:function(ce){var ge;T.execCommand("mceTableApplyCellStyle",!1,((ge={})[H]="remove"===ce.value?"":ce.value,ge))}}]}function F_(T){return function(){var R=T.queryCommandValue("mceTableRowType");T.execCommand("mceTableRowType",!1,{type:"header"===R?"body":"header"})}}function Bv(T){return function(){var R=T.queryCommandValue("mceTableColType");T.execCommand("mceTableColType",!1,{type:"th"===R?"td":"th"})}}function Jy(T){return c0.concat((0<(R=$c(ca(T))).length?tt.some({name:"class",type:"listbox",label:"Class",items:R}):tt.none()).toArray());var R}function Va(T,R){var H=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat($c(mb(T)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:"cell"===R?[{name:"borderwidth",type:"input",label:"Border width"}].concat(H):H}}function Qp(T){return function(R,H){var Q=R.dom;return{setAttrib:function(ce,ge){T&&!ge||Q.setAttrib(H,ce,ge)},setStyle:function(ce,ge){T&&!ge||Q.setStyle(H,ce,ge)},setFormat:function(ce,ge){T&&!ge||(""===ge?R.formatter.remove(ce,{value:null},H,!0):R.formatter.apply(ce,{value:ge},H))}}}}function nd(T){return function(R){return qt(R,"rgb")?T.toHex(R):R}}function pn(T,R){var H=Wt.fromDom(R);return{borderwidth:fu(H,"border-width").getOr(""),borderstyle:fu(H,"border-style").getOr(""),bordercolor:fu(H,"border-color").map(nd(T)).getOr(""),backgroundcolor:fu(H,"background-color").map(nd(T)).getOr("")}}function eg(T){var R=T[0];return Ve(T.slice(1),function(H){Ve(no(R),function(Q){ni(H,function(ce,ge){var Ie=R[Q];""!==Ie&&Q===ge&&Ie!==ce&&(R[Q]="")})})}),R}function um(T,R,H,Q){return jt(T,function(ce){return!se(H.formatter.matchNode(Q,R+ce))}).getOr("")}function lm(T,R){var H=Oo.fromTable(T);return Re(Pe(Oo.justCells(H),function(Q){return He(R,function(ce){return wr(Q.element,ce)})}),function(Q){return{element:Q.element.dom,column:Oo.getColumnAt(H,Q.column).map(function(ce){return ce.element.dom})}})}function zv(T,R,H,Q){var ce=Q.getData();Q.close(),T.undoManager.transact(function(){var ge,Ie=T,Be=R,$e=H,ot=Vo(ge=ce,function(xt,St){return $e[St]!==xt});0<Ua(ot)&&1<=Be.length&&ba(Be[0]).each(function(xt){var St,wt,Nt,Tt=lm(xt,Be),$t=0<Ua(Vo(ot,function(kt,Yt){return"scope"!==Yt&&"celltype"!==Yt})),an=ho(ot,"celltype");($t||ho(ot,"scope"))&&(St=Ie,wt=ge,Nt=1===Tt.length,Ve(Tt,function(kt){var Yt,Pn,Lt,Ln,cn,Ar,Vn=kt.element,Pr=Nt?Af.normal(St,Vn):Af.ifTruthy(St,Vn),Yr=kt.column.map(function(xo){return Nt?Af.normal(St,xo):Af.ifTruthy(St,xo)}).getOr(Pr),Kr=wt;(Yt=Pr).setAttrib("scope",Kr.scope),Yt.setAttrib("class",Kr.class),Yt.setStyle("height",$h(Kr.height)),Yr.setStyle("width",$h(Kr.width)),X1(St)&&((Pn=Pr).setFormat("tablecellbackgroundcolor",(Lt=wt).backgroundcolor),Pn.setFormat("tablecellbordercolor",Lt.bordercolor),Pn.setFormat("tablecellborderstyle",Lt.borderstyle),Pn.setFormat("tablecellborderwidth",$h(Lt.borderwidth))),Nt&&($y(St,Vn),Ln=St,cn=Vn,tl.each("top middle bottom".split(" "),function(xo){Ln.formatter.remove("valign"+xo,{},cn)})),wt.halign&&up(St,Vn,wt.halign),!wt.valign||(Ar=wt.valign)&&St.formatter.apply("valign"+Ar,{},Vn)})),an&&Ie.execCommand("mceTableCellType",!1,{type:ge.celltype,no_events:!0}),Ql(Ie,xt.dom,{structure:an,style:$t})}),T.focus()})}function jd(T,R){var H,Q,ce,ge,Ie,Be=rg(R);0!==Be.length&&(Q=T,H=eg(ba((ce=Be)[0]).map(function($e){return Re(lm($e,ce),function(ot){return St=Q,wt=ot.element,Nt=X1(Q),$t=St.dom,an=ot.column.getOr(wt),hr({width:xt(an,"width"),height:xt(wt,"height"),scope:$t.getAttrib(wt,"scope"),celltype:wt.nodeName.toLowerCase(),class:$t.getAttrib(wt,"class",""),halign:km(St,wt),valign:Eo(St,wt)},Nt?pn($t,wt):{});function xt(kt,Yt){return $t.getStyle(kt,Yt)||$t.getAttrib(kt,Yt)}var St,wt,Nt,$t,an})}).getOrDie()),ge={type:"tabpanel",tabs:[{title:"General",name:"general",items:Jy(T)},Va(T,"cell")]},Ie={type:"panel",items:[{type:"grid",columns:2,items:Jy(T)}]},T.windowManager.open({title:"Cell Properties",size:"normal",body:X1(T)?ge:Ie,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:H,onSubmit:De(zv,T,Be,H)}))}function Ha(T){return _u.concat((0<(R=$c(T.getParam("table_row_class_list",[],"array"))).length?tt.some({name:"class",type:"listbox",label:"Class",items:R}):tt.none()).toArray());var R}function ps(T,R,H,Q){var ce=Q.getData();Q.close(),T.undoManager.transact(function(){var ge,Ie,Be,$e,ot,xt,St,wt=T,Nt=R,Tt=H,$t=Vo(ge=ce,function(an,kt){return Tt[kt]!==an});0<Ua($t)&&(Ie=ho($t,"type"),(Be=!Ie||1<Ua($t))&&($e=wt,ot=ge,xt=Tt,St=1===Nt.length,Ve(Nt,function(an){var kt,Yt,Pn,Lt=St?Af.normal($e,an):Af.ifTruthy($e,an),Ln=ot;(kt=Lt).setAttrib("class",Ln.class),kt.setStyle("height",$h(Ln.height)),rm($e)&&((Yt=Lt).setStyle("background-color",(Pn=ot).backgroundcolor),Yt.setStyle("border-color",Pn.bordercolor),Yt.setStyle("border-style",Pn.borderstyle)),ot.align!==xt.align&&($y($e,an),up($e,an,ot.align))})),Ie&&wt.execCommand("mceTableRowType",!1,{type:ge.type,no_events:!0}),ba(Wt.fromDom(Nt[0])).each(function(an){return Ql(wt,an.dom,{structure:Ie,style:Be})})),T.focus()})}function tg(T){var R,H,Q,ce,ge,Ie,Be,$e=(R=Ms(T),H=xl.selected,ce=(Q=Cc(R)).bind(function(ot){return ba(ot)}).map(xv),Ny(Q,ce,function(ot,xt){return Pe(xt,function(St){return He(la(St.dom.cells),function(wt){return"1"===cl(wt,H)||wr(wt,ot)})})}).getOr([]));0!==$e.length&&(ge=eg(Re($e,function(ot){return xt=T,St=ot.dom,wt=rm(T),hr({height:(Tt=xt.dom).getStyle(St,"height")||Tt.getAttrib(St,"height"),class:Tt.getAttrib(St,"class",""),type:ba(Wt.fromDom(Nt=St)).map(function($t){var an={selection:la(Nt.cells)};return Cm($t,an)}).getOr(""),align:km(xt,St)},wt?pn(Tt,St):{});var xt,St,wt,Nt,Tt})),Ie={type:"tabpanel",tabs:[{title:"General",name:"general",items:Ha(T)},Va(T,"row")]},Be={type:"panel",items:[{type:"grid",columns:2,items:Ha(T)}]},T.windowManager.open({title:"Row Properties",size:"normal",body:rm(T)?Ie:Be,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:ge,onSubmit:De(ps,T,Re($e,function(ot){return ot.dom}),ge)}))}function V_(T,R,H,Q){var ce=T.dom,ge=Q.getData(),Ie=Vo(ge,function(Be,$e){return H[$e]!==Be});Q.close(),""===ge.class&&delete ge.class,T.undoManager.transact(function(){var Be,$e,ot,xt,St;R||(Be=parseInt(ge.cols,10)||1,$e=parseInt(ge.rows,10)||1,R=Zy(T,Be,$e,0,0)),0<Ua(Ie)&&(function(wt,Nt,Tt){var $t,an=wt.dom,kt={},Yt={};if(kt.class=Tt.class,Yt.height=$h(Tt.height),an.getAttrib(Nt,"width")&&!Ei(wt)?kt.width=($t=Tt.width)?$t.replace(/px$/,""):"":Yt.width=$h(Tt.width),Ei(wt)?(Yt["border-width"]=$h(Tt.border),Yt["border-spacing"]=$h(Tt.cellspacing)):(kt.border=Tt.border,kt.cellpadding=Tt.cellpadding,kt.cellspacing=Tt.cellspacing),Ei(wt)&&Nt.children)for(var Pn=0;Pn<Nt.children.length;Pn++)Mh(an,Nt.children[Pn],{"border-width":$h(Tt.border),padding:$h(Tt.cellpadding)}),mh(wt)&&Mh(an,Nt.children[Pn],{"border-color":Tt.bordercolor});mh(wt)&&(Yt["background-color"]=Tt.backgroundcolor,Yt["border-color"]=Tt.bordercolor,Yt["border-style"]=Tt.borderstyle),kt.style=an.serializeStyle(hr(hr({},op(wt)),Yt)),an.setAttribs(Nt,hr(hr({},Ov(wt)),kt))}(T,R,ge),((ot=ce.select("caption",R)[0])&&!ge.caption||!ot&&ge.caption)&&T.execCommand("mceTableToggleCaption"),""===ge.align?$y(T,R):up(T,R,ge.align)),T.focus(),T.addVisual(),0<Ua(Ie)&&(St=!(xt=ho(Ie,"caption"))||1<Ua(Ie),Ql(T,R,{structure:xt,style:St}))})}function Q1(T,R){var H,Q,ce,ge,Ie,Be,$e,ot,xt,St,wt,Nt,Tt,$t,an,kt,Yt,Pn,Lt,Ln=T.dom,cn=(ce=mh(Q=T),ot=op(Q),xt=Ov(Q),St=ce?(ge=Q.dom,{borderstyle:ja(ot,"border-style").getOr(""),bordercolor:nd(ge)(ja(ot,"border-color").getOr("")),backgroundcolor:nd(ge)(ja(ot,"background-color").getOr(""))}):{},hr(hr(hr(hr(hr(hr({},{height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""}),ot),xt),St),($e=ot["border-width"],Ei(Q)&&$e?{border:$e}:ja(xt,"border").fold(function(){return{}},function(vo){return{border:vo}}))),(Ie=ja(ot,"border-spacing").or(ja(xt,"cellspacing")).fold(function(){return{}},function(vo){return{cellspacing:vo}}),Be=ja(ot,"border-padding").or(ja(xt,"cellpadding")).fold(function(){return{}},function(vo){return{cellpadding:vo}}),hr(hr({},Ie),Be))));!1===R?(H=Ln.getParent(T.selection.getStart(),"table",T.getBody()))?(Nt=H,Tt=mh(wt=T),Yt=wt.dom,Pn=Ei(wt)?Yt.getStyle(Nt,"border-spacing")||Yt.getAttrib(Nt,"cellspacing"):Yt.getAttrib(Nt,"cellspacing")||Yt.getStyle(Nt,"border-spacing"),Lt=Ei(wt)?Ky(Yt,Nt,"padding")||Yt.getAttrib(Nt,"cellpadding"):Yt.getAttrib(Nt,"cellpadding")||Ky(Yt,Nt,"padding"),cn=hr({width:Yt.getStyle(Nt,"width")||Yt.getAttrib(Nt,"width"),height:Yt.getStyle(Nt,"height")||Yt.getAttrib(Nt,"height"),cellspacing:Pn,cellpadding:Lt,border:($t=Yt,kt=fu(Wt.fromDom(an=Nt),"border-width"),Ei(wt)&&kt.isSome()?kt.getOr(""):$t.getAttrib(an,"border")||Ky(wt.dom,an,"border-width")||Ky(wt.dom,an,"border")),caption:!!Yt.select("caption",Nt)[0],class:Yt.getAttrib(Nt,"class",""),align:km(wt,Nt)},Tt?pn(Yt,Nt):{})):mh(T)&&(cn.borderstyle="",cn.bordercolor="",cn.backgroundcolor=""):(cn.cols="1",cn.rows="1",mh(T)&&(cn.borderstyle="",cn.bordercolor="",cn.backgroundcolor=""));var Ar=$c(Kf(T));0<Ar.length&&cn.class&&(cn.class=cn.class.replace(/\s*mce\-item\-table\s*/g,""));var Vn,Pr,Yr,Kr,xo={type:"grid",columns:2,items:(Vn=Ar,Pr=R?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],Yr=T.getParam("table_appearance_options",!0,"boolean")?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],Kr=0<Vn.length?[{type:"listbox",name:"class",label:"Class",items:Vn}]:[],Pr.concat([{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}]).concat(Yr).concat([{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}]).concat(Kr))},Go=mh(T)?{type:"tabpanel",tabs:[{title:"General",name:"general",items:[xo]},Va(T,"table")]}:{type:"panel",items:[xo]};T.windowManager.open({title:"Table Properties",size:"normal",body:Go,onSubmit:De(V_,T,H,cn),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:cn})}function Qy(T){return Xc(Ms(T),ml(T))}function tx(T,R){return ba(T,R).bind(function(H){var Q=zp(H);return Cr(Q,function(ce){return wr(T,ce)}).map(function(ce){return{index:ce,all:Q}})})}function Fv(T,R){var H=T.document.createRange();return H.selectNode(R.dom),H}function e0(T,R){var H=T.document.createRange();return lg(H,R),H}function rd(T,R,H){var Q,ce=T.document.createRange(),ge=ce;return R.fold(function(Ie){ge.setStartBefore(Ie.dom)},function(Ie,Be){ge.setStart(Ie.dom,Be)},function(Ie){ge.setStartAfter(Ie.dom)}),Q=ce,H.fold(function(Ie){Q.setEndBefore(Ie.dom)},function(Ie,Be){Q.setEnd(Ie.dom,Be)},function(Ie){Q.setEndAfter(Ie.dom)}),ce}function pa(T,R,H,Q,ce){var ge=T.document.createRange();return ge.setStart(R.dom,H),ge.setEnd(Q.dom,ce),ge}function t0(T){return{left:T.left,top:T.top,right:T.right,bottom:T.bottom,width:T.width,height:T.height}}function ng(T,R,H){return R(Wt.fromDom(H.startContainer),H.startOffset,Wt.fromDom(H.endContainer),H.endOffset)}function Sb(T,R){var H,Q,ce,ge=(H=T,R.match({domRange:function(Ie){return{ltr:K(Ie),rtl:tt.none}},relative:function(Ie,Be){return{ltr:aa(function(){return rd(H,Ie,Be)}),rtl:aa(function(){return tt.some(rd(H,Be,Ie))})}},exact:function(Ie,Be,$e,ot){return{ltr:aa(function(){return pa(H,Ie,Be,$e,ot)}),rtl:aa(function(){return tt.some(pa(H,$e,ot,Ie,Be))})}}}));return(ce=(Q=ge).ltr()).collapsed?Q.rtl().filter(function(Ie){return!1===Ie.collapsed}).map(function(Ie){return ad.rtl(Wt.fromDom(Ie.endContainer),Ie.endOffset,Wt.fromDom(Ie.startContainer),Ie.startOffset)}).getOrThunk(function(){return ng(0,ad.ltr,ce)}):ng(0,ad.ltr,ce)}function Vv(T,R){return Sb(T,R).match({ltr:function(H,Q,ce,ge){var Ie=T.document.createRange();return Ie.setStart(H.dom,Q),Ie.setEnd(ce.dom,ge),Ie},rtl:function(H,Q,ce,ge){var Ie=T.document.createRange();return Ie.setStart(ce.dom,ge),Ie.setEnd(H.dom,Q),Ie}})}function Mf(T,R){return{parent:K(tt.from(T.dom.documentElement).map(Wt.fromDom).getOr(T)),view:K(T),origin:K(Ku(0,0)),isResizable:R}}function qd(T){return gu(T).exists(function(R){return Mb.test(R)})}function Cb(T){return gu(T).exists(function(R){return Hv.test(R)})}function n0(T){return gu(T).isNone()}function r0(){return{transformRow:xe,transformCell:Z1}}function Sc(T,R){function H(ce){if(Jf(ce))return wl((Ie={element:ce}).element)?T.colgroup(Ie):T.row(Ie);var ge,Ie,Be=(ge=R(ce),Ws(ge.element)?T.col(ge):T.cell(ge));return Q=tt.some({item:ce,replacement:Be}),Be}void 0===R&&(R=$1);var Q=tt.none();return{getOrInit:function(ce,ge){return Q.fold(function(){return H(ce)},function(Ie){return ge(ce,Ie.item)?Ie.replacement:H(ce)})}}}function _h(T){return function(R){function H(ce){var ge=R.replace(ce,T,"td"===T?{scope:null}:{});return Q.push({item:ce,sub:ge}),ge}var Q=[];return{replaceOrInit:function(ce,ge){return Jf(ce)||Ws(ce)?ce:(Ie=ce,Be=ge,jt(Q,function($e){return Be($e.item,Ie)}).fold(function(){return H(ce)},function($e){return ge(ce,$e.item)?$e.sub:H(ce)}));var Ie,Be}}}}function kb(T){return{unmerge:function(R){var H=Wd(R);return H.each(function(Q){return es(R,"scope",Q)}),function(){var Q=T.cell({element:R,colspan:1,rowspan:1});return dc(Q,"width"),dc(R,"width"),H.each(function(ce){return es(Q,"scope",ce)}),Q}},merge:function(R){return dc(R[0],"width"),function(){var H=To(Re(R,Wd));if(0===H.length)return tt.none();var Q=H[0],ce=["row","col"];return He(H,function(ge){return ge!==Q&&pt(ce,ge)})?tt.none():tt.from(Q)}().fold(function(){return Ma(R[0],"scope")},function(H){return es(R[0],"scope",H+"group")}),K(R[0])}}}var Mb=/(\d+(\.\d+)?)%/,Hv=/(\d+(\.\d+)?)px|em/,nx=Zi("col"),H_=K(Mb),cm=Zi("col"),Tf=function(T){return gu(T).fold(function(){return{width:H=bf(R=T,Gf),pixelWidth:H,getWidths:function(ce,ge){return Xh(ce,R,ge)},getCellDelta:Q=K(0),singleColumnWidth:K([0]),minCellWidth:Q,setElementWidth:We,adjustTableWidth:We,isRelative:!0,label:"none"};var R,H,Q},function(R){return H=T,Q=R,(null!==H_().exec(Q)?Rr:tm)(H);var H,Q})},Ds=tm,W_=Rr,rx=["img","br"],fm=function(T,R){var H=function(Q){for(var ce=Ou(Q),ge=ce.length-1;0<=ge;ge--){var Ie=ce[ge];if(R(Ie))return tt.some(Ie);var Be=H(Ie);if(Be.isSome())return Be}return tt.none()};return H(T)},Fu={scope:["row","col"]},xl={selected:"data-mce-selected",selectedSelector:"td[data-mce-selected],th[data-mce-selected]",firstSelected:"data-mce-first-selected",firstSelectedSelector:"td[data-mce-first-selected],th[data-mce-first-selected]",lastSelected:"data-mce-last-selected",lastSelectedSelector:"td[data-mce-last-selected],th[data-mce-last-selected]"},Xc=Wc("th,td,caption"),Cc=Wc("th,td"),rg=Jh,dm=os([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),hm=hr({},dm),pm=qi(function(T){return T<0}),ox=qi(st),lp=os([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),Yd=hr(hr({},lp),{from:function(T){return Qt(T,"%")?Gp("%",lp.percent,T):Qt(T,"px")?Gp("px",lp.pixels,T):lp.invalid(T)}}),Wv=function(T){if(0===T.length)return T;var R,H,Q=ht(T,function(ge,Ie){var Be=Yd.from(Ie).fold(function(){return{value:Ie,remainder:0}},function($e){return ot=$e,{value:(xt=Math.floor(ot))+"px",remainder:ot-xt};var ot,xt},function($e){return{value:$e+"%",remainder:0}});return{output:[Be.value].concat(ge.output),remainder:ge.remainder+Be.remainder}},{output:[],remainder:0}),ce=Q.output;return ce.slice(0,ce.length-1).concat([(R=ce[ce.length-1],H=Math.round(Q.remainder),Yd.from(R).fold(K(R),function(ge){return ge+H+"px"},function(ge){return ge+H+"%"}))])},Gv=Yd.from,Hs=ep(["compare","extract","mutate","sink"]),Tb=ep(["element","start","stop","destroy"]),Zc=ep(["forceDrop","drop","move","delayDrop"]),Db=function(T,R,H,Q){T.dom.removeEventListener(R,H,Q)},G_=st,og=Iv,gm=Qo("ephox-dragster").resolve,ig=Hs({compare:function(T,R){return Ku(R.left-T.left,R.top-T.top)},extract:function(T){return tt.some(Ku(T.x,T.y))},sink:function(T,R){var H,Q,ce,ge=(H=R,Q=hr({layerClass:gm("blocker")},H),es(ce=Wt.fromTag("div"),"role","presentation"),jl(ce,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Pd(ce,gm("blocker")),Pd(ce,Q.layerClass),{element:K(ce),destroy:function(){ks(ce)}}),Ie=is(ge.element(),"mousedown",T.forceDrop),Be=is(ge.element(),"mouseup",T.drop),$e=is(ge.element(),"mousemove",T.move),ot=is(ge.element(),"mouseout",T.delayDrop);return Tb({element:ge.element,start:function(xt){to(xt,ge.element())},stop:function(){ks(ge.element())},destroy:function(){ge.destroy(),Be.unbind(),$e.unbind(),ot.unbind(),Ie.unbind()}})},mutate:function(T,R){T.mutate(R.left,R.top)}}),Ab=function(T){return T.dom.contentEditable},Ib=Qo("ephox-snooker").resolve,el=Ib("resizer-bar"),o0=Ib("resizer-rows"),mm=Ib("resizer-cols"),Kc=Ib("resizer-bar-dragging"),Uv={structure:!1,style:!0},gs={structure:!0,style:!1},U_={structure:!0,style:!0},cp={"border-collapse":"collapse",width:"100%"},fp=ve(5,function(T){var R=T+1+"px";return{title:R,value:R}}),jv=Re(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],function(T){return{title:T,value:T.toLowerCase()}}),RS={border:"1"},_l="preservetable",vm=function(T){return"fixed"===rp(T)||!1===Yy(T)},dp=function(T){return"responsive"===rp(T)},hp=function(T){var R=Dv(T);Qh(T,tt.some(R),tt.none()),qp(T)},ic=function(T){var R=Gf(T)+"px";Qh(T,tt.some(R),tt.none()),qp(T)},kc=function(T){dc(T,"width");var R=Fy(T);Ve(0<R.length?R:zp(T),function(H){dc(H,"width"),qp(H)}),qp(T)},ym="bar-",ix=function(T,R,H){return T.property().isText(R)&&0===T.property().getText(R).trim().length||T.property().isComment(R)?H(R).bind(function(Q){return ix(T,Q,H).orThunk(function(){return tt.some(Q)})}):tt.none()},Rl=function(T,R){var H=ix(T,R,T.query().prevSibling).getOr(R);if(T.property().isText(H))return om(H,Yp(T,H));var Q=T.property().children(H);return 0<Q.length?Rl(T,Q[Q.length-1]):om(H,Yp(T,H))},Ll=Rl,bm=db(),wh=Zi("th"),ag=function(T){var R=Pe(T,function(H){return wh(H.element)});return 0===R.length?tt.some("td"):R.length===T.length?tt.some("th"):tt.none()},qv=xc,ms=Ev,xm=nu,ou=function(T){return{isValue:st,isError:Qe,getOr:K(T),getOrThunk:K(T),getOrDie:K(T),or:function(R){return ou(T)},orThunk:function(R){return ou(T)},fold:function(R,H){return H(T)},map:function(R){return ou(R(T))},mapError:function(R){return ou(T)},each:function(R){R(T)},bind:function(R){return R(T)},exists:function(R){return R(T)},forall:function(R){return R(T)},toOptional:function(){return tt.some(T)}}},Yv=function(T){return{isValue:Qe,isError:st,getOr:xe,getOrThunk:function(R){return R()},getOrDie:function(){return R=String(T),function(){throw new Error(R)}();var R},or:xe,orThunk:function(R){return R()},fold:function(R,H){return R(T)},map:function(R){return Yv(T)},mapError:function(R){return Yv(R(T))},each:We,bind:function(R){return Yv(T)},exists:Qe,forall:st,toOptional:tt.none}},Ob={value:ou,error:Yv,fromOption:function(T,R){return T.fold(function(){return Yv(R)},ou)}},Ws=Zi("col"),wl=Zi("colgroup"),j_=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Eb=db(),Sl=am("thead",!0),Xv=am("tbody",!1),Xa=am("tfoot",!1),Sh=_h("th"),vs=_h("td"),pp=yu(function(T,R,H,Q){var ce=R[0].row;return ji(ht(Lv(R),function(ge,Ie){return{grid:Pv(ge.grid,ce,Ie.row+ge.delta,H,Q.getOrInit),delta:ge.delta+1}},{grid:T,delta:0}).grid,ce,R[0].column)},Uc,We,We,Sc),i0=yu(function(T,R,H,Q){var ce=Lv(R),ge=ce[ce.length-1],Ie=ge.row+ge.rowspan;return ji(ht(ce,function(Be,$e){return Pv(Be,Ie,$e.row,H,Q.getOrInit)},T),Ie,R[0].column)},Uc,We,We,Sc),od=yu(function(T,R,H,Q){var ce=R.details,ge=Fa(ce),Ie=ge[0].column;return ji(ht(ge,function(Be,$e){return{grid:Ts(Be.grid,Ie,$e.column+Be.delta,H,Q.getOrInit),delta:Be.delta+1}},{grid:T,delta:0}).grid,ce[0].row,Ie)},J1(!0),Do,We,Sc),Nl=yu(function(T,R,H,Q){var ce=R.details,ge=ce[ce.length-1],Ie=ge.column+ge.colspan;return ji(ht(Fa(ce),function(Be,$e){return Ts(Be,Ie,$e.column,H,Q.getOrInit)},T),ce[0].row,Ie)},J1(!1),Do,We,Sc),_m=yu(function(T,R,H,Q){var ce,ge,Ie=Fa(R.details),Be=(ce=T,ge=Re(Ie,function(ot){return ot.column}),Ht(ce,function(ot){var St=ht(ge,function(wt,Nt){return 0<=Nt&&Nt<wt.length?wt.slice(0,Nt).concat(wt.slice(Nt+1)):wt},ot.cells);return 0<St.length?[Mr(ot.element,St,ot.section,ot.isNew)]:[]}));return ji(Be,Ie[0].row,Math.min(Ie[0].column,0<Be.length?Be[0].cells.length-1:0))},function(T,R){return nc(T,R).map(function(H){return{details:H,pixelDelta:-El(T,H)}})},Do,Ol,Sc),wm=yu(function(T,R,H,Q){var ce,ge,Ie,Be,$e=Lv(R),ot=(ce=$e[0].row,ge=$e[$e.length-1].row,Be=(Ie=Ai(T)).rows,Ie.cols.concat(Be.slice(0,ce)).concat(Be.slice(ge+1)));return ji(ot,Math.min(R[0].row,0<ot.length?ot.length-1:0),R[0].column)},Uc,We,Ol,Sc),sg=yu(function(T,R,H,Q){return ji(Rv(T,Re(Fa(R),function(ce){return ce.column}),!0,H,Q.replaceOrInit),R[0].row,R[0].column)},nc,We,We,Sh),q_=yu(function(T,R,H,Q){return ji(Rv(T,Re(Fa(R),function(ce){return ce.column}),!1,H,Q.replaceOrInit),R[0].row,R[0].column)},nc,We,We,vs),a0=yu(Sl,nc,We,We,Sh),ax=yu(Xv,nc,We,We,vs),ac=yu(Xa,nc,We,We,vs),jo=yu(function(T,R,H,Q){return ji(kf(T,R,H,Q.replaceOrInit),R[0].row,R[0].column)},nc,We,We,Sh),io=yu(function(T,R,H,Q){return ji(kf(T,R,H,Q.replaceOrInit),R[0].row,R[0].column)},nc,We,We,vs),_a=yu(function(T,R,H,Q){var ce=R.cells;return function Qu(T){function R(ge){return"br"===oo(ge)}var Q,ce=0===(Q=Ht(T,function(ge){var Ie=Ou(ge);return Te(Ie,function(Be){return R(Be)||Ns(Be)&&0===fl(Be).trim().length})?[]:Ie.concat(function H(ge){return Kh(ge).bind(function(Ie){var Be=Ls(Ie).map(function($e){return!!Qf($e)||(ot=$e,!!pt(["br","img","hr","input"],Eb.property().name(ot))&&"img"!==oo($e));var ot}).getOr(!1);return Ur(Ie).map(function($e){return!0===Be||"li"===oo(ot=$e)||Ut(ot,bh).isSome()||R(Ie)||Qf($e)&&!wr(ge,$e)?[]:[Wt.fromTag("br")];var ot})}).getOr([])}(ge))})).length?[Wt.fromTag("br")]:Q;Ru(T[0]),ju(T[0],ce)}(ce),xb(function(ge,Ie,Be){var $e=Ai(ge).rows;if(0===$e.length)return ge;for(var ot=Ie.startRow;ot<=Ie.finishRow;ot++)for(var xt=Ie.startCol;xt<=Ie.finishCol;xt++){var St=$e[ot],wt=gc(St,xt).isLocked;Dl(St,xt,Qa(Be(),!1,wt))}return ge}(T,R.bounds,Q.merge(ce)),tt.from(ce[0]))},da,xh,We,kb),Sm=yu(function(T,R,H,Q){return xb(ht(R,function(ce,ge){return Kp(ce,ge,H,Q.unmerge(ge))},T),tt.from(R[0]))},Fd,xh,We,kb),gp=yu(function(T,R,H,Q){var ge,Ie=(ge=R.generators,$f(Oo.fromTable(R.clipboard),ge,!0));return function jc(T,R,H,Q,ce){var ge,Ie,Be,$e=du(R),ot=(ge=T,Ie=$e,Be=Bs(R[0]),{row:Ai(R).cols.length+ge.row,column:jt(ve(Be-ge.column,function(wt){return wt+ge.column}),function(wt){return Te(Ie,function(Nt){return Nt!==wt})}).getOr(Be-1)}),xt=Ai(H).rows,St=Fs(ot,xt,$e);return function(wt,Nt,Tt){if(wt.row>=Nt.length||wt.column>Bs(Nt[0]))return Ob.error("invalid start address out of table bounds, row: "+wt.row+", column: "+wt.column);var $t=Nt.slice(wt.row),an=$t[0].cells.slice(wt.column),kt=Bs(Tt[0]);return Ob.value({rowDelta:$t.length-Tt.length,colDelta:an.length-kt})}(ot,R,xt).map(function(wt){var Nt=hr(hr({},wt),{colDelta:wt.colDelta-St.length}),Tt=Ho(R,Nt,Q),$t=du(Tt),an=Fs(ot,xt,$t);return function(kt,Yt,Pn,Lt,Ln,cn){for(var Ar,Vn,Pr,Yr,Kr,xo=kt.row,Go=kt.column,vo=xo+Pn.length,Yo=Go+Bs(Pn[0])+cn.length,bi=It(cn,st),Ji=xo;Ji<vo;Ji++)for(var sr,Fi,Jo,xi=0,as=Go;as<Yo;as++)bi[as]?xi++:(Yr=void 0,Yr=De(Ln,gc((Ar=Yt)[Vn=Ji],Pr=as).element),Kr=Ar[Vn],1<Ar.length&&1<Bs(Kr)&&(0<Pr&&Yr(ya(Kr,Pr-1))||Pr<Kr.cells.length-1&&Yr(ya(Kr,Pr+1))||0<Vn&&Yr(ya(Ar[Vn-1],Pr))||Vn<Ar.length-1&&Yr(ya(Ar[Vn+1],Pr)))&&Kp(Yt,ya(Yt[Ji],as),Ln,Lt.cell),Fi=(sr=gc(Pn[Ji-xo],as-Go-xi)).element,Jo=Lt.replace(Fi),Dl(Yt[Ji],as,Qa(Jo,!0,sr.isLocked)));return Yt}(ot,Tt,xt,Q,ce,an)})}({row:R.row,column:R.column},T,Ie,R.generators,H).fold(function(){return xb(T,tt.some(R.element))},function(Be){return ji(Be,R.row,R.column)})},function(T,R){return Zg(R.element).bind(function(H){return fa(T,H).map(function(Q){return hr(hr({},Q),{generators:R.generators,clipboard:R.clipboard})})})},xh,We,Sc),sx=yu(function(T,R,H,Q){var ce=Ai(T).rows;return ji(Ui(R.cells[0].column,T,ed(R.clipboard,R.generators,ce[R.cells[0].row]),R.generators,H),R.cells[0].row,R.cells[0].column)},bu(!0),We,We,Sc),s0=yu(function(T,R,H,Q){var ce=Ai(T).rows;return ji(Ui(R.cells[R.cells.length-1].column+R.cells[R.cells.length-1].colspan,T,ed(R.clipboard,R.generators,ce[R.cells[0].row]),R.generators,H),R.cells[0].row,R.cells[0].column)},bu(!1),We,We,Sc),Df=yu(function(T,R,H,Q){var ce=Ai(T).rows,ge=R.cells[0].row;return ji(Ii(ge,T,ed(R.clipboard,R.generators,ce[ge]),R.generators,H),R.cells[0].row,R.cells[0].column)},Zp,We,We,Sc),u0=yu(function(T,R,H,Q){var ce=Ai(T).rows;return ji(Ii(R.cells[R.cells.length-1].row+R.cells[R.cells.length-1].rowspan,T,ed(R.clipboard,R.generators,ce[R.cells[0].row]),R.generators,H),R.cells[0].row,R.cells[0].column)},Zp,We,We,Sc),Cm=function(T,R){var H=Oo.fromTable(T);return Uc(H,R).bind(function(Q){var ce=Q[Q.length-1],ge=Q[0].row,Ie=ce.row+ce.rowspan;return function(){var Be=Re(H.all.slice(ge,Ie),function(St){return ec(St).type}),$e=pt(Be,"header"),ot=pt(Be,"footer");if($e||ot){var xt=pt(Be,"body");return!$e||xt||ot?$e||xt||!ot?tt.none():tt.some("footer"):tt.some("header")}return tt.some("body")}()}).getOr("")},Bl={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},tl=tinymce.util.Tools.resolve("tinymce.util.Tools"),id=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],Zv=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Mc=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,l0=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,Ch=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,$c=function(T){return Re(T,function(R){var H=R.text||R.title;return wb(R)?{text:H,items:$c(R.menu)}:{text:H,value:R.value}})},kh=function(T,R,H,Q,ce){return Re(H,function(ge){var Ie,Be,$e,ot,xt=ge.text||ge.title;return wb(ge)?{type:"nestedmenuitem",text:xt,getSubmenuItems:function(){return kh(T,R,ge.menu,Q,ce)}}:{text:xt,type:"togglemenuitem",onAction:function(){return ce(ge.value)},onSetup:(Ie=T,Be=R,$e=Q,ot=ge.value,function(St){function wt(){function $t(kt){return Ie.formatter.match($e,{value:ot},kt.dom,Tt)}var an=rg(Be);Tt?(St.setActive(!He(an,$t)),Nt.set(Ie.formatter.formatChanged($e,function(kt){return St.setActive(!kt)},!0))):(St.setActive(Te(an,$t)),Nt.set(Ie.formatter.formatChanged($e,St.setActive,!1,{value:ot})))}var Nt=oc(function($t){return $t.unbind()}),Tt=!jn(ot);return Ie.initialized?wt():Ie.on("init",wt),Nt.clear})}})},Cl=function(T){return Ht(T,function(R){return wb(R)?[hr(hr({},R),{menu:Cl(R.menu)})]:jn(R.value)?[R]:[]})},c0=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:id}],Af={normal:Qp(!1),ifTruthy:Qp(!0)},km=De(um,["left","center","right"],"align"),Eo=De(um,["top","middle","bottom"],"valign"),_u=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],Mh=function(T,R,H,Q){if("TD"===R.tagName||"TH"===R.tagName)Z(H)?T.setStyle(R,H,Q):T.setStyle(R,H);else if(R.children)for(var ce=0;ce<R.children.length;ce++)Mh(T,R.children[ce],H,Q)},ux={remove_similar:!0,inherit:!1},ko=hr({selector:"td,th"},ux),Pb={tablecellbackgroundcolor:hr({styles:{backgroundColor:"%value"}},ko),tablecellverticalalign:hr({styles:{"vertical-align":"%value"}},ko),tablecellbordercolor:hr({styles:{borderColor:"%value"}},ko),tablecellclass:hr({classes:["%value"]},ko),tableclass:hr({selector:"table",classes:["%value"]},ux),tablecellborderstyle:hr({styles:{borderStyle:"%value"}},ko),tablecellborderwidth:hr({styles:{borderWidth:"%value"}},ko)},Kv=os([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),If=hr(hr({},Kv),{none:function(T){return Kv.none(T=void 0===T?void 0:T)}}),ug=function(T,R,H,Q,ce){void 0===ce&&(ce=st);var ge=1===Q;if(!ge&&H<=0)return If.first(T[0]);if(ge&&H>=T.length-1)return If.last(T[T.length-1]);var Ie=H+Q,Be=T[Ie];return ce(Be)?If.middle(R,Be):ug(T,R,Ie,Q,ce)},$v=function(T,R,H,Q){return{start:T,soffset:R,finish:H,foffset:Q}},Jc=os([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),As={before:Jc.before,on:Jc.on,after:Jc.after,cata:function(T,R,H,Q){return T.fold(R,H,Q)},getStart:function(T){return T.fold(xe,xe,xe)}},Mm=os([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Vu={domRange:Mm.domRange,relative:Mm.relative,exact:Mm.exact,exactFromRange:function(T){return Mm.exact(T.start,T.soffset,T.finish,T.foffset)},getWin:function(T){var R=T.match({domRange:function(H){return Wt.fromDom(H.startContainer)},relative:function(H,Q){return As.getStart(H)},exact:function(H,Q,ce,ge){return H}});return Wt.fromDom(uu(R).dom.defaultView)},range:$v},lg=function(T,R){return T.selectNodeContents(R.dom)},ad=os([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]);function Tc(T,R,H){return R>=T.left&&R<=T.right&&H>=T.top&&H<=T.bottom}function Da(T,R){return R-T.left<T.right-R}function Aa(T,R,H){var Q=T.dom.createRange();return Q.selectNode(R.dom),Q.collapse(H),Q}function yi(T,R,H){var Q=T.dom.createRange();Q.selectNode(R.dom);var ce=Da(Q.getBoundingClientRect(),H);return(!0===ce?Zh:Kh)(R).map(function(ge){return Aa(T,ge,ce)})}function sd(T,R,H){var Q=Da(R.dom.getBoundingClientRect(),H);return tt.some(Aa(T,R,Q))}function cg(T,R){var H=oo(T);return"input"===H?As.after(T):pt(["br","img"],H)?0===R?As.before(T):As.after(T):As.on(T,R)}function Y_(T,R){var H=T.fold(As.before,cg,As.after),Q=R.fold(As.before,cg,As.after);return Vu.relative(H,Q)}function Tm(T,R,H,Q){var ce=cg(T,R),ge=cg(H,Q);return Vu.relative(ce,ge)}function Qv(T){return tt.from(T.getSelection())}function Dm(T,R){Qv(T).each(function(H){H.removeAllRanges(),H.addRange(R)})}function mp(T,R,H,Q,ce){Dm(T,pa(T,R,H,Q,ce))}function nl(T,R){return Sb(T,R).match({ltr:function(H,Q,ce,ge){mp(T,H,Q,ce,ge)},rtl:function(H,Q,ce,ge){Qv(T).each(function(Ie){if(Ie.setBaseAndExtent)Ie.setBaseAndExtent(H.dom,Q,ce.dom,ge);else if(Ie.extend)try{$e=ce,ot=ge,(Be=Ie).collapse(H.dom,Q),Be.extend($e.dom,ot)}catch{mp(T,ce,ge,H,Q)}else mp(T,ce,ge,H,Q);var Be,$e,ot})}})}function f0(T,R,H,Q,ce){nl(T,Tm(R,H,Q,ce))}function Am(T,R,H){nl(T,Y_(R,H))}function d0(T){if(0<T.rangeCount){var R=T.getRangeAt(0),H=T.getRangeAt(T.rangeCount-1);return tt.some($v(Wt.fromDom(R.startContainer),R.startOffset,Wt.fromDom(H.endContainer),H.endOffset))}return tt.none()}function lx(T){if(null===T.anchorNode||null===T.focusNode)return d0(T);var R,H,Q,ce,ge,Ie,Be,$e,ot,xt,St,wt=Wt.fromDom(T.anchorNode),Nt=Wt.fromDom(T.focusNode);return Ie=H=T.anchorOffset,Be=Q=Nt,$e=ce=T.focusOffset,(ot=Zs(ge=R=wt).dom.createRange()).setStart(ge.dom,Ie),ot.setEnd(Be.dom,$e),xt=ot,St=wr(R,Q)&&H===ce,xt.collapsed&&!St?tt.some($v(wt,T.anchorOffset,Nt,T.focusOffset)):d0(T)}function cx(T,R,H){Dm(T,((H=void 0===H||H)?e0:Fv)(T,R))}function fg(T){return Qv(T).filter(function(R){return 0<R.rangeCount}).bind(lx).map(function(R){return Vu.exact(R.start,R.soffset,R.finish,R.foffset)})}function qo(T,R,H){return ry(T,R,(ce=wf,tx(Q=H,void 0).fold(function(){return If.none(Q)},function(ge){return ug(ge.all,Q,ge.index,1,ce)})));var Q,ce}function vp(T,R){var H=Vv(T,R);return $v(Wt.fromDom(H.startContainer),H.startOffset,Wt.fromDom(H.endContainer),H.endOffset)}function dg(T,R){return{item:T,mode:R}}function h0(T,R,H,Q){return void 0===Q&&(Q=Zd),T.property().parent(R).map(function(ce){return dg(ce,Q)})}function fx(T){return function(R){return 0===T.property().children(R).length}}function LS(T,R){return gx($d,T,fx($d),R)}function dx(T,R){return Nb($d,T,fx($d),R)}function Pi(T){return Ks(T,"tr")}function hx(T){return"br"===oo(T)}function Xd(T,R){return{left:T.left,top:T.top+R,right:T.right,bottom:T.bottom+R}}function lr(T,R){return{left:T.left,top:T.top-R,right:T.right,bottom:T.bottom-R}}function yp(T,R,H){return{left:T.left+R,top:T.top+H,right:T.right+R,bottom:T.bottom+H}}function Qc(T){return{left:T.left,top:T.top,right:T.right,bottom:T.bottom}}function hg(T,R){return tt.some(T.getRect(R))}function bp(T,R,H){return Eu(R)?hg(T,R).map(Qc):Ns(R)?(Q=T,ce=R,(0<=(ge=H)&&ge<qf(ce)?Q.getRangedRect(ce,ge,ce,ge+1):0<ge?Q.getRangedRect(ce,ge-1,ce,ge):tt.none()).map(Qc)):tt.none();var Q,ce,ge}function Om(T,R){return Eu(R)?hg(T,R).map(Qc):Ns(R)?T.getRangedRect(R,0,R,qf(R)).map(Qc):tt.none()}function qr(T,R,H){return gn(function(Q,ce){return ce(Q)},Ut,R,Qf,void 0).fold(Qe,function(Q){return Om(T,Q).exists(function(ce){return(ge=H).left<(Ie=ce).left||Math.abs(Ie.right-ge.left)<1||ge.left>Ie.right;var ge,Ie})})}function px(T,R,H){var Q,ce=T.move(H,5),ge=Of(R,T,H,ce,100).getOr(ce),Ie=ge,Be=R;return((Q=T).point(Ie)>Be.getInnerHeight()?tt.some(Q.point(Ie)-Be.getInnerHeight()):Q.point(Ie)<0?tt.some(-Q.point(Ie)):tt.none()).fold(function(){return R.situsFromPoint(ge.left,T.point(ge))},function($e){return R.scrollBy(0,$e),R.situsFromPoint(ge.left,T.point(ge)-$e)})}function ey(T,R,H,Q,ce){return Ks(Q,"td,th",R).bind(function(ge){return Ks(ge,"table",R).bind(function(Ie){return xt=Ie,Ut(ce,function(Tt){return Ur(Tt).exists(function($t){return wr($t,xt)})},void 0).isSome()?(Be=St=T,$e=wt=R,ot=Nt=H,Be.getSelection().bind(function(Tt){return function Im(T,R,H,Q){var ce,ge,Ie,Be,$e,ot,xt;return(hx(R)?(ce=T,(Ie=Q).traverse(ge=R).orThunk(function(){return vg(ge,Ie.gather,ce)}).map(Ie.relative)):(Be=T,$e=Q,Ss(ot=R,xt=H).filter(hx).orThunk(function(){return Ss(ot,xt-1).filter(hx)}).bind(function(St){return $e.traverse(St).fold(function(){return vg(St,$e.gather,Be).map($e.relative)},function(wt){return Ur(Nt=wt).bind(function(Tt){var $t=Ou(Tt);return Vr($t,Nt).map(function(an){return{parent:Tt,children:$t,element:Nt,index:an}})}).map(function(Tt){return As.on(Tt.parent,Tt.index)});var Nt})}))).map(function(St){return{start:St,finish:St}})}($e,Tt.finish,Tt.foffset,ot).fold(function(){return tt.some(om(Tt.finish,Tt.foffset))},function($t){var an=Be.fromSitus($t),kt=Nm.verify(Be,Tt.finish,Tt.foffset,an.finish,an.foffset,ot.failure,$e);return Nm.cata(kt,function(Yt){return tt.none()},function(){return tt.none()},function(Yt){return tt.some(om(Yt,0))},function(Yt){return tt.some(om(Yt,qf(Yt)))})})}).bind(function(Tt){return Bm(St,wt,Tt.element,Tt.offset,Nt,20).map(St.fromSitus)}).bind(function(Tt){return Ks(Tt.finish,"td,th",R).map(function($t){return{start:ge,finish:$t,range:Tt}})})):tt.none();var Be,$e,ot,xt,St,wt,Nt})})}function ty(T,R,H,Q,ce,ge){return En().browser.isIE()?tt.none():ge(Q,R).orThunk(function(){return ey(T,R,H,Q,ce).map(function(Ie){var Be=Ie.range;return ld(tt.some(mg(Be.start,Be.soffset,Be.finish,Be.foffset)),!0)})})}function Rb(T,R){return Ks(T,"tr",R).bind(function(H){return Ks(H,"table",R).bind(function(Q){var ce=Sa(Q,"tr");return wr(H,ce[0])?gx($d,Q,function(ge){return Kh(ge).isSome()},R).map(function(ge){var Ie=qf(ge);return ld(tt.some(mg(ge,Ie,ge,Ie)),!0)}):tt.none()})})}function Em(T,R){return Ks(T,"tr",R).bind(function(H){return Ks(H,"table",R).bind(function(Q){var ce=Sa(Q,"tr");return wr(H,ce[ce.length-1])?Nb($d,Q,function(ge){return Zh(ge).isSome()},R).map(function(ge){return ld(tt.some(mg(ge,0,ge,0)),!0)}):tt.none()})})}function ny(T,R,H,Q,ce,ge,Ie){return ey(T,H,Q,ce,ge).bind(function(Be){return iy(R,H,Be.start,Be.finish,Ie)})}function xp(T,R){return Ks(T,"td,th",R)}function _p(T){return function(R){return R===T}}function pg(T){return 37<=T&&T<=40}function gg(T){return{elementFromPoint:function(R,H){return Wt.fromPoint(Wt.fromDom(T.document),R,H)},getRect:function(R){return R.dom.getBoundingClientRect()},getRangedRect:function(R,H,Q,ce){var ge,Ie,Be,$e=Vu.exact(R,H,Q,ce);return 0<(Ie=0<(Be=(ge=Vv(T,$e)).getClientRects()).length?Be[0]:ge.getBoundingClientRect()).width||0<Ie.height?tt.some(Ie).map(t0):tt.none()},getSelection:function(){return fg(T).map(function(R){return vp(T,R)})},fromSitus:function(R){var H=Vu.relative(R.start,R.finish);return vp(T,H)},situsFromPoint:function(R,H){return Q=R,ce=H,ge=Wt.fromDom(T.document),ud(ge,Q,ce).map(function(Ie){return $v(Wt.fromDom(Ie.startContainer),Ie.startOffset,Wt.fromDom(Ie.endContainer),Ie.endOffset)}).map(function(Ie){return oy(Ie.start,Ie.soffset,Ie.finish,Ie.foffset)});var Q,ce,ge},clearSelection:function(){Qv(T).each(function(R){return R.removeAllRanges()})},collapseSelection:function(R){void 0===R&&(R=!1),fg(T).each(function(H){return H.fold(function(Q){return Q.collapse(R)},function(Q,ce){var ge=R?Q:ce;Am(T,ge,ge)},function(Q,ce,ge,Ie){var Be=R?Q:ge,$e=R?ce:Ie;f0(T,Be,$e,Be,$e)})})},setSelection:function(R){f0(T,R.start,R.soffset,R.finish,R.foffset)},setRelativeSelection:function(R,H){Am(T,R,H)},selectNode:function(R){cx(T,R,!1)},selectContents:function(R){cx(T,R)},getInnerHeight:function(){return T.innerHeight},getScrollY:function(){var R=Wt.fromDom(T.document),H=void 0!==R?R.dom:document;return Ku(H.body.scrollLeft||H.documentElement.scrollLeft,H.body.scrollTop||H.documentElement.scrollTop).top},scrollBy:function(R,H){var Q,ce=R,ge=H,Ie=Wt.fromDom(T.document);(Q=(void 0!==Ie?Ie.dom:document).defaultView)&&Q.scrollBy(ce,ge)}}}function Pm(T,R){return{rows:T,cols:R}}function zl(T){return!1===Rd(Wt.fromDom(T.target),"ephox-snooker-resizer-bar")}function Zd(T,R,H,Q){return void 0===Q&&(Q=Lm),H.sibling(T,R).map(function(ce){return dg(ce,Q)})}var Is=function(T,R,H,Q){return Ns(R)?(ge=R,Ie=H,Be=Q,($e=(ce=T).dom.createRange()).selectNode(ge.dom),Bn($e.getClientRects(),function(Tt){return Tc(Tt,Ie,Be)?tt.some(Tt):tt.none()}).map(function(Tt){return function Jv(T,R,H,Q,ce){function ge($e){var ot=T.dom.createRange();return ot.setStart(R.dom,$e),ot.collapse(!0),ot}var Ie=fl(R).length,Be=function($e,ot,xt,St){if(0===St)return 0;if($e===xt)return St-1;for(var wt=xt,Nt=1;Nt<St;Nt++){var Tt=ge(Nt).getBoundingClientRect(),$t=Math.abs($e-Tt.left);if(ot<=Tt.bottom){if(ot<Tt.top||wt<$t)return Nt-1;wt=$t}}return 0}(H,Q,ce.right,Ie);return ge(Be)}(ce,ge,Ie,Be,Tt)})):(xt=R,St=H,wt=Q,Nt=(ot=T).dom.createRange(),Bn(Ou(xt),function(Tt){return Nt.selectNode(Tt.dom),Tc(Nt.getBoundingClientRect(),St,wt)?Is(ot,Tt,St,wt):tt.none()}));var ce,ge,Ie,Be,$e,ot,xt,St,wt,Nt},ud=document.caretPositionFromPoint?function(T,R,H){var Q,ce;return tt.from(null===(ce=(Q=T.dom).caretPositionFromPoint)||void 0===ce?void 0:ce.call(Q,R,H)).bind(function(ge){if(null===ge.offsetNode)return tt.none();var Ie=T.dom.createRange();return Ie.setStart(ge.offsetNode,ge.offset),Ie.collapse(),tt.some(Ie)})}:document.caretRangeFromPoint?function(T,R,H){var Q,ce;return tt.from(null===(ce=(Q=T.dom).caretRangeFromPoint)||void 0===ce?void 0:ce.call(Q,R,H))}:function(T,R,H){return Wt.fromPoint(T,R,H).bind(function(Q){function ce(){return ge=T,Be=R,(0===Ou(Ie=Q).length?sd:yi)(ge,Ie,Be);var ge,Ie,Be}return 0===Ou(Q).length?ce():function(ge,Ie,Be,$e){var ot=ge.dom.createRange();ot.selectNode(Ie.dom);var xt=ot.getBoundingClientRect();return function(St,wt,Nt,Tt){var $t=St.dom.createRange();$t.selectNode(wt.dom);var an=$t.getBoundingClientRect(),kt=Math.max(an.left,Math.min(an.right,Nt)),Yt=Math.max(an.top,Math.min(an.bottom,Tt));return Is(St,wt,kt,Yt)}(ge,Ie,Math.max(xt.left,Math.min(xt.right,Be)),Math.max(xt.top,Math.min(xt.bottom,$e)))}(T,Q,R,H).orThunk(ce)})},Kd=tinymce.util.Tools.resolve("tinymce.util.VK"),ry=function(T,R,H){return H.fold(tt.none,tt.none,function(Q,ce){return Zh(ce).map(function(ge){return xt=Vu.exact(ge,0,ge,0),$e=Vu.getWin(Be=xt).dom,ot=Be.match({domRange:function(St){var wt=Wt.fromDom(St.startContainer),Nt=Wt.fromDom(St.endContainer);return Tm(wt,St.startOffset,Nt,St.endOffset)},relative:Y_,exact:Tm}),Sb($e,ot).match({ltr:Ie,rtl:Ie});function Ie(St,wt,Nt,Tt){return pa($e,St,wt,Nt,Tt)}var Be,$e,ot,xt})},function(Q){return T.execCommand("mceTableInsertRowAfter"),qo(T,R,Q)})},Rm=["table","li","dl"],ld=function(T,R){return{selection:T,kill:R}},oy=function(T,R,H,Q){return{start:As.on(T,R),finish:As.on(H,Q)}},mg=oy,iy=function(T,R,H,Q,ce){return wr(H,Q)?tt.none():Wh(H,Q,R).bind(function(ge){var Ie=ge.boxes.getOr([]);return 1<Ie.length?(ce(T,Ie,ge.start,ge.finish),tt.some(ld(tt.some(mg(H,0,H,qf(H))),!0))):tt.none()})},Lm=function(T,R,H,Q){void 0===Q&&(Q=Lm);var ce=T.property().children(R);return H.first(ce).map(function(ge){return dg(ge,Q)})},BS=[{current:h0,next:Zd,fallback:tt.none()},{current:Zd,next:Lm,fallback:tt.some(h0)},{current:Lm,next:Lm,fallback:tt.some(Zd)}],Lb=function(T,R,H,Q,ce){return jt(ce=void 0===ce?BS:ce,function(ge){return ge.current===H}).bind(function(ge){return ge.current(T,R,Q,ge.next).orThunk(function(){return ge.fallback.bind(function(Ie){return Lb(T,R,Ie,Q)})})})},Wo=function(T,R,H,Q,ce,ge){return Lb(T,R,Q,ce).bind(function(Ie){return ge(Ie.item)?tt.none():H(Ie.item)?tt.some(Ie.item):Wo(T,Ie.item,H,Ie.mode,ce,ge)})},gx=function(T,R,H,Q){return Wo(T,R,H,Zd,{sibling:function(ce,ge){return ce.query().prevSibling(ge)},first:function(ce){return 0<ce.length?tt.some(ce[ce.length-1]):tt.none()}},Q)},Nb=function(T,R,H,Q){return Wo(T,R,H,Zd,{sibling:function(ce,ge){return ce.query().nextSibling(ge)},first:function(ce){return 0<ce.length?tt.some(ce[0]):tt.none()}},Q)},$d=db(),ay=os([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),Nm=hr(hr({},ay),{verify:function(T,R,H,Q,ce,ge,Ie){return Ks(Q,"td,th",Ie).bind(function(Be){return Ks(R,"td,th",Ie).map(function($e){return wr(Be,$e)?wr(Q,Be)&&qf(Be)===ce?ge($e):ay.none("in same cell"):dl(Pi,[Be,$e]).fold(function(){return xt=Be,St=(ot=T).getRect($e),(wt=ot.getRect(xt)).right>St.left&&wt.left<St.right?ay.success():ge($e);var ot,xt,St,wt},function(ot){return ge($e)})})}).getOr(ay.none("default"))},cata:function(T,R,H,Q,ce){return T.fold(R,H,Q,ce)}}),Vr=function(T,R){return Cr(T,De(wr,R))},vg=function(T,R,H){return R(T,H).bind(function(Q){return Ns(Q)&&0===fl(Q).trim().length?vg(Q,R,H):tt.some(Q)})},$o=os([{none:[]},{retry:["caret"]}]),X_={point:function(T){return T.bottom},adjuster:function(T,R,H,Q,ce){var ge=Xd(ce,5);return Math.abs(H.bottom-Q.bottom)<1||H.top>ce.bottom?$o.retry(ge):H.top===ce.bottom?$o.retry(Xd(ce,1)):qr(T,R,ce)?$o.retry(yp(ge,5,0)):$o.none()},move:Xd,gather:dx},Of=function(T,R,H,Q,ce){return 0===ce?tt.some(Q):(Ie=T,Be=Q.left,$e=R.point(Q),Ie.elementFromPoint(Be,$e).filter(function(ot){return"table"===oo(ot)}).isSome()?(ge=ce-1,Of(T,R,H,R.move(Q,5),ge)):T.situsFromPoint(Q.left,R.point(Q)).bind(function(ot){return ot.start.fold(tt.none,function(xt){return Om(T,xt).bind(function(St){return R.adjuster(T,xt,St,H,Q).fold(tt.none,function(wt){return Of(T,R,H,wt,ce-1)})}).orThunk(function(){return tt.some(Q)})},tt.none)}));var ge,Ie,Be,$e},wu={tryUp:De(px,{point:function(T){return T.top},adjuster:function(T,R,H,Q,ce){var ge=lr(ce,5);return Math.abs(H.top-Q.top)<1||H.bottom<ce.top?$o.retry(ge):H.bottom===ce.top?$o.retry(lr(ce,1)):qr(T,R,ce)?$o.retry(yp(ge,5,0)):$o.none()},move:lr,gather:LS}),tryDown:De(px,X_),ieTryUp:function(T,R){return T.situsFromPoint(R.left,R.top-5)},ieTryDown:function(T,R){return T.situsFromPoint(R.left,R.bottom+5)},getJumpSize:K(5)},Bm=function(T,R,H,Q,ce,ge){return 0===ge?tt.none():bg(T,R,H,Q,ce).bind(function(Ie){var Be=T.fromSitus(Ie),$e=Nm.verify(T,H,Q,Be.finish,Be.foffset,ce.failure,R);return Nm.cata($e,function(){return tt.none()},function(){return tt.some(Ie)},function(ot){return wr(H,ot)&&0===Q?iu(T,H,Q,lr,ce):Bm(T,R,ot,0,ce,ge-1)},function(ot){return wr(H,ot)&&Q===qf(ot)?iu(T,H,Q,Xd,ce):Bm(T,R,ot,qf(ot),ce,ge-1)})})},iu=function(T,R,H,Q,ce){return bp(T,R,H).bind(function(ge){return yg(T,ce,Q(ge,wu.getJumpSize()))})},yg=function(T,R,H){var Q=En().browser;return Q.isChrome()||Q.isSafari()||Q.isFirefox()||Q.isEdge()?R.otherRetry(T,H):Q.isIE()?R.ieRetry(T,H):tt.none()},bg=function(T,R,H,Q,ce){return bp(T,H,Q).bind(function(ge){return yg(T,ce,ge)})},zm={traverse:Ls,gather:dx,relative:As.before,otherRetry:wu.tryDown,ieRetry:wu.ieTryDown,failure:Nm.failedDown},Dc={traverse:fs,gather:LS,relative:As.before,otherRetry:wu.tryUp,ieRetry:wu.ieTryUp,failure:Nm.failedUp},wp=_p(38),rl=_p(40),au={isBackward:_p(37),isForward:_p(39)},Fm={isBackward:_p(39),isForward:_p(37)},Sp=tinymce.util.Tools.resolve("tinymce.Env");Fr.add("table",function(T){var R,H,Q,ce,ge,Ie,Be,$e,ot,xt,St,wt,Nt=(R=function(){return eu(T)},H=function(){return Cc(Ms(T),ml(T))},Q=xl.selectedSelector,{get:function(){return Wy(R(),Q).fold(function(){return H().fold(U1,E_)},function(Lt){return j1(Lt)})}}),Tt=function _g(T,R){function H(kt){return Nt.forall(function(Yt){return!Yt[kt]})}function Q(){return Xc(Ms(T),ml(T)).bind(function(kt){return Ny(ba(kt),Xc(Wt.fromDom(T.selection.getEnd()),ml(T)).bind(ba),function(Yt,Pn){return wr(Yt,Pn)?Tt(kt)?tt.some({element:Lt=kt,mergable:tt.none(),unmergable:tt.none(),selection:[Lt]}):tt.some(Od(R,Yt,kt)):tt.none();var Lt}).bind(xe)})}function ce(kt){return ba(kt.element).map(function(Yt){var Pn=Oo.fromTable(Yt),Lt=sn(Uc(Pn,kt).getOr([]),function(Ln,cn){return cn.isLocked&&(Ln.onAny=!0,0===cn.column?Ln.onFirst=!0:cn.column+cn.colspan>=Pn.grid.columns&&(Ln.onLast=!0)),Ln},{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:da(Pn,kt).isSome(),unmergeable:Fd(Pn,kt).isSome(),locked:Lt}})}function ge(){St.set(aa(Q)()),Nt=St.get().bind(ce),Ve(wt.get(),function(kt){return kt()})}function Ie(kt){return kt(),wt.set(wt.get().concat([kt])),function(){wt.set(Pe(wt.get(),function(Yt){return Yt!==kt}))}}function Be(kt,Yt){return Ie(function(){return St.get().fold(function(){kt.setDisabled(!0)},function(Pn){kt.setDisabled(Yt(Pn))})})}function $e(kt,Yt,Pn){return Ie(function(){return St.get().fold(function(){kt.setDisabled(!0),kt.setActive(!1)},function(Lt){kt.setDisabled(Yt(Lt)),kt.setActive(Pn(Lt))})})}function ot(kt){return Nt.exists(function(Yt){return Yt.locked[kt]})}function xt(kt,Yt){return function(Pn){return $e(Pn,function(Lt){return Tt(Lt.element)},function(){return T.queryCommandValue(kt)===Yt})}}var St=hs(tt.none()),wt=hs([]),Nt=tt.none(),Tt=Zi("caption"),$t=xt("mceTableRowType","header"),an=xt("mceTableColType","th");return T.on("NodeChange ExecCommand TableSelectorChange",ge),{onSetupTable:function(kt){return Be(kt,function(Yt){return!1})},onSetupCellOrRow:function(kt){return Be(kt,function(Yt){return Tt(Yt.element)})},onSetupColumn:function(kt){return function(Yt){return Be(Yt,function(Pn){return Tt(Pn.element)||ot(kt)})}},onSetupPasteable:function(kt){return function(Yt){return Be(Yt,function(Pn){return Tt(Pn.element)||kt().isNone()})}},onSetupPasteableColumn:function(kt,Yt){return function(Pn){return Be(Pn,function(Lt){return Tt(Lt.element)||kt().isNone()||ot(Yt)})}},onSetupMergeable:function(kt){return Be(kt,function(Yt){return H("mergeable")})},onSetupUnmergeable:function(kt){return Be(kt,function(Yt){return H("unmergeable")})},resetTargets:ge,onSetupTableWithCaption:function(kt){return $e(kt,Qe,function(Yt){return ba(Yt.element,ml(T)).exists(function(Pn){return Ly(Pn,"caption").isSome()})})},onSetupTableRowHeaders:$t,onSetupTableColumnHeaders:an,targets:St.get}}(T,Nt),$t=function B_(T){function R(ot){return"TABLE"===ot.nodeName}function H(ot){return yb(T,ot)}function Q(){return(Gi(T)?nm:Jl)()}var ce,ge,Ie=tt.none(),Be=tt.none(),$e=tt.none();return T.on("init",function(){var ot,xt,St,wt,Nt,Tt,$t,an,kt,Yt,Pn,Lt,Ln,cn,Ar=(xt=ip,(ot=T).inline?(Tt=eu(ot),jl(an=Wt.fromTag("div"),{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),to(zc(Wt.fromDom(document)),an),$t=xt,{parent:K(an),view:K(Tt),origin:K(Ku(0,0)),isResizable:$t}):Mf(Wt.fromDom(ot.getDoc()),xt));$e=tt.some(Ar),Nt=T.getParam("object_resizing",!0),(Z(Nt)?"table"===Nt:Nt)&&T.getParam("table_resize_bars",!0,"boolean")&&(St=Q(),kt=St,Yt=H,Pn=Bu,Lt=Td,Ln=function Gc(T){function R(kt,Yt){return tt.from(cl(kt,Yt))}var H,Q,ce,ge,Ie,Be,$e=(ge=Ta({drag:Ko(["xDelta","yDelta","target"])}),Ie=tt.none(),(Be={mutate:function(kt,Yt){ce.trigger.drag(kt,Yt)},events:(ce=Ta({drag:Ko(["xDelta","yDelta"])})).registry}).events.drag.bind(function(kt){Ie.each(function(Yt){ge.trigger.drag(kt.xDelta,kt.yDelta,Yt)})}),{assign:function(kt){Ie=tt.some(kt)},get:function(){return Ie},mutate:Be.mutate,events:ge.registry}),ot=(Q=void 0!==(H={}).mode?H.mode:ig,function(kt,Yt,Pn){function Lt(){Go.stop(),Pr.isOn()&&(Pr.off(),Vn.trigger.stop())}var Ln,cn,Ar=!1,Vn=Ta({start:Ko([]),stop:Ko([])}),Pr=function ph(){var T,R,H={onEvent:We,reset:We,events:Ta({move:Ko(["info"])}).registry},Q=(T=tt.none(),{onEvent:function(ge,Ie){Ie.extract(ge).each(function(Be){var $e=Ie,ot=Be,xt=T.map(function(St){return $e.compare(St,ot)});T=tt.some(ot),xt.each(function(St){R.trigger.move(St)})})},reset:function(){T=tt.none()},events:(R=Ta({move:Ko(["info"])})).registry}),ce=H;return{on:function(){ce.reset(),ce=Q},off:function(){ce.reset(),ce=H},isOn:function(){return ce===Q},onEvent:function(ge,Ie){ce.onEvent(ge,Ie)},events:Q.events}}(),Yr=(Ln=Lt,cn=null,{cancel:Kr,throttle:function(){for(var vo=[],Yo=0;Yo<arguments.length;Yo++)vo[Yo]=arguments[Yo];Kr(),cn=setTimeout(function(){cn=null,Ln.apply(null,vo)},200)}});function Kr(){te(cn)||(clearTimeout(cn),cn=null)}function xo(vo){return function(){for(var Yo=[],bi=0;bi<arguments.length;bi++)Yo[bi]=arguments[bi];Ar&&vo.apply(null,Yo)}}Pr.events.move.bind(function(vo){Yt.mutate(kt,vo.info)});var Go=Yt.sink(Zc({forceDrop:Lt,drop:xo(Lt),move:xo(function(vo){Yr.cancel(),Pr.onEvent(vo,Yt)}),delayDrop:xo(Yr.throttle)}),Pn);return{element:Go.element,go:function(vo){Go.start(vo),Pr.on(),Vn.trigger.start()},on:function(){Ar=!0},off:function(){Ar=!1},destroy:function(){Go.destroy()},events:Vn.registry}}($e,Q,H)),xt=tt.none();function St(kt,Yt){return Vh(kt,Yt)-Vf(kt,"data-initial-"+Yt,0)}function wt(kt,Yt){an.trigger.startAdjust(),$e.assign(kt),es(kt,"data-initial-"+Yt,Vh(kt,Yt)),Pd(kt,Kc),lu(kt,"opacity","0.2"),ot.go(T.parent())}function Nt(kt){return wr(kt,T.view())}$e.events.drag.bind(function(kt){R(kt.target,"data-row").each(function(Yt){var Pn=Vh(kt.target,"top");lu(kt.target,"top",Pn+kt.yDelta+"px")}),R(kt.target,"data-column").each(function(Yt){var Pn=Vh(kt.target,"left");lu(kt.target,"left",Pn+kt.xDelta+"px")})}),ot.events.stop.bind(function(){$e.get().each(function(kt){xt.each(function(Yt){R(kt,"data-row").each(function(Pn){var Lt=St(kt,"top");Ma(kt,"data-initial-top"),an.trigger.adjustHeight(Yt,Lt,parseInt(Pn,10))}),R(kt,"data-column").each(function(Pn){var Lt=St(kt,"left");Ma(kt,"data-initial-left"),an.trigger.adjustWidth(Yt,Lt,parseInt(Pn,10))}),tp(T,Yt)})})});var Tt=is(T.parent(),"mousedown",function(kt){Rd(kt.target,o0)&&wt(kt.target,"top"),Rd(kt.target,mm)&&wt(kt.target,"left")}),$t=is(T.view(),"mouseover",function(kt){Ks(kt.target,"table",Nt).filter(wf).fold(function(){Wr(kt.target)&&Ld(T)},function(Yt){xt=tt.some(Yt),tp(T,Yt)})}),an=Ta({adjustHeight:Ko(["table","delta","row"]),adjustWidth:Ko(["table","delta","column"]),startAdjust:Ko([])});return{destroy:function(){Tt.unbind(),$t.unbind(),ot.destroy(),Ld(T)},refresh:function(kt){tp(T,kt)},on:ot.on,off:ot.off,hideBars:De(np,T),showBars:De(R_,T),events:an.registry}}(Ar),cn=Ta({beforeResize:Ko(["table","type"]),afterResize:Ko(["table","type"]),startDrag:Ko([])}),Ln.events.adjustHeight.bind(function(Vn){var Pr=Vn.table;cn.trigger.beforeResize(Pr,"row");var Yr,Kr,xo,Go,vo,Yo,bi,Ji,sr,Fi=Pn.delta(Vn.delta,Pr);Kr=Fi,xo=Vn.row,Go=Pn,Ji=Re(Uy(bi=Oo.fromTable(Yr=Pr),Yr,Go,qh,function(Jo){return Jo.getOrThunk(Er)}),function(Jo,xi){return xo===xi?Math.max(Kr+Jo,Er()):Jo}),vo=Ji,sr=Re(Oo.justCells(bi),function(Jo){var xi=pb(Jo.row,Jo.row+Jo.rowspan,vo);return{element:Jo.element,height:xi,rowspan:Jo.rowspan}}),Ve((Yo=Ji,Re(bi.all,function(Jo,xi){return{element:Jo.element,height:Yo[xi]}})),function(Jo){Bo(Jo.element,Jo.height)}),Ve(sr,function(Jo){Bo(Jo.element,Jo.height)}),Bo(Yr,ht(Ji,function(Jo,xi){return Jo+xi},0)),cn.trigger.afterResize(Pr,"row")}),Ln.events.startAdjust.bind(function(Vn){cn.trigger.startDrag()}),Ln.events.adjustWidth.bind(function(Vn){var Pr=Vn.table;cn.trigger.beforeResize(Pr,"col");var Yr=Lt.delta(Vn.delta,Pr),Kr=Yt(Pr);mu(Pr,Yr,Vn.column,kt,Kr),cn.trigger.afterResize(Pr,"col")}),(wt={on:Ln.on,off:Ln.off,hideBars:Ln.hideBars,showBars:Ln.showBars,destroy:Ln.destroy,events:cn.registry}).on(),wt.events.startDrag.bind(function(Vn){Ie=tt.some(T.selection.getRng())}),wt.events.beforeResize.bind(function(Vn){var Pr,Yr=Vn.table.dom,Kr=T,xo=xf(Pr=Yr),Go=Kl(Yr);Kr.fire("ObjectResizeStart",{target:Pr,width:xo,height:Go,origin:ym+Vn.type})}),wt.events.afterResize.bind(function(Vn){var Pr,Yr,Kr,xo,vo=Vn.table,Yo=vo.dom;_f(vo),Ie.each(function(bi){T.selection.setRng(bi),T.focus()}),Pr=T,Kr=xf(Yr=Yo),xo=Kl(Yo),Pr.fire("ObjectResized",{target:Yr,width:Kr,height:xo,origin:ym+Vn.type}),T.undoManager.add()}),Be=tt.some(wt))}),T.on("ObjectResizeStart",function(ot){var xt,St,wt,Nt,Tt=ot.target;R(Tt)&&(xt=Wt.fromDom(Tt),Ve(T.dom.select(".mce-clonedresizable"),function($t){T.dom.addClass($t,"mce-"+vh(T)+"-columns")}),!Cb(xt)&&vm(T)?ic(xt):!qd(xt)&&Up(T)&&hp(xt),n0(xt)&&qt(ot.origin,ym)&&hp(xt),ce=ot.width,ge=dp(T)?"":(Nt=(St=T).dom.getStyle(wt=Tt,"width")||St.dom.getAttrib(wt,"width"),tt.from(Nt).filter(jn).getOr("")))}),T.on("ObjectResized",function(ot){var xt,St,wt,Nt,Tt,$t,an,kt,Yt,Pn,Lt=ot.target;R(Lt)&&(xt=Wt.fromDom(Lt),qt(St=ot.origin,"corner-")&&(wt=xt,Nt=ot.width,Pn=Qt(St,"e"),""===ge&&hp(wt),Nt!==ce&&""!==ge?(lu(wt,"width",ge),Tt=Q(),$t=H(wt),an=Gi(T)||Pn?Ed(wt).columns-1:0,mu(wt,Nt-ce,an,Tt,$t)):/^(\d+(\.\d+)?)%$/.test(ge)&&lu(wt,"width",Nt*parseFloat(ge.replace("%",""))/ce+"%"),/^(\d+(\.\d+)?)px$/.test(ge)&&(Yt=Oo.fromTable(kt=wt),Oo.hasColumns(Yt)||Ve(zp(kt),function(Ln){lu(Ln,"width",cu(Ln,"width")),Ma(Ln,"width")}))),_f(xt),Ql(T,xt.dom,Uv))}),T.on("SwitchMode",function(){Be.each(function(ot){T.mode.isReadOnly()?ot.hideBars():ot.showBars()})}),{lazyResize:function(){return Be},lazyWire:function(){return $e.getOr(Mf(Wt.fromDom(T.getBody()),ip))},destroy:function(){Be.each(function(ot){ot.destroy()}),$e.each(function(ot){T.inline&&ks(ot.parent())})}}}(T),an=function xg(T,R,H){var Q=function NS(T,R,H){function Q(Be){Ma(Be,T.selected),Ma(Be,T.firstSelected),Ma(Be,T.lastSelected)}function ce(Be){es(Be,T.selected,"1")}function ge(Be){Ie(Be),H()}function Ie(Be){Ve(Sa(Be,T.selectedSelector+","+T.firstSelectedSelector+","+T.lastSelectedSelector),Q)}return{clearBeforeUpdate:Ie,clear:ge,selectRange:function(Be,$e,ot,xt){ge(Be),Ve($e,ce),es(ot,T.firstSelected,"1"),es(xt,T.lastSelected,"1"),R($e,ot,xt)},selectedSelector:T.selectedSelector,firstSelectedSelector:T.firstSelectedSelector,lastSelectedSelector:T.lastSelectedSelector}}(xl,function(ce,ge,Ie){H.targets().each(function(Be){ba(ge).each(function($e){var ot,xt,St,wt=Bd(T),Nt=Qn(We,Wt.fromDom(T.getDoc()),wt),Tt=(ot=Be,xt=Nt,Uc(St=Oo.fromTable($e),ot).map(function($t){var an,kt,Yt=$f(St,xt,!1);return{upOrLeftCells:Ht(ap(Yt.slice(0,(an=$t)[an.length-1].row+1)),function(Pn){return Re(Pn.cells.slice(0,an[an.length-1].column+1),function(Lt){return Lt.element})}),downOrRightCells:Ht(ap(Yt.slice((kt=$t)[0].row+kt[0].rowspan-1,Yt.length)),function(Pn){return Re(Pn.cells.slice(kt[0].column+kt[0].colspan-1,Pn.cells.length),function(Lt){return Lt.element})})}}));T.fire("TableSelectionChange",{cells:ce,start:ge,finish:Ie,otherCells:Tt})})})},function(){T.fire("TableSelectionClear")});return T.on("init",function(ce){var ge,Ie,Be,$e,ot,xt,St,wt,Nt,Tt,$t,an,kt,Yt,Pn,Lt,Ln=T.getWin(),cn=eu(T),Ar=ml(T),Vn=(ge=gg(Ln),{clearstate:($t=ge,an=cn,kt=Ar,Yt=Q,Pn=ru(),(Ie={clearstate:Lt=Pn.clear,mousedown:function(sr){Yt.clear(an),xp(sr.target,kt).each(Pn.set)},mouseover:function(sr){xo(sr)},mouseup:function(sr){xo(sr),Lt()}}).clearstate),mousedown:Ie.mousedown,mouseover:Ie.mouseover,mouseup:Ie.mouseup}),Pr=(Tt=gg(Ln),{keydown:function(sr,Fi,Jo,xi,as,Ac){var ss=sr.raw,Wa=ss.which,cd=!0===ss.shiftKey;return ch(St,Nt.selectedSelector).fold(function(){return pg(Wa)&&!cd&&Nt.clearBeforeUpdate(St),rl(Wa)&&cd?De(ny,Tt,St,wt,zm,xi,Fi,Nt.selectRange):wp(Wa)&&cd?De(ny,Tt,St,wt,Dc,xi,Fi,Nt.selectRange):rl(Wa)?De(ty,Tt,wt,zm,xi,Fi,Em):wp(Wa)?De(ty,Tt,wt,Dc,xi,Fi,Rb):tt.none},function(Vm){function wg(Ef){return function(){return Bn(Ef,function(Ic){return ol=St,function Gh(T,R,H,Q,ce){return ge=ce,jt(T,function(Ie){return _n(Ie,ge)}).bind(function(Ie){return $e=R,ot=H,ba(Be=Ie).bind(function(xt){var St=Xu(xt),wt=$e,Nt=ot;return Oo.findItem(St,Be,wr).bind(function(Tt){return Oo.getAt(St,(0<wt?Tt.row+Tt.rowspan-1:Tt.row)+wt,(0<Nt?Tt.column+Tt.colspan-1:Tt.column)+Nt).map(function(kt){return kt.element})})}).bind(function(xt){return wt=Q,Pa(St=xt,"table").bind(function(Nt){return mo(Nt,wt).bind(function(Tt){return Wh(Tt,St).bind(function($t){return $t.boxes.map(function(an){return{boxes:an,start:$t.start,finish:$t.finish}})})})});var St,wt});var Be,$e,ot});var ge}(Vm,Ic.rows,Ic.cols,(Jd=Nt).firstSelectedSelector,Jd.lastSelectedSelector).map(function(Za){return Jd.clearBeforeUpdate(ol),Jd.selectRange(ol,Za.boxes,Za.start,Za.finish),Za.boxes});var ol,Jd}).fold(function(){return hu(St,Nt.firstSelectedSelector,Nt.lastSelectedSelector).map(function(Ic){var Th=rl(Wa)||Ac.isForward(Wa)?As.after:As.before;return Tt.setRelativeSelection(As.on(Ic.first,0),Th(Ic.table)),Nt.clear(St),ld(tt.none(),!0)})},function(Ic){return tt.some(ld(tt.none(),!0))})}}return rl(Wa)&&cd?wg([Pm(1,0)]):wp(Wa)&&cd?wg([Pm(-1,0)]):Ac.isBackward(Wa)&&cd?wg([Pm(0,-1),Pm(-1,0)]):Ac.isForward(Wa)&&cd?wg([Pm(0,1),Pm(1,0)]):pg(Wa)&&!cd?Kr:tt.none})()},keyup:function(sr,Fi,Jo,xi,as){return ch(St,Nt.selectedSelector).fold(function(){var Ac,ss,Wa,cd,Vm,wg=sr.raw;return!0===wg.shiftKey&&pg(wg.which)?(Ac=St,ss=wt,Vm=Nt.selectRange,wr(Wa=Fi,cd=xi)&&Jo===as?tt.none():Ks(Wa,"td,th",ss).bind(function(Ic){return Ks(cd,"td,th",ss).bind(function(Th){return iy(Ac,ss,Ic,Th,Vm)})})):tt.none()},tt.none)}}),Yr=(Be=St=cn,$e=wt=Ar,ot=Nt=Q,xt=gg(Ln),function(sr,Fi){ot.clearBeforeUpdate(Be),Wh(sr,Fi,$e).each(function(Jo){var xi=Jo.boxes.getOr([]);ot.selectRange(Be,xi,Jo.start,Jo.finish),xt.selectContents(Fi),xt.collapseSelection()})});function Kr(){return Nt.clear(St),tt.none()}function xo(sr){Pn.on(function(Fi){Yt.clearBeforeUpdate(an),xp(sr.target,kt).each(function(Jo){Wh(Fi,Jo,kt).each(function(xi){var as,Ac,ss,Wa=xi.boxes.getOr([]);1===Wa.length?(Ac="false"===Ab(as=Wa[0]),ss=Bp(bc(sr.target),as,wr),Ac&&ss&&(Yt.selectRange(an,Wa,as,as),$t.selectContents(as))):1<Wa.length&&(Yt.selectRange(an,Wa,xi.start,xi.finish),$t.selectContents(Jo))})})})}function Go(sr,Fi){!0===sr.raw.shiftKey&&(Fi.kill&&sr.kill(),Fi.selection.each(function(Jo){var xi=Vu.relative(Jo.start,Jo.finish),as=Vv(Ln,xi);T.selection.setRng(as)}))}function vo(sr){return 0===sr.button}T.on("TableSelectorChange",function(sr){return Yr(sr.start,sr.finish)});var Yo,bi,Ji=(Yo=hs(Wt.fromDom(cn)),bi=hs(0),{touchEnd:function(sr){var Fi,Jo,xi=Wt.fromDom(sr.target);"td"!==oo(xi)&&"th"!==oo(xi)||(Fi=Yo.get(),Jo=bi.get(),wr(Fi,xi)&&sr.timeStamp-Jo<300&&(sr.preventDefault(),Yr(xi,xi))),Yo.set(xi),bi.set(sr.timeStamp)}});T.on("dragstart",function(sr){Vn.clearstate()}),T.on("mousedown",function(sr){vo(sr)&&zl(sr)&&Vn.mousedown(og(sr))}),T.on("mouseover",function(sr){var Fi;(void 0===(Fi=sr).buttons||Sp.browser.isEdge()&&0===Fi.buttons||0!=(1&Fi.buttons))&&zl(sr)&&Vn.mouseover(og(sr))}),T.on("mouseup",function(sr){vo(sr)&&zl(sr)&&Vn.mouseup(og(sr))}),T.on("touchend",Ji.touchEnd),T.on("keyup",function(sr){var Fi,Jo,xi,as=og(sr);as.raw.shiftKey&&pg(as.raw.which)&&(Fi=T.selection.getRng(),Jo=Wt.fromDom(Fi.startContainer),xi=Wt.fromDom(Fi.endContainer),Pr.keyup(as,Jo,Fi.startOffset,xi,Fi.endOffset).each(function(Ac){Go(as,Ac)}))}),T.on("keydown",function(sr){var Fi=og(sr);R().each(function(ss){return ss.hideBars()});var Jo=T.selection.getRng(),xi=Wt.fromDom(Jo.startContainer),as=Wt.fromDom(Jo.endContainer),Ac=H1(au,Fm)(Wt.fromDom(T.selection.getStart()));Pr.keydown(Fi,xi,Jo.startOffset,as,Jo.endOffset,Ac).each(function(ss){Go(Fi,ss)}),R().each(function(ss){return ss.showBars()})}),T.on("NodeChange",function(){var sr=T.selection;dl(ba,[Wt.fromDom(sr.getStart()),Wt.fromDom(sr.getEnd())]).fold(function(){return Q.clear(cn)},We)})}),{clear:Q.clear}}(T,$t.lazyResize,Tt),kt=function z_(T,R,H){function Q(Be){return"table"===oo(eu(Be))}function ce(Be,$e,ot,xt,St){return function(wt,Nt,Tt){void 0===Tt&&(Tt=!1),_f(wt);var $t=xt(),an=Wt.fromDom(T.getDoc()),kt=Qn(ot,an,ge),Yt={sizing:yb(T,wt),resize:(vb(T)?Jl:nm)(),section:function(Pn){switch(Nd(T)){case"section":return qv();case"sectionCells":return ms();case"cells":return xm();default:return function(Lt,Ln){switch(Bn(Oo.fromTable(Lt).all,function(Ar){var Vn=ec(Ar);return"header"===Vn.type?tt.from(Vn.subType):tt.none()}).getOr("section")){case"section":return xc();case"sectionCells":return Ev();case"cells":return nu()}}(Pn)}}(wt)};return $e(wt)?Be($t,wt,Nt,kt,Yt).bind(function(Pn){Ve(Pn.newRows,function(cn){za(T,cn.dom)}),Ve(Pn.newCells,function(cn){tu(T,cn.dom)});var Lt,Ln=(Lt=wt,Pn.cursor.fold(function(){return Uo(zp(Lt)).filter(Wr).map(function(cn){R.clear(Lt);var Ar=T.dom.createRng();return Ar.selectNode(cn.dom),T.selection.setRng(Ar),es(cn,"data-mce-selected","1"),Ar})},function(cn){var Ar=Ll(bm,cn),Vn=T.dom.createRng();return Vn.setStart(Ar.element.dom,Ar.offset),Vn.setEnd(Ar.element.dom,Ar.offset),T.selection.setRng(Vn),R.clear(Lt),tt.some(Vn)}));return Wr(wt)&&(_f(wt),Tt||Ql(T,wt.dom,St)),Ln.map(function(cn){return{rng:cn,effect:St}})}):tt.none()}}var ge=Bd(T),Ie=vb(T)?We:zd;return{deleteRow:ce(wm,function(Be){return!1===Q(T)||1<Ed(Be).rows},We,H,gs),deleteColumn:ce(_m,function(Be){return!1===Q(T)||1<Ed(Be).columns},We,H,gs),insertRowsBefore:ce(pp,st,We,H,gs),insertRowsAfter:ce(i0,st,We,H,gs),insertColumnsBefore:ce(od,st,Ie,H,gs),insertColumnsAfter:ce(Nl,st,Ie,H,gs),mergeCells:ce(_a,st,We,H,gs),unmergeCells:ce(Sm,st,We,H,gs),pasteColsBefore:ce(sx,st,We,H,gs),pasteColsAfter:ce(s0,st,We,H,gs),pasteRowsBefore:ce(Df,st,We,H,gs),pasteRowsAfter:ce(u0,st,We,H,gs),pasteCells:ce(gp,st,We,H,U_),makeCellsHeader:ce(jo,st,We,H,gs),unmakeCellsHeader:ce(io,st,We,H,gs),makeColumnsHeader:ce(sg,st,We,H,gs),unmakeColumnsHeader:ce(q_,st,We,H,gs),makeRowsHeader:ce(a0,st,We,H,gs),makeRowsBody:ce(ax,st,We,H,gs),makeRowsFooter:ce(ac,st,We,H,gs),getTableRowType:Cm,getTableCellType:Jp,getTableColType:Gd}}(T,an,$t.lazyWire),Yt=(ce=ru(),ge=ru(),{getRows:ce.get,setRows:function(Lt){Lt.fold(ce.clear,ce.set),ge.clear()},clearRows:ce.clear,getColumns:ge.get,setColumns:function(Lt){Lt.fold(ge.clear,ge.set),ce.clear()},clearColumns:ge.clear});return function ex(T,R,H,Q,ce){function ge(Tt){return ba(Tt,Nt)}function Ie(Tt){return Cc(Ms($t=T),ml($t)).bind(function(an){return ge(an).map(function(kt){return Tt(kt,an)})});var $t}function Be(Tt){T.focus()}function $e(Tt,$t){return void 0===$t&&($t=!1),Ie(function(an,kt){var Yt=Od(Q,an,kt);Tt(an,Yt,$t).each(Be)})}function ot(){return Ie(function(Tt,$t){var an,kt,Yt,Pn=Od(Q,Tt,$t),Lt=Qn(We,Wt.fromDom(T.getDoc()),tt.none());return an=Pn,kt=Lt,Uc(Yt=Oo.fromTable(Tt),an).bind(function(Ln){var cn=ap(Ht(Ai($f(Yt,kt,!1)).rows.slice(Ln[0].row,Ln[Ln.length-1].row+Ln[Ln.length-1].rowspan),function(Ar){var Vn=Pe(Ar.cells,function(Pr){return!Pr.isLocked});return 0<Vn.length?[hr(hr({},Ar),{cells:Vn})]:[]}));return uh(0<cn.length,cn)}).map(function(Ln){return Re(Ln,function(cn){var Ar=pu(cn.element);return Ve(cn.cells,function(Vn){var Pr=Na(Vn.element);Yi(Pr,"colspan",Vn.colspan,1),Yi(Pr,"rowspan",Vn.rowspan,1),to(Ar,Pr)}),Ar})})})}function xt(){return Ie(function(Tt,$t){var an,kt;return an=Od(Q,Tt,$t),nc(kt=Oo.fromTable(Tt),an).map(function(Pn){var Lt,Ln,cn=Pn[Pn.length-1],Ar=Pn[0].column,Vn=cn.column+cn.colspan,Pr=function(Kr,xo,Go){if(Oo.hasColumns(Kr)){var vo=Re(Pe(Oo.justColumns(Kr),function(bi){return bi.column>=xo&&bi.column<Go}),function(bi){var Ji=Na(bi.element);return li(Ji,"span",Go-xo),Ji}),Yo=Wt.fromTag("colgroup");return ju(Yo,vo),[Yo]}return[]}(kt,Ar,Vn),Yr=(Lt=Ar,Ln=Vn,Re(kt.all,function(Kr){var xo=Re(Pe(Kr.cells,function(vo){return vo.column>=Lt&&vo.column<Ln}),function(vo){var Yo=Na(vo.element);return li(Yo,"colspan",Ln-Lt),Yo}),Go=Wt.fromTag("tr");return ju(Go,xo),Go}));return fr(fr([],Pr,!0),Yr,!0)})})}function St(Tt,$t){return $t().each(function(an){var kt=Re(an,Na);Ie(function(Yt,Pn){var Lt,Ln,cn=ri(Wt.fromDom(T.getDoc())),Ar=(Lt=kt,Ln=cn,{selection:Jh(Q),clipboard:Lt,generators:Ln});Tt(Yt,Ar).each(Be)})})}function wt(Tt){return function($t,an){return ja(an,"type").each(function(kt){$e(Tt(kt),an.no_events)})}}var Nt=ml(T);ni({mceTableSplitCells:function(){return $e(R.unmergeCells)},mceTableMergeCells:function(){return $e(R.mergeCells)},mceTableInsertRowBefore:function(){return $e(R.insertRowsBefore)},mceTableInsertRowAfter:function(){return $e(R.insertRowsAfter)},mceTableInsertColBefore:function(){return $e(R.insertColumnsBefore)},mceTableInsertColAfter:function(){return $e(R.insertColumnsAfter)},mceTableDeleteCol:function(){return $e(R.deleteColumn)},mceTableDeleteRow:function(){return $e(R.deleteRow)},mceTableCutCol:function(){return xt().each(function(Tt){ce.setColumns(Tt),$e(R.deleteColumn)})},mceTableCutRow:function(){return ot().each(function(Tt){ce.setRows(Tt),$e(R.deleteRow)})},mceTableCopyCol:function(){return xt().each(function(Tt){return ce.setColumns(Tt)})},mceTableCopyRow:function(){return ot().each(function(Tt){return ce.setRows(Tt)})},mceTablePasteColBefore:function(){return St(R.pasteColsBefore,ce.getColumns)},mceTablePasteColAfter:function(){return St(R.pasteColsAfter,ce.getColumns)},mceTablePasteRowBefore:function(){return St(R.pasteRowsBefore,ce.getRows)},mceTablePasteRowAfter:function(){return St(R.pasteRowsAfter,ce.getRows)},mceTableDelete:function(){return Qy(T).each(function(Tt){ba(Tt,Nt).filter(Le(Nt)).each(function($t){var an,kt=Wt.fromText("");mc($t,kt),ks($t),T.dom.isEmpty(T.getBody())?(T.setContent(""),T.selection.setCursorLocation()):((an=T.dom.createRng()).setStart(kt.dom,0),an.setEnd(kt.dom,0),T.selection.setRng(an),T.nodeChanged())})})},mceTableCellToggleClass:function(Tt,$t){Ie(function(an){var kt=rg(Q),Yt=Te(kt,function(Pn){return T.formatter.match("tablecellclass",{value:$t},Pn.dom)})?T.formatter.remove:T.formatter.apply;Ve(kt,function(Pn){return Yt("tablecellclass",{value:$t},Pn.dom)}),Ql(T,an.dom,Uv)})},mceTableToggleClass:function(Tt,$t){Ie(function(an){T.formatter.toggle("tableclass",{value:$t},an.dom),Ql(T,an.dom,Uv)})},mceTableToggleCaption:function(){Qy(T).each(function(Tt){ba(Tt,Nt).each(function($t){Ly($t,"caption").fold(function(){var an,kt,Yt=Wt.fromTag("caption");to(Yt,Wt.fromText("Caption")),kt=Yt,Ss(an=$t,0).fold(function(){to(an,kt)},function(Pn){ns(Pn,kt)}),T.selection.setCursorLocation(Yt.dom,0)},function(an){Zi("caption")(Tt)&&bo("td",$t).each(function(kt){return T.selection.setCursorLocation(kt.dom,0)}),ks(an)}),Ql(T,$t.dom,gs)})})},mceTableSizingMode:function(Tt,$t){return an=$t,Qy(T).each(function(kt){dp(T)||vm(T)||Up(T)||ba(kt,Nt).each(function(Yt){"relative"!==an||qd(Yt)?"fixed"!==an||Cb(Yt)?"responsive"!==an||n0(Yt)||kc(Yt):ic(Yt):hp(Yt),_f(Yt),Ql(T,Yt.dom,gs)})});var an},mceTableCellType:wt(function(Tt){return"th"===Tt?R.makeCellsHeader:R.unmakeCellsHeader}),mceTableColType:wt(function(Tt){return"th"===Tt?R.makeColumnsHeader:R.unmakeColumnsHeader}),mceTableRowType:wt(function(Tt){switch(Tt){case"header":return R.makeRowsHeader;case"footer":return R.makeRowsFooter;default:return R.makeRowsBody}})},function(Tt,$t){return T.addCommand($t,Tt)}),ni({mceTableProps:De(Q1,T,!1),mceTableRowProps:De(tg,T),mceTableCellProps:De(jd,T,Q)},function(Tt,$t){return T.addCommand($t,function(){return Tt()})}),T.addCommand("mceInsertTable",function(Tt,$t){de($t)&&0<no($t).length?oi(T,$t.rows,$t.columns,$t.options,"Invalid values for mceInsertTable - rows and columns values are required to insert a table."):Q1(T,!0)}),T.addCommand("mceTableApplyCellStyle",function(Tt,$t){function an(Pn){return"tablecell"+Pn.toLowerCase().replace("-","")}var kt,Yt;!de($t)||0!==(kt=rg(Q)).length&&(function(Pn){for(var Lt in Pn)if(Jr.call(Pn,Lt))return;return 1}(Yt=Vo($t,function(Pn,Lt){return T.formatter.has(an(Lt))&&Z(Pn)}))||(ni(Yt,function(Pn,Lt){Ve(kt,function(Ln){Af.normal(T,Ln.dom).setFormat(an(Lt),Pn)})}),ge(kt[0]).each(function(Pn){return Ql(T,Pn.dom,Uv)})))})}(T,kt,0,Nt,Yt),xt=kt,St=Nt,wt=ml(ot=T),ni({mceTableRowType:function(){return Pn(xt.getTableRowType)},mceTableCellType:function(){return Pn(xt.getTableCellType)},mceTableColType:function(){return Pn(xt.getTableColType)}},function(Lt,Ln){return ot.addQueryValueHandler(Ln,Lt)}),function hh(T,R,H){T.on("BeforeGetContent",function(Q){!0===Q.selection&&ua(R.get(),We,function(ce){Q.preventDefault(),ba(ce[0]).map(function(ge){var Ie=function Y1(T,R){function H(Ln){return _n(Ln.element,R)}var Q,ge,Ie,Be,$e,ot,xt,St,wt,Nt,Tt,$t=Na(T),an=_v($t),kt=Tf(T),Yt=Oo.generate(an),Pn=(Q=H,ge=Yt.grid.rows,Ie=Yt.grid.columns,$e=Be=0,ot=[],xt=[],ni(Yt.access,function(Ln){var cn,Ar,Vn,Pr;ot.push(Ln),Q(Ln)&&(xt.push(Ln),Ar=(cn=Ln.row)+Ln.rowspan-1,Pr=(Vn=Ln.column)+Ln.colspan-1,cn<ge?ge=cn:Be<Ar&&(Be=Ar),Vn<Ie?Ie=Vn:$e<Pr&&($e=Pr))}),{minRow:ge,minCol:Ie,maxRow:Be,maxCol:$e,allCells:ot,selectedCells:xt}),Lt="th:not("+R+"),td:not("+R+")";return Ve(qu($t,"th,td",function(Ln){return _n(Ln,Lt)}),ks),function(Ln,cn,Ar,Vn){for(var Pr,Yr,Kr,xo=cn.grid.columns,Go=cn.grid.rows,vo=0;vo<Go;vo++)for(var Yo=!1,bi=0;bi<xo;bi++)vo<Ar.minRow||vo>Ar.maxRow||bi<Ar.minCol||bi>Ar.maxCol||(Oo.getAt(cn,vo,bi).filter(Vn).isNone()?(Pr=Yo,Yr=Ln[vo].element,Kr=Wt.fromTag("td"),to(Kr,Wt.fromTag("br")),(Pr?to:ka)(Yr,Kr)):Yo=!0)}(an,Yt,Pn,H),St=$t,wt=Pn,Nt=Yt,Tt=function(Ln,cn,Ar,Vn){if(0===Vn.minCol&&cn.grid.columns===Vn.maxCol+1)return 0;var Pr=Xh(cn,Ln,Ar),Yr=sn(Pr,function(xo,Go){return xo+Go},0),Kr=sn(Pr.slice(Vn.minCol,Vn.maxCol+1),function(xo,Go){return xo+Go},0)/Yr*Ar.pixelWidth()-Ar.pixelWidth();return Ar.getCellDelta(Kr)}(T,Oo.fromTable(T),kt,Pn),ni(Nt.columns,function(Ln){(Ln.column<wt.minCol||Ln.column>wt.maxCol)&&ks(Ln.element)}),Ve(Pe(zy(St,"tr"),function(Ln){return 0===Ln.dom.childElementCount}),ks),wt.minCol!==wt.maxCol&&wt.minRow!==wt.maxRow||Ve(zy(St,"th,td"),function(Ln){Ma(Ln,"rowspan"),Ma(Ln,"colspan")}),Ma(St,La),Ma(St,"data-snooker-col-series"),Tf(St).adjustTableWidth(Tt),$t}(ge,"[data-mce-selected]");return _f(Ie),[Ie]}).each(function(ge){var Ie;Q.content="text"===Q.format?Re(ge,function(Be){return Be.dom.innerText}).join(""):(Ie=T,Re(ge,function(Be){return Ie.selection.serializer.serialize(Be.dom,{})}).join(""))})},We)}),T.on("BeforeSetContent",function(Q){!0===Q.selection&&!0===Q.paste&&Uo(rg(R)).each(function(ce){ba(ce).each(function(ge){var Ie,Be,$e,xt=Pe((Ie=Q.content,(Be=document.createElement("div")).innerHTML=Ie,Ou(Wt.fromDom(Be))),function(wt){return"meta"!==oo(wt)}),St=Zi("table");1===xt.length&&St(xt[0])&&(Q.preventDefault(),$e=ri(Wt.fromDom(T.getDoc())),H.pasteCells(ge,{element:ce,clipboard:xt[0],generators:$e}).each(function(){T.focus()}))})})})}(T,Nt,kt),function(Lt,Ln,cn,Ar){function Vn(Ji){return function(){return Lt.execCommand(Ji)}}function Pr(Ji){Lt.execCommand("mceInsertTable",!1,{rows:Ji.numRows,columns:Ji.numColumns})}var Yr={text:"Table properties",onSetup:cn.onSetupTable,onAction:Vn("mceTableProps")},Kr={text:"Delete table",icon:"table-delete-table",onSetup:cn.onSetupTable,onAction:Vn("mceTableDelete")};Lt.ui.registry.addMenuItem("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",onAction:Vn("mceTableInsertRowBefore"),onSetup:cn.onSetupCellOrRow}),Lt.ui.registry.addMenuItem("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",onAction:Vn("mceTableInsertRowAfter"),onSetup:cn.onSetupCellOrRow}),Lt.ui.registry.addMenuItem("tabledeleterow",{text:"Delete row",icon:"table-delete-row",onAction:Vn("mceTableDeleteRow"),onSetup:cn.onSetupCellOrRow}),Lt.ui.registry.addMenuItem("tablerowprops",{text:"Row properties",icon:"table-row-properties",onAction:Vn("mceTableRowProps"),onSetup:cn.onSetupCellOrRow}),Lt.ui.registry.addMenuItem("tablecutrow",{text:"Cut row",icon:"cut-row",onAction:Vn("mceTableCutRow"),onSetup:cn.onSetupCellOrRow}),Lt.ui.registry.addMenuItem("tablecopyrow",{text:"Copy row",icon:"duplicate-row",onAction:Vn("mceTableCopyRow"),onSetup:cn.onSetupCellOrRow}),Lt.ui.registry.addMenuItem("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",onAction:Vn("mceTablePasteRowBefore"),onSetup:cn.onSetupPasteable(Ar.getRows)}),Lt.ui.registry.addMenuItem("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",onAction:Vn("mceTablePasteRowAfter"),onSetup:cn.onSetupPasteable(Ar.getRows)});var xo={type:"nestedmenuitem",text:"Row",getSubmenuItems:K("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")};Lt.ui.registry.addMenuItem("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",onAction:Vn("mceTableInsertColBefore"),onSetup:cn.onSetupColumn("onFirst")}),Lt.ui.registry.addMenuItem("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",onAction:Vn("mceTableInsertColAfter"),onSetup:cn.onSetupColumn("onLast")}),Lt.ui.registry.addMenuItem("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",onAction:Vn("mceTableDeleteCol"),onSetup:cn.onSetupColumn("onAny")}),Lt.ui.registry.addMenuItem("tablecutcolumn",{text:"Cut column",icon:"cut-column",onAction:Vn("mceTableCutCol"),onSetup:cn.onSetupColumn("onAny")}),Lt.ui.registry.addMenuItem("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",onAction:Vn("mceTableCopyCol"),onSetup:cn.onSetupColumn("onAny")}),Lt.ui.registry.addMenuItem("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",onAction:Vn("mceTablePasteColBefore"),onSetup:cn.onSetupPasteableColumn(Ar.getColumns,"onFirst")}),Lt.ui.registry.addMenuItem("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",onAction:Vn("mceTablePasteColAfter"),onSetup:cn.onSetupPasteableColumn(Ar.getColumns,"onLast")});var Go={type:"nestedmenuitem",text:"Column",getSubmenuItems:K("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")};Lt.ui.registry.addMenuItem("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",onAction:Vn("mceTableCellProps"),onSetup:cn.onSetupCellOrRow}),Lt.ui.registry.addMenuItem("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",onAction:Vn("mceTableMergeCells"),onSetup:cn.onSetupMergeable}),Lt.ui.registry.addMenuItem("tablesplitcells",{text:"Split cell",icon:"table-split-cells",onAction:Vn("mceTableSplitCells"),onSetup:cn.onSetupUnmergeable});var vo={type:"nestedmenuitem",text:"Cell",getSubmenuItems:K("tablecellprops tablemergecells tablesplitcells")};!1===Lt.getParam("table_grid",!0,"boolean")?Lt.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:Vn("mceInsertTable")}):Lt.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:Pr}]}}),Lt.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:Vn("mceInsertTable")}),Lt.ui.registry.addMenuItem("tableprops",Yr),Lt.ui.registry.addMenuItem("deletetable",Kr),Lt.ui.registry.addNestedMenuItem("row",xo),Lt.ui.registry.addNestedMenuItem("column",Go),Lt.ui.registry.addNestedMenuItem("cell",vo),Lt.ui.registry.addContextMenu("table",{update:function(){return cn.resetTargets(),cn.targets().fold(K(""),function(Ji){return"caption"===oo(Ji.element)?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"})}});var Yo=Cl(Kf(Lt));0!==Yo.length&&Lt.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:function(){return kh(Lt,Ln,Yo,"tableclass",function(Ji){return Lt.execCommand("mceTableToggleClass",!1,Ji)})},onSetup:cn.onSetupTable});var bi=Cl(ca(Lt));0!==bi.length&&Lt.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:function(){return kh(Lt,Ln,bi,"tablecellclass",function(Ji){return Lt.execCommand("mceTableCellToggleClass",!1,Ji)})},onSetup:cn.onSetupCellOrRow}),Lt.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:function(){return kh(Lt,Ln,id,"tablecellverticalalign",fo(Lt,"vertical-align"))},onSetup:cn.onSetupCellOrRow}),Lt.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:function(){return kh(Lt,Ln,L_(Lt),"tablecellborderwidth",fo(Lt,"border-width"))},onSetup:cn.onSetupCellOrRow}),Lt.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:function(){return kh(Lt,Ln,mb(Lt),"tablecellborderstyle",fo(Lt,"border-style"))},onSetup:cn.onSetupCellOrRow}),Lt.ui.registry.addToggleMenuItem("tablecaption",{icon:"table-caption",text:"Table caption",onAction:Vn("mceTableToggleCaption"),onSetup:cn.onSetupTableWithCaption}),Lt.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:function(){return $n(Lt,N_(Lt),"background-color")},onSetup:cn.onSetupCellOrRow}),Lt.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:function(){return $n(Lt,jp(Lt),"border-color")},onSetup:cn.onSetupCellOrRow}),Lt.ui.registry.addToggleMenuItem("tablerowheader",{text:"Row header",icon:"table-top-header",onAction:F_(Lt),onSetup:cn.onSetupTableRowHeaders}),Lt.ui.registry.addToggleMenuItem("tablecolheader",{text:"Column header",icon:"table-left-header",onAction:Bv(Lt),onSetup:cn.onSetupTableColumnHeaders})}(T,Nt,Tt,Yt),function(Lt,Ln,cn,Ar){function Vn(Kr){return function(){return Lt.execCommand(Kr)}}Lt.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(Kr){return Kr("inserttable | cell row column | advtablesort | tableprops deletetable")}}),Lt.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:Vn("mceTableProps"),icon:"table",onSetup:cn.onSetupTable}),Lt.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:Vn("mceTableDelete"),icon:"table-delete-table",onSetup:cn.onSetupTable}),Lt.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:Vn("mceTableCellProps"),icon:"table-cell-properties",onSetup:cn.onSetupCellOrRow}),Lt.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:Vn("mceTableMergeCells"),icon:"table-merge-cells",onSetup:cn.onSetupMergeable}),Lt.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:Vn("mceTableSplitCells"),icon:"table-split-cells",onSetup:cn.onSetupUnmergeable}),Lt.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:Vn("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:cn.onSetupCellOrRow}),Lt.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:Vn("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:cn.onSetupCellOrRow}),Lt.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:Vn("mceTableDeleteRow"),icon:"table-delete-row",onSetup:cn.onSetupCellOrRow}),Lt.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:Vn("mceTableRowProps"),icon:"table-row-properties",onSetup:cn.onSetupCellOrRow}),Lt.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:Vn("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:cn.onSetupColumn("onFirst")}),Lt.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:Vn("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:cn.onSetupColumn("onLast")}),Lt.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:Vn("mceTableDeleteCol"),icon:"table-delete-column",onSetup:cn.onSetupColumn("onAny")}),Lt.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",icon:"cut-row",onAction:Vn("mceTableCutRow"),onSetup:cn.onSetupCellOrRow}),Lt.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",icon:"duplicate-row",onAction:Vn("mceTableCopyRow"),onSetup:cn.onSetupCellOrRow}),Lt.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",icon:"paste-row-before",onAction:Vn("mceTablePasteRowBefore"),onSetup:cn.onSetupPasteable(Ar.getRows)}),Lt.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",icon:"paste-row-after",onAction:Vn("mceTablePasteRowAfter"),onSetup:cn.onSetupPasteable(Ar.getRows)}),Lt.ui.registry.addButton("tablecutcol",{tooltip:"Cut column",icon:"cut-column",onAction:Vn("mceTableCutCol"),onSetup:cn.onSetupColumn("onAny")}),Lt.ui.registry.addButton("tablecopycol",{tooltip:"Copy column",icon:"duplicate-column",onAction:Vn("mceTableCopyCol"),onSetup:cn.onSetupColumn("onAny")}),Lt.ui.registry.addButton("tablepastecolbefore",{tooltip:"Paste column before",icon:"paste-column-before",onAction:Vn("mceTablePasteColBefore"),onSetup:cn.onSetupPasteableColumn(Ar.getColumns,"onFirst")}),Lt.ui.registry.addButton("tablepastecolafter",{tooltip:"Paste column after",icon:"paste-column-after",onAction:Vn("mceTablePasteColAfter"),onSetup:cn.onSetupPasteableColumn(Ar.getColumns,"onLast")}),Lt.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:Vn("mceInsertTable"),icon:"table"});var Pr=Cl(Kf(Lt));0!==Pr.length&&Lt.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:sm(Lt,Ln,Pr,"tableclass",function(Kr){return Lt.execCommand("mceTableToggleClass",!1,Kr)}),onSetup:cn.onSetupTable});var Yr=Cl(ca(Lt));0!==Yr.length&&Lt.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:sm(Lt,Ln,Yr,"tablecellclass",function(Kr){return Lt.execCommand("mceTableCellToggleClass",!1,Kr)}),onSetup:cn.onSetupCellOrRow}),Lt.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:sm(Lt,Ln,id,"tablecellverticalalign",fo(Lt,"vertical-align")),onSetup:cn.onSetupCellOrRow}),Lt.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:sm(Lt,Ln,L_(Lt),"tablecellborderwidth",fo(Lt,"border-width")),onSetup:cn.onSetupCellOrRow}),Lt.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:sm(Lt,Ln,mb(Lt),"tablecellborderstyle",fo(Lt,"border-style")),onSetup:cn.onSetupCellOrRow}),Lt.ui.registry.addToggleButton("tablecaption",{tooltip:"Table caption",onAction:Vn("mceTableToggleCaption"),icon:"table-caption",onSetup:cn.onSetupTableWithCaption}),Lt.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:function(Kr){return Kr($n(Lt,N_(Lt),"background-color"))},onSetup:cn.onSetupCellOrRow}),Lt.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:function(Kr){return Kr($n(Lt,jp(Lt),"border-color"))},onSetup:cn.onSetupCellOrRow}),Lt.ui.registry.addToggleButton("tablerowheader",{tooltip:"Row header",icon:"table-top-header",onAction:F_(Lt),onSetup:cn.onSetupTableRowHeaders}),Lt.ui.registry.addToggleButton("tablecolheader",{tooltip:"Column header",icon:"table-left-header",onAction:Bv(Lt),onSetup:cn.onSetupTableColumnHeaders})}(T,Nt,Tt,Yt),0<($e=(Be=T).getParam("table_toolbar","tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol")).length&&Be.ui.registry.addContextToolbar("table",{predicate:function(Lt){return Be.dom.is(Lt,"table")&&Be.getBody().contains(Lt)},items:$e,scope:"node",position:"node"}),T.on("PreInit",function(){T.serializer.addTempAttr(xl.firstSelected),T.serializer.addTempAttr(xl.lastSelected),T.formatter.register(Pb)}),T.getParam("table_tab_navigation",!0,"boolean")&&T.on("keydown",function(Lt){var Ln,cn,Ar,Vn,Pr=T,Yr=an;(Ln=Lt).keyCode===Kd.TAB&&(cn=eu(Pr),Ar=function(Kr){var xo=oo(Kr);return wr(Kr,cn)||pt(Rm,xo)},Vn=Pr.selection.getRng(),Zg(Wt.fromDom(Ln.shiftKey?Vn.startContainer:Vn.endContainer),Ar).each(function(Kr){Ln.preventDefault(),ba(Kr,Ar).each(Yr.clear),Pr.selection.collapse(Ln.shiftKey),(Ln.shiftKey?function(xo,Go,vo){return ry(xo,Go,(bi=wf,tx(Yo=vo,void 0).fold(function(){return If.none()},function(Ji){return ug(Ji.all,Yo,Ji.index,-1,bi)})));var Yo,bi}:qo)(Pr,Ar,Kr).each(function(xo){Pr.selection.setRng(xo)})}))}),T.on("remove",function(){$t.destroy()}),{insertTable:(Ie=T,function(Lt,Ln,cn){var Ar=oi(Ie,Ln,Lt,cn=void 0===cn?{}:cn,"Invalid values for insertTable - rows and columns values are required to insert a table.");return Ie.undoManager.add(),Ar}),setClipboardRows:_b(Yt.setRows),getClipboardRows:Nv(Yt.getRows),setClipboardCols:_b(Yt.setColumns),getClipboardCols:Nv(Yt.getColumns),resizeHandler:$t,selectionTargets:Tt};function Pn(Lt){return Cc(Ms(ot)).bind(function(Ln){return ba(Ln,wt).map(function(cn){var Ar=Od(St,cn,Ln);return Lt(cn,Ar)})}).getOr("")}})}(),function(_t,yn){"object"==typeof exports&&"undefined"!=typeof module?yn(exports):"function"==typeof define&&define.amd?define(["exports"],yn):yn((_t="undefined"!=typeof globalThis?globalThis:_t||self).echarts={})}(this,function(_t){"use strict";var yn=function(n,t){return(yn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])})(n,t)};function yt(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}yn(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var at=function(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},We=new function(){this.browser=new at,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow="undefined"!=typeof window};"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?(We.wxa=!0,We.touchEventsSupported=!0):"undefined"==typeof document&&"undefined"!=typeof self?We.worker=!0:"undefined"==typeof navigator?(We.node=!0,We.svgSupported=!0):function(n,t){var e=t.browser,o=n.match(/Firefox\/([\d.]+)/),i=n.match(/MSIE\s([\d.]+)/)||n.match(/Trident\/.+?rv:(([\d.]+))/),a=n.match(/Edge?\/([\d.]+)/),u=/micromessenger/i.test(n);o&&(e.firefox=!0,e.version=o[1]),i&&(e.ie=!0,e.version=i[1]),a&&(e.edge=!0,e.version=a[1],e.newEdge=+a[1].split(".")[0]>18),u&&(e.weChat=!0),t.svgSupported="undefined"!=typeof SVGRect,t.touchEventsSupported="ontouchstart"in window&&!e.ie&&!e.edge,t.pointerEventsSupported="onpointerdown"in window&&(e.edge||e.ie&&+e.version>=11),t.domSupported="undefined"!=typeof document;var c=document.documentElement.style;t.transform3dSupported=(e.ie&&"transition"in c||e.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in c)&&!("OTransition"in c),t.transformSupported=t.transform3dSupported||e.ie&&+e.version>=9}(navigator.userAgent,We);var U,Z,K="sans-serif",xe="12px "+K,de=function(n){var t={};if("undefined"==typeof JSON)return t;for(var e=0;e<n.length;e++){var o=String.fromCharCode(e+32),i=(n.charCodeAt(e)-20)/100;t[o]=i}return t}("007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N"),ne={createCanvas:function(){return"undefined"!=typeof document&&document.createElement("canvas")},measureText:function(n,t){if(!U){var e=ne.createCanvas();U=e&&e.getContext("2d")}if(U)return Z!==t&&(Z=U.font=t||xe),U.measureText(n);n=n||"";var o=/(\d+)px/.exec(t=t||xe),i=o&&+o[1]||12,a=0;if(t.indexOf("mono")>=0)a=i*n.length;else for(var u=0;u<n.length;u++){var c=de[n[u]];a+=null==c?i:c*i}return{width:a}},loadImage:function(n,t,e){var o=new Image;return o.onload=t,o.onerror=e,o.src=n,o}};function te(n){for(var t in ne)n[t]&&(ne[t]=n[t])}var le=Sn(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(n,t){return n["[object "+t+"]"]=!0,n},{}),se=Sn(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(n,t){return n["[object "+t+"Array]"]=!0,n},{}),oe=Object.prototype.toString,he=Array.prototype,De=he.forEach,Le=he.filter,et=he.slice,Qe=he.map,st=function(){}.constructor,Kt=st?st.prototype:null,Ke="__proto__",pt=2311;function He(){return pt++}function ve(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];"undefined"!=typeof console&&console.error.apply(console,n)}function Re(n){if(null==n||"object"!=typeof n)return n;var t=n,e=oe.call(n);if("[object Array]"===e){if(!cs(n)){t=[];for(var o=0,i=n.length;o<i;o++)t[o]=Re(n[o])}}else if(se[e]){if(!cs(n)){var a=n.constructor;if(a.from)t=a.from(n);else for(t=new a(n.length),o=0,i=n.length;o<i;o++)t[o]=n[o]}}else if(!le[e]&&!cs(n)&&!Oa(n))for(var u in t={},n)n.hasOwnProperty(u)&&u!==Ke&&(t[u]=Re(n[u]));return t}function Ve(n,t,e){if(!fr(t)||!fr(n))return e?Re(t):n;for(var o in t)if(t.hasOwnProperty(o)&&o!==Ke){var i=n[o],a=t[o];!fr(a)||!fr(i)||tt(a)||tt(i)||Oa(a)||Oa(i)||aa(a)||aa(i)||cs(a)||cs(i)?!e&&o in n||(n[o]=Re(t[o])):Ve(i,a,e)}return n}function vt(n,t){for(var e=n[0],o=1,i=n.length;o<i;o++)e=Ve(e,n[o],t);return e}function Pe(n,t){if(Object.assign)Object.assign(n,t);else for(var e in t)t.hasOwnProperty(e)&&e!==Ke&&(n[e]=t[e]);return n}function ht(n,t,e){for(var o=Zn(t),i=0;i<o.length;i++){var a=o[i];(e?null!=t[a]:null==n[a])&&(n[a]=t[a])}return n}var sn=ne.createCanvas;function jt(n,t){if(n){if(n.indexOf)return n.indexOf(t);for(var e=0,o=n.length;e<o;e++)if(n[e]===t)return e}return-1}function Cr(n,t){var e=n.prototype;function o(){}for(var i in o.prototype=t.prototype,n.prototype=new o,e)e.hasOwnProperty(i)&&(n.prototype[i]=e[i]);n.prototype.constructor=n,n.superClass=t}function _r(n,t,e){if(n="prototype"in n?n.prototype:n,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var o=Object.getOwnPropertyNames(t),i=0;i<o.length;i++){var a=o[i];"constructor"!==a&&(e?null!=t[a]:null==n[a])&&(n[a]=t[a])}else ht(n,t,e)}function Ht(n){return!!n&&"string"!=typeof n&&"number"==typeof n.length}function Te(n,t,e){if(n&&t)if(n.forEach&&n.forEach===De)n.forEach(t,e);else if(n.length===+n.length)for(var o=0,i=n.length;o<i;o++)t.call(e,n[o],o,n);else for(var a in n)n.hasOwnProperty(a)&&t.call(e,n[a],a,n)}function It(n,t,e){if(!n)return[];if(!t)return bo(n);if(n.map&&n.map===Qe)return n.map(t,e);for(var o=[],i=0,a=n.length;i<a;i++)o.push(t.call(e,n[i],i,n));return o}function Sn(n,t,e,o){if(n&&t){for(var i=0,a=n.length;i<a;i++)e=t.call(o,e,n[i],i,n);return e}}function Lr(n,t,e){if(!n)return[];if(!t)return bo(n);if(n.filter&&n.filter===Le)return n.filter(t,e);for(var o=[],i=0,a=n.length;i<a;i++)t.call(e,n[i],i,n)&&o.push(n[i]);return o}function Uo(n,t,e){if(n&&t)for(var o=0,i=n.length;o<i;o++)if(t.call(e,n[o],o,n))return n[o]}function Zn(n){if(!n)return[];if(Object.keys)return Object.keys(n);var t=[];for(var e in n)n.hasOwnProperty(e)&&t.push(e);return t}var Bn=Kt&&hn(Kt.bind)?Kt.call.bind(Kt.bind):function(n,t){for(var e=[],o=2;o<arguments.length;o++)e[o-2]=arguments[o];return function(){return n.apply(t,e.concat(et.call(arguments)))}};function cr(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return function(){return n.apply(this,t.concat(et.call(arguments)))}}function tt(n){return Array.isArray?Array.isArray(n):"[object Array]"===oe.call(n)}function hn(n){return"function"==typeof n}function Un(n){return"string"==typeof n}function Ja(n){return"[object String]"===oe.call(n)}function hr(n){return"number"==typeof n}function fr(n){var t=typeof n;return"function"===t||!!n&&"object"===t}function aa(n){return!!le[oe.call(n)]}function Ci(n){return!!se[oe.call(n)]}function Oa(n){return"object"==typeof n&&"number"==typeof n.nodeType&&"object"==typeof n.ownerDocument}function bn(n){return null!=n.colorStops}function Qt(n){return null!=n.image}function jn(n){return"[object RegExp]"===oe.call(n)}function Rn(n){return n!=n}function ar(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];for(var e=0,o=n.length;e<o;e++)if(null!=n[e])return n[e]}function _n(n,t){return null!=n?n:t}function vn(n,t,e){return null!=n?n:null!=t?t:e}function bo(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return et.apply(n,t)}function wr(n){if("number"==typeof n)return[n,n,n,n];var t=n.length;return 2===t?[n[0],n[1],n[0],n[1]]:3===t?[n[0],n[1],n[2],n[1]]:n}function go(n,t){if(!n)throw new Error(t)}function ni(n){return null==n?null:"function"==typeof n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var sa="__ec_primitive__";function Vo(n){n[sa]=!0}function cs(n){return n[sa]}var va=function(){function n(){this.data={}}return n.prototype.delete=function(t){var e=this.has(t);return e&&delete this.data[t],e},n.prototype.has=function(t){return this.data.hasOwnProperty(t)},n.prototype.get=function(t){return this.data[t]},n.prototype.set=function(t,e){return this.data[t]=e,this},n.prototype.keys=function(){return Zn(this.data)},n.prototype.forEach=function(t){var e=this.data;for(var o in e)e.hasOwnProperty(o)&&t(e[o],o)},n}(),Ua="function"==typeof Map,ja=function(){function n(t){var e=tt(t);this.data=Ua?new Map:new va;var o=this;function i(a,u){e?o.set(a,u):o.set(u,a)}t instanceof n?t.each(i):t&&Te(t,i)}return n.prototype.hasKey=function(t){return this.data.has(t)},n.prototype.get=function(t){return this.data.get(t)},n.prototype.set=function(t,e){return this.data.set(t,e),e},n.prototype.each=function(t,e){this.data.forEach(function(o,i){t.call(e,o,i)})},n.prototype.keys=function(){var t=this.data.keys();return Ua?Array.from(t):t},n.prototype.removeKey=function(t){this.data.delete(t)},n}();function Ir(n){return new ja(n)}function J(n,t){for(var e=new n.constructor(n.length+t.length),o=0;o<n.length;o++)e[o]=n[o];var i=n.length;for(o=0;o<t.length;o++)e[o+i]=t[o];return e}function Au(n,t){var e;if(Object.create)e=Object.create(n);else{var o=function(){};o.prototype=n,e=new o}return t&&Pe(e,t),e}function Qa(n){var t=n.style;t.webkitUserSelect="none",t.userSelect="none",t.webkitTapHighlightColor="rgba(0,0,0,0)",t["-webkit-touch-callout"]="none"}function Mr(n,t){return n.hasOwnProperty(t)}function Io(){}var zr=180/Math.PI,Fh=Object.freeze({__proto__:null,guid:He,logError:ve,clone:Re,merge:Ve,mergeAll:vt,extend:Pe,defaults:ht,createCanvas:sn,indexOf:jt,inherits:Cr,mixin:_r,isArrayLike:Ht,each:Te,map:It,reduce:Sn,filter:Lr,find:Uo,keys:Zn,bind:Bn,curry:cr,isArray:tt,isFunction:hn,isString:Un,isStringSafe:Ja,isNumber:hr,isObject:fr,isBuiltInObject:aa,isTypedArray:Ci,isDom:Oa,isGradientObject:bn,isImagePatternObject:Qt,isRegExp:jn,eqNaN:Rn,retrieve:ar,retrieve2:_n,retrieve3:vn,slice:bo,normalizeCssArray:wr,assert:go,trim:ni,setAsPrimitive:Vo,isPrimitive:cs,HashMap:ja,createHashMap:Ir,concatArray:J,createObject:Au,disableUserSelect:Qa,hasOwn:Mr,noop:Io,RADIAN_TO_DEGREE:zr});function Ni(n,t){return null==n&&(n=0),null==t&&(t=0),[n,t]}function so(n,t){return n[0]=t[0],n[1]=t[1],n}function Iu(n){return[n[0],n[1]]}function Sr(n,t,e){return n[0]=t,n[1]=e,n}function qt(n,t,e){return n[0]=t[0]+e[0],n[1]=t[1]+e[1],n}function Wn(n,t,e,o){return n[0]=t[0]+e[0]*o,n[1]=t[1]+e[1]*o,n}function lt(n,t,e){return n[0]=t[0]-e[0],n[1]=t[1]-e[1],n}function Rt(n){return Math.sqrt(un(n))}function un(n){return n[0]*n[0]+n[1]*n[1]}function dn(n,t,e){return n[0]=t[0]*e,n[1]=t[1]*e,n}function mr(n,t){var e=Rt(t);return 0===e?(n[0]=0,n[1]=0):(n[0]=t[0]/e,n[1]=t[1]/e),n}function Jn(n,t){return Math.sqrt((n[0]-t[0])*(n[0]-t[0])+(n[1]-t[1])*(n[1]-t[1]))}var Kn=Jn;function vr(n,t){return(n[0]-t[0])*(n[0]-t[0])+(n[1]-t[1])*(n[1]-t[1])}var rr=vr;function Mn(n,t,e,o){return n[0]=t[0]+o*(e[0]-t[0]),n[1]=t[1]+o*(e[1]-t[1]),n}function En(n,t,e){var o=t[0],i=t[1];return n[0]=e[0]*o+e[2]*i+e[4],n[1]=e[1]*o+e[3]*i+e[5],n}function Wt(n,t,e){return n[0]=Math.min(t[0],e[0]),n[1]=Math.min(t[1],e[1]),n}function eo(n,t,e){return n[0]=Math.max(t[0],e[0]),n[1]=Math.max(t[1],e[1]),n}var no=Object.freeze({__proto__:null,create:Ni,copy:so,clone:Iu,set:Sr,add:qt,scaleAndAdd:Wn,sub:lt,len:Rt,length:Rt,lenSquare:un,lengthSquare:un,mul:function(n,t,e){return n[0]=t[0]*e[0],n[1]=t[1]*e[1],n},div:function(n,t,e){return n[0]=t[0]/e[0],n[1]=t[1]/e[1],n},dot:function(n,t){return n[0]*t[0]+n[1]*t[1]},scale:dn,normalize:mr,distance:Jn,dist:Kn,distanceSquare:vr,distSquare:rr,negate:function(n,t){return n[0]=-t[0],n[1]=-t[1],n},lerp:Mn,applyTransform:En,min:Wt,max:eo}),Jr=function(n,t){this.target=n,this.topTarget=t&&t.topTarget},Xr=function(){function n(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return n.prototype._dragStart=function(t){for(var e=t.target;e&&!e.draggable;)e=e.parent||e.__hostTarget;e&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new Jr(e,t),"dragstart",t.event))},n.prototype._drag=function(t){var e=this._draggingTarget;if(e){var o=t.offsetX,i=t.offsetY,a=o-this._x,u=i-this._y;this._x=o,this._y=i,e.drift(a,u,t),this.handler.dispatchToElement(new Jr(e,t),"drag",t.event);var c=this.handler.findHover(o,i,e).target,f=this._dropTarget;this._dropTarget=c,e!==c&&(f&&c!==f&&this.handler.dispatchToElement(new Jr(f,t),"dragleave",t.event),c&&c!==f&&this.handler.dispatchToElement(new Jr(c,t),"dragenter",t.event))}},n.prototype._dragEnd=function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.handler.dispatchToElement(new Jr(e,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new Jr(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},n}(),ho=function(){function n(t){t&&(this._$eventProcessor=t)}return n.prototype.on=function(t,e,o,i){this._$handlers||(this._$handlers={});var a=this._$handlers;if("function"==typeof e&&(i=o,o=e,e=null),!o||!t)return this;var u=this._$eventProcessor;null!=e&&u&&u.normalizeQuery&&(e=u.normalizeQuery(e)),a[t]||(a[t]=[]);for(var c=0;c<a[t].length;c++)if(a[t][c].h===o)return this;var f={h:o,query:e,ctx:i||this,callAtLast:o.zrEventfulCallAtLast},h=a[t].length-1,m=a[t][h];return m&&m.callAtLast?a[t].splice(h,0,f):a[t].push(f),this},n.prototype.isSilent=function(t){var e=this._$handlers;return!e||!e[t]||!e[t].length},n.prototype.off=function(t,e){var o=this._$handlers;if(!o)return this;if(!t)return this._$handlers={},this;if(e){if(o[t]){for(var i=[],a=0,u=o[t].length;a<u;a++)o[t][a].h!==e&&i.push(o[t][a]);o[t]=i}o[t]&&0===o[t].length&&delete o[t]}else delete o[t];return this},n.prototype.trigger=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];if(!this._$handlers)return this;var i=this._$handlers[t],a=this._$eventProcessor;if(i)for(var u=e.length,c=i.length,f=0;f<c;f++){var h=i[f];if(!a||!a.filter||null==h.query||a.filter(t,h.query))switch(u){case 0:h.h.call(h.ctx);break;case 1:h.h.call(h.ctx,e[0]);break;case 2:h.h.call(h.ctx,e[0],e[1]);break;default:h.h.apply(h.ctx,e)}}return a&&a.afterTrigger&&a.afterTrigger(t),this},n.prototype.triggerWithContext=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];if(!this._$handlers)return this;var i=this._$handlers[t],a=this._$eventProcessor;if(i)for(var u=e.length,c=e[u-1],f=i.length,h=0;h<f;h++){var m=i[h];if(!a||!a.filter||null==m.query||a.filter(t,m.query))switch(u){case 0:m.h.call(c);break;case 1:m.h.call(c,e[0]);break;case 2:m.h.call(c,e[0],e[1]);break;default:m.h.apply(c,e.slice(1,u-1))}}return a&&a.afterTrigger&&a.afterTrigger(t),this},n}(),gi=Math.log(2);function oo(n,t,e,o,i,a){var u=o+"-"+i,c=n.length;if(a.hasOwnProperty(u))return a[u];if(1===t){var f=Math.round(Math.log((1<<c)-1&~i)/gi);return n[e][f]}for(var h=o|1<<e,m=e+1;o&1<<m;)m++;for(var y=0,_=0,S=0;_<c;_++){var k=1<<_;k&i||(y+=(S%2?-1:1)*n[e][_]*oo(n,t-1,m,h,i|k,a),S++)}return a[u]=y,y}function Xs(n,t){var e=[[n[0],n[1],1,0,0,0,-t[0]*n[0],-t[0]*n[1]],[0,0,0,n[0],n[1],1,-t[1]*n[0],-t[1]*n[1]],[n[2],n[3],1,0,0,0,-t[2]*n[2],-t[2]*n[3]],[0,0,0,n[2],n[3],1,-t[3]*n[2],-t[3]*n[3]],[n[4],n[5],1,0,0,0,-t[4]*n[4],-t[4]*n[5]],[0,0,0,n[4],n[5],1,-t[5]*n[4],-t[5]*n[5]],[n[6],n[7],1,0,0,0,-t[6]*n[6],-t[6]*n[7]],[0,0,0,n[6],n[7],1,-t[7]*n[6],-t[7]*n[7]]],o={},i=oo(e,8,0,0,0,o);if(0!==i){for(var a=[],u=0;u<8;u++)for(var c=0;c<8;c++)null==a[c]&&(a[c]=0),a[c]+=((u+c)%2?-1:1)*oo(e,7,0===u?1:0,1<<u,1<<c,o)/i*t[u];return function(f,h,m){var y=h*a[6]+m*a[7]+1;f[0]=(h*a[0]+m*a[1]+a[2])/y,f[1]=(h*a[3]+m*a[4]+a[5])/y}}}var Or="___zrEVENTSAVED",wo=[];function Zi(n,t,e,o,i){if(t.getBoundingClientRect&&We.domSupported&&!Zs(t)){var a=t[Or]||(t[Or]={}),c=function(f,h,m){for(var y=m?"invTrans":"trans",_=h[y],S=h.srcCoords,k=[],D=[],A=!0,E=0;E<4;E++){var N=f[E].getBoundingClientRect(),z=2*E,F=N.left,q=N.top;k.push(F,q),A=A&&S&&F===S[z]&&q===S[z+1],D.push(f[E].offsetLeft,f[E].offsetTop)}return A&&_?_:(h.srcCoords=k,h[y]=m?Xs(D,k):Xs(k,D))}(function(f,h){var m=h.markers;if(m)return m;m=h.markers=[];for(var y=["left","right"],_=["top","bottom"],S=0;S<4;S++){var k=document.createElement("div"),D=S%2,A=(S>>1)%2;k.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",y[D]+":0",_[A]+":0",y[1-D]+":auto",_[1-A]+":auto",""].join("!important;"),f.appendChild(k),m.push(k)}return m}(t,a),a,i);if(c)return c(n,e,o),!0}return!1}function Zs(n){return"CANVAS"===n.nodeName.toUpperCase()}var uu=/([&<>"'])/g,Ur={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Ea(n){return null==n?"":(n+"").replace(uu,function(t,e){return Ur[e]})}var fs=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ls=[],Ou=We.browser.firefox&&+We.browser.version.split(".")[0]<39;function Ss(n,t,e,o){return e=e||{},o?cb(n,t,e):Ou&&null!=t.layerX&&t.layerX!==t.offsetX?(e.zrX=t.layerX,e.zrY=t.layerY):null!=t.offsetX?(e.zrX=t.offsetX,e.zrY=t.offsetY):cb(n,t,e),e}function cb(n,t,e){if(We.domSupported&&n.getBoundingClientRect){var o=t.clientX,i=t.clientY;if(Zs(n)){var a=n.getBoundingClientRect();return e.zrX=o-a.left,void(e.zrY=i-a.top)}if(Zi(Ls,n,o,i))return e.zrX=Ls[0],void(e.zrY=Ls[1])}e.zrX=e.zrY=0}function jg(n){return n||window.event}function Qr(n,t,e){if(null!=(t=jg(t)).zrX)return t;var o=t.type;if(o&&o.indexOf("touch")>=0){var i="touchend"!==o?t.targetTouches[0]:t.changedTouches[0];i&&Ss(n,i,t,e)}else{Ss(n,t,t,e);var a=function(c){var f=c.wheelDelta;if(f)return f;var h=c.deltaX,m=c.deltaY;return null==h||null==m?f:3*Math.abs(0!==m?m:h)*(m>0?-1:m<0?1:h>0?-1:1)}(t);t.zrDelta=a?a/120:-(t.detail||0)/3}var u=t.button;return null==t.which&&void 0!==u&&fs.test(t.type)&&(t.which=1&u?1:2&u?3:4&u?2:0),t}function Sa(n,t,e,o){n.addEventListener(t,e,o)}var Eu=function(n){n.preventDefault(),n.stopPropagation(),n.cancelBubble=!0};function Ns(n){return 2===n.which||3===n.which}var Ki=function(){function n(){this._track=[]}return n.prototype.recognize=function(t,e,o){return this._doTrack(t,e,o),this._recognize(t)},n.prototype.clear=function(){return this._track.length=0,this},n.prototype._doTrack=function(t,e,o){var i=t.touches;if(i){for(var a={points:[],touches:[],target:e,event:t},u=0,c=i.length;u<c;u++){var f=i[u],h=Ss(o,f,{});a.points.push([h.zrX,h.zrY]),a.touches.push(f)}this._track.push(a)}},n.prototype._recognize=function(t){for(var e in mi)if(mi.hasOwnProperty(e)){var o=mi[e](this._track,t);if(o)return o}},n}();function Bc(n){var t=n[1][0]-n[0][0],e=n[1][1]-n[0][1];return Math.sqrt(t*t+e*e)}var mi={pinch:function(n,t){var e=n.length;if(e){var o,i=(n[e-1]||{}).points,a=(n[e-2]||{}).points||i;if(a&&a.length>1&&i&&i.length>1){var u=Bc(i)/Bc(a);!isFinite(u)&&(u=1),t.pinchScale=u;var c=[((o=i)[0][0]+o[1][0])/2,(o[0][1]+o[1][1])/2];return t.pinchX=c[0],t.pinchY=c[1],{type:"pinch",target:n[0].target,event:t}}}}};function Ry(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,n}function Pu(n,t){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n}function Wr(n,t,e){var i=t[1]*e[0]+t[3]*e[1],a=t[0]*e[2]+t[2]*e[3],u=t[1]*e[2]+t[3]*e[3],c=t[0]*e[4]+t[2]*e[5]+t[4],f=t[1]*e[4]+t[3]*e[5]+t[5];return n[0]=t[0]*e[0]+t[2]*e[1],n[1]=i,n[2]=a,n[3]=u,n[4]=c,n[5]=f,n}function zc(n,t,e){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4]+e[0],n[5]=t[5]+e[1],n}function Ul(n,t,e){var o=t[0],i=t[2],a=t[4],u=t[1],c=t[3],f=t[5],h=Math.sin(e),m=Math.cos(e);return n[0]=o*m+u*h,n[1]=-o*h+u*m,n[2]=i*m+c*h,n[3]=-i*h+m*c,n[4]=m*a+h*f,n[5]=m*f-h*a,n}function gn(n,t,e){var o=e[0],i=e[1];return n[0]=t[0]*o,n[1]=t[1]*i,n[2]=t[2]*o,n[3]=t[3]*i,n[4]=t[4]*o,n[5]=t[5]*i,n}function Ut(n,t){var e=t[0],o=t[2],i=t[4],a=t[1],u=t[3],c=t[5],f=e*u-a*o;return f?(n[0]=u*(f=1/f),n[1]=-a*f,n[2]=-o*f,n[3]=e*f,n[4]=(o*c-u*i)*f,n[5]=(a*i-e*c)*f,n):null}function Pa(n){var t=[1,0,0,1,0,0];return Pu(t,n),t}var Ly=Object.freeze({__proto__:null,create:function Py(){return[1,0,0,1,0,0]},identity:Ry,copy:Pu,mul:Wr,translate:zc,rotate:Ul,scale:gn,invert:Ut,clone:Pa}),mo=function(){function n(t,e){this.x=t||0,this.y=e||0}return n.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.set=function(t,e){return this.x=t,this.y=e,this},n.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},n.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},n.prototype.scale=function(t){this.x*=t,this.y*=t},n.prototype.scaleAndAdd=function(t,e){this.x+=t.x*e,this.y+=t.y*e},n.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},n.prototype.dot=function(t){return this.x*t.x+this.y*t.y},n.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},n.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},n.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},n.prototype.distance=function(t){var e=this.x-t.x,o=this.y-t.y;return Math.sqrt(e*e+o*o)},n.prototype.distanceSquare=function(t){var e=this.x-t.x,o=this.y-t.y;return e*e+o*o},n.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},n.prototype.transform=function(t){if(t){var e=this.x,o=this.y;return this.x=t[0]*e+t[2]*o+t[4],this.y=t[1]*e+t[3]*o+t[5],this}},n.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},n.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},n.set=function(t,e,o){t.x=e,t.y=o},n.copy=function(t,e){t.x=e.x,t.y=e.y},n.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},n.lenSquare=function(t){return t.x*t.x+t.y*t.y},n.dot=function(t,e){return t.x*e.x+t.y*e.y},n.add=function(t,e,o){t.x=e.x+o.x,t.y=e.y+o.y},n.sub=function(t,e,o){t.x=e.x-o.x,t.y=e.y-o.y},n.scale=function(t,e,o){t.x=e.x*o,t.y=e.y*o},n.scaleAndAdd=function(t,e,o,i){t.x=e.x+o.x*i,t.y=e.y+o.y*i},n.lerp=function(t,e,o,i){var a=1-i;t.x=a*e.x+i*o.x,t.y=a*e.y+i*o.y},n}(),Ks=Math.min,sh=Math.max,es=new mo,$s=new mo,cl=new mo,ts=new mo,qg=new mo,Bp=new mo,To=function(){function n(t,e,o,i){o<0&&(t+=o,o=-o),i<0&&(e+=i,i=-i),this.x=t,this.y=e,this.width=o,this.height=i}return n.prototype.union=function(t){var e=Ks(t.x,this.x),o=Ks(t.y,this.y);this.width=isFinite(this.x)&&isFinite(this.width)?sh(t.x+t.width,this.x+this.width)-e:t.width,this.height=isFinite(this.y)&&isFinite(this.height)?sh(t.y+t.height,this.y+this.height)-o:t.height,this.x=e,this.y=o},n.prototype.applyTransform=function(t){n.applyTransform(this,this,t)},n.prototype.calculateTransform=function(t){var e=this,o=t.width/e.width,i=t.height/e.height,a=[1,0,0,1,0,0];return zc(a,a,[-e.x,-e.y]),gn(a,a,[o,i]),zc(a,a,[t.x,t.y]),a},n.prototype.intersect=function(t,e){if(!t)return!1;t instanceof n||(t=n.create(t));var o=this,i=o.x,a=o.x+o.width,u=o.y,c=o.y+o.height,f=t.x,h=t.x+t.width,m=t.y,y=t.y+t.height,_=!(a<f||h<i||c<m||y<u);if(e){var S=1/0,k=0,D=Math.abs(a-f),A=Math.abs(h-i),E=Math.abs(c-m),N=Math.abs(y-u),z=Math.min(D,A),F=Math.min(E,N);a<f||h<i?z>k&&(k=z,mo.set(Bp,D<A?-D:A,0)):z<S&&(S=z,mo.set(qg,D<A?D:-A,0)),c<m||y<u?F>k&&(k=F,mo.set(Bp,0,E<N?-E:N)):z<S&&(S=z,mo.set(qg,0,E<N?E:-N))}return e&&mo.copy(e,_?qg:Bp),_},n.prototype.contain=function(t,e){var o=this;return t>=o.x&&t<=o.x+o.width&&e>=o.y&&e<=o.y+o.height},n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copy=function(t){n.copy(this,t)},n.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},n.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},n.prototype.isZero=function(){return 0===this.width||0===this.height},n.create=function(t){return new n(t.x,t.y,t.width,t.height)},n.copy=function(t,e){t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height},n.applyTransform=function(t,e,o){if(o){if(o[1]<1e-5&&o[1]>-1e-5&&o[2]<1e-5&&o[2]>-1e-5){var i=o[0],a=o[3],c=o[5];return t.x=e.x*i+o[4],t.y=e.y*a+c,t.width=e.width*i,t.height=e.height*a,t.width<0&&(t.x+=t.width,t.width=-t.width),void(t.height<0&&(t.y+=t.height,t.height=-t.height))}es.x=cl.x=e.x,es.y=ts.y=e.y,$s.x=ts.x=e.x+e.width,$s.y=cl.y=e.y+e.height,es.transform(o),ts.transform(o),$s.transform(o),cl.transform(o),t.x=Ks(es.x,$s.x,cl.x,ts.x),t.y=Ks(es.y,$s.y,cl.y,ts.y);var f=sh(es.x,$s.x,cl.x,ts.x),h=sh(es.y,$s.y,cl.y,ts.y);t.width=f-t.x,t.height=h-t.y}else t!==e&&n.copy(t,e)},n}();function uh(){Eu(this.event)}var Yg=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.handler=null,e}return yt(t,n),t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t}(ho),Xg=function(n,t){this.x=n,this.y=t},lu=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],jl=new To(0,0,0,0),cu=function(n){function t(e,o,i,a,u){var c=n.call(this)||this;return c._hovered=new Xg(0,0),c.storage=e,c.painter=o,c.painterRoot=a,c._pointerSize=u,i=i||new Yg,c.proxy=null,c.setHandlerProxy(i),c._draggingMgr=new Xr(c),c}return yt(t,n),t.prototype.setHandlerProxy=function(e){this.proxy&&this.proxy.dispose(),e&&(Te(lu,function(o){e.on&&e.on(o,this[o],this)},this),e.handler=this),this.proxy=e},t.prototype.mousemove=function(e){var o=e.zrX,i=e.zrY,a=Vf(this,o,i),u=this._hovered,c=u.target;c&&!c.__zr&&(c=(u=this.findHover(u.x,u.y)).target);var f=this._hovered=a?new Xg(o,i):this.findHover(o,i),h=f.target,m=this.proxy;m.setCursor&&m.setCursor(h?h.cursor:"default"),c&&h!==c&&this.dispatchToElement(u,"mouseout",e),this.dispatchToElement(f,"mousemove",e),h&&h!==c&&this.dispatchToElement(f,"mouseover",e)},t.prototype.mouseout=function(e){var o=e.zrEventControl;"only_globalout"!==o&&this.dispatchToElement(this._hovered,"mouseout",e),"no_globalout"!==o&&this.trigger("globalout",{type:"globalout",event:e})},t.prototype.resize=function(){this._hovered=new Xg(0,0)},t.prototype.dispatch=function(e,o){var i=this[e];i&&i.call(this,o)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(e){var o=this.proxy;o.setCursor&&o.setCursor(e)},t.prototype.dispatchToElement=function(e,o,i){var h,m,a=(e=e||{}).target;if(!a||!a.silent){for(var u="on"+o,c={type:o,event:m=i,target:(h=e).target,topTarget:h.topTarget,cancelBubble:!1,offsetX:m.zrX,offsetY:m.zrY,gestureEvent:m.gestureEvent,pinchX:m.pinchX,pinchY:m.pinchY,pinchScale:m.pinchScale,wheelDelta:m.zrDelta,zrByTouch:m.zrByTouch,which:m.which,stop:uh};a&&(a[u]&&(c.cancelBubble=!!a[u].call(a,c)),a.trigger(o,c),a=a.__hostTarget?a.__hostTarget:a.parent,!c.cancelBubble););c.cancelBubble||(this.trigger(o,c),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(f){"function"==typeof f[u]&&f[u].call(f,c),f.trigger&&f.trigger(o,c)}))}},t.prototype.findHover=function(e,o,i){var a=this.storage.getDisplayList(),u=new Xg(e,o);if(dc(a,u,e,o,i),this._pointerSize&&!u.target){for(var c=[],f=this._pointerSize,h=f/2,m=new To(e-h,o-h,f,f),y=a.length-1;y>=0;y--){var _=a[y];_===i||_.ignore||_.ignoreCoarsePointer||_.parent&&_.parent.ignoreCoarsePointer||(jl.copy(_.getBoundingRect()),_.transform&&jl.applyTransform(_.transform),jl.intersect(m)&&c.push(_))}if(c.length)for(var S=Math.PI/12,k=2*Math.PI,D=0;D<h;D+=4)for(var A=0;A<k;A+=S)if(dc(c,u,e+D*Math.cos(A),o+D*Math.sin(A),i),u.target)return u}return u},t.prototype.processGesture=function(e,o){this._gestureMgr||(this._gestureMgr=new Ki);var i=this._gestureMgr;"start"===o&&i.clear();var a=i.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if("end"===o&&i.clear(),a){var u=a.type;e.gestureEvent=u;var c=new Xg;c.target=a.target,this.dispatchToElement(c,u,a.event)}},t}(ho);function fu(n,t,e){if(n[n.rectHover?"rectContain":"contain"](t,e)){for(var o=n,i=void 0,a=!1;o;){if(o.ignoreClip&&(a=!0),!a){var u=o.getClipPath();if(u&&!u.contain(t,e))return!1;o.silent&&(i=!0)}o=o.__hostTarget||o.parent}return!i||"silent"}return!1}function dc(n,t,e,o,i){for(var a=n.length-1;a>=0;a--){var u=n[a],c=void 0;if(u!==i&&!u.ignore&&(c=fu(u,e,o))&&(!t.topTarget&&(t.topTarget=u),"silent"!==c)){t.target=u;break}}}function Vf(n,t,e){var o=n.painter;return t<0||t>o.getWidth()||e<0||e>o.getHeight()}function bv(n,t,e,o){var i=t+1;if(i===e)return 1;if(o(n[i++],n[t])<0){for(;i<e&&o(n[i],n[i-1])<0;)i++;!function(a,u,c){for(c--;u<c;){var f=a[u];a[u++]=a[c],a[c--]=f}}(n,t,i)}else for(;i<e&&o(n[i],n[i-1])>=0;)i++;return i-t}function By(n,t,e,o,i){for(o===t&&o++;o<e;o++){for(var a,u=n[o],c=t,f=o;c<f;)i(u,n[a=c+f>>>1])<0?f=a:c=a+1;var h=o-c;switch(h){case 3:n[c+3]=n[c+2];case 2:n[c+2]=n[c+1];case 1:n[c+1]=n[c];break;default:for(;h>0;)n[c+h]=n[c+h-1],h--}n[c]=u}}function lh(n,t,e,o,i,a){var u=0,c=0,f=1;if(a(n,t[e+i])>0){for(c=o-i;f<c&&a(n,t[e+i+f])>0;)u=f,(f=1+(f<<1))<=0&&(f=c);f>c&&(f=c),u+=i,f+=i}else{for(c=i+1;f<c&&a(n,t[e+i-f])<=0;)u=f,(f=1+(f<<1))<=0&&(f=c);f>c&&(f=c);var h=u;u=i-f,f=i-h}for(u++;u<f;){var m=u+(f-u>>>1);a(n,t[e+m])>0?u=m+1:f=m}return f}function Vh(n,t,e,o,i,a){var u=0,c=0,f=1;if(a(n,t[e+i])<0){for(c=i+1;f<c&&a(n,t[e+i-f])<0;)u=f,(f=1+(f<<1))<=0&&(f=c);f>c&&(f=c);var h=u;u=i-f,f=i-h}else{for(c=o-i;f<c&&a(n,t[e+i+f])>=0;)u=f,(f=1+(f<<1))<=0&&(f=c);f>c&&(f=c),u+=i,f+=i}for(u++;u<f;){var m=u+(f-u>>>1);a(n,t[e+m])<0?f=m:u=m+1}return f}function Zg(n,t,e,o){e||(e=0),o||(o=n.length);var i=o-e;if(!(i<2)){var a=0;if(i<32)By(n,e,o,e+(a=bv(n,e,o,t)),t);else{var u=function zy(n,t){var e,o,i=7,a=0,u=[];function c(f){var h=e[f],m=o[f],y=e[f+1],_=o[f+1];o[f]=m+_,f===a-3&&(e[f+1]=e[f+2],o[f+1]=o[f+2]),a--;var S=Vh(n[y],n,h,m,0,t);h+=S,0!=(m-=S)&&0!==(_=lh(n[h+m-1],n,y,_,_-1,t))&&(m<=_?function(k,D,A,E){var N=0;for(N=0;N<D;N++)u[N]=n[k+N];var z=0,F=A,q=k;if(n[q++]=n[F++],0!=--E)if(1!==D){for(var X,ee,ie,ye=i;;){X=0,ee=0,ie=!1;do{if(t(n[F],u[z])<0){if(n[q++]=n[F++],ee++,X=0,0==--E){ie=!0;break}}else if(n[q++]=u[z++],X++,ee=0,1==--D){ie=!0;break}}while((X|ee)<ye);if(ie)break;do{if(0!==(X=Vh(n[F],u,z,D,0,t))){for(N=0;N<X;N++)n[q+N]=u[z+N];if(q+=X,z+=X,(D-=X)<=1){ie=!0;break}}if(n[q++]=n[F++],0==--E){ie=!0;break}if(0!==(ee=lh(u[z],n,F,E,0,t))){for(N=0;N<ee;N++)n[q+N]=n[F+N];if(q+=ee,F+=ee,0==(E-=ee)){ie=!0;break}}if(n[q++]=u[z++],1==--D){ie=!0;break}ye--}while(X>=7||ee>=7);if(ie)break;ye<0&&(ye=0),ye+=2}if((i=ye)<1&&(i=1),1===D){for(N=0;N<E;N++)n[q+N]=n[F+N];n[q+E]=u[z]}else{if(0===D)throw new Error;for(N=0;N<D;N++)n[q+N]=u[z+N]}}else{for(N=0;N<E;N++)n[q+N]=n[F+N];n[q+E]=u[z]}else for(N=0;N<D;N++)n[q+N]=u[z+N]}(h,m,y,_):function(k,D,A,E){var N=0;for(N=0;N<E;N++)u[N]=n[A+N];var z=k+D-1,F=E-1,q=A+E-1,X=0,ee=0;if(n[q--]=n[z--],0!=--D)if(1!==E){for(var ie=i;;){var ye=0,_e=0,Se=!1;do{if(t(u[F],n[z])<0){if(n[q--]=n[z--],ye++,_e=0,0==--D){Se=!0;break}}else if(n[q--]=u[F--],_e++,ye=0,1==--E){Se=!0;break}}while((ye|_e)<ie);if(Se)break;do{if(0!=(ye=D-Vh(u[F],n,k,D,D-1,t))){for(D-=ye,ee=1+(q-=ye),X=1+(z-=ye),N=ye-1;N>=0;N--)n[ee+N]=n[X+N];if(0===D){Se=!0;break}}if(n[q--]=u[F--],1==--E){Se=!0;break}if(0!=(_e=E-lh(n[z],u,0,E,E-1,t))){for(E-=_e,ee=1+(q-=_e),X=1+(F-=_e),N=0;N<_e;N++)n[ee+N]=u[X+N];if(E<=1){Se=!0;break}}if(n[q--]=n[z--],0==--D){Se=!0;break}ie--}while(ye>=7||_e>=7);if(Se)break;ie<0&&(ie=0),ie+=2}if((i=ie)<1&&(i=1),1===E){for(ee=1+(q-=D),X=1+(z-=D),N=D-1;N>=0;N--)n[ee+N]=n[X+N];n[q]=u[F]}else{if(0===E)throw new Error;for(X=q-(E-1),N=0;N<E;N++)n[X+N]=u[N]}}else{for(ee=1+(q-=D),X=1+(z-=D),N=D-1;N>=0;N--)n[ee+N]=n[X+N];n[q]=u[F]}else for(X=q-(E-1),N=0;N<E;N++)n[X+N]=u[N]}(h,m,y,_))}return e=[],o=[],{mergeRuns:function(){for(;a>1;){var f=a-2;if(f>=1&&o[f-1]<=o[f]+o[f+1]||f>=2&&o[f-2]<=o[f]+o[f-1])o[f-1]<o[f+1]&&f--;else if(o[f]>o[f+1])break;c(f)}},forceMergeRuns:function(){for(;a>1;){var f=a-2;f>0&&o[f-1]<o[f+1]&&f--,c(f)}},pushRun:function(f,h){e[a]=f,o[a]=h,a+=1}}}(n,t),c=function(h){for(var m=0;h>=32;)m|=1&h,h>>=1;return h+m}(i);do{if((a=bv(n,e,o,t))<c){var f=i;f>c&&(f=c),By(n,e,e+f,e+a,t),a=f}u.pushRun(e,a),u.mergeRuns(),i-=a,e+=a}while(0!==i);u.forceMergeRuns()}}}Te(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(n){cu.prototype[n]=function(t){var e,o,i=t.zrX,a=t.zrY,u=Vf(this,i,a);if("mouseup"===n&&u||(o=(e=this.findHover(i,a)).target),"mousedown"===n)this._downEl=o,this._downPoint=[t.zrX,t.zrY],this._upEl=o;else if("mouseup"===n)this._upEl=o;else if("click"===n){if(this._downEl!==this._upEl||!this._downPoint||Kn(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(e,n,t)}});var zp=!1;function Fy(){zp||(zp=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function ba(n,t){return n.zlevel===t.zlevel?n.z===t.z?n.z2-t.z2:n.z-t.z:n.zlevel-t.zlevel}var xv=function(){function n(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=ba}return n.prototype.traverse=function(t,e){for(var o=0;o<this._roots.length;o++)this._roots[o].traverse(t,e)},n.prototype.getDisplayList=function(t,e){e=e||!1;var o=this._displayList;return!t&&o.length||this.updateDisplayList(e),o},n.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var e=this._roots,o=this._displayList,i=0,a=e.length;i<a;i++)this._updateAndAddDisplayable(e[i],null,t);o.length=this._displayListLen,Zg(o,ba)},n.prototype._updateAndAddDisplayable=function(t,e,o){if(!t.ignore||o){t.beforeUpdate(),t.update(),t.afterUpdate();var i=t.getClipPath();if(t.ignoreClip)e=null;else if(i){e=e?e.slice():[];for(var a=i,u=t;a;)a.parent=u,a.updateTransform(),e.push(a),u=a,a=a.getClipPath()}if(t.childrenRef){for(var c=t.childrenRef(),f=0;f<c.length;f++){var h=c[f];t.__dirty&&(h.__dirty|=1),this._updateAndAddDisplayable(h,e,o)}t.__dirty=0}else{var m=t;e&&e.length?m.__clipPaths=e:m.__clipPaths&&m.__clipPaths.length>0&&(m.__clipPaths=[]),isNaN(m.z)&&(Fy(),m.z=0),isNaN(m.z2)&&(Fy(),m.z2=0),isNaN(m.zlevel)&&(Fy(),m.zlevel=0),this._displayList[this._displayListLen++]=m}var y=t.getDecalElement&&t.getDecalElement();y&&this._updateAndAddDisplayable(y,e,o);var _=t.getTextGuideLine();_&&this._updateAndAddDisplayable(_,e,o);var S=t.getTextContent();S&&this._updateAndAddDisplayable(S,e,o)}},n.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},n.prototype.delRoot=function(t){if(t instanceof Array)for(var e=0,o=t.length;e<o;e++)this.delRoot(t[e]);else{var i=jt(this._roots,t);i>=0&&this._roots.splice(i,1)}},n.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},n.prototype.getRoots=function(){return this._roots},n.prototype.dispose=function(){this._displayList=null,this._roots=null},n}(),hc=We.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(n){return setTimeout(n,16)},Fp={linear:function(n){return n},quadraticIn:function(n){return n*n},quadraticOut:function(n){return n*(2-n)},quadraticInOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)},cubicIn:function(n){return n*n*n},cubicOut:function(n){return--n*n*n+1},cubicInOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},quarticIn:function(n){return n*n*n*n},quarticOut:function(n){return 1- --n*n*n*n},quarticInOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},quinticIn:function(n){return n*n*n*n*n},quinticOut:function(n){return--n*n*n*n*n+1},quinticInOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},sinusoidalIn:function(n){return 1-Math.cos(n*Math.PI/2)},sinusoidalOut:function(n){return Math.sin(n*Math.PI/2)},sinusoidalInOut:function(n){return.5*(1-Math.cos(Math.PI*n))},exponentialIn:function(n){return 0===n?0:Math.pow(1024,n-1)},exponentialOut:function(n){return 1===n?1:1-Math.pow(2,-10*n)},exponentialInOut:function(n){return 0===n?0:1===n?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(2-Math.pow(2,-10*(n-1)))},circularIn:function(n){return 1-Math.sqrt(1-n*n)},circularOut:function(n){return Math.sqrt(1- --n*n)},circularInOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},elasticIn:function(n){var t,e=.1;return 0===n?0:1===n?1:(!e||e<1?(e=1,t=.1):t=.4*Math.asin(1/e)/(2*Math.PI),-e*Math.pow(2,10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/.4))},elasticOut:function(n){var t,e=.1;return 0===n?0:1===n?1:(!e||e<1?(e=1,t=.1):t=.4*Math.asin(1/e)/(2*Math.PI),e*Math.pow(2,-10*n)*Math.sin((n-t)*(2*Math.PI)/.4)+1)},elasticInOut:function(n){var t,e=.1;return 0===n?0:1===n?1:(!e||e<1?(e=1,t=.1):t=.4*Math.asin(1/e)/(2*Math.PI),(n*=2)<1?e*Math.pow(2,10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/.4)*-.5:e*Math.pow(2,-10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/.4)*.5+1)},backIn:function(n){var t=1.70158;return n*n*((t+1)*n-t)},backOut:function(n){var t=1.70158;return--n*n*((t+1)*n+t)+1},backInOut:function(n){var t=2.5949095;return(n*=2)<1?n*n*((t+1)*n-t)*.5:.5*((n-=2)*n*((t+1)*n+t)+2)},bounceIn:function(n){return 1-Fp.bounceOut(1-n)},bounceOut:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},bounceInOut:function(n){return n<.5?.5*Fp.bounceIn(2*n):.5*Fp.bounceOut(2*n-1)+.5}},_v=Math.pow,pc=Math.sqrt,gc=pc(3),ya=1/3,Bs=Ni(),Ai=Ni(),ql=Ni();function Fc(n){return n>-1e-8&&n<1e-8}function du(n){return n>1e-8||n<-1e-8}function Ra(n,t,e,o,i){var a=1-i;return a*a*(a*n+3*i*t)+i*i*(i*o+3*a*e)}function Hh(n,t,e,o,i){var a=1-i;return 3*(((t-n)*a+2*(e-t)*i)*a+(o-e)*i*i)}function fb(n,t,e,o,i,a){var u=o+3*(t-e)-n,c=3*(e-2*t+n),f=3*(t-n),h=n-i,m=c*c-3*u*f,y=c*f-9*u*h,_=f*f-3*c*h,S=0;if(Fc(m)&&Fc(y))Fc(c)?a[0]=0:(ie=-f/c)>=0&&ie<=1&&(a[S++]=ie);else{var k=y*y-4*m*_;if(Fc(k)){var D=y/m,A=-D/2;(ie=-c/u+D)>=0&&ie<=1&&(a[S++]=ie),A>=0&&A<=1&&(a[S++]=A)}else if(k>0){var E=pc(k),N=m*c+1.5*u*(-y+E),z=m*c+1.5*u*(-y-E);(ie=(-c-((N=N<0?-_v(-N,ya):_v(N,ya))+(z=z<0?-_v(-z,ya):_v(z,ya))))/(3*u))>=0&&ie<=1&&(a[S++]=ie)}else{var F=(2*m*c-3*u*y)/(2*pc(m*m*m)),q=Math.acos(F)/3,X=pc(m),ee=Math.cos(q),ie=(-c-2*X*ee)/(3*u),ye=(A=(-c+X*(ee+gc*Math.sin(q)))/(3*u),(-c+X*(ee-gc*Math.sin(q)))/(3*u));ie>=0&&ie<=1&&(a[S++]=ie),A>=0&&A<=1&&(a[S++]=A),ye>=0&&ye<=1&&(a[S++]=ye)}}return S}function Hf(n,t,e,o,i){var a=6*e-12*t+6*n,u=9*t+3*o-3*n-9*e,c=3*t-3*n,f=0;if(Fc(u))du(a)&&(m=-c/a)>=0&&m<=1&&(i[f++]=m);else{var h=a*a-4*u*c;if(Fc(h))i[0]=-a/(2*u);else if(h>0){var m,y=pc(h),_=(-a-y)/(2*u);(m=(-a+y)/(2*u))>=0&&m<=1&&(i[f++]=m),_>=0&&_<=1&&(i[f++]=_)}}return f}function Sd(n,t,e,o,i,a){var u=(t-n)*i+n,c=(e-t)*i+t,f=(o-e)*i+e,h=(c-u)*i+u,m=(f-c)*i+c,y=(m-h)*i+h;a[0]=n,a[1]=u,a[2]=h,a[3]=y,a[4]=y,a[5]=m,a[6]=f,a[7]=o}function Ca(n,t,e,o,i,a,u,c,f,h,m){var y,_,S,k,D,A=.005,E=1/0;Bs[0]=f,Bs[1]=h;for(var N=0;N<1;N+=.05)Ai[0]=Ra(n,e,i,u,N),Ai[1]=Ra(t,o,a,c,N),(k=rr(Bs,Ai))<E&&(y=N,E=k);E=1/0;for(var z=0;z<32&&!(A<1e-4);z++)S=y+A,Ai[0]=Ra(n,e,i,u,_=y-A),Ai[1]=Ra(t,o,a,c,_),k=rr(Ai,Bs),_>=0&&k<E?(y=_,E=k):(ql[0]=Ra(n,e,i,u,S),ql[1]=Ra(t,o,a,c,S),D=rr(ql,Bs),S<=1&&D<E?(y=S,E=D):A*=.5);return m&&(m[0]=Ra(n,e,i,u,y),m[1]=Ra(t,o,a,c,y)),pc(E)}function Vy(n,t,e,o,i,a,u,c,f){for(var h=n,m=t,y=0,_=1/f,S=1;S<=f;S++){var k=S*_,D=Ra(n,e,i,u,k),A=Ra(t,o,a,c,k),E=D-h,N=A-m;y+=Math.sqrt(E*E+N*N),h=D,m=A}return y}function ns(n,t,e,o){var i=1-o;return i*(i*n+2*o*t)+o*o*e}function mc(n,t,e,o){return 2*((1-o)*(t-n)+o*(e-t))}function ka(n,t,e){var o=n+e-2*t;return 0===o?.5:(n-t)/o}function mf(n,t,e,o,i){var a=(t-n)*o+n,u=(e-t)*o+t,c=(u-a)*o+a;i[0]=n,i[1]=a,i[2]=c,i[3]=c,i[4]=u,i[5]=e}function O_(n,t,e,o,i,a,u,c,f){var h,m=.005,y=1/0;Bs[0]=u,Bs[1]=c;for(var _=0;_<1;_+=.05)Ai[0]=ns(n,e,i,_),Ai[1]=ns(t,o,a,_),(A=rr(Bs,Ai))<y&&(h=_,y=A);y=1/0;for(var S=0;S<32&&!(m<1e-4);S++){var k=h-m,D=h+m;Ai[0]=ns(n,e,i,k),Ai[1]=ns(t,o,a,k);var A=rr(Ai,Bs);if(k>=0&&A<y)h=k,y=A;else{ql[0]=ns(n,e,i,D),ql[1]=ns(t,o,a,D);var E=rr(ql,Bs);D<=1&&E<y?(h=D,y=E):m*=.5}}return f&&(f[0]=ns(n,e,i,h),f[1]=ns(t,o,a,h)),pc(y)}function ju(n,t,e,o,i,a,u){for(var c=n,f=t,h=0,m=1/u,y=1;y<=u;y++){var _=y*m,S=ns(n,e,i,_),k=ns(t,o,a,_),D=S-c,A=k-f;h+=Math.sqrt(D*D+A*A),c=S,f=k}return h}var Ru=/cubic-bezier\(([0-9,\.e ]+)\)/;function Yl(n){var t=n&&Ru.exec(n);if(t){var e=t[1].split(","),o=+ni(e[0]),i=+ni(e[1]),a=+ni(e[2]),u=+ni(e[3]);if(isNaN(o+i+a+u))return;var c=[];return function(f){return f<=0?0:f>=1?1:fb(0,o,a,1,f,c)&&Ra(0,i,u,1,c[0])}}}var fl=function(){function n(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||Io,this.ondestroy=t.ondestroy||Io,this.onrestart=t.onrestart||Io,t.easing&&this.setEasing(t.easing)}return n.prototype.step=function(t,e){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),!this._paused){var o=this._life,i=t-this._startTime-this._pausedTime,a=i/o;a<0&&(a=0),a=Math.min(a,1);var u=this.easingFunc,c=u?u(a):a;if(this.onframe(c),1===a){if(!this.loop)return!0;this._startTime=t-i%o,this._pausedTime=0,this.onrestart()}return!1}this._pausedTime+=e},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){this._paused=!1},n.prototype.setEasing=function(t){this.easing=t,this.easingFunc=hn(t)?t:Fp[t]||Yl(t)},n}(),Cs=function(n){this.value=n},Js=function(){function n(){this._len=0}return n.prototype.insert=function(t){var e=new Cs(t);return this.insertEntry(e),e},n.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},n.prototype.remove=function(t){var e=t.prev,o=t.next;e?e.next=o:this.head=o,o?o.prev=e:this.tail=e,t.next=t.prev=null,this._len--},n.prototype.len=function(){return this._len},n.prototype.clear=function(){this.head=this.tail=null,this._len=0},n}(),Po=function(){function n(t){this._list=new Js,this._maxSize=10,this._map={},this._maxSize=t}return n.prototype.put=function(t,e){var o=this._list,i=this._map,a=null;if(null==i[t]){var u=o.len(),c=this._lastRemovedEntry;if(u>=this._maxSize&&u>0){var f=o.head;o.remove(f),delete i[f.key],a=f.value,this._lastRemovedEntry=f}c?c.value=e:c=new Cs(e),c.key=t,o.insertEntry(c),i[t]=c}return a},n.prototype.get=function(t){var e=this._map[t],o=this._list;if(null!=e)return e!==o.tail&&(o.remove(e),o.insertEntry(e)),e.value},n.prototype.clear=function(){this._list.clear(),this._map={}},n.prototype.len=function(){return this._list.len()},n}(),$g={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Al(n){return(n=Math.round(n))<0?0:n>255?255:n}function Ma(n){return n<0?0:n>1?1:n}function uo(n){var t=n;return t.length&&"%"===t.charAt(t.length-1)?Al(parseFloat(t)/100*255):Al(parseInt(t,10))}function Vc(n){var t=n;return t.length&&"%"===t.charAt(t.length-1)?Ma(parseFloat(t)/100):Ma(parseFloat(t))}function Er(n,t,e){return e<0?e+=1:e>1&&(e-=1),6*e<1?n+(t-n)*e*6:2*e<1?t:3*e<2?n+(t-n)*(2/3-e)*6:n}function qu(n,t,e){return n+(t-n)*e}function Yu(n,t,e,o,i){return n[0]=t,n[1]=e,n[2]=o,n[3]=i,n}function Vp(n,t){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n}var La=new Po(20),Oo=null;function Xu(n,t){Oo&&Vp(Oo,t),Oo=La.put(n,Oo||t.slice())}function to(n,t){if(n){t=t||[];var e=La.get(n);if(e)return Vp(t,e);var o=(n+="").replace(/ /g,"").toLowerCase();if(o in $g)return Vp(t,$g[o]),Xu(n,t),t;var i,a=o.length;if("#"===o.charAt(0))return 4===a||5===a?(i=parseInt(o.slice(1,4),16))>=0&&i<=4095?(Yu(t,(3840&i)>>4|(3840&i)>>8,240&i|(240&i)>>4,15&i|(15&i)<<4,5===a?parseInt(o.slice(4),16)/15:1),Xu(n,t),t):void Yu(t,0,0,0,1):7===a||9===a?(i=parseInt(o.slice(1,7),16))>=0&&i<=16777215?(Yu(t,(16711680&i)>>16,(65280&i)>>8,255&i,9===a?parseInt(o.slice(7),16)/255:1),Xu(n,t),t):void Yu(t,0,0,0,1):void 0;var u=o.indexOf("("),c=o.indexOf(")");if(-1!==u&&c+1===a){var f=o.substr(0,u),h=o.substr(u+1,c-(u+1)).split(","),m=1;switch(f){case"rgba":if(4!==h.length)return 3===h.length?Yu(t,+h[0],+h[1],+h[2],1):Yu(t,0,0,0,1);m=Vc(h.pop());case"rgb":return h.length>=3?(Yu(t,uo(h[0]),uo(h[1]),uo(h[2]),3===h.length?m:Vc(h[3])),Xu(n,t),t):void Yu(t,0,0,0,1);case"hsla":return 4!==h.length?void Yu(t,0,0,0,1):(h[3]=Vc(h[3]),ks(h,t),Xu(n,t),t);case"hsl":return 3!==h.length?void Yu(t,0,0,0,1):(ks(h,t),Xu(n,t),t);default:return}}Yu(t,0,0,0,1)}}function ks(n,t){var e=(parseFloat(n[0])%360+360)%360/360,o=Vc(n[1]),i=Vc(n[2]),a=i<=.5?i*(o+1):i+o-i*o,u=2*i-a;return Yu(t=t||[],Al(255*Er(u,a,e+1/3)),Al(255*Er(u,a,e)),Al(255*Er(u,a,e-1/3)),1),4===n.length&&(t[3]=n[3]),t}function Il(n,t){var e=to(n);if(e){for(var o=0;o<3;o++)e[o]=t<0?e[o]*(1-t)|0:(255-e[o])*t+e[o]|0,e[o]>255?e[o]=255:e[o]<0&&(e[o]=0);return hu(e,4===e.length?"rgba":"rgb")}}function Hy(n,t,e){if(t&&t.length&&n>=0&&n<=1){e=e||[];var o=n*(t.length-1),i=Math.floor(o),a=Math.ceil(o),u=t[i],c=t[a],f=o-i;return e[0]=Al(qu(u[0],c[0],f)),e[1]=Al(qu(u[1],c[1],f)),e[2]=Al(qu(u[2],c[2],f)),e[3]=Ma(qu(u[3],c[3],f)),e}}function dl(n,t,e){if(t&&t.length&&n>=0&&n<=1){var o=n*(t.length-1),i=Math.floor(o),a=Math.ceil(o),u=to(t[i]),c=to(t[a]),f=o-i,h=hu([Al(qu(u[0],c[0],f)),Al(qu(u[1],c[1],f)),Al(qu(u[2],c[2],f)),Ma(qu(u[3],c[3],f))],"rgba");return e?{color:h,leftIndex:i,rightIndex:a,value:o}:h}}function Wh(n,t,e,o){var a,i=to(n);if(n)return i=function(a){if(a){var u,c,f=a[0]/255,h=a[1]/255,m=a[2]/255,y=Math.min(f,h,m),_=Math.max(f,h,m),S=_-y,k=(_+y)/2;if(0===S)u=0,c=0;else{c=k<.5?S/(_+y):S/(2-_-y);var D=((_-f)/6+S/2)/S,A=((_-h)/6+S/2)/S,E=((_-m)/6+S/2)/S;f===_?u=E-A:h===_?u=1/3+D-E:m===_&&(u=2/3+A-D),u<0&&(u+=1),u>1&&(u-=1)}var N=[360*u,c,k];return null!=a[3]&&N.push(a[3]),N}}(i),null!=t&&(i[0]=(a=t,(a=Math.round(a))<0?0:a>360?360:a)),null!=e&&(i[1]=Vc(e)),null!=o&&(i[2]=Vc(o)),hu(ks(i),"rgba")}function ch(n,t){var e=to(n);if(e&&null!=t)return e[3]=Ma(t),hu(e,"rgba")}function hu(n,t){if(n&&n.length){var e=n[0]+","+n[1]+","+n[2];return"rgba"!==t&&"hsva"!==t&&"hsla"!==t||(e+=","+n[3]),t+"("+e+")"}}function Gh(n,t){var e=to(n);return e?(.299*e[0]+.587*e[1]+.114*e[2])*e[3]/255+(1-e[3])*t:0}var V1=Object.freeze({__proto__:null,parse:to,lift:Il,toHex:function(n){var t=to(n);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)},fastLerp:Hy,fastMapToColor:Hy,lerp:dl,mapToColor:dl,modifyHSL:Wh,modifyAlpha:ch,stringify:hu,lum:Gh,random:function(){return hu([Math.round(255*Math.random()),Math.round(255*Math.random()),Math.round(255*Math.random())],"rgb")}}),ua=Math.round;function hl(n){var t;if(n&&"transparent"!==n){if("string"==typeof n&&n.indexOf("rgba")>-1){var e=to(n);e&&(n="rgb("+e[0]+","+e[1]+","+e[2]+")",t=e[3])}}else n="none";return{color:n,opacity:null==t?1:t}}function Na(n){return n<1e-4&&n>-1e-4}function wv(n){return ua(1e3*n)/1e3}function Dn(n){return ua(1e4*n)/1e4}var Xl={left:"start",right:"end",center:"middle",middle:"middle"};function jr(n){return n&&!!n.image}function Uh(n){return jr(n)||(t=n)&&!!t.svgElement;var t}function Lu(n){return"linear"===n.type}function Wf(n){return"radial"===n.type}function Gf(n){return n&&("linear"===n.type||"radial"===n.type)}function Zu(n){return"url(#"+n+")"}function vi(n){var t=n.getGlobalScale(),e=Math.max(t[0],t[1]);return Math.max(Math.ceil(Math.log(e)/Math.log(10)),1)}function fh(n){var t=n.x||0,e=n.y||0,o=(n.rotation||0)*zr,i=_n(n.scaleX,1),a=_n(n.scaleY,1),u=n.skewX||0,c=n.skewY||0,f=[];return(t||e)&&f.push("translate("+t+"px,"+e+"px)"),o&&f.push("rotate("+o+")"),1===i&&1===a||f.push("scale("+i+","+a+")"),(u||c)&&f.push("skew("+ua(u*zr)+"deg, "+ua(c*zr)+"deg)"),f.join(" ")}var H1=We.hasGlobalWindow&&hn(window.btoa)?function(n){return window.btoa(unescape(encodeURIComponent(n)))}:"undefined"!=typeof Buffer?function(n){return Buffer.from(n).toString("base64")}:function(n){return null},Ri=Array.prototype.slice;function vc(n,t,e){return(t-n)*e+n}function Sv(n,t,e,o){for(var i=t.length,a=0;a<i;a++)n[a]=vc(t[a],e[a],o);return n}function Wi(n,t,e,o){for(var i=t.length,a=0;a<i;a++)n[a]=t[a]+e[a]*o;return n}function Bt(n,t,e,o){for(var i=t.length,a=i&&t[0].length,u=0;u<i;u++){n[u]||(n[u]=[]);for(var c=0;c<a;c++)n[u][c]=t[u][c]+e[u][c]*o}return n}function vf(n,t){for(var e=n.length,o=t.length,i=e>o?t:n,a=Math.min(e,o),u=i[a-1]||{color:[0,0,0,0],offset:0},c=a;c<Math.max(e,o);c++)i.push({offset:u.offset,color:u.color.slice()})}function Qs(n,t,e){var o=n,i=t;if(o.push&&i.push){var a=o.length,u=i.length;if(a!==u)if(a>u)o.length=u;else for(var c=a;c<u;c++)o.push(1===e?i[c]:Ri.call(i[c]));var f=o[0]&&o[0].length;for(c=0;c<o.length;c++)if(1===e)isNaN(o[c])&&(o[c]=i[c]);else for(var h=0;h<f;h++)isNaN(o[c][h])&&(o[c][h]=i[c][h])}}function Zl(n){if(Ht(n)){var t=n.length;if(Ht(n[0])){for(var e=[],o=0;o<t;o++)e.push(Ri.call(n[o]));return e}return Ri.call(n)}return n}function pl(n){return n[0]=Math.floor(n[0])||0,n[1]=Math.floor(n[1])||0,n[2]=Math.floor(n[2])||0,n[3]=null==n[3]?1:n[3],"rgba("+n.join(",")+")"}function rs(n){return 4===n||5===n}function Li(n){return 1===n||2===n}var Uf=[0,0,0,0],Jg=function(){function n(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return n.prototype.isFinished=function(){return this._finished},n.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},n.prototype.needsAnimate=function(){return this.keyframes.length>=1},n.prototype.getAdditiveTrack=function(){return this._additiveTrack},n.prototype.addKeyframe=function(t,e,o){this._needsSort=!0;var S,i=this.keyframes,a=i.length,u=!1,c=6,f=e;if(Ht(e)){var h=Ht((S=e)&&S[0])?2:1;c=h,(1===h&&!hr(e[0])||2===h&&!hr(e[0][0]))&&(u=!0)}else if(hr(e)&&!Rn(e))c=0;else if(Un(e))if(isNaN(+e)){var m=to(e);m&&(f=m,c=3)}else c=0;else if(bn(e)){var y=Pe({},f);y.colorStops=It(e.colorStops,function(S){return{offset:S.offset,color:to(S.color)}}),Lu(e)?c=4:Wf(e)&&(c=5),f=y}0===a?this.valType=c:c===this.valType&&6!==c||(u=!0),this.discrete=this.discrete||u;var _={time:t,value:f,rawValue:e,percent:0};return o&&(_.easing=o,_.easingFunc=hn(o)?o:Fp[o]||Yl(o)),i.push(_),_},n.prototype.prepare=function(t,e){var o=this.keyframes;this._needsSort&&o.sort(function(D,A){return D.time-A.time});for(var i=this.valType,a=o.length,u=o[a-1],c=this.discrete,f=Li(i),h=rs(i),m=0;m<a;m++){var y=o[m],_=y.value,S=u.value;y.percent=y.time/t,c||(f&&m!==a-1?Qs(_,S,i):h&&vf(_.colorStops,S.colorStops))}if(!c&&5!==i&&e&&this.needsAnimate()&&e.needsAnimate()&&i===e.valType&&!e._finished){this._additiveTrack=e;var k=o[0].value;for(m=0;m<a;m++)0===i?o[m].additiveValue=o[m].value-k:3===i?o[m].additiveValue=Wi([],o[m].value,k,-1):Li(i)&&(o[m].additiveValue=1===i?Wi([],o[m].value,k,-1):Bt([],o[m].value,k,-1))}},n.prototype.step=function(t,e){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var o,i,a,u=null!=this._additiveTrack,c=u?"additiveValue":"value",f=this.valType,h=this.keyframes,m=h.length,y=this.propName,_=3===f,S=this._lastFr,k=Math.min;if(1===m)i=a=h[0];else{if(e<0)o=0;else if(e<this._lastFrP){for(o=k(S+1,m-1);o>=0&&!(h[o].percent<=e);o--);o=k(o,m-2)}else{for(o=S;o<m&&!(h[o].percent>e);o++);o=k(o-1,m-2)}a=h[o+1],i=h[o]}if(i&&a){this._lastFr=o,this._lastFrP=e;var D=a.percent-i.percent,A=0===D?1:k((e-i.percent)/D,1);a.easingFunc&&(A=a.easingFunc(A));var E=u?this._additiveValue:_?Uf:t[y];if(!Li(f)&&!_||E||(E=this._additiveValue=[]),this.discrete)t[y]=A<1?i.rawValue:a.rawValue;else if(Li(f))1===f?Sv(E,i[c],a[c],A):function(X,ee,ie,ye){for(var _e=ee.length,Se=_e&&ee[0].length,Ae=0;Ae<_e;Ae++){X[Ae]||(X[Ae]=[]);for(var Fe=0;Fe<Se;Fe++)X[Ae][Fe]=vc(ee[Ae][Fe],ie[Ae][Fe],ye)}}(E,i[c],a[c],A);else if(rs(f)){var N=i[c],z=a[c],F=4===f;t[y]={type:F?"linear":"radial",x:vc(N.x,z.x,A),y:vc(N.y,z.y,A),colorStops:It(N.colorStops,function(X,ee){var ie=z.colorStops[ee];return{offset:vc(X.offset,ie.offset,A),color:pl(Sv([],X.color,ie.color,A))}}),global:z.global},F?(t[y].x2=vc(N.x2,z.x2,A),t[y].y2=vc(N.y2,z.y2,A)):t[y].r=vc(N.r,z.r,A)}else if(_)Sv(E,i[c],a[c],A),u||(t[y]=pl(E));else{var q=vc(i[c],a[c],A);u?this._additiveValue=q:t[y]=q}u&&this._addToTarget(t)}}},n.prototype._addToTarget=function(t){var e=this.valType,o=this.propName,i=this._additiveValue;0===e?t[o]=t[o]+i:3===e?(to(t[o],Uf),Wi(Uf,Uf,i,1),t[o]=pl(Uf)):1===e?Wi(t[o],t[o],i,1):2===e&&Bt(t[o],t[o],i,1)},n}(),Nr=function(){function n(t,e,o,i){this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=e,e&&i?ve("Can' use additive animation on looped animation."):(this._additiveAnimators=i,this._allowDiscrete=o)}return n.prototype.getMaxTime=function(){return this._maxTime},n.prototype.getDelay=function(){return this._delay},n.prototype.getLoop=function(){return this._loop},n.prototype.getTarget=function(){return this._target},n.prototype.changeTarget=function(t){this._target=t},n.prototype.when=function(t,e,o){return this.whenWithKeys(t,e,Zn(e),o)},n.prototype.whenWithKeys=function(t,e,o,i){for(var a=this._tracks,u=0;u<o.length;u++){var c=o[u],f=a[c];if(!f){f=a[c]=new Jg(c);var h=void 0,m=this._getAdditiveTrack(c);if(m){var y=m.keyframes,_=y[y.length-1];h=_&&_.value,3===m.valType&&h&&(h=pl(h))}else h=this._target[c];if(null==h)continue;t>0&&f.addKeyframe(0,Zl(h),i),this._trackKeys.push(c)}f.addKeyframe(t,Zl(e[c]),i)}return this._maxTime=Math.max(this._maxTime,t),this},n.prototype.pause=function(){this._clip.pause(),this._paused=!0},n.prototype.resume=function(){this._clip.resume(),this._paused=!1},n.prototype.isPaused=function(){return!!this._paused},n.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},n.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var e=t.length,o=0;o<e;o++)t[o].call(this)},n.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,e=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,e)for(var o=0;o<e.length;o++)e[o].call(this)},n.prototype._setTracksFinished=function(){for(var t=this._tracks,e=this._trackKeys,o=0;o<e.length;o++)t[e[o]].setFinished()},n.prototype._getAdditiveTrack=function(t){var e,o=this._additiveAnimators;if(o)for(var i=0;i<o.length;i++){var a=o[i].getTrack(t);a&&(e=a)}return e},n.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var e=this,o=[],i=this._maxTime||0,a=0;a<this._trackKeys.length;a++){var u=this._trackKeys[a],c=this._tracks[u],f=this._getAdditiveTrack(u),h=c.keyframes,m=h.length;if(c.prepare(i,f),c.needsAnimate())if(!this._allowDiscrete&&c.discrete){var y=h[m-1];y&&(e._target[c.propName]=y.rawValue),c.setFinished()}else o.push(c)}if(o.length||this._force){var _=new fl({life:i,loop:this._loop,delay:this._delay||0,onframe:function(S){e._started=2;var k=e._additiveAnimators;if(k){for(var D=!1,A=0;A<k.length;A++)if(k[A]._clip){D=!0;break}D||(e._additiveAnimators=null)}for(A=0;A<o.length;A++)o[A].step(e._target,S);var E=e._onframeCbs;if(E)for(A=0;A<E.length;A++)E[A](e._target,S)},ondestroy:function(){e._doneCallback()}});this._clip=_,this.animation&&this.animation.addClip(_),t&&_.setEasing(t)}else this._doneCallback();return this}},n.prototype.stop=function(t){this._clip&&(t&&this._clip.onframe(1),this._abortedCallback())},n.prototype.delay=function(t){return this._delay=t,this},n.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},n.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},n.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},n.prototype.getClip=function(){return this._clip},n.prototype.getTrack=function(t){return this._tracks[t]},n.prototype.getTracks=function(){var t=this;return It(this._trackKeys,function(e){return t._tracks[e]})},n.prototype.stopTracks=function(t,e){if(!t.length||!this._clip)return!0;for(var o=this._tracks,i=this._trackKeys,a=0;a<t.length;a++){var u=o[t[a]];u&&!u.isFinished()&&(e?u.step(this._target,1):1===this._started&&u.step(this._target,0),u.setFinished())}var c=!0;for(a=0;a<i.length;a++)if(!o[i[a]].isFinished()){c=!1;break}return c&&this._abortedCallback(),c},n.prototype.saveTo=function(t,e,o){if(t){e=e||this._trackKeys;for(var i=0;i<e.length;i++){var a=e[i],u=this._tracks[a];if(u&&!u.isFinished()){var c=u.keyframes,f=c[o?0:c.length-1];f&&(t[a]=Zl(f.rawValue))}}}},n.prototype.__changeFinalValue=function(t,e){e=e||Zn(t);for(var o=0;o<e.length;o++){var i=e[o],a=this._tracks[i];if(a){var u=a.keyframes;if(u.length>1){var c=u.pop();a.addKeyframe(c.time,t[i]),a.prepare(this._maxTime,a.getAdditiveTrack())}}}},n}();function os(){return(new Date).getTime()}var Cv,kd,jh=function(n){function t(e){var o=n.call(this)||this;return o._running=!1,o._time=0,o._pausedTime=0,o._pauseStart=0,o._paused=!1,o.stage=(e=e||{}).stage||{},o}return yt(t,n),t.prototype.addClip=function(e){e.animation&&this.removeClip(e),this._head?(this._tail.next=e,e.prev=this._tail,e.next=null,this._tail=e):this._head=this._tail=e,e.animation=this},t.prototype.addAnimator=function(e){e.animation=this;var o=e.getClip();o&&this.addClip(o)},t.prototype.removeClip=function(e){if(e.animation){var o=e.prev,i=e.next;o?o.next=i:this._head=i,i?i.prev=o:this._tail=o,e.next=e.prev=e.animation=null}},t.prototype.removeAnimator=function(e){var o=e.getClip();o&&this.removeClip(o),e.animation=null},t.prototype.update=function(e){for(var o=os()-this._pausedTime,i=o-this._time,a=this._head;a;){var u=a.next;a.step(o,i)&&(a.ondestroy(),this.removeClip(a)),a=u}this._time=o,e||(this.trigger("frame",i),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var e=this;this._running=!0,hc(function o(){e._running&&(hc(o),!e._paused&&e.update())})},t.prototype.start=function(){this._running||(this._time=os(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=os(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=os()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var e=this._head;e;){var o=e.next;e.prev=e.next=e.animation=null,e=o}this._head=this._tail=null},t.prototype.isFinished=function(){return null==this._head},t.prototype.animate=function(e,o){o=o||{},this.start();var i=new Nr(e,o.loop);return this.addAnimator(i),i},t}(ho),W1=We.domSupported,Md=(kd={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},{mouse:Cv=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],touch:["touchstart","touchend","touchmove"],pointer:It(Cv,function(n){var t=n.replace("mouse","pointer");return kd.hasOwnProperty(t)?t:n})}),G1=["mousemove","mouseup"],Qg=["pointermove","pointerup"],Wy=!1;function No(n){var t=n.pointerType;return"pen"===t||"touch"===t}function U1(n){n&&(n.zrByTouch=!0)}function j1(n,t){for(var e=t,o=!1;e&&9!==e.nodeType&&!(o=e.domBelongToZr||e!==t&&e===n.painterRoot);)e=e.parentNode;return o}var E_=function(n,t){this.stopPropagation=Io,this.stopImmediatePropagation=Io,this.preventDefault=Io,this.type=t.type,this.target=this.currentTarget=n.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY},Fr={mousedown:function(n){n=Qr(this.dom,n),this.__mayPointerCapture=[n.zrX,n.zrY],this.trigger("mousedown",n)},mousemove:function(n){n=Qr(this.dom,n);var t=this.__mayPointerCapture;!t||n.zrX===t[0]&&n.zrY===t[1]||this.__togglePointerCapture(!0),this.trigger("mousemove",n)},mouseup:function(n){n=Qr(this.dom,n),this.__togglePointerCapture(!1),this.trigger("mouseup",n)},mouseout:function(n){j1(this,(n=Qr(this.dom,n)).toElement||n.relatedTarget)||(this.__pointerCapturing&&(n.zrEventControl="no_globalout"),this.trigger("mouseout",n))},wheel:function(n){Wy=!0,n=Qr(this.dom,n),this.trigger("mousewheel",n)},mousewheel:function(n){Wy||(n=Qr(this.dom,n),this.trigger("mousewheel",n))},touchstart:function(n){U1(n=Qr(this.dom,n)),this.__lastTouchMoment=new Date,this.handler.processGesture(n,"start"),Fr.mousemove.call(this,n),Fr.mousedown.call(this,n)},touchmove:function(n){U1(n=Qr(this.dom,n)),this.handler.processGesture(n,"change"),Fr.mousemove.call(this,n)},touchend:function(n){U1(n=Qr(this.dom,n)),this.handler.processGesture(n,"end"),Fr.mouseup.call(this,n),+new Date-+this.__lastTouchMoment<300&&Fr.click.call(this,n)},pointerdown:function(n){Fr.mousedown.call(this,n)},pointermove:function(n){No(n)||Fr.mousemove.call(this,n)},pointerup:function(n){Fr.mouseup.call(this,n)},pointerout:function(n){No(n)||Fr.mouseout.call(this,n)}};Te(["click","dblclick","contextmenu"],function(n){Fr[n]=function(t){t=Qr(this.dom,t),this.trigger(n,t)}});var kv={pointermove:function(n){No(n)||kv.mousemove.call(this,n)},pointerup:function(n){kv.mouseup.call(this,n)},mousemove:function(n){this.trigger("mousemove",n)},mouseup:function(n){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",n),t&&(n.zrEventControl="only_globalout",this.trigger("mouseout",n))}};function qa(n,t,e,o){n.mounted[t]=e,n.listenerOpts[t]=o,Sa(n.domTarget,t,e,o)}function Mv(n){var a=n.mounted;for(var u in a)a.hasOwnProperty(u)&&n.domTarget.removeEventListener(u,a[u],n.listenerOpts[u]);n.mounted={}}var Tv=function(n,t){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=n,this.domHandlers=t},Hp=function(n){function t(e,o){var i=n.call(this)||this;return i.__pointerCapturing=!1,i.dom=e,i.painterRoot=o,i._localHandlerScope=new Tv(e,Fr),W1&&(i._globalHandlerScope=new Tv(document,kv)),function Hc(n,t){var e=t.domHandlers;We.pointerEventsSupported?Te(Md.pointer,function(o){qa(t,o,function(i){e[o].call(n,i)})}):(We.touchEventsSupported&&Te(Md.touch,function(o){qa(t,o,function(i){var a;e[o].call(n,i),(a=t).touching=!0,null!=a.touchTimer&&(clearTimeout(a.touchTimer),a.touchTimer=null),a.touchTimer=setTimeout(function(){a.touching=!1,a.touchTimer=null},700)})}),Te(Md.mouse,function(o){qa(t,o,function(i){i=jg(i),t.touching||e[o].call(n,i)})}))}(i,i._localHandlerScope),i}return yt(t,n),t.prototype.dispose=function(){Mv(this._localHandlerScope),W1&&Mv(this._globalHandlerScope)},t.prototype.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},t.prototype.__togglePointerCapture=function(e){if(this.__mayPointerCapture=null,W1&&+this.__pointerCapturing^+e){this.__pointerCapturing=e;var o=this._globalHandlerScope;e?function Nu(n,t){function e(o){qa(t,o,function(i){var a;i=jg(i),j1(n,i.target)||(i=Qr((a=n).dom,new E_(a,i),!0),t.domHandlers[o].call(n,i))},{capture:!0})}We.pointerEventsSupported?Te(Qg,e):We.touchEventsSupported||Te(G1,e)}(this,o):Mv(o)}},t}(ho),q1=1;We.hasGlobalWindow&&(q1=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var Ku=q1,ds="#333",Bu="#ccc",yf=Ry;function jf(n){return n>5e-5||n<-5e-5}var em=[],$u=[],Gy=[1,0,0,1,0,0],dh=Math.abs,Bi=function(){function n(){}return n.prototype.getLocalTransform=function(t){return n.getLocalTransform(this,t)},n.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},n.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},n.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},n.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},n.prototype.needLocalTransform=function(){return jf(this.rotation)||jf(this.x)||jf(this.y)||jf(this.scaleX-1)||jf(this.scaleY-1)||jf(this.skewX)||jf(this.skewY)},n.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,e=this.needLocalTransform(),o=this.transform;e||t?(o=o||[1,0,0,1,0,0],e?this.getLocalTransform(o):yf(o),t&&(e?Wr(o,t,o):Pu(o,t)),this.transform=o,this._resolveGlobalScaleRatio(o)):o&&yf(o)},n.prototype._resolveGlobalScaleRatio=function(t){var e=this.globalScaleRatio;if(null!=e&&1!==e){this.getGlobalScale(em);var o=em[0]<0?-1:1,i=em[1]<0?-1:1,a=((em[0]-o)*e+o)/em[0]||0,u=((em[1]-i)*e+i)/em[1]||0;t[0]*=a,t[1]*=a,t[2]*=u,t[3]*=u}this.invTransform=this.invTransform||[1,0,0,1,0,0],Ut(this.invTransform,t)},n.prototype.getComputedTransform=function(){for(var t=this,e=[];t;)e.push(t),t=t.parent;for(;t=e.pop();)t.updateTransform();return this.transform},n.prototype.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],o=t[2]*t[2]+t[3]*t[3],i=Math.atan2(t[1],t[0]),a=Math.PI/2+i-Math.atan2(t[3],t[2]);o=Math.sqrt(o)*Math.cos(a),e=Math.sqrt(e),this.skewX=a,this.skewY=0,this.rotation=-i,this.x=+t[4],this.y=+t[5],this.scaleX=e,this.scaleY=o,this.originX=0,this.originY=0}},n.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(Wr($u,t.invTransform,e),e=$u);var o=this.originX,i=this.originY;(o||i)&&(Gy[4]=o,Gy[5]=i,Wr($u,e,Gy),$u[4]-=o,$u[5]-=i,e=$u),this.setLocalTransform(e)}},n.prototype.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},n.prototype.transformCoordToLocal=function(t,e){var o=[t,e],i=this.invTransform;return i&&En(o,o,i),o},n.prototype.transformCoordToGlobal=function(t,e){var o=[t,e],i=this.transform;return i&&En(o,o,i),o},n.prototype.getLineScale=function(){var t=this.transform;return t&&dh(t[0]-1)>1e-10&&dh(t[3]-1)>1e-10?Math.sqrt(dh(t[0]*t[3]-t[2]*t[1])):1},n.prototype.copyTransform=function(t){Gr(this,t)},n.getLocalTransform=function(t,e){e=e||[];var o=t.originX||0,i=t.originY||0,a=t.scaleX,u=t.scaleY,c=t.anchorX,f=t.anchorY,h=t.rotation||0,m=t.x,y=t.y,_=t.skewX?Math.tan(t.skewX):0,S=t.skewY?Math.tan(-t.skewY):0;if(o||i||c||f){var k=o+c,D=i+f;e[4]=-k*a-_*D*u,e[5]=-D*u-S*k*a}else e[4]=e[5]=0;return e[0]=a,e[3]=u,e[1]=S*a,e[2]=_*u,h&&Ul(e,e,h),e[4]+=o+m,e[5]+=i+y,e},n.initDefaultProps=((t=n.prototype).scaleX=t.scaleY=t.globalScaleRatio=1,void(t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0)),n;var t}(),Bo=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function Gr(n,t){for(var e=0;e<Bo.length;e++){var o=Bo[e];n[o]=t[o]}}var Dd={};function gu(n,t){var e=Dd[t=t||xe];e||(e=Dd[t]=new Po(500));var o=e.get(n);return null==o&&(o=ne.measureText(n,t).width,e.put(n,o)),o}function yc(n,t,e,o){var i=gu(n,t),a=Dv(t),u=qh(0,i,e),c=xn(0,a,o);return new To(u,c,i,a)}function zs(n,t,e,o){var i=((n||"")+"").split("\n");if(1===i.length)return yc(i[0],t,e,o);for(var a=new To(0,0,0,0),u=0;u<i.length;u++){var c=yc(i[u],t,e,o);0===u?a.copy(c):a.union(c)}return a}function qh(n,t,e){return"right"===e?n-=t:"center"===e&&(n-=t/2),n}function xn(n,t,e){return"middle"===e?n-=t/2:"bottom"===e&&(n-=t),n}function Dv(n){return gu("\u56fd",n)}function gl(n,t){return"string"==typeof n?n.lastIndexOf("%")>=0?parseFloat(n)/100*t:parseFloat(n):n}function Ad(n,t,e){var o=t.position||"inside",i=null!=t.distance?t.distance:5,a=e.height,u=e.width,c=a/2,f=e.x,h=e.y,m="left",y="top";if(o instanceof Array)f+=gl(o[0],e.width),h+=gl(o[1],e.height),m=null,y=null;else switch(o){case"left":f-=i,h+=c,m="right",y="middle";break;case"right":f+=i+u,h+=c,y="middle";break;case"top":f+=u/2,h-=i,m="center",y="bottom";break;case"bottom":f+=u/2,h+=a+i,m="center";break;case"inside":f+=u/2,h+=c,m="center",y="middle";break;case"insideLeft":f+=i,h+=c,y="middle";break;case"insideRight":f+=u-i,h+=c,m="right",y="middle";break;case"insideTop":f+=u/2,h+=i,m="center";break;case"insideBottom":f+=u/2,h+=a-i,m="center",y="bottom";break;case"insideTopLeft":f+=i,h+=i;break;case"insideTopRight":f+=u-i,h+=i,m="right";break;case"insideBottomLeft":f+=i,h+=a-i,y="bottom";break;case"insideBottomRight":f+=u-i,h+=a-i,m="right",y="bottom"}return(n=n||{}).x=f,n.y=h,n.align=m,n.verticalAlign=y,n}var Yh="__zr_normal__",Id=Bo.concat(["ignore"]),Av=Sn(Bo,function(n,t){return n[t]=!0,n},{ignore:!1}),Xh={},Uy=new To(0,0,0,0),bf=function(){function n(t){this.id=He(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return n.prototype._init=function(t){this.attr(t)},n.prototype.drift=function(t,e,o){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=t,i[5]+=e,this.decomposeTransform(),this.markRedraw()},n.prototype.beforeUpdate=function(){},n.prototype.afterUpdate=function(){},n.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},n.prototype.updateInnerText=function(t){var e=this._textContent;if(e&&(!e.ignore||t)){this.textConfig||(this.textConfig={});var o=this.textConfig,i=o.local,a=e.innerTransformable,u=void 0,c=void 0,f=!1;a.parent=i?this:null;var h=!1;if(a.copyTransform(e),null!=o.position){var m=Uy;m.copy(o.layoutRect?o.layoutRect:this.getBoundingRect()),i||m.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(Xh,o,m):Ad(Xh,o,m),a.x=Xh.x,a.y=Xh.y,u=Xh.align,c=Xh.verticalAlign;var y=o.origin;if(y&&null!=o.rotation){var _=void 0,S=void 0;"center"===y?(_=.5*m.width,S=.5*m.height):(_=gl(y[0],m.width),S=gl(y[1],m.height)),h=!0,a.originX=-a.x+_+(i?0:m.x),a.originY=-a.y+S+(i?0:m.y)}}null!=o.rotation&&(a.rotation=o.rotation);var k=o.offset;k&&(a.x+=k[0],a.y+=k[1],h||(a.originX=-k[0],a.originY=-k[1]));var D=null==o.inside?"string"==typeof o.position&&o.position.indexOf("inside")>=0:o.inside,A=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),E=void 0,N=void 0,z=void 0;D&&this.canBeInsideText()?(N=o.insideStroke,null!=(E=o.insideFill)&&"auto"!==E||(E=this.getInsideTextFill()),null!=N&&"auto"!==N||(N=this.getInsideTextStroke(E),z=!0)):(N=o.outsideStroke,null!=(E=o.outsideFill)&&"auto"!==E||(E=this.getOutsideFill()),null!=N&&"auto"!==N||(N=this.getOutsideStroke(E),z=!0)),(E=E||"#000")===A.fill&&N===A.stroke&&z===A.autoStroke&&u===A.align&&c===A.verticalAlign||(f=!0,A.fill=E,A.stroke=N,A.autoStroke=z,A.align=u,A.verticalAlign=c,e.setDefaultTextStyle(A)),e.__dirty|=1,f&&e.dirtyStyle(!0)}},n.prototype.canBeInsideText=function(){return!0},n.prototype.getInsideTextFill=function(){return"#fff"},n.prototype.getInsideTextStroke=function(t){return"#000"},n.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?Bu:ds},n.prototype.getOutsideStroke=function(t){var e=this.__zr&&this.__zr.getBackgroundColor(),o="string"==typeof e&&to(e);o||(o=[255,255,255,1]);for(var i=o[3],a=this.__zr.isDarkMode(),u=0;u<3;u++)o[u]=o[u]*i+(a?0:255)*(1-i);return o[3]=1,hu(o,"rgba")},n.prototype.traverse=function(t,e){},n.prototype.attrKV=function(t,e){"textConfig"===t?this.setTextConfig(e):"textContent"===t?this.setTextContent(e):"clipPath"===t?this.setClipPath(e):"extra"===t?(this.extra=this.extra||{},Pe(this.extra,e)):this[t]=e},n.prototype.hide=function(){this.ignore=!0,this.markRedraw()},n.prototype.show=function(){this.ignore=!1,this.markRedraw()},n.prototype.attr=function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(fr(t))for(var o=Zn(t),i=0;i<o.length;i++){var a=o[i];this.attrKV(a,t[a])}return this.markRedraw(),this},n.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var e=this._normalState,o=0;o<this.animators.length;o++){var i=this.animators[o],a=i.__fromStateTransition;if(!(i.getLoop()||a&&a!==Yh)){var u=i.targetName;i.saveTo(u?e[u]:e)}}},n.prototype._innerSaveToNormal=function(t){var e=this._normalState;e||(e=this._normalState={}),t.textConfig&&!e.textConfig&&(e.textConfig=this.textConfig),this._savePrimaryToNormal(t,e,Id)},n.prototype._savePrimaryToNormal=function(t,e,o){for(var i=0;i<o.length;i++){var a=o[i];null==t[a]||a in e||(e[a]=this[a])}},n.prototype.hasState=function(){return this.currentStates.length>0},n.prototype.getState=function(t){return this.states[t]},n.prototype.ensureState=function(t){var e=this.states;return e[t]||(e[t]={}),e[t]},n.prototype.clearStates=function(t){this.useState(Yh,!1,t)},n.prototype.useState=function(t,e,o,i){var a=t===Yh;if(this.hasState()||!a){var u=this.currentStates,c=this.stateTransition;if(!(jt(u,t)>=0)||!e&&1!==u.length){var f;if(this.stateProxy&&!a&&(f=this.stateProxy(t)),f||(f=this.states&&this.states[t]),f||a){a||this.saveCurrentToNormalState(f);var h=!!(f&&f.hoverLayer||i);h&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,f,this._normalState,e,!o&&!this.__inHover&&c&&c.duration>0,c);var m=this._textContent,y=this._textGuide;return m&&m.useState(t,e,o,h),y&&y.useState(t,e,o,h),a?(this.currentStates=[],this._normalState={}):e?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!h&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2),f}ve("State "+t+" not exists.")}}},n.prototype.useStates=function(t,e,o){if(t.length){var i=[],a=this.currentStates,u=t.length,c=u===a.length;if(c)for(var f=0;f<u;f++)if(t[f]!==a[f]){c=!1;break}if(c)return;for(f=0;f<u;f++){var h=t[f],m=void 0;this.stateProxy&&(m=this.stateProxy(h,t)),m||(m=this.states[h]),m&&i.push(m)}var y=i[u-1],_=!!(y&&y.hoverLayer||o);_&&this._toggleHoverLayerFlag(!0);var S=this._mergeStates(i),k=this.stateTransition;this.saveCurrentToNormalState(S),this._applyStateObj(t.join(","),S,this._normalState,!1,!e&&!this.__inHover&&k&&k.duration>0,k);var D=this._textContent,A=this._textGuide;D&&D.useStates(t,e,_),A&&A.useStates(t,e,_),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!_&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2)}else this.clearStates()},n.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var e=this.animators[t];e.targetName&&e.changeTarget(this[e.targetName])}},n.prototype.removeState=function(t){var e=jt(this.currentStates,t);if(e>=0){var o=this.currentStates.slice();o.splice(e,1),this.useStates(o)}},n.prototype.replaceState=function(t,e,o){var i=this.currentStates.slice(),a=jt(i,t),u=jt(i,e)>=0;a>=0?u?i.splice(a,1):i[a]=e:o&&!u&&i.push(e),this.useStates(i)},n.prototype.toggleState=function(t,e){e?this.useState(t,!0):this.removeState(t)},n.prototype._mergeStates=function(t){for(var e,o={},i=0;i<t.length;i++){var a=t[i];Pe(o,a),a.textConfig&&Pe(e=e||{},a.textConfig)}return e&&(o.textConfig=e),o},n.prototype._applyStateObj=function(t,e,o,i,a,u){var c=!(e&&i);e&&e.textConfig?(this.textConfig=Pe({},i?this.textConfig:o.textConfig),Pe(this.textConfig,e.textConfig)):c&&o.textConfig&&(this.textConfig=o.textConfig);for(var f={},h=!1,m=0;m<Id.length;m++){var y=Id[m],_=a&&Av[y];e&&null!=e[y]?_?(h=!0,f[y]=e[y]):this[y]=e[y]:c&&null!=o[y]&&(_?(h=!0,f[y]=o[y]):this[y]=o[y])}if(!a)for(m=0;m<this.animators.length;m++){var S=this.animators[m],k=S.targetName;S.getLoop()||S.__changeFinalValue(k?(e||o)[k]:e||o)}h&&this._transitionState(t,f,u)},n.prototype._attachComponent=function(t){if((!t.__zr||t.__hostTarget)&&t!==this){var e=this.__zr;e&&t.addSelfToZr(e),t.__zr=e,t.__hostTarget=this}},n.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},n.prototype.getClipPath=function(){return this._clipPath},n.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},n.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},n.prototype.getTextContent=function(){return this._textContent},n.prototype.setTextContent=function(t){var e=this._textContent;e!==t&&(e&&e!==t&&this.removeTextContent(),t.innerTransformable=new Bi,this._attachComponent(t),this._textContent=t,this.markRedraw())},n.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),Pe(this.textConfig,t),this.markRedraw()},n.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},n.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},n.prototype.getTextGuideLine=function(){return this._textGuide},n.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},n.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},n.prototype.markRedraw=function(){this.__dirty|=1;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},n.prototype.dirty=function(){this.markRedraw()},n.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var e=this._textContent,o=this._textGuide;e&&(e.__inHover=t),o&&(o.__inHover=t)},n.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var e=this.animators;if(e)for(var o=0;o<e.length;o++)t.animation.addAnimator(e[o]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},n.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var e=this.animators;if(e)for(var o=0;o<e.length;o++)t.animation.removeAnimator(e[o]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},n.prototype.animate=function(t,e,o){var a=new Nr(t?this[t]:this,e,o);return t&&(a.targetName=t),this.addAnimator(a,t),a},n.prototype.addAnimator=function(t,e){var o=this.__zr,i=this;t.during(function(){i.updateDuringAnimation(e)}).done(function(){var a=i.animators,u=jt(a,t);u>=0&&a.splice(u,1)}),this.animators.push(t),o&&o.animation.addAnimator(t),o&&o.wakeUp()},n.prototype.updateDuringAnimation=function(t){this.markRedraw()},n.prototype.stopAnimation=function(t,e){for(var o=this.animators,i=o.length,a=[],u=0;u<i;u++){var c=o[u];t&&t!==c.scope?a.push(c):c.stop(e)}return this.animators=a,this},n.prototype.animateTo=function(t,e,o){Rr(this,t,e,o)},n.prototype.animateFrom=function(t,e,o){Rr(this,t,e,o,!0)},n.prototype._transitionState=function(t,e,o,i){for(var a=Rr(this,e,o,i),u=0;u<a.length;u++)a[u].__fromStateTransition=t},n.prototype.getBoundingRect=function(){return null},n.prototype.getPaintRect=function(){return null},n.initDefaultProps=function(){var t=n.prototype;function e(o,i,a,u){function c(f,h){Object.defineProperty(h,0,{get:function(){return f[a]},set:function(m){f[a]=m}}),Object.defineProperty(h,1,{get:function(){return f[u]},set:function(m){f[u]=m}})}Object.defineProperty(t,o,{get:function(){return this[i]||c(this,this[i]=[]),this[i]},set:function(f){this[a]=f[0],this[u]=f[1],this[i]=f,c(this,f)}})}t.type="element",t.name="",t.ignore=t.silent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=1,Object.defineProperty&&(e("position","_legacyPos","x","y"),e("scale","_legacyScale","scaleX","scaleY"),e("origin","_legacyOrigin","originX","originY"))}(),n}();function Rr(n,t,e,o,i){var a=[];qf(n,"",n,t,e=e||{},o,a,i);var u=a.length,c=!1,f=e.done,h=e.aborted,m=function(){c=!0,--u<=0&&(c?f&&f():h&&h())},y=function(){--u<=0&&(c?f&&f():h&&h())};u||f&&f(),a.length>0&&e.during&&a[0].during(function(k,D){e.during(D)});for(var _=0;_<a.length;_++){var S=a[_];m&&S.done(m),y&&S.aborted(y),e.force&&S.duration(e.duration),S.start(e.easing)}return a}function tm(n,t,e){for(var o=0;o<e;o++)n[o]=t[o]}function Y1(n,t,e){if(Ht(t[e]))if(Ht(n[e])||(n[e]=[]),Ci(t[e])){var o=t[e].length;n[e].length!==o&&(n[e]=new t[e].constructor(o),tm(n[e],t[e],o))}else{var i=t[e],a=n[e],u=i.length;if(Ht(i[0]))for(var c=i[0].length,f=0;f<u;f++)a[f]?tm(a[f],i[f],c):a[f]=Array.prototype.slice.call(i[f]);else tm(a,i,u);a.length=i.length}else n[e]=t[e]}function qf(n,t,e,o,i,a,u,c){for(var f=Zn(o),h=i.duration,m=i.delay,y=i.additive,_=i.setToFinal,S=!fr(a),k=n.animators,D=[],A=0;A<f.length;A++){var E=f[A],N=o[E];if(null!=N&&null!=e[E]&&(S||a[E]))if(!fr(N)||Ht(N)||bn(N))D.push(E);else{if(t){c||(e[E]=N,n.updateDuringAnimation(t));continue}qf(n,E,e[E],N,i,a&&a[E],u,c)}else c||(e[E]=N,n.updateDuringAnimation(t),D.push(E))}var z=D.length;if(!y&&z)for(var F=0;F<k.length;F++)if((X=k[F]).targetName===t&&X.stopTracks(D)){var q=jt(k,X);k.splice(q,1)}if(i.force||(z=(D=Lr(D,function(_e){return!((Se=o[_e])===(Ae=e[_e])||Ht(Se)&&Ht(Ae)&&function(Fe,Xe){var nt=Fe.length;if(nt!==Xe.length)return!1;for(var it=0;it<nt;it++)if(Fe[it]!==Xe[it])return!1;return!0}(Se,Ae));var Se,Ae})).length),z>0||i.force&&!u.length){var X,ee=void 0,ie=void 0,ye=void 0;if(c)for(ie={},_&&(ee={}),F=0;F<z;F++)ie[E=D[F]]=e[E],_?ee[E]=o[E]:e[E]=o[E];else if(_)for(ye={},F=0;F<z;F++)ye[E=D[F]]=Zl(e[E]),Y1(e,o,E);(X=new Nr(e,!1,!1,y?Lr(k,function(_e){return _e.targetName===t}):null)).targetName=t,i.scope&&(X.scope=i.scope),_&&ee&&X.whenWithKeys(0,ee,D),ye&&X.whenWithKeys(0,ye,D),X.whenWithKeys(null==h?500:h,c?ie:o,D).delay(m||0),n.addAnimator(X,t),u.push(X)}}_r(bf,ho),_r(bf,Bi);var lo=function(n){function t(e){var o=n.call(this)||this;return o.isGroup=!0,o._children=[],o.attr(e),o}return yt(t,n),t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(e){return this._children[e]},t.prototype.childOfName=function(e){for(var o=this._children,i=0;i<o.length;i++)if(o[i].name===e)return o[i]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},t.prototype.addBefore=function(e,o){if(e&&e!==this&&e.parent!==this&&o&&o.parent===this){var i=this._children,a=i.indexOf(o);a>=0&&(i.splice(a,0,e),this._doAdd(e))}return this},t.prototype.replace=function(e,o){var i=jt(this._children,e);return i>=0&&this.replaceAt(o,i),this},t.prototype.replaceAt=function(e,o){var i=this._children,a=i[o];if(e&&e!==this&&e.parent!==this&&e!==a){i[o]=e,a.parent=null;var u=this.__zr;u&&a.removeSelfFromZr(u),this._doAdd(e)}return this},t.prototype._doAdd=function(e){e.parent&&e.parent.remove(e),e.parent=this;var o=this.__zr;o&&o!==e.__zr&&e.addSelfToZr(o),o&&o.refresh()},t.prototype.remove=function(e){var o=this.__zr,i=this._children,a=jt(i,e);return a<0||(i.splice(a,1),e.parent=null,o&&e.removeSelfFromZr(o),o&&o.refresh()),this},t.prototype.removeAll=function(){for(var e=this._children,o=this.__zr,i=0;i<e.length;i++){var a=e[i];o&&a.removeSelfFromZr(o),a.parent=null}return e.length=0,this},t.prototype.eachChild=function(e,o){for(var i=this._children,a=0;a<i.length;a++)e.call(o,i[a],a);return this},t.prototype.traverse=function(e,o){for(var i=0;i<this._children.length;i++){var a=this._children[i],u=e.call(o,a);a.isGroup&&!u&&a.traverse(e,o)}return this},t.prototype.addSelfToZr=function(e){n.prototype.addSelfToZr.call(this,e);for(var o=0;o<this._children.length;o++)this._children[o].addSelfToZr(e)},t.prototype.removeSelfFromZr=function(e){n.prototype.removeSelfFromZr.call(this,e);for(var o=0;o<this._children.length;o++)this._children[o].removeSelfFromZr(e)},t.prototype.getBoundingRect=function(e){for(var o=new To(0,0,0,0),i=e||this._children,a=[],u=null,c=0;c<i.length;c++){var f=i[c];if(!f.ignore&&!f.invisible){var h=f.getBoundingRect(),m=f.getLocalTransform(a);m?(To.applyTransform(o,h,m),(u=u||o.clone()).union(o)):(u=u||h.clone()).union(h)}}return u||o},t}(bf);lo.prototype.type="group";var Zh={},Kh={},Yf=function(){function n(t,e,o){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,o=o||{},this.dom=e,this.id=t;var a=new xv,u=o.renderer||"canvas";Zh[u]||(u=Zn(Zh)[0]),o.useDirtyRect=null!=o.useDirtyRect&&o.useDirtyRect;var c=new Zh[u](e,a,o,t),f=o.ssr||c.ssrOnly;this.storage=a,this.painter=c;var h,m=We.node||We.worker||f?null:new Hp(c.getViewportRoot(),c.root),y=o.useCoarsePointer;(null==y||"auto"===y?We.touchEventsSupported:!!y)&&(h=_n(o.pointerSize,44)),this.handler=new cu(a,c,m,c.root,h),this.animation=new jh({stage:{update:f?null:function(){return i._flush(!0)}}}),f||this.animation.start()}return n.prototype.add=function(t){t&&(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},n.prototype.remove=function(t){t&&(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},n.prototype.configLayer=function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this.refresh()},n.prototype.setBackgroundColor=function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=function(e){if(!e)return!1;if("string"==typeof e)return Gh(e,1)<.4;if(e.colorStops){for(var o=e.colorStops,i=0,a=o.length,u=0;u<a;u++)i+=Gh(o[u].color,1);return(i/=a)<.4}return!1}(t)},n.prototype.getBackgroundColor=function(){return this._backgroundColor},n.prototype.setDarkMode=function(t){this._darkMode=t},n.prototype.isDarkMode=function(){return this._darkMode},n.prototype.refreshImmediately=function(t){t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},n.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},n.prototype.flush=function(){this._flush(!1)},n.prototype._flush=function(t){var e,o=os();this._needsRefresh&&(e=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately());var i=os();e?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-o})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},n.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},n.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},n.prototype.refreshHover=function(){this._needsRefreshHover=!0},n.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover()},n.prototype.resize=function(t){this.painter.resize((t=t||{}).width,t.height),this.handler.resize()},n.prototype.clearAnimation=function(){this.animation.clear()},n.prototype.getWidth=function(){return this.painter.getWidth()},n.prototype.getHeight=function(){return this.painter.getHeight()},n.prototype.setCursorStyle=function(t){this.handler.setCursorStyle(t)},n.prototype.findHover=function(t,e){return this.handler.findHover(t,e)},n.prototype.on=function(t,e,o){return this.handler.on(t,e,o),this},n.prototype.off=function(t,e){this.handler.off(t,e)},n.prototype.trigger=function(t,e){this.handler.trigger(t,e)},n.prototype.clear=function(){for(var t=this.storage.getRoots(),e=0;e<t.length;e++)t[e]instanceof lo&&t[e].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},n.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,delete Kh[this.id]},n}();function Wp(n,t){var e=new Yf(He(),n,t);return Kh[e.id]=e,e}function P_(n,t){Zh[n]=t}var hb=Object.freeze({__proto__:null,init:Wp,dispose:function(n){n.dispose()},disposeAll:function(){for(var n in Kh)Kh.hasOwnProperty(n)&&Kh[n].dispose();Kh={}},getInstance:function(n){return Kh[n]},registerPainter:P_,version:"5.4.3"});function zi(n,t,e,o){var i=t[0],a=t[1],u=e[0],c=e[1],f=a-i,h=c-u;if(0===f)return 0===h?u:(u+c)/2;if(o)if(f>0){if(n<=i)return u;if(n>=a)return c}else{if(n>=i)return u;if(n<=a)return c}else{if(n===i)return u;if(n===a)return c}return(n-i)/f*h+u}function Qn(n,t){switch(n){case"center":case"middle":n="50%";break;case"left":case"top":n="0%";break;case"right":case"bottom":n="100%"}return Un(n)?(e=n,e.replace(/^\s+|\s+$/g,"")).match(/%$/)?parseFloat(n)/100*t:parseFloat(n):null==n?NaN:+n;var e}function ri(n,t,e){return null==t&&(t=10),t=Math.min(Math.max(0,t),20),n=(+n).toFixed(t),e?n:+n}function la(n){return n.sort(function(t,e){return t-e}),n}function eu(n){if(n=+n,isNaN(n))return 0;if(n>1e-14)for(var t=1,e=0;e<15;e++,t*=10)if(Math.round(n*t)/t===n)return e;return xf(n)}function xf(n){var t=n.toString().toLowerCase(),e=t.indexOf("e"),o=e>0?+t.slice(e+1):0,i=e>0?e:t.length,a=t.indexOf(".");return Math.max(0,(a<0?0:i-1-a)-o)}function Kl(n,t){var e=Math.log,o=Math.LN10,i=Math.floor(e(n[1]-n[0])/o),a=Math.round(e(Math.abs(t[1]-t[0]))/o),u=Math.min(Math.max(-i+a,0),20);return isFinite(u)?u:20}function ml(n,t){var e=Sn(n,function(S,k){return S+(isNaN(k)?0:k)},0);if(0===e)return[];for(var o=Math.pow(10,t),i=It(n,function(S){return(isNaN(S)?0:S)/e*o*100}),a=100*o,u=It(i,function(S){return Math.floor(S)}),c=Sn(u,function(S,k){return S+k},0),f=It(i,function(S,k){return S-u[k]});c<a;){for(var h=Number.NEGATIVE_INFINITY,m=null,y=0,_=f.length;y<_;++y)f[y]>h&&(h=f[y],m=y);++u[m],f[m]=0,++c}return It(u,function(S){return S/o})}function $h(n,t){var e=Math.max(eu(n),eu(t)),o=n+t;return e>20?o:ri(o,e)}var _f=9007199254740991;function Ms(n){var t=2*Math.PI;return(n%t+t)%t}function Jh(n){return n>-1e-4&&n<1e-4}var Od=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Wc(n){if(n instanceof Date)return n;if(Un(n)){var t=Od.exec(n);if(!t)return new Date(NaN);if(t[8]){var e=+t[4]||0;return"Z"!==t[8].toUpperCase()&&(e-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,e,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}return null==n?new Date(NaN):new Date(Math.round(n))}function hh(n){return Math.pow(10,pb(n))}function pb(n){if(0===n)return 0;var t=Math.floor(Math.log(n)/Math.LN10);return n/Math.pow(10,t)>=10&&t++,t}function Ba(n,t){var e=pb(n),o=Math.pow(10,e),i=n/o;return n=(t?i<1.5?1:i<2.5?2:i<4?3:i<7?5:10:i<1?1:i<2?2:i<3?3:i<5?5:10)*o,e>=-20?+n.toFixed(e<0?-e:0):n}function mu(n,t){var e=(n.length-1)*t+1,o=Math.floor(e),i=+n[o-1],a=e-o;return a?i+a*(n[o]-i):i}function $l(n){n.sort(function(f,h){return c(f,h,0)?-1:1});for(var t=-1/0,e=1,o=0;o<n.length;){for(var i=n[o].interval,a=n[o].close,u=0;u<2;u++)i[u]<=t&&(i[u]=t,a[u]=u?1:1-e),t=i[u],e=a[u];i[0]===i[1]&&a[0]*a[1]!=1?n.splice(o,1):o++}return n;function c(f,h,m){return f.interval[m]<h.interval[m]||f.interval[m]===h.interval[m]&&(f.close[m]-h.close[m]==(m?-1:1)||!m&&c(f,h,1))}}function $i(n){var t=parseFloat(n);return t==n&&(0!==t||!Un(n)||n.indexOf("x")<=0)?t:NaN}function qi(n){return!isNaN($i(n))}function Jl(){return Math.round(9*Math.random())}function nm(n,t){return 0===t?n:nm(t,n%t)}function Gp(n,t){return null==n?t:null==t?n:n*t/nm(n,t)}function fi(n){throw new Error(n)}function Xf(n,t,e){return(t-n)*e+n}var Qh="series\0";function Ko(n){return n instanceof Array?n:null==n?[]:[n]}function Ta(n,t,e){if(n){n[t]=n[t]||{},n.emphasis=n.emphasis||{},n.emphasis[t]=n.emphasis[t]||{};for(var o=0,i=e.length;o<i;o++){var a=e[o];!n.emphasis[t].hasOwnProperty(a)&&n[t].hasOwnProperty(a)&&(n.emphasis[t][a]=n[t][a])}}}var Zf=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function vl(n){return!fr(n)||tt(n)||n instanceof Date?n:n.value}function ep(n){return fr(n)&&!(n instanceof Array)}function ph(n,t,e){var o="normalMerge"===e,i="replaceMerge"===e,a="replaceAll"===e;n=n||[],t=(t||[]).slice();var u=Ir();Te(t,function(m,y){fr(m)||(t[y]=null)});var c,f,m,y,_,S,h=function(m,y,_){var S=[];if("replaceAll"===_)return S;for(var k=0;k<m.length;k++){var D=m[k];D&&null!=D.id&&y.set(D.id,k),S.push({existing:"replaceMerge"===_||Pd(D)?null:D,newOption:null,keyInfo:null,brandNew:null})}return S}(n,u,e);return(o||i)&&(m=h,y=n,_=u,Te(S=t,function(k,D){if(k&&null!=k.id){var A=is(k.id),E=_.get(A);if(null!=E){var N=m[E];go(!N.newOption,'Duplicated option on id "'+A+'".'),N.newOption=k,N.existing=y[E],S[D]=null}}})),o&&function(m,y){Te(y,function(_,S){if(_&&null!=_.name)for(var k=0;k<m.length;k++){var D=m[k].existing;if(!m[k].newOption&&D&&(null==D.id||null==_.id)&&!Pd(_)&&!Pd(D)&&Iv("name",D,_))return m[k].newOption=_,void(y[S]=null)}})}(h,t),o||i?function(m,y,_){Te(y,function(S){if(S){for(var k,D=0;(k=m[D])&&(k.newOption||Pd(k.existing)||k.existing&&null!=S.id&&!Iv("id",S,k.existing));)D++;k?(k.newOption=S,k.brandNew=_):m.push({newOption:S,brandNew:_,existing:null,keyInfo:null}),D++}})}(h,t,i):a&&function(m,y){Te(y,function(_){m.push({newOption:_,brandNew:!0,existing:null,keyInfo:null})})}(h,t),c=h,f=Ir(),Te(c,function(m){var y=m.existing;y&&f.set(y.id,m)}),Te(c,function(m){var y=m.newOption;go(!y||null==y.id||!f.get(y.id)||f.get(y.id)===m,"id duplicates: "+(y&&y.id)),y&&null!=y.id&&f.set(y.id,m),!m.keyInfo&&(m.keyInfo={})}),Te(c,function(m,y){var _=m.existing,S=m.newOption,k=m.keyInfo;if(fr(S)){if(k.name=null!=S.name?is(S.name):_?_.name:Qh+y,_)k.id=is(_.id);else if(null!=S.id)k.id=is(S.id);else{var D=0;do{k.id="\0"+k.name+"\0"+D++}while(f.get(k.id))}f.set(k.id,m)}}),h}function Iv(n,t,e){var o=xa(t[n],null),i=xa(e[n],null);return null!=o&&null!=i&&o===i}function is(n){return xa(n,"")}function xa(n,t){return null==n?t:Un(n)?n:hr(n)||Ja(n)?n+"":t}function yl(n){var t=n.name;return!(!t||!t.indexOf(Qh))}function Pd(n){return n&&null!=n.id&&0===is(n.id).indexOf("\0_ec_\0")}function Rd(n,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?tt(t.dataIndex)?It(t.dataIndex,function(e){return n.indexOfRawIndex(e)}):n.indexOfRawIndex(t.dataIndex):null!=t.name?tt(t.name)?It(t.name,function(e){return n.indexOfName(e)}):n.indexOfName(t.name):void 0}function Qo(){var n="__ec_inner_"+bc++;return function(t){return t[n]||(t[n]={})}}var bc=Jl();function wf(n,t,e){var o=Ld(t,e),a=o.queryOptionMap,u=o.others,c=e?e.defaultMainType:null;return!o.mainTypeSpecified&&c&&a.set(c,{}),a.each(function(f,h){var m=tp(n,h,f,{useDefault:c===h,enableAll:!e||null==e.enableAll||e.enableAll,enableNone:!e||null==e.enableNone||e.enableNone});u[h+"Models"]=m.models,u[h+"Model"]=m.models[0]}),u}function Ld(n,t){var e;if(Un(n)){var o={};o[n+"Index"]=0,e=o}else e=n;var i=Ir(),a={},u=!1;return Te(e,function(c,f){if("dataIndex"!==f&&"dataIndexInside"!==f){var h=f.match(/^(\w+)(Index|Id|Name)$/)||[],m=h[1],y=(h[2]||"").toLowerCase();m&&y&&!(t&&t.includeMainTypes&&jt(t.includeMainTypes,m)<0)&&(u=u||!!m,(i.get(m)||i.set(m,{}))[y]=c)}else a[f]=c}),{mainTypeSpecified:u,queryOptionMap:i,others:a}}var vu={useDefault:!0,enableAll:!1,enableNone:!1},gh={useDefault:!1,enableAll:!0,enableNone:!0};function tp(n,t,e,o){o=o||vu;var i=e.index,a=e.id,u=e.name,c={models:null,specified:null!=i||null!=a||null!=u};if(!c.specified){var f=void 0;return c.models=o.useDefault&&(f=n.getComponent(t))?[f]:[],c}return"none"===i||!1===i?(go(o.enableNone,'`"none"` or `false` is not a valid value on index option.'),c.models=[],c):("all"===i&&(go(o.enableAll,'`"all"` is not a valid value on index option.'),i=a=u=null),c.models=n.queryComponents({mainType:t,index:i,id:a,name:u}),c)}function qy(n,t,e){n.setAttribute?n.setAttribute(t,e):n[t]=e}function np(n,t){var e=Ir(),o=[];return Te(n,function(i){var a=t(i);(e.get(a)||(o.push(a),e.set(a,[]))).push(i)}),{keys:o,buckets:e}}function R_(n,t,e,o,i){var a=null==t||"auto"===t;if(null==o)return o;if(hr(o))return ri(k=Xf(e||0,o,i),a?Math.max(eu(e||0),eu(o)):t);if(Un(o))return i<1?e:o;for(var u=[],c=e,f=o,h=Math.max(c?c.length:0,f.length),m=0;m<h;++m){var y=n.getDimensionInfo(m);if(y&&"ordinal"===y.type)u[m]=(i<1&&c?c:f)[m];else{var _=c&&c[m]?c[m]:0,S=f[m],k=Xf(_,S,i);u[m]=ri(k,a?Math.max(eu(_),eu(S)):t)}}return u}var Gc="___EC__COMPONENT__CONTAINER___",za="___EC__EXTENDED_CLASS___";function tu(n){var t={main:"",sub:""};if(n){var e=n.split(".");t.main=e[0]||"",t.sub=e[1]||""}return t}function Ql(n,t){n.$constructor=n,n.extend=function(e){var o,i,a=this;return hn(i=a)&&/^class\s/.test(Function.prototype.toString.call(i))?o=function(u){function c(){return u.apply(this,arguments)||this}return yt(c,u),c}(a):(o=function(){(e.$constructor||a).apply(this,arguments)},Cr(o,this)),Pe(o.prototype,e),o[za]=!0,o.extend=this.extend,o.superCall=L_,o.superApply=mb,o.superClass=a,o}}function rp(n,t){n.extend=t.extend}var Yy=Math.round(10*Math.random());function L_(n,t){for(var e=[],o=2;o<arguments.length;o++)e[o-2]=arguments[o];return this.superClass.prototype[t].apply(n,e)}function mb(n,t,e){return this.superClass.prototype[t].apply(n,e)}function Ov(n){var t={};n.registerClass=function(e){var o,c,f,i=e.type||e.prototype.type;if(i){go(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(o=i),'componentType "'+o+'" illegal'),e.prototype.type=i;var a=tu(i);a.sub?a.sub!==Gc&&(((f=t[(c=a).main])&&f[Gc]||((f=t[c.main]={})[Gc]=!0),f)[a.sub]=e):t[a.main]=e}return e},n.getClass=function(e,o,i){var a=t[e];if(a&&a[Gc]&&(a=o?a[o]:null),i&&!a)throw new Error(o?"Component "+e+"."+(o||"")+" is used but not imported.":e+".type should be specified.");return a},n.getClassesByMainType=function(e){var o=tu(e),i=[],a=t[o.main];return a&&a[Gc]?Te(a,function(u,c){c!==Gc&&i.push(u)}):i.push(a),i},n.hasClass=function(e){var o=tu(e);return!!t[o.main]},n.getAllClassMainTypes=function(){var e=[];return Te(t,function(o,i){e.push(i)}),e},n.hasSubTypes=function(e){var o=tu(e),i=t[o.main];return i&&i[Gc]}}function op(n,t){for(var e=0;e<n.length;e++)n[e][1]||(n[e][1]=n[e][0]);return t=t||!1,function(o,i,a){for(var u={},c=0;c<n.length;c++){var f=n[c][1];if(!(i&&jt(i,f)>=0||a&&jt(a,f)<0)){var h=o.getShallow(f,t);null!=h&&(u[n[c][0]]=h)}}return u}}var X1=op([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),rm=function(){function n(){}return n.prototype.getAreaStyle=function(t,e){return X1(this,t,e)},n}(),mh=new Po(50);function Ei(n){if("string"==typeof n){var t=mh.get(n);return t&&t.image}return n}function ca(n,t,e,o,i){if(n){if("string"==typeof n){if(t&&t.__zrImageSrc===n||!e)return t;var a=mh.get(n),u={hostEl:e,cb:o,cbPayload:i};return a?!Up(t=a.image)&&a.pending.push(u):((t=ne.loadImage(n,Kf,Kf)).__zrImageSrc=n,mh.put(n,t.__cachedImgObj={image:t,pending:[u]})),t}return n}return t}function Kf(){var n=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<n.pending.length;t++){var e=n.pending[t],o=e.cb;o&&o(this,e.cbPayload),e.hostEl.dirty()}n.pending.length=0}function Up(n){return n&&n.width&&n.height}var Nd=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function vh(n,t,e,o,i){if(!t)return"";var a=(n+"").split("\n");i=Gi(t,e,o,i);for(var u=0,c=a.length;u<c;u++)a[u]=vb(a[u],i);return a.join("\n")}function Gi(n,t,e,o){var i=Pe({},o=o||{});i.font=t,e=_n(e,"..."),i.maxIterations=_n(o.maxIterations,2);var a=i.minChar=_n(o.minChar,0);i.cnCharWidth=gu("\u56fd",t);var u=i.ascCharWidth=gu("a",t);i.placeholder=_n(o.placeholder,"");for(var c=n=Math.max(0,n-1),f=0;f<a&&c>=u;f++)c-=u;var h=gu(e,t);return h>c&&(e="",h=0),c=n-h,i.ellipsis=e,i.ellipsisWidth=h,i.contentWidth=c,i.containerWidth=n,i}function vb(n,t){var e=t.containerWidth,o=t.font,i=t.contentWidth;if(!e)return"";var a=gu(n,o);if(a<=e)return n;for(var u=0;;u++){if(a<=i||u>=t.maxIterations){n+=t.ellipsis;break}var c=0===u?Bd(n,i,t.ascCharWidth,t.cnCharWidth):a>0?Math.floor(n.length*i/a):0;a=gu(n=n.substr(0,c),o)}return""===n&&(n=t.placeholder),n}function Bd(n,t,e,o){for(var i=0,a=0,u=n.length;a<u&&i<t;a++){var c=n.charCodeAt(a);i+=0<=c&&c<=127?e:o}return a}var N_=function(){},jp=function(n){this.tokens=[],n&&(this.tokens=n)},yb=function(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]};function qp(n,t,e,o,i){var a,u,c=""===t,f=i&&e.rich[i]||{},h=n.lines,m=f.font||e.font,y=!1;if(o){var _=f.padding,S=_?_[1]+_[3]:0;if(null!=f.width&&"auto"!==f.width){var k=gl(f.width,o.width)+S;h.length>0&&k+o.accumWidth>o.width&&(a=t.split("\n"),y=!0),o.accumWidth=k}else{var D=om(t,m,o.width,o.breakAll,o.accumWidth);o.accumWidth=D.accumWidth+S,u=D.linesWidths,a=D.lines}}else a=t.split("\n");for(var A=0;A<a.length;A++){var E=a[A],N=new N_;if(N.styleName=i,N.text=E,N.isLineHolder=!E&&!c,N.width="number"==typeof f.width?f.width:u?u[A]:gu(E,m),A||y)h.push(new jp([N]));else{var z=(h[h.length-1]||(h[0]=new jp)).tokens,F=z.length;1===F&&z[0].isLineHolder?z[0]=N:(E||!F||c)&&z.push(N)}}}var ip=Sn(",&?/;] ".split(""),function(n,t){return n[t]=!0,n},{});function B_(n){return!(((e=n.charCodeAt(0))>=32&&e<=591||e>=880&&e<=4351||e>=4608&&e<=5119||e>=7680&&e<=8303)&&!ip[n]);var e}function om(n,t,e,o,i){for(var a=[],u=[],c="",f="",h=0,m=0,y=0;y<n.length;y++){var _=n.charAt(y);if("\n"!==_){var S=gu(_,t),k=!o&&!B_(_);(a.length?m+S>e:i+m+S>e)?m?(c||f)&&(k?(c||(c=f,f="",m=h=0),a.push(c),u.push(m-h),f+=_,c="",m=h+=S):(f&&(c+=f,f="",h=0),a.push(c),u.push(m),c=_,m=S)):k?(a.push(f),u.push(h),f=_,h=S):(a.push(_),u.push(S)):(m+=S,k?(f+=_,h+=S):(f&&(c+=f,f="",h=0),c+=_))}else f&&(c+=f,m+=h),a.push(c),u.push(m),c="",f="",h=0,m=0}return a.length||c||(c=n,f="",h=0),f&&(c+=f),c&&(a.push(c),u.push(m)),1===a.length&&(m+=i),{accumWidth:m,lines:a,linesWidths:u}}var Yp="__zr_style_"+Math.round(10*Math.random()),zd={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},bl={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};zd[Yp]=!0;var ec=["z","z2","invisible"],Z1=["invisible"],zu=function(n){function t(o){return n.call(this,o)||this}var e;return yt(t,n),t.prototype._init=function(o){for(var i=Zn(o),a=0;a<i.length;a++){var u=i[a];"style"===u?this.useStyle(o[u]):n.prototype.attrKV.call(this,u,o[u])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(o,i,a,u){var m,y,_,c=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&(y=o,_=i,xc.copy((m=this).getBoundingRect()),m.transform&&xc.applyTransform(m.transform),Ev.width=y,Ev.height=_,!xc.intersect(Ev))||c&&!c[0]&&!c[3])return!1;if(a&&this.__clipPaths)for(var f=0;f<this.__clipPaths.length;++f)if(this.__clipPaths[f].isZeroArea())return!1;if(u&&this.parent)for(var h=this.parent;h;){if(h.ignore)return!1;h=h.parent}return!0},t.prototype.contain=function(o,i){return this.rectContain(o,i)},t.prototype.traverse=function(o,i){o.call(i,this)},t.prototype.rectContain=function(o,i){var a=this.transformCoordToLocal(o,i);return this.getBoundingRect().contain(a[0],a[1])},t.prototype.getPaintRect=function(){var o=this._paintRect;if(!this._paintRect||this.__dirty){var i=this.transform,a=this.getBoundingRect(),u=this.style,c=u.shadowBlur||0,f=u.shadowOffsetX||0,h=u.shadowOffsetY||0;o=this._paintRect||(this._paintRect=new To(0,0,0,0)),i?To.applyTransform(o,a,i):o.copy(a),(c||f||h)&&(o.width+=2*c+Math.abs(f),o.height+=2*c+Math.abs(h),o.x=Math.min(o.x,o.x+f-c),o.y=Math.min(o.y,o.y+h-c));var m=this.dirtyRectTolerance;o.isZero()||(o.x=Math.floor(o.x-m),o.y=Math.floor(o.y-m),o.width=Math.ceil(o.width+1+2*m),o.height=Math.ceil(o.height+1+2*m))}return o},t.prototype.setPrevPaintRect=function(o){o?(this._prevPaintRect=this._prevPaintRect||new To(0,0,0,0),this._prevPaintRect.copy(o)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(o){return this.animate("style",o)},t.prototype.updateDuringAnimation=function(o){"style"===o?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(o,i){"style"!==o?n.prototype.attrKV.call(this,o,i):this.style?this.setStyle(i):this.useStyle(i)},t.prototype.setStyle=function(o,i){return"string"==typeof o?this.style[o]=i:Pe(this.style,o),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(o){o||this.markRedraw(),this.__dirty|=2,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(2&this.__dirty)},t.prototype.styleUpdated=function(){this.__dirty&=-3},t.prototype.createStyle=function(o){return Au(zd,o)},t.prototype.useStyle=function(o){o[Yp]||(o=this.createStyle(o)),this.__inHover?this.__hoverStyle=o:this.style=o,this.dirtyStyle()},t.prototype.isStyleObject=function(o){return o[Yp]},t.prototype._innerSaveToNormal=function(o){n.prototype._innerSaveToNormal.call(this,o);var i=this._normalState;o.style&&!i.style&&(i.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(o,i,ec)},t.prototype._applyStateObj=function(o,i,a,u,c,f){n.prototype._applyStateObj.call(this,o,i,a,u,c,f);var h,m=!(i&&u);if(i&&i.style?c?u?h=i.style:(h=this._mergeStyle(this.createStyle(),a.style),this._mergeStyle(h,i.style)):(h=this._mergeStyle(this.createStyle(),u?this.style:a.style),this._mergeStyle(h,i.style)):m&&(h=a.style),h)if(c){var y=this.style;if(this.style=this.createStyle(m?{}:y),m)for(var _=Zn(y),S=0;S<_.length;S++)(D=_[S])in h&&(h[D]=h[D],this.style[D]=y[D]);var k=Zn(h);for(S=0;S<k.length;S++){var D=k[S];this.style[D]=this.style[D]}this._transitionState(o,{style:h},f,this.getAnimationStyleProps())}else this.useStyle(h);var A=this.__inHover?Z1:ec;for(S=0;S<A.length;S++)D=A[S],i&&null!=i[D]?this[D]=i[D]:m&&null!=a[D]&&(this[D]=a[D])},t.prototype._mergeStates=function(o){for(var i,a=n.prototype._mergeStates.call(this,o),u=0;u<o.length;u++){var c=o[u];c.style&&this._mergeStyle(i=i||{},c.style)}return i&&(a.style=i),a},t.prototype._mergeStyle=function(o,i){return Pe(o,i),o},t.prototype.getAnimationStyleProps=function(){return bl},t.initDefaultProps=((e=t.prototype).type="displayable",e.invisible=!1,e.z=0,e.z2=0,e.zlevel=0,e.culling=!1,e.cursor="pointer",e.rectHover=!1,e.incremental=!1,e._rect=null,e.dirtyRectTolerance=0,void(e.__dirty=3)),t}(bf),xc=new To(0,0,0,0),Ev=new To(0,0,0,0),nu=Math.min,Yi=Math.max,tc=Math.sin,Xy=Math.cos,Xp=2*Math.PI,bb=Ni(),$f=Ni(),ap=Ni();function fa(n,t,e){if(0!==n.length){for(var o=n[0],i=o[0],a=o[0],u=o[1],c=o[1],f=1;f<n.length;f++)i=nu(i,(o=n[f])[0]),a=Yi(a,o[0]),u=nu(u,o[1]),c=Yi(c,o[1]);t[0]=i,t[1]=u,e[0]=a,e[1]=c}}function Sf(n,t,e,o,i,a){i[0]=nu(n,e),i[1]=nu(t,o),a[0]=Yi(n,e),a[1]=Yi(t,o)}var yu=[],Zp=[];function Uc(n,t,e,o,i,a,u,c,f,h){var m=Hf,y=Ra,_=m(n,e,i,u,yu);f[0]=1/0,f[1]=1/0,h[0]=-1/0,h[1]=-1/0;for(var S=0;S<_;S++){var k=y(n,e,i,u,yu[S]);f[0]=nu(k,f[0]),h[0]=Yi(k,h[0])}for(_=m(t,o,a,c,Zp),S=0;S<_;S++){var D=y(t,o,a,c,Zp[S]);f[1]=nu(D,f[1]),h[1]=Yi(D,h[1])}f[0]=nu(n,f[0]),h[0]=Yi(n,h[0]),f[0]=nu(u,f[0]),h[0]=Yi(u,h[0]),f[1]=nu(t,f[1]),h[1]=Yi(t,h[1]),f[1]=nu(c,f[1]),h[1]=Yi(c,h[1])}function nc(n,t,e,o,i,a,u,c){var f=ka,h=ns,m=Yi(nu(f(n,e,i),1),0),y=Yi(nu(f(t,o,a),1),0),_=h(n,e,i,m),S=h(t,o,a,y);u[0]=nu(n,i,_),u[1]=nu(t,a,S),c[0]=Yi(n,i,_),c[1]=Yi(t,a,S)}function K1(n,t,e,o,i,a,u,c,f){var h=Wt,m=eo,y=Math.abs(i-a);if(y%Xp<1e-4&&y>1e-4)return c[0]=n-e,c[1]=t-o,f[0]=n+e,void(f[1]=t+o);if(bb[0]=Xy(i)*e+n,bb[1]=tc(i)*o+t,$f[0]=Xy(a)*e+n,$f[1]=tc(a)*o+t,h(c,bb,$f),m(f,bb,$f),(i%=Xp)<0&&(i+=Xp),(a%=Xp)<0&&(a+=Xp),i>a&&!u?a+=Xp:i<a&&u&&(i+=Xp),u){var _=a;a=i,i=_}for(var S=0;S<a;S+=Math.PI/2)S>i&&(ap[0]=Xy(S)*e+n,ap[1]=tc(S)*o+t,h(c,ap,c),m(f,ap,f))}var da={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Fd=[],Kp=[],Vd=[],yh=[],Cf=[],Ju=[],po=Math.min,sp=Math.max,Ho=Math.cos,Fs=Math.sin,jc=Math.abs,Ui=Math.PI,Ii=2*Ui,Pv="undefined"!=typeof Float32Array,Ts=[];function rc(n){return Math.round(n/Ui*1e8)/1e8%2*Ui}function ha(n,t){var e=rc(n[0]);e<0&&(e+=Ii);var i=n[1];i+=e-n[0],!t&&i-e>=Ii?i=e+Ii:t&&e-i>=Ii?i=e-Ii:!t&&e>i?i=e+(Ii-rc(e-i)):t&&e<i&&(i=e-(Ii-rc(i-e))),n[0]=e,n[1]=i}var Ya=function(){function n(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return n.prototype.increaseVersion=function(){this._version++},n.prototype.getVersion=function(){return this._version},n.prototype.setScale=function(t,e,o){(o=o||0)>0&&(this._ux=jc(o/Ku/t)||0,this._uy=jc(o/Ku/e)||0)},n.prototype.setDPR=function(t){this.dpr=t},n.prototype.setContext=function(t){this._ctx=t},n.prototype.getContext=function(){return this._ctx},n.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},n.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},n.prototype.moveTo=function(t,e){return this._drawPendingPt(),this.addData(da.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},n.prototype.lineTo=function(t,e){var o=jc(t-this._xi),i=jc(e-this._yi),a=o>this._ux||i>this._uy;if(this.addData(da.L,t,e),this._ctx&&a&&this._ctx.lineTo(t,e),a)this._xi=t,this._yi=e,this._pendingPtDist=0;else{var u=o*o+i*i;u>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=e,this._pendingPtDist=u)}return this},n.prototype.bezierCurveTo=function(t,e,o,i,a,u){return this._drawPendingPt(),this.addData(da.C,t,e,o,i,a,u),this._ctx&&this._ctx.bezierCurveTo(t,e,o,i,a,u),this._xi=a,this._yi=u,this},n.prototype.quadraticCurveTo=function(t,e,o,i){return this._drawPendingPt(),this.addData(da.Q,t,e,o,i),this._ctx&&this._ctx.quadraticCurveTo(t,e,o,i),this._xi=o,this._yi=i,this},n.prototype.arc=function(t,e,o,i,a,u){this._drawPendingPt(),Ts[0]=i,Ts[1]=a,ha(Ts,u);var c=(a=Ts[1])-(i=Ts[0]);return this.addData(da.A,t,e,o,o,i,c,0,u?0:1),this._ctx&&this._ctx.arc(t,e,o,i,a,u),this._xi=Ho(a)*o+t,this._yi=Fs(a)*o+e,this},n.prototype.arcTo=function(t,e,o,i,a){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,e,o,i,a),this},n.prototype.rect=function(t,e,o,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,e,o,i),this.addData(da.R,t,e,o,i),this},n.prototype.closePath=function(){this._drawPendingPt(),this.addData(da.Z);var t=this._ctx,e=this._x0,o=this._y0;return t&&t.closePath(),this._xi=e,this._yi=o,this},n.prototype.fill=function(t){t&&t.fill(),this.toStatic()},n.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},n.prototype.len=function(){return this._len},n.prototype.setData=function(t){var e=t.length;this.data&&this.data.length===e||!Pv||(this.data=new Float32Array(e));for(var o=0;o<e;o++)this.data[o]=t[o];this._len=e},n.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var e=t.length,o=0,i=this._len,a=0;a<e;a++)o+=t[a].len();for(Pv&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+o)),a=0;a<e;a++)for(var u=t[a].data,c=0;c<u.length;c++)this.data[i++]=u[c];this._len=i},n.prototype.addData=function(t,e,o,i,a,u,c,f,h){if(this._saveData){var m=this.data;this._len+arguments.length>m.length&&(this._expandData(),m=this.data);for(var y=0;y<arguments.length;y++)m[this._len++]=arguments[y]}},n.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},n.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},n.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,Pv&&this._len>11&&(this.data=new Float32Array(t)))}},n.prototype.getBoundingRect=function(){Vd[0]=Vd[1]=Cf[0]=Cf[1]=Number.MAX_VALUE,yh[0]=yh[1]=Ju[0]=Ju[1]=-Number.MAX_VALUE;var t,e=this.data,o=0,i=0,a=0,u=0;for(t=0;t<this._len;){var c=e[t++],f=1===t;switch(f&&(a=o=e[t],u=i=e[t+1]),c){case da.M:o=a=e[t++],i=u=e[t++],Cf[0]=a,Cf[1]=u,Ju[0]=a,Ju[1]=u;break;case da.L:Sf(o,i,e[t],e[t+1],Cf,Ju),o=e[t++],i=e[t++];break;case da.C:Uc(o,i,e[t++],e[t++],e[t++],e[t++],e[t],e[t+1],Cf,Ju),o=e[t++],i=e[t++];break;case da.Q:nc(o,i,e[t++],e[t++],e[t],e[t+1],Cf,Ju),o=e[t++],i=e[t++];break;case da.A:var h=e[t++],m=e[t++],y=e[t++],_=e[t++],S=e[t++],k=e[t++]+S;t+=1;var D=!e[t++];f&&(a=Ho(S)*y+h,u=Fs(S)*_+m),K1(h,m,y,_,S,k,D,Cf,Ju),o=Ho(k)*y+h,i=Fs(k)*_+m;break;case da.R:Sf(a=o=e[t++],u=i=e[t++],a+e[t++],u+e[t++],Cf,Ju);break;case da.Z:o=a,i=u}Wt(Vd,Vd,Cf),eo(yh,yh,Ju)}return 0===t&&(Vd[0]=Vd[1]=yh[0]=yh[1]=0),new To(Vd[0],Vd[1],yh[0]-Vd[0],yh[1]-Vd[1])},n.prototype._calculateLength=function(){var t=this.data,e=this._len,o=this._ux,i=this._uy,a=0,u=0,c=0,f=0;this._pathSegLen||(this._pathSegLen=[]);for(var h=this._pathSegLen,m=0,y=0,_=0;_<e;){var S=t[_++],k=1===_;k&&(c=a=t[_],f=u=t[_+1]);var D=-1;switch(S){case da.M:a=c=t[_++],u=f=t[_++];break;case da.L:var A=t[_++],E=(F=t[_++])-u;(jc(Xe=A-a)>o||jc(E)>i||_===e-1)&&(D=Math.sqrt(Xe*Xe+E*E),a=A,u=F);break;case da.C:var N=t[_++],z=t[_++],F=(A=t[_++],t[_++]),q=t[_++],X=t[_++];D=Vy(a,u,N,z,A,F,q,X,10),a=q,u=X;break;case da.Q:D=ju(a,u,N=t[_++],z=t[_++],A=t[_++],F=t[_++],10),a=A,u=F;break;case da.A:var ee=t[_++],ie=t[_++],ye=t[_++],_e=t[_++],Se=t[_++],Ae=t[_++],Fe=Ae+Se;_+=1,_++,k&&(c=Ho(Se)*ye+ee,f=Fs(Se)*_e+ie),D=sp(ye,_e)*po(Ii,Math.abs(Ae)),a=Ho(Fe)*ye+ee,u=Fs(Fe)*_e+ie;break;case da.R:c=a=t[_++],f=u=t[_++],D=2*t[_++]+2*t[_++];break;case da.Z:var Xe=c-a;E=f-u,D=Math.sqrt(Xe*Xe+E*E),a=c,u=f}D>=0&&(h[y++]=D,m+=D)}return this._pathLen=m,m},n.prototype.rebuildPath=function(t,e){var o,i,a,u,c,f,h,m,y,_,S=this.data,k=this._ux,D=this._uy,A=this._len,E=e<1,N=0,z=0,F=0;if(!E||(this._pathSegLen||this._calculateLength(),h=this._pathSegLen,m=e*this._pathLen))e:for(var q=0;q<A;){var X=S[q++],ee=1===q;switch(ee&&(o=a=S[q],i=u=S[q+1]),X!==da.L&&F>0&&(t.lineTo(y,_),F=0),X){case da.M:o=a=S[q++],i=u=S[q++],t.moveTo(a,u);break;case da.L:c=S[q++],f=S[q++];var ie=jc(c-a),ye=jc(f-u);if(ie>k||ye>D){if(E){if(N+(Ro=h[z++])>m){var _e=(m-N)/Ro;t.lineTo(a*(1-_e)+c*_e,u*(1-_e)+f*_e);break e}N+=Ro}t.lineTo(c,f),a=c,u=f,F=0}else{var Se=ie*ie+ye*ye;Se>F&&(y=c,_=f,F=Se)}break;case da.C:var Ae=S[q++],Fe=S[q++],Xe=S[q++],nt=S[q++],it=S[q++],ut=S[q++];if(E){if(N+(Ro=h[z++])>m){Sd(a,Ae,Xe,it,_e=(m-N)/Ro,Fd),Sd(u,Fe,nt,ut,_e,Kp),t.bezierCurveTo(Fd[1],Kp[1],Fd[2],Kp[2],Fd[3],Kp[3]);break e}N+=Ro}t.bezierCurveTo(Ae,Fe,Xe,nt,it,ut),a=it,u=ut;break;case da.Q:if(Ae=S[q++],Fe=S[q++],Xe=S[q++],nt=S[q++],E){if(N+(Ro=h[z++])>m){mf(a,Ae,Xe,_e=(m-N)/Ro,Fd),mf(u,Fe,nt,_e,Kp),t.quadraticCurveTo(Fd[1],Kp[1],Fd[2],Kp[2]);break e}N+=Ro}t.quadraticCurveTo(Ae,Fe,Xe,nt),a=Xe,u=nt;break;case da.A:var mt=S[q++],Ot=S[q++],Pt=S[q++],Gt=S[q++],kn=S[q++],tr=S[q++],Xt=S[q++],zn=!S[q++],gr=Pt>Gt?Pt:Gt,dr=jc(Pt-Gt)>.001,nr=kn+tr,br=!1;if(E&&(N+(Ro=h[z++])>m&&(nr=kn+tr*(m-N)/Ro,br=!0),N+=Ro),dr&&t.ellipse?t.ellipse(mt,Ot,Pt,Gt,Xt,kn,nr,zn):t.arc(mt,Ot,gr,kn,nr,zn),br)break e;ee&&(o=Ho(kn)*Pt+mt,i=Fs(kn)*Gt+Ot),a=Ho(nr)*Pt+mt,u=Fs(nr)*Gt+Ot;break;case da.R:o=a=S[q],i=u=S[q+1],c=S[q++],f=S[q++];var ur=S[q++],kr=S[q++];if(E){if(N+(Ro=h[z++])>m){var Br=m-N;t.moveTo(c,f),t.lineTo(c+po(Br,ur),f),(Br-=ur)>0&&t.lineTo(c+ur,f+po(Br,kr)),(Br-=kr)>0&&t.lineTo(c+sp(ur-Br,0),f+kr),(Br-=ur)>0&&t.lineTo(c,f+sp(kr-Br,0));break e}N+=Ro}t.rect(c,f,ur,kr);break;case da.Z:if(E){var Ro;if(N+(Ro=h[z++])>m){t.lineTo(a*(1-(_e=(m-N)/Ro))+o*_e,u*(1-_e)+i*_e);break e}N+=Ro}t.closePath(),a=o,u=i}}},n.prototype.clone=function(){var t=new n,e=this.data;return t.data=e.slice?e.slice():Array.prototype.slice.call(e),t._len=this._len,t},n.CMD=da,n.initDefaultProps=((t=n.prototype)._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,void(t._version=0)),n;var t}();function Hd(n,t,e,o,i,a,u){if(0===i)return!1;var f,c=i;if(u>t+c&&u>o+c||u<t-c&&u<o-c||a>n+c&&a>e+c||a<n-c&&a<e-c)return!1;if(n===e)return Math.abs(a-n)<=c/2;var h=(f=(t-o)/(n-e))*a-u+(n*o-e*t)/(n-e);return h*h/(f*f+1)<=c/2*c/2}function im(n,t,e,o,i,a,u,c,f,h,m){if(0===f)return!1;var y=f;return!(m>t+y&&m>o+y&&m>a+y&&m>c+y||m<t-y&&m<o-y&&m<a-y&&m<c-y||h>n+y&&h>e+y&&h>i+y&&h>u+y||h<n-y&&h<e-y&&h<i-y&&h<u-y)&&Ca(n,t,e,o,i,a,u,c,h,m,null)<=y/2}function Rv(n,t,e,o,i,a,u,c,f){if(0===u)return!1;var h=u;return!(f>t+h&&f>o+h&&f>a+h||f<t-h&&f<o-h&&f<a-h||c>n+h&&c>e+h&&c>i+h||c<n-h&&c<e-h&&c<i-h)&&O_(n,t,e,o,i,a,c,f,null)<=h/2}var kf=2*Math.PI;function Fa(n){return(n%=kf)<0&&(n+=kf),n}var Jf=2*Math.PI;function $1(n,t,e,o,i,a,u,c,f){if(0===u)return!1;var h=u;c-=n,f-=t;var m=Math.sqrt(c*c+f*f);if(m-h>e||m+h<e)return!1;if(Math.abs(o-i)%Jf<1e-4)return!0;if(a){var y=o;o=Fa(i),i=Fa(y)}else o=Fa(o),i=Fa(i);o>i&&(i+=Jf);var _=Math.atan2(f,c);return _<0&&(_+=Jf),_>=o&&_<=i||_+Jf>=o&&_+Jf<=i}function Wd(n,t,e,o,i,a){if(a>t&&a>o||a<t&&a<o||o===t)return 0;var u=(a-t)/(o-t),c=o<t?1:-1;1!==u&&0!==u||(c=o<t?.5:-.5);var f=u*(e-n)+n;return f===i?1/0:f>i?c:0}var Qf=Ya.CMD,bh=2*Math.PI,Qu=[-1,-1,-1],_c=[-1,-1];function Ol(n,t,e,o,i,a,u,c,f,h){if(h>t&&h>o&&h>a&&h>c||h<t&&h<o&&h<a&&h<c)return 0;var m,y=fb(t,o,a,c,h,Qu);if(0===y)return 0;for(var _=0,S=-1,k=void 0,D=void 0,A=0;A<y;A++){var E=Qu[A],N=0===E||1===E?.5:1;Ra(n,e,i,u,E)<f||(S<0&&(S=Hf(t,o,a,c,_c),_c[1]<_c[0]&&S>1&&(m=_c[0],_c[0]=_c[1],_c[1]=m),k=Ra(t,o,a,c,_c[0]),S>1&&(D=Ra(t,o,a,c,_c[1]))),_+=2===S?E<_c[0]?k<t?N:-N:E<_c[1]?D<k?N:-N:c<D?N:-N:E<_c[0]?k<t?N:-N:c<k?N:-N)}return _}function xb(n,t,e,o,i,a,u,c){if(c>t&&c>o&&c>a||c<t&&c<o&&c<a)return 0;var f=function(k,D,A,E,N){var z=k-2*D+A,F=2*(D-k),q=k-E,X=0;if(Fc(z))du(F)&&(ie=-q/F)>=0&&ie<=1&&(N[X++]=ie);else{var ee=F*F-4*z*q;if(Fc(ee))(ie=-F/(2*z))>=0&&ie<=1&&(N[X++]=ie);else if(ee>0){var ie,ye=pc(ee),_e=(-F-ye)/(2*z);(ie=(-F+ye)/(2*z))>=0&&ie<=1&&(N[X++]=ie),_e>=0&&_e<=1&&(N[X++]=_e)}}return X}(t,o,a,c,Qu);if(0===f)return 0;var h=ka(t,o,a);if(h>=0&&h<=1){for(var m=0,y=ns(t,o,a,h),_=0;_<f;_++){var S=0===Qu[_]||1===Qu[_]?.5:1;ns(n,e,i,Qu[_])<u||(m+=Qu[_]<h?y<t?S:-S:a<y?S:-S)}return m}return S=0===Qu[0]||1===Qu[0]?.5:1,ns(n,e,i,Qu[0])<u?0:a<t?S:-S}function ji(n,t,e,o,i,a,u,c){if((c-=t)>e||c<-e)return 0;var f=Math.sqrt(e*e-c*c);Qu[0]=-f,Qu[1]=f;var h=Math.abs(o-i);if(h<1e-4)return 0;if(h>=bh-1e-4){o=0,i=bh;var m=a?1:-1;return u>=Qu[0]+n&&u<=Qu[1]+n?m:0}if(o>i){var y=o;o=i,i=y}o<0&&(o+=bh,i+=bh);for(var _=0,S=0;S<2;S++){var k=Qu[S];if(k+n>u){var D=Math.atan2(c,k);m=a?1:-1,D<0&&(D=bh+D),(D>=o&&D<=i||D+bh>=o&&D+bh<=i)&&(D>Math.PI/2&&D<1.5*Math.PI&&(m=-m),_+=m)}}return _}function Lv(n,t,e,o,i){for(var a,u,h=n.data,m=n.len(),y=0,_=0,S=0,k=0,D=0,A=0;A<m;){var E=h[A++],N=1===A;switch(E===Qf.M&&A>1&&(e||(y+=Wd(_,S,k,D,o,i))),N&&(k=_=h[A],D=S=h[A+1]),E){case Qf.M:_=k=h[A++],S=D=h[A++];break;case Qf.L:if(e){if(Hd(_,S,h[A],h[A+1],t,o,i))return!0}else y+=Wd(_,S,h[A],h[A+1],o,i)||0;_=h[A++],S=h[A++];break;case Qf.C:if(e){if(im(_,S,h[A++],h[A++],h[A++],h[A++],h[A],h[A+1],t,o,i))return!0}else y+=Ol(_,S,h[A++],h[A++],h[A++],h[A++],h[A],h[A+1],o,i)||0;_=h[A++],S=h[A++];break;case Qf.Q:if(e){if(Rv(_,S,h[A++],h[A++],h[A],h[A+1],t,o,i))return!0}else y+=xb(_,S,h[A++],h[A++],h[A],h[A+1],o,i)||0;_=h[A++],S=h[A++];break;case Qf.A:var z=h[A++],F=h[A++],q=h[A++],X=h[A++],ee=h[A++],ie=h[A++];A+=1;var ye=!!(1-h[A++]);a=Math.cos(ee)*q+z,u=Math.sin(ee)*X+F,N?(k=a,D=u):y+=Wd(_,S,a,u,o,i);var _e=(o-z)*X/q+z;if(e){if($1(z,F,X,ee,ee+ie,ye,t,_e,i))return!0}else y+=ji(z,F,X,ee,ee+ie,ye,_e,i);_=Math.cos(ee+ie)*q+z,S=Math.sin(ee+ie)*X+F;break;case Qf.R:if(k=_=h[A++],D=S=h[A++],a=k+h[A++],u=D+h[A++],e){if(Hd(k,D,a,D,t,o,i)||Hd(a,D,a,u,t,o,i)||Hd(a,u,k,u,t,o,i)||Hd(k,u,k,D,t,o,i))return!0}else y+=Wd(a,D,a,u,o,i),y+=Wd(k,u,k,D,o,i);break;case Qf.Z:if(e){if(Hd(_,S,k,D,t,o,i))return!0}else y+=Wd(_,S,k,D,o,i);_=k,S=D}}return e||Math.abs(S-D)<1e-4||(y+=Wd(_,S,k,D,o,i)||0),0!==y}var am=ht({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},zd),ed={style:ht({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},bl.style)},xh=Bo.concat(["invisible","culling","z","z2","zlevel","parent"]),Do=function(n){function t(o){return n.call(this,o)||this}var e;return yt(t,n),t.prototype.update=function(){var o=this;n.prototype.update.call(this);var i=this.style;if(i.decal){var a=this._decalEl=this._decalEl||new t;a.buildPath===t.prototype.buildPath&&(a.buildPath=function(h){o.buildPath(h,o.shape)}),a.silent=!0;var u=a.style;for(var c in i)u[c]!==i[c]&&(u[c]=i[c]);u.fill=i.fill?i.decal:null,u.decal=null,u.shadowColor=null,i.strokeFirst&&(u.stroke=null);for(var f=0;f<xh.length;++f)a[xh[f]]=this[xh[f]];a.__dirty|=1}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(o){var i=Zn(o);this.shape=this.getDefaultShape();var a=this.getDefaultStyle();a&&this.useStyle(a);for(var u=0;u<i.length;u++){var c=i[u],f=o[c];"style"===c?this.style?Pe(this.style,f):this.useStyle(f):"shape"===c?Pe(this.shape,f):n.prototype.attrKV.call(this,c,f)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var o=this.style.fill;if("none"!==o){if(Un(o)){var i=Gh(o,0);return i>.5?ds:i>.2?"#eee":Bu}if(o)return Bu}return ds},t.prototype.getInsideTextStroke=function(o){var i=this.style.fill;if(Un(i)){var a=this.__zr;if(!(!a||!a.isDarkMode())==Gh(o,0)<.4)return i}},t.prototype.buildPath=function(o,i,a){},t.prototype.pathUpdated=function(){this.__dirty&=-5},t.prototype.getUpdatedPathProxy=function(o){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,o),this.path},t.prototype.createPathProxy=function(){this.path=new Ya(!1)},t.prototype.hasStroke=function(){var o=this.style,i=o.stroke;return!(null==i||"none"===i||!(o.lineWidth>0))},t.prototype.hasFill=function(){var o=this.style.fill;return null!=o&&"none"!==o},t.prototype.getBoundingRect=function(){var o=this._rect,i=this.style,a=!o;if(a){var u=!1;this.path||(u=!0,this.createPathProxy());var c=this.path;(u||4&this.__dirty)&&(c.beginPath(),this.buildPath(c,this.shape,!1),this.pathUpdated()),o=c.getBoundingRect()}if(this._rect=o,this.hasStroke()&&this.path&&this.path.len()>0){var f=this._rectStroke||(this._rectStroke=o.clone());if(this.__dirty||a){f.copy(o);var h=i.strokeNoScale?this.getLineScale():1,m=i.lineWidth;if(!this.hasFill()){var y=this.strokeContainThreshold;m=Math.max(m,null==y?4:y)}h>1e-10&&(f.width+=m/h,f.height+=m/h,f.x-=m/h/2,f.y-=m/h/2)}return f}return o},t.prototype.contain=function(o,i){var a=this.transformCoordToLocal(o,i),u=this.getBoundingRect(),c=this.style;if(u.contain(o=a[0],i=a[1])){var f=this.path;if(this.hasStroke()){var h=c.lineWidth,m=c.strokeNoScale?this.getLineScale():1;if(m>1e-10&&(this.hasFill()||(h=Math.max(h,this.strokeContainThreshold)),Lv(f,h/m,!0,o,i)))return!0}if(this.hasFill())return Lv(f,0,!1,o,i)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=4,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(o){return this.animate("shape",o)},t.prototype.updateDuringAnimation=function(o){"style"===o?this.dirtyStyle():"shape"===o?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(o,i){"shape"===o?this.setShape(i):n.prototype.attrKV.call(this,o,i)},t.prototype.setShape=function(o,i){var a=this.shape;return a||(a=this.shape={}),"string"==typeof o?a[o]=i:Pe(a,o),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(4&this.__dirty)},t.prototype.createStyle=function(o){return Au(am,o)},t.prototype._innerSaveToNormal=function(o){n.prototype._innerSaveToNormal.call(this,o);var i=this._normalState;o.shape&&!i.shape&&(i.shape=Pe({},this.shape))},t.prototype._applyStateObj=function(o,i,a,u,c,f){n.prototype._applyStateObj.call(this,o,i,a,u,c,f);var h,m=!(i&&u);if(i&&i.shape?c?u?h=i.shape:(h=Pe({},a.shape),Pe(h,i.shape)):(h=Pe({},u?this.shape:a.shape),Pe(h,i.shape)):m&&(h=a.shape),h)if(c){this.shape=Pe({},this.shape);for(var y={},_=Zn(h),S=0;S<_.length;S++){var k=_[S];"object"==typeof h[k]?this.shape[k]=h[k]:y[k]=h[k]}this._transitionState(o,{shape:y},f)}else this.shape=h,this.dirtyShape()},t.prototype._mergeStates=function(o){for(var i,a=n.prototype._mergeStates.call(this,o),u=0;u<o.length;u++){var c=o[u];c.shape&&this._mergeStyle(i=i||{},c.shape)}return i&&(a.shape=i),a},t.prototype.getAnimationStyleProps=function(){return ed},t.prototype.isZeroArea=function(){return!1},t.extend=function(o){var i=function(u){function c(f){var h=u.call(this,f)||this;return o.init&&o.init.call(h,f),h}return yt(c,u),c.prototype.getDefaultStyle=function(){return Re(o.style)},c.prototype.getDefaultShape=function(){return Re(o.shape)},c}(t);for(var a in o)"function"==typeof o[a]&&(i.prototype[a]=o[a]);return i},t.initDefaultProps=((e=t.prototype).type="path",e.strokeContainThreshold=5,e.segmentIgnoreThreshold=0,e.subPixelOptimize=!1,e.autoBatch=!1,void(e.__dirty=7)),t}(zu),td=ht({strokeFirst:!0,font:xe,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},am),$p=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return yt(t,n),t.prototype.hasStroke=function(){var e=this.style,o=e.stroke;return null!=o&&"none"!==o&&e.lineWidth>0},t.prototype.hasFill=function(){var e=this.style.fill;return null!=e&&"none"!==e},t.prototype.createStyle=function(e){return Au(td,e)},t.prototype.setBoundingRect=function(e){this._rect=e},t.prototype.getBoundingRect=function(){var e=this.style;if(!this._rect){var o=e.text;null!=o?o+="":o="";var i=zs(o,e.font,e.textAlign,e.textBaseline);if(i.x+=e.x||0,i.y+=e.y||0,this.hasStroke()){var a=e.lineWidth;i.x-=a/2,i.y-=a/2,i.width+=a,i.height+=a}this._rect=i}return this._rect},t.initDefaultProps=void(t.prototype.dirtyRectTolerance=10),t}(zu);$p.prototype.type="tspan";var El=ht({x:0,y:0},zd),J1={style:ht({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},bl.style)},bu=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return yt(t,n),t.prototype.createStyle=function(e){return Au(El,e)},t.prototype._getSize=function(e){var o=this.style,i=o[e];if(null!=i)return i;var a,u=(a=o.image)&&"string"!=typeof a&&a.width&&a.height?o.image:this.__image;if(!u)return 0;var c="width"===e?"height":"width",f=o[c];return null==f?u[e]:u[e]/u[c]*f},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return J1},t.prototype.getBoundingRect=function(){var e=this.style;return this._rect||(this._rect=new To(e.x||0,e.y||0,this.getWidth(),this.getHeight())),this._rect},t}(zu);bu.prototype.type="image";var Gd=Math.round;function Jp(n,t,e){if(t){var o=t.x1,i=t.x2,a=t.y1,u=t.y2;n.x1=o,n.x2=i,n.y1=a,n.y2=u;var c=e&&e.lineWidth;return c&&(Gd(2*o)===Gd(2*i)&&(n.x1=n.x2=Ud(o,c,!0)),Gd(2*a)===Gd(2*u)&&(n.y1=n.y2=Ud(a,c,!0))),n}}function z_(n,t,e){if(t){var o=t.x,i=t.y,a=t.width,u=t.height;n.x=o,n.y=i,n.width=a,n.height=u;var c=e&&e.lineWidth;return c&&(n.x=Ud(o,c,!0),n.y=Ud(i,c,!0),n.width=Math.max(Ud(o+a,c,!1)-n.x,0===a?0:1),n.height=Math.max(Ud(i+u,c,!1)-n.y,0===u?0:1)),n}}function Ud(n,t,e){if(!t)return n;var o=Gd(2*n);return(o+Gd(t))%2==0?o/2:(o+(e?1:-1))/2}var qc=function(){this.x=0,this.y=0,this.width=0,this.height=0},Zy={},oi=function(n){function t(e){return n.call(this,e)||this}return yt(t,n),t.prototype.getDefaultShape=function(){return new qc},t.prototype.buildPath=function(e,o){var i,a,u,c,h,m,y,_,S,k,D,A,E,N,z,F;if(this.subPixelOptimize){var f=z_(Zy,o,this.style);i=f.x,a=f.y,u=f.width,c=f.height,f.r=o.r,o=f}else i=o.x,a=o.y,u=o.width,c=o.height;o.r?(h=e,A=(m=o).x,E=m.y,(N=m.width)<0&&(A+=N,N=-N),(z=m.height)<0&&(E+=z,z=-z),"number"==typeof(F=m.r)?y=_=S=k=F:F instanceof Array?1===F.length?y=_=S=k=F[0]:2===F.length?(y=S=F[0],_=k=F[1]):3===F.length?(y=F[0],_=k=F[1],S=F[2]):(y=F[0],_=F[1],S=F[2],k=F[3]):y=_=S=k=0,y+_>N&&(y*=N/(D=y+_),_*=N/D),S+k>N&&(S*=N/(D=S+k),k*=N/D),_+S>z&&(_*=z/(D=_+S),S*=z/D),y+k>z&&(y*=z/(D=y+k),k*=z/D),h.moveTo(A+y,E),h.lineTo(A+N-_,E),0!==_&&h.arc(A+N-_,E+_,_,-Math.PI/2,0),h.lineTo(A+N,E+z-S),0!==S&&h.arc(A+N-S,E+z-S,S,0,Math.PI/2),h.lineTo(A+k,E+z),0!==k&&h.arc(A+k,E+z-k,k,Math.PI/2,Math.PI),h.lineTo(A,E+y),0!==y&&h.arc(A+y,E+y,y,Math.PI,1.5*Math.PI)):e.rect(i,a,u,c)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t}(Do);oi.prototype.type="rect";var Nv={fill:"#000"},_b={style:ht({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},bl.style)},li=function(n){function t(e){var o=n.call(this)||this;return o.type="text",o._children=[],o._defaultStyle=Nv,o.attr(e),o}return yt(t,n),t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){n.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var e=0;e<this._children.length;e++){var o=this._children[e];o.zlevel=this.zlevel,o.z=this.z,o.z2=this.z2,o.culling=this.culling,o.cursor=this.cursor,o.invisible=this.invisible}},t.prototype.updateTransform=function(){var e=this.innerTransformable;e?(e.updateTransform(),e.transform&&(this.transform=e.transform)):n.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(e){var o=this.innerTransformable;return o?o.getLocalTransform(e):n.prototype.getLocalTransform.call(this,e)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),n.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){var e;this._childCursor=0,xu(e=this.style),Te(e.rich,xu),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(e){n.prototype.addSelfToZr.call(this,e);for(var o=0;o<this._children.length;o++)this._children[o].__zr=e},t.prototype.removeSelfFromZr=function(e){n.prototype.removeSelfFromZr.call(this,e);for(var o=0;o<this._children.length;o++)this._children[o].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var e=new To(0,0,0,0),o=this._children,i=[],a=null,u=0;u<o.length;u++){var c=o[u],f=c.getBoundingRect(),h=c.getLocalTransform(i);h?(e.copy(f),e.applyTransform(h),(a=a||e.clone()).union(e)):(a=a||f.clone()).union(f)}this._rect=a||e}return this._rect},t.prototype.setDefaultTextStyle=function(e){this._defaultStyle=e||Nv},t.prototype.setTextContent=function(e){},t.prototype._mergeStyle=function(e,o){if(!o)return e;var i=o.rich,a=e.rich||i&&{};return Pe(e,o),i&&a?(this._mergeRich(a,i),e.rich=a):a&&(e.rich=a),e},t.prototype._mergeRich=function(e,o){for(var i=Zn(o),a=0;a<i.length;a++){var u=i[a];e[u]=e[u]||{},Pe(e[u],o[u])}},t.prototype.getAnimationStyleProps=function(){return _b},t.prototype._getOrCreateChild=function(e){var o=this._children[this._childCursor];return o&&o instanceof e||(o=new e),this._children[this._childCursor++]=o,o.__zr=this.__zr,o.parent=this,o},t.prototype._updatePlainTexts=function(){var e=this.style,o=e.font||xe,i=e.padding,a=function(it,ut){null!=it&&(it+="");var mt,Ot=ut.overflow,Pt=ut.padding,Gt=ut.font,kn="truncate"===Ot,tr=Dv(Gt),Xt=_n(ut.lineHeight,tr),zn=!!ut.backgroundColor,gr="truncate"===ut.lineOverflow,dr=ut.width,nr=(mt=null==dr||"break"!==Ot&&"breakAll"!==Ot?it?it.split("\n"):[]:it?om(it,ut.font,dr,"breakAll"===Ot,0).lines:[]).length*Xt,br=_n(ut.height,nr);if(nr>br&&gr){var ur=Math.floor(br/Xt);mt=mt.slice(0,ur)}if(it&&kn&&null!=dr)for(var kr=Gi(dr,Gt,ut.ellipsis,{minChar:ut.truncateMinChar,placeholder:ut.placeholder}),Br=0;Br<mt.length;Br++)mt[Br]=vb(mt[Br],kr);var Ro=br,Zo=0;for(Br=0;Br<mt.length;Br++)Zo=Math.max(gu(mt[Br],Gt),Zo);null==dr&&(dr=Zo);var wa=Zo;return Pt&&(Ro+=Pt[0]+Pt[2],wa+=Pt[1]+Pt[3],dr+=Pt[1]+Pt[3]),zn&&(wa=dr),{lines:mt,height:br,outerWidth:wa,outerHeight:Ro,lineHeight:Xt,calculatedLineHeight:tr,contentWidth:Zo,contentHeight:nr,width:dr}}(ru(e),e),u=wb(e),c=!!e.backgroundColor,f=a.outerHeight,h=a.outerWidth,m=a.contentWidth,y=a.lines,_=a.lineHeight,S=this._defaultStyle,k=e.x||0,D=e.y||0,A=e.align||S.align||"left",E=e.verticalAlign||S.verticalAlign||"top",N=k,z=xn(D,a.contentHeight,E);if(u||i){var F=qh(k,h,A),q=xn(D,f,E);u&&this._renderBackground(e,e,F,q,h,f)}z+=_/2,i&&(N=oc(k,A,i),"top"===E?z+=i[0]:"bottom"===E&&(z-=i[2]));for(var X=0,ee=!1,ie=(hs("fill"in e?e.fill:(ee=!0,S.fill))),ye=(Pl("stroke"in e?e.stroke:c||S.autoStroke&&!ee?null:(X=2,S.stroke))),_e=e.textShadowBlur>0,Se=null!=e.width&&("truncate"===e.overflow||"break"===e.overflow||"breakAll"===e.overflow),Ae=a.calculatedLineHeight,Fe=0;Fe<y.length;Fe++){var Xe=this._getOrCreateChild($p),nt=Xe.createStyle();Xe.useStyle(nt),nt.text=y[Fe],nt.x=N,nt.y=z,A&&(nt.textAlign=A),nt.textBaseline="middle",nt.opacity=e.opacity,nt.strokeFirst=!0,_e&&(nt.shadowBlur=e.textShadowBlur||0,nt.shadowColor=e.textShadowColor||"transparent",nt.shadowOffsetX=e.textShadowOffsetX||0,nt.shadowOffsetY=e.textShadowOffsetY||0),nt.stroke=ye,nt.fill=ie,ye&&(nt.lineWidth=e.lineWidth||X,nt.lineDash=e.lineDash,nt.lineDashOffset=e.lineDashOffset||0),nt.font=o,Yc(nt,e),z+=_,Se&&Xe.setBoundingRect(new To(qh(nt.x,e.width,nt.textAlign),xn(nt.y,Ae,nt.textBaseline),m,Ae))}},t.prototype._updateRichTexts=function(){var e=this.style,o=function(Xe,nt){var it=new yb;if(null!=Xe&&(Xe+=""),!Xe)return it;for(var ut,mt=nt.width,Ot=nt.height,Pt=nt.overflow,Gt="break"!==Pt&&"breakAll"!==Pt||null==mt?null:{width:mt,accumWidth:0,breakAll:"breakAll"===Pt},kn=Nd.lastIndex=0;null!=(ut=Nd.exec(Xe));){var tr=ut.index;tr>kn&&qp(it,Xe.substring(kn,tr),nt,Gt),qp(it,ut[2],nt,Gt,ut[1]),kn=Nd.lastIndex}kn<Xe.length&&qp(it,Xe.substring(kn,Xe.length),nt,Gt);var Xt=[],zn=0,gr=0,dr=nt.padding,nr="truncate"===Pt,br="truncate"===nt.lineOverflow;function ur(ll,Rc,Lc){ll.width=Rc,ll.lineHeight=Lc,zn+=Lc,gr=Math.max(gr,Rc)}e:for(var kr=0;kr<it.lines.length;kr++){for(var Br=it.lines[kr],Ro=0,Zo=0,wa=0;wa<Br.tokens.length;wa++){var Si=(Lo=Br.tokens[wa]).styleName&&nt.rich[Lo.styleName]||{},Hi=Lo.textPadding=Si.padding,oa=Hi?Hi[1]+Hi[3]:0,qs=Lo.font=Si.font||nt.font;Lo.contentHeight=Dv(qs);var su=_n(Si.height,Lo.contentHeight);if(Lo.innerHeight=su,Hi&&(su+=Hi[0]+Hi[2]),Lo.height=su,Lo.lineHeight=vn(Si.lineHeight,nt.lineHeight,su),Lo.align=Si&&Si.align||nt.align,Lo.verticalAlign=Si&&Si.verticalAlign||"middle",br&&null!=Ot&&zn+Lo.lineHeight>Ot){wa>0?(Br.tokens=Br.tokens.slice(0,wa),ur(Br,Zo,Ro),it.lines=it.lines.slice(0,kr+1)):it.lines=it.lines.slice(0,kr);break e}var gf=Si.width,yv=null==gf||"auto"===gf;if("string"==typeof gf&&"%"===gf.charAt(gf.length-1))Lo.percentWidth=gf,Xt.push(Lo),Lo.contentWidth=gu(Lo.text,qs);else{if(yv){var I_=Si.backgroundColor,ia=I_&&I_.image;ia&&Up(ia=Ei(ia))&&(Lo.width=Math.max(Lo.width,ia.width*su/ia.height))}var pi=nr&&null!=mt?mt-Zo:null;null!=pi&&pi<Lo.width?!yv||pi<oa?(Lo.text="",Lo.width=Lo.contentWidth=0):(Lo.text=vh(Lo.text,pi-oa,qs,nt.ellipsis,{minChar:nt.truncateMinChar}),Lo.width=Lo.contentWidth=gu(Lo.text,qs)):Lo.contentWidth=gu(Lo.text,qs)}Lo.width+=oa,Zo+=Lo.width,Si&&(Ro=Math.max(Ro,Lo.lineHeight))}ur(Br,Zo,Ro)}for(it.outerWidth=it.width=_n(mt,gr),it.outerHeight=it.height=_n(Ot,zn),it.contentHeight=zn,it.contentWidth=gr,dr&&(it.outerWidth+=dr[1]+dr[3],it.outerHeight+=dr[0]+dr[2]),kr=0;kr<Xt.length;kr++){var Lo,Ys=(Lo=Xt[kr]).percentWidth;Lo.width=parseInt(Ys,10)/100*it.width}return it}(ru(e),e),i=o.width,a=o.outerWidth,u=o.outerHeight,c=e.padding,h=e.y||0,m=this._defaultStyle,_=e.verticalAlign||m.verticalAlign,S=qh(e.x||0,a,e.align||m.align),k=xn(h,u,_),D=S,A=k;c&&(D+=c[3],A+=c[0]);var E=D+i;wb(e)&&this._renderBackground(e,e,S,k,a,u);for(var N=!!e.backgroundColor,z=0;z<o.lines.length;z++){for(var F=o.lines[z],q=F.tokens,X=q.length,ee=F.lineHeight,ie=F.width,ye=0,_e=D,Se=E,Ae=X-1,Fe=void 0;ye<X&&(!(Fe=q[ye]).align||"left"===Fe.align);)this._placeToken(Fe,e,ee,A,_e,"left",N),ie-=Fe.width,_e+=Fe.width,ye++;for(;Ae>=0&&"right"===(Fe=q[Ae]).align;)this._placeToken(Fe,e,ee,A,Se,"right",N),ie-=Fe.width,Se-=Fe.width,Ae--;for(_e+=(i-(_e-D)-(E-Se)-ie)/2;ye<=Ae;)this._placeToken(Fe=q[ye],e,ee,A,_e+Fe.width/2,"center",N),_e+=Fe.width,ye++;A+=ee}},t.prototype._placeToken=function(e,o,i,a,u,c,f){var h=o.rich[e.styleName]||{};h.text=e.text;var m=e.verticalAlign,y=a+i/2;"top"===m?y=a+e.height/2:"bottom"===m&&(y=a+i-e.height/2),!e.isLineHolder&&wb(h)&&this._renderBackground(h,o,"right"===c?u-e.width:"center"===c?u-e.width/2:u,y-e.height/2,e.width,e.height);var _=!!h.backgroundColor,S=e.textPadding;S&&(u=oc(u,c,S),y-=e.height/2-S[0]-e.innerHeight/2);var k=this._getOrCreateChild($p),D=k.createStyle();k.useStyle(D);var A=this._defaultStyle,E=!1,N=0,z=hs("fill"in h?h.fill:"fill"in o?o.fill:(E=!0,A.fill)),F=Pl("stroke"in h?h.stroke:"stroke"in o?o.stroke:_||f||A.autoStroke&&!E?null:(N=2,A.stroke)),q=h.textShadowBlur>0||o.textShadowBlur>0;D.text=e.text,D.x=u,D.y=y,q&&(D.shadowBlur=h.textShadowBlur||o.textShadowBlur||0,D.shadowColor=h.textShadowColor||o.textShadowColor||"transparent",D.shadowOffsetX=h.textShadowOffsetX||o.textShadowOffsetX||0,D.shadowOffsetY=h.textShadowOffsetY||o.textShadowOffsetY||0),D.textAlign=c,D.textBaseline="middle",D.font=e.font||xe,D.opacity=vn(h.opacity,o.opacity,1),Yc(D,h),F&&(D.lineWidth=vn(h.lineWidth,o.lineWidth,N),D.lineDash=_n(h.lineDash,o.lineDash),D.lineDashOffset=o.lineDashOffset||0,D.stroke=F),z&&(D.fill=z);var X=e.contentWidth,ee=e.contentHeight;k.setBoundingRect(new To(qh(D.x,X,D.textAlign),xn(D.y,ee,D.textBaseline),X,ee))},t.prototype._renderBackground=function(e,o,i,a,u,c){var f,h,m,y=e.backgroundColor,_=e.borderWidth,S=e.borderColor,k=y&&y.image,D=y&&!k,A=e.borderRadius,E=this;if(D||e.lineHeight||_&&S){(f=this._getOrCreateChild(oi)).useStyle(f.createStyle()),f.style.fill=null;var N=f.shape;N.x=i,N.y=a,N.width=u,N.height=c,N.r=A,f.dirtyShape()}if(D)(m=f.style).fill=y||null,m.fillOpacity=_n(e.fillOpacity,1);else if(k){(h=this._getOrCreateChild(bu)).onload=function(){E.dirtyStyle()};var z=h.style;z.image=y.image,z.x=i,z.y=a,z.width=u,z.height=c}_&&S&&((m=f.style).lineWidth=_,m.stroke=S,m.strokeOpacity=_n(e.strokeOpacity,1),m.lineDash=e.borderDash,m.lineDashOffset=e.borderDashOffset||0,f.strokeContainThreshold=0,f.hasFill()&&f.hasStroke()&&(m.strokeFirst=!0,m.lineWidth*=2));var F=(f||h).style;F.shadowBlur=e.shadowBlur||0,F.shadowColor=e.shadowColor||"transparent",F.shadowOffsetX=e.shadowOffsetX||0,F.shadowOffsetY=e.shadowOffsetY||0,F.opacity=vn(e.opacity,o.opacity,1)},t.makeFont=function(e){var o="";return Vs(e)&&(o=[e.fontStyle,e.fontWeight,wc(e.fontSize),e.fontFamily||"sans-serif"].join(" ")),o&&ni(o)||e.textFont||e.font},t}(zu),Ky={left:!0,right:1,center:1},up={top:1,bottom:1,middle:1},$y=["fontStyle","fontWeight","fontSize","fontFamily"];function wc(n){return"string"!=typeof n||-1===n.indexOf("px")&&-1===n.indexOf("rem")&&-1===n.indexOf("em")?isNaN(+n)?"12px":n+"px":n}function Yc(n,t){for(var e=0;e<$y.length;e++){var o=$y[e],i=t[o];null!=i&&(n[o]=i)}}function Vs(n){return null!=n.fontSize||n.fontFamily||n.fontWeight}function xu(n){if(n){n.font=li.makeFont(n);var t=n.align;"middle"===t&&(t="center"),n.align=null==t||Ky[t]?t:"left";var e=n.verticalAlign;"center"===e&&(e="middle"),n.verticalAlign=null==e||up[e]?e:"top",n.padding&&(n.padding=wr(n.padding))}}function Pl(n,t){return null==n||t<=0||"transparent"===n||"none"===n?null:n.image||n.colorStops?"#000":n}function hs(n){return null==n||"none"===n?null:n.image||n.colorStops?"#000":n}function oc(n,t,e){return"right"===t?n-e[1]:"center"===t?n+e[3]/2-e[1]/2:n+e[3]}function ru(n){var t=n.text;return null!=t&&(t+=""),t}function wb(n){return!!(n.backgroundColor||n.lineHeight||n.borderWidth&&n.borderColor)}var fo=Qo(),sm=function(n,t,e,o){if(o){var i=fo(o);i.dataIndex=e,i.dataType=t,i.seriesIndex=n,"group"===o.type&&o.traverse(function(a){var u=fo(a);u.seriesIndex=n,u.dataIndex=e,u.dataType=t})}},$n=1,F_={},Bv=Qo(),Jy=Qo(),Va=["emphasis","blur","select"],Qp=["normal","emphasis","blur","select"],pn="highlight",eg="downplay",um="select",lm="unselect",zv="toggleSelect";function jd(n){return null!=n&&"none"!==n}var Ha=new Po(100);function ps(n){if(Un(n)){var t=Ha.get(n);return t||(t=Il(n,-.1),Ha.put(n,t)),t}if(bn(n)){var e=Pe({},n);return e.colorStops=It(n.colorStops,function(o){return{offset:o.offset,color:Il(o.color,-.1)}}),e}return n}function tg(n,t,e){n.onHoverStateChange&&(n.hoverState||0)!==e&&n.onHoverStateChange(t),n.hoverState=e}function V_(n){tg(n,"emphasis",2)}function Q1(n){2===n.hoverState&&tg(n,"normal",0)}function Qy(n){tg(n,"blur",1)}function ex(n){1===n.hoverState&&tg(n,"normal",0)}function tx(n){n.selected=!0}function Fv(n){n.selected=!1}function e0(n,t,e){t(n,e)}function rd(n,t,e){e0(n,t,e),n.isGroup&&n.traverse(function(o){e0(o,t,e)})}function pa(n,t){switch(t){case"emphasis":n.hoverState=2;break;case"normal":n.hoverState=0;break;case"blur":n.hoverState=1;break;case"select":n.selected=!0}}function t0(n,t){var i,a,u,c,f,h,e=this.states[n];if(this.style){if("emphasis"===n)return function(o,i,a,u){var c=a&&jt(a,"select")>=0,f=!1;if(o instanceof Do){var h=Bv(o),m=c&&h.selectFill||h.normalFill,y=c&&h.selectStroke||h.normalStroke;if(jd(m)||jd(y)){var _=(u=u||{}).style||{};"inherit"===_.fill?(f=!0,u=Pe({},u),(_=Pe({},_)).fill=m):!jd(_.fill)&&jd(m)?(f=!0,u=Pe({},u),(_=Pe({},_)).fill=ps(m)):!jd(_.stroke)&&jd(y)&&(f||(u=Pe({},u),_=Pe({},_)),_.stroke=ps(y)),u.style=_}}if(u&&null==u.z2){f||(u=Pe({},u));var S=o.z2EmphasisLift;u.z2=o.z2+(null!=S?S:10)}return u}(this,0,t,e);if("blur"===n)return a=e,u=jt(this.currentStates,i=n)>=0,c=this.style.opacity,f=u?null:function(m,y,_,S){for(var k=m.style,D={},A=0;A<y.length;A++){var E=y[A],N=k[E];D[E]=null==N?S&&S[E]:N}for(A=0;A<m.animators.length;A++){var z=m.animators[A];z.__fromStateTransition&&z.__fromStateTransition.indexOf(_)<0&&"style"===z.targetName&&z.saveTo(D,y)}return D}(this,["opacity"],i,{opacity:1}),null==(h=(a=a||{}).style||{}).opacity&&(a=Pe({},a),h=Pe({opacity:u?c:.1*f.opacity},h),a.style=h),a;if("select"===n)return function(o,i,a){if(a&&null==a.z2){a=Pe({},a);var u=o.z2SelectLift;a.z2=o.z2+(null!=u?u:9)}return a}(this,0,e)}return e}function ng(n){n.stateProxy=t0;var t=n.getTextContent(),e=n.getTextGuideLine();t&&(t.stateProxy=t0),e&&(e.stateProxy=t0)}function Sb(n,t){!_h(n,t)&&!n.__highByOuter&&rd(n,V_)}function Vv(n,t){!_h(n,t)&&!n.__highByOuter&&rd(n,Q1)}function Mf(n,t){n.__highByOuter|=1<<(t||0),rd(n,V_)}function qd(n,t){!(n.__highByOuter&=~(1<<(t||0)))&&rd(n,Q1)}function Cb(n){rd(n,Qy)}function n0(n){rd(n,ex)}function r0(n){rd(n,tx)}function Sc(n){rd(n,Fv)}function _h(n,t){return n.__highDownSilentOnTouch&&t.zrByTouch}function kb(n){var t=n.getModel(),e=[],o=[];t.eachComponent(function(i,a){var u=Jy(a),c="series"===i,f=c?n.getViewOfSeriesModel(a):n.getViewOfComponentModel(a);!c&&o.push(f),u.isBlured&&(f.group.traverse(function(h){ex(h)}),c&&e.push(a)),u.isBlured=!1}),Te(o,function(i){i&&i.toggleBlurSeries&&i.toggleBlurSeries(e,!1,t)})}function Mb(n,t,e,o){var i=o.getModel();function a(h,m){for(var y=0;y<m.length;y++){var _=h.getItemGraphicEl(m[y]);_&&n0(_)}}if(e=e||"coordinateSystem",null!=n&&t&&"none"!==t){var u=i.getSeriesByIndex(n),c=u.coordinateSystem;c&&c.master&&(c=c.master);var f=[];i.eachSeries(function(h){var m=u===h,y=h.coordinateSystem;if(y&&y.master&&(y=y.master),!("series"===e&&!m||"coordinateSystem"===e&&!(y&&c?y===c:m)||"series"===t&&m)){if(o.getViewOfSeriesModel(h).group.traverse(function(k){Qy(k)}),Ht(t))a(h.getData(),t);else if(fr(t))for(var _=Zn(t),S=0;S<_.length;S++)a(h.getData(_[S]),t[_[S]]);f.push(h),Jy(h).isBlured=!0}}),i.eachComponent(function(h,m){if("series"!==h){var y=o.getViewOfComponentModel(m);y&&y.toggleBlurSeries&&y.toggleBlurSeries(f,!0,i)}})}}function Hv(n,t,e){if(null!=n&&null!=t){var o=e.getModel().getComponent(n,t);if(o){Jy(o).isBlured=!0;var i=e.getViewOfComponentModel(o);i&&i.focusBlurEnabled&&i.group.traverse(function(a){Qy(a)})}}}function nx(n,t,e,o){var i={focusSelf:!1,dispatchers:null};if(null==n||"series"===n||null==t||null==e)return i;var a=o.getModel().getComponent(n,t);if(!a)return i;var u=o.getViewOfComponentModel(a);if(!u||!u.findHighDownDispatchers)return i;for(var c,f=u.findHighDownDispatchers(e),h=0;h<f.length;h++)if("self"===fo(f[h]).focus){c=!0;break}return{focusSelf:c,dispatchers:f}}function H_(n){Te(n.getAllData(),function(t){var o=t.type;t.data.eachItemGraphicEl(function(i,a){n.isSelected(a,o)?r0(i):Sc(i)})})}function cm(n){var t=[];return n.eachSeries(function(e){Te(e.getAllData(),function(o){var i=o.type,a=e.getSelectedDataIndices();if(a.length>0){var u={dataIndex:a,seriesIndex:e.seriesIndex};null!=i&&(u.dataType=i),t.push(u)}})}),t}function Tf(n,t,e){xl(n,!0),rd(n,ng),W_(n,t,e)}function Ds(n,t,e,o){o?xl(n,!1):Tf(n,t,e)}function W_(n,t,e){var o=fo(n);null!=t?(o.focus=t,o.blurScope=e):o.focus&&(o.focus=null)}var rx=["emphasis","blur","select"],fm={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function Fu(n,t,e,o){e=e||"itemStyle";for(var i=0;i<rx.length;i++){var a=rx[i],u=t.getModel([a,e]);n.ensureState(a).style=o?o(u):u[fm[e]]()}}function xl(n,t){var e=!1===t,o=n;n.highDownSilentOnTouch&&(o.__highDownSilentOnTouch=n.highDownSilentOnTouch),e&&!o.__highDownDispatcher||(o.__highByOuter=o.__highByOuter||0,o.__highDownDispatcher=!e)}function Xc(n){return!(!n||!n.__highDownDispatcher)}function Cc(n){var t=n.type;return t===um||t===lm||t===zv}function rg(n){var t=n.type;return t===pn||t===eg}var dm=Ya.CMD,hm=[[],[],[]],pm=Math.sqrt,ox=Math.atan2;function lp(n,t){if(t){var e,o,i,a,u,c,f=n.data,h=n.len(),m=dm.M,y=dm.C,_=dm.L,S=dm.R,k=dm.A,D=dm.Q;for(i=0,a=0;i<h;){switch(e=f[i++],a=i,o=0,e){case m:case _:o=1;break;case y:o=3;break;case D:o=2;break;case k:var A=t[4],E=t[5],N=pm(t[0]*t[0]+t[1]*t[1]),z=pm(t[2]*t[2]+t[3]*t[3]),F=ox(-t[1]/z,t[0]/N);f[i]*=N,f[i++]+=A,f[i]*=z,f[i++]+=E,f[i++]*=N,f[i++]*=z,f[i++]+=F,f[i++]+=F,a=i+=2;break;case S:c[0]=f[i++],c[1]=f[i++],En(c,c,t),f[a++]=c[0],f[a++]=c[1],c[0]+=f[i++],c[1]+=f[i++],En(c,c,t),f[a++]=c[0],f[a++]=c[1]}for(u=0;u<o;u++){var q=hm[u];q[0]=f[i++],q[1]=f[i++],En(q,q,t),f[a++]=q[0],f[a++]=q[1]}}n.increaseVersion()}}var Yd=Math.sqrt,Wv=Math.sin,Gv=Math.cos,Hs=Math.PI;function Tb(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function Zc(n,t){return(n[0]*t[0]+n[1]*t[1])/(Tb(n)*Tb(t))}function Db(n,t){return(n[0]*t[1]<n[1]*t[0]?-1:1)*Math.acos(Zc(n,t))}function G_(n,t,e,o,i,a,u,c,f,h,m){var y=f*(Hs/180),_=Gv(y)*(n-e)/2+Wv(y)*(t-o)/2,S=-1*Wv(y)*(n-e)/2+Gv(y)*(t-o)/2,k=_*_/(u*u)+S*S/(c*c);k>1&&(u*=Yd(k),c*=Yd(k));var D=(i===a?-1:1)*Yd((u*u*(c*c)-u*u*(S*S)-c*c*(_*_))/(u*u*(S*S)+c*c*(_*_)))||0,A=D*u*S/c,E=D*-c*_/u,N=(n+e)/2+Gv(y)*A-Wv(y)*E,z=(t+o)/2+Wv(y)*A+Gv(y)*E,F=Db([1,0],[(_-A)/u,(S-E)/c]),q=[(_-A)/u,(S-E)/c],X=[(-1*_-A)/u,(-1*S-E)/c],ee=Db(q,X);if(Zc(q,X)<=-1&&(ee=Hs),Zc(q,X)>=1&&(ee=0),ee<0){var ie=Math.round(ee/Hs*1e6)/1e6;ee=2*Hs+ie%2*Hs}m.addData(h,N,z,u,c,F,ee,y,a)}var og=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,gm=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,ig=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return yt(t,n),t.prototype.applyTransform=function(e){},t}(Do);function Ab(n){return null!=n.setData}function Ib(n,t){var e=function(i){var a=new Ya;if(!i)return a;var u,c=0,f=0,h=c,m=f,y=Ya.CMD,_=i.match(og);if(!_)return a;for(var S=0;S<_.length;S++){for(var k=_[S],D=k.charAt(0),A=void 0,E=k.match(gm)||[],N=E.length,z=0;z<N;z++)E[z]=parseFloat(E[z]);for(var F=0;F<N;){var q=void 0,X=void 0,ee=void 0,ie=void 0,ye=void 0,_e=void 0,Se=void 0,Ae=c,Fe=f,Xe=void 0,nt=void 0;switch(D){case"l":c+=E[F++],f+=E[F++],a.addData(A=y.L,c,f);break;case"L":c=E[F++],f=E[F++],a.addData(A=y.L,c,f);break;case"m":c+=E[F++],f+=E[F++],a.addData(A=y.M,c,f),h=c,m=f,D="l";break;case"M":c=E[F++],f=E[F++],a.addData(A=y.M,c,f),h=c,m=f,D="L";break;case"h":c+=E[F++],a.addData(A=y.L,c,f);break;case"H":c=E[F++],a.addData(A=y.L,c,f);break;case"v":f+=E[F++],a.addData(A=y.L,c,f);break;case"V":f=E[F++],a.addData(A=y.L,c,f);break;case"C":a.addData(A=y.C,E[F++],E[F++],E[F++],E[F++],E[F++],E[F++]),c=E[F-2],f=E[F-1];break;case"c":a.addData(A=y.C,E[F++]+c,E[F++]+f,E[F++]+c,E[F++]+f,E[F++]+c,E[F++]+f),c+=E[F-2],f+=E[F-1];break;case"S":q=c,X=f,Xe=a.len(),nt=a.data,u===y.C&&(q+=c-nt[Xe-4],X+=f-nt[Xe-3]),Ae=E[F++],Fe=E[F++],c=E[F++],f=E[F++],a.addData(A=y.C,q,X,Ae,Fe,c,f);break;case"s":q=c,X=f,Xe=a.len(),nt=a.data,u===y.C&&(q+=c-nt[Xe-4],X+=f-nt[Xe-3]),Ae=c+E[F++],Fe=f+E[F++],c+=E[F++],f+=E[F++],a.addData(A=y.C,q,X,Ae,Fe,c,f);break;case"Q":Ae=E[F++],Fe=E[F++],c=E[F++],f=E[F++],a.addData(A=y.Q,Ae,Fe,c,f);break;case"q":Ae=E[F++]+c,Fe=E[F++]+f,c+=E[F++],f+=E[F++],a.addData(A=y.Q,Ae,Fe,c,f);break;case"T":q=c,X=f,Xe=a.len(),nt=a.data,u===y.Q&&(q+=c-nt[Xe-4],X+=f-nt[Xe-3]),c=E[F++],f=E[F++],a.addData(A=y.Q,q,X,c,f);break;case"t":q=c,X=f,Xe=a.len(),nt=a.data,u===y.Q&&(q+=c-nt[Xe-4],X+=f-nt[Xe-3]),c+=E[F++],f+=E[F++],a.addData(A=y.Q,q,X,c,f);break;case"A":ee=E[F++],ie=E[F++],ye=E[F++],_e=E[F++],Se=E[F++],G_(Ae=c,Fe=f,c=E[F++],f=E[F++],_e,Se,ee,ie,ye,A=y.A,a);break;case"a":ee=E[F++],ie=E[F++],ye=E[F++],_e=E[F++],Se=E[F++],G_(Ae=c,Fe=f,c+=E[F++],f+=E[F++],_e,Se,ee,ie,ye,A=y.A,a)}}"z"!==D&&"Z"!==D||(a.addData(A=y.Z),c=h,f=m),u=A}return a.toStatic(),a}(n),o=Pe({},t);return o.buildPath=function(i){if(Ab(i))i.setData(e.data),(a=i.getContext())&&i.rebuildPath(a,1);else{var a=i;e.rebuildPath(a,1)}},o.applyTransform=function(i){lp(e,i),this.dirtyShape()},o}function el(n,t){return new ig(Ib(n,t))}function o0(n,t){t=t||{};var e=new Do;return n.shape&&e.setShape(n.shape),e.setStyle(n.style),t.bakeTransform?lp(e.path,n.getComputedTransform()):t.toLocal?e.setLocalTransform(n.getComputedTransform()):e.copyTransform(n),e.buildPath=n.buildPath,e.applyTransform=e.applyTransform,e.z=n.z,e.z2=n.z2,e.zlevel=n.zlevel,e}var mm=function(){this.cx=0,this.cy=0,this.r=0},Kc=function(n){function t(e){return n.call(this,e)||this}return yt(t,n),t.prototype.getDefaultShape=function(){return new mm},t.prototype.buildPath=function(e,o){e.moveTo(o.cx+o.r,o.cy),e.arc(o.cx,o.cy,o.r,0,2*Math.PI)},t}(Do);Kc.prototype.type="circle";var Uv=function(){this.cx=0,this.cy=0,this.rx=0,this.ry=0},gs=function(n){function t(e){return n.call(this,e)||this}return yt(t,n),t.prototype.getDefaultShape=function(){return new Uv},t.prototype.buildPath=function(e,o){var i=.5522848,a=o.cx,u=o.cy,c=o.rx,f=o.ry,h=c*i,m=f*i;e.moveTo(a-c,u),e.bezierCurveTo(a-c,u-m,a-h,u-f,a,u-f),e.bezierCurveTo(a+h,u-f,a+c,u-m,a+c,u),e.bezierCurveTo(a+c,u+m,a+h,u+f,a,u+f),e.bezierCurveTo(a-h,u+f,a-c,u+m,a-c,u),e.closePath()},t}(Do);gs.prototype.type="ellipse";var U_=Math.PI,cp=2*U_,fp=Math.sin,jv=Math.cos,RS=Math.acos,_l=Math.atan2,vm=Math.abs,dp=Math.sqrt,hp=Math.max,ic=Math.min,kc=1e-4;function ym(n,t,e,o,i,a,u){var c=n-e,f=t-o,h=(u?a:-a)/dp(c*c+f*f),m=h*f,y=-h*c,_=n+m,S=t+y,k=e+m,D=o+y,A=(_+k)/2,E=(S+D)/2,N=k-_,z=D-S,F=N*N+z*z,q=i-a,X=_*D-k*S,ee=(z<0?-1:1)*dp(hp(0,q*q*F-X*X)),ie=(X*z-N*ee)/F,ye=(-X*N-z*ee)/F,_e=(X*z+N*ee)/F,Se=(-X*N+z*ee)/F,Ae=ie-A,Fe=ye-E,Xe=_e-A,nt=Se-E;return Ae*Ae+Fe*Fe>Xe*Xe+nt*nt&&(ie=_e,ye=Se),{cx:ie,cy:ye,x0:-m,y0:-y,x1:ie*(i/q-1),y1:ye*(i/q-1)}}var Rl=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0},Ll=function(n){function t(e){return n.call(this,e)||this}return yt(t,n),t.prototype.getDefaultShape=function(){return new Rl},t.prototype.buildPath=function(e,o){!function ix(n,t){var e,o=hp(t.r,0),i=hp(t.r0||0,0),a=o>0;if(a||i>0){if(a||(o=i,i=0),i>o){var u=o;o=i,i=u}var c=t.startAngle,f=t.endAngle;if(!isNaN(c)&&!isNaN(f)){var h=t.cx,m=t.cy,y=!!t.clockwise,_=vm(f-c),S=_>cp&&_%cp;if(S>kc&&(_=S),o>kc)if(_>cp-kc)n.moveTo(h+o*jv(c),m+o*fp(c)),n.arc(h,m,o,c,f,!y),i>kc&&(n.moveTo(h+i*jv(f),m+i*fp(f)),n.arc(h,m,i,f,c,y));else{var k=void 0,D=void 0,A=void 0,E=void 0,N=void 0,z=void 0,F=void 0,q=void 0,X=void 0,ee=void 0,ie=void 0,ye=void 0,_e=void 0,Se=void 0,Ae=void 0,Fe=void 0,Xe=o*jv(c),nt=o*fp(c),it=i*jv(f),ut=i*fp(f),mt=_>kc;if(mt){var Ot=t.cornerRadius;Ot&&(k=(e=function(Br){var Ro;if(tt(Br)){var Zo=Br.length;if(!Zo)return Br;Ro=1===Zo?[Br[0],Br[0],0,0]:2===Zo?[Br[0],Br[0],Br[1],Br[1]]:3===Zo?Br.concat(Br[2]):Br}else Ro=[Br,Br,Br,Br];return Ro}(Ot))[0],D=e[1],A=e[2],E=e[3]);var Pt=vm(o-i)/2;if(N=ic(Pt,A),z=ic(Pt,E),F=ic(Pt,k),q=ic(Pt,D),ie=X=hp(N,z),ye=ee=hp(F,q),(X>kc||ee>kc)&&(_e=o*jv(f),Se=o*fp(f),Ae=i*jv(c),Fe=i*fp(c),_<U_)){var Gt=function(Br,Ro,Zo,wa,Si,Hi,oa,qs){var su=Zo-Br,gf=wa-Ro,yv=oa-Si,I_=qs-Hi,ia=I_*su-yv*gf;if(!(ia*ia<kc))return[Br+(ia=(yv*(Ro-Hi)-I_*(Br-Si))/ia)*su,Ro+ia*gf]}(Xe,nt,Ae,Fe,_e,Se,it,ut);if(Gt){var kn=Xe-Gt[0],tr=nt-Gt[1],Xt=_e-Gt[0],zn=Se-Gt[1],gr=1/fp(RS((kn*Xt+tr*zn)/(dp(kn*kn+tr*tr)*dp(Xt*Xt+zn*zn)))/2),dr=dp(Gt[0]*Gt[0]+Gt[1]*Gt[1]);ie=ic(X,(o-dr)/(gr+1)),ye=ic(ee,(i-dr)/(gr-1))}}}if(mt)if(ie>kc){var nr=ic(A,ie),br=ic(E,ie),ur=ym(Ae,Fe,Xe,nt,o,nr,y),kr=ym(_e,Se,it,ut,o,br,y);n.moveTo(h+ur.cx+ur.x0,m+ur.cy+ur.y0),ie<X&&nr===br?n.arc(h+ur.cx,m+ur.cy,ie,_l(ur.y0,ur.x0),_l(kr.y0,kr.x0),!y):(nr>0&&n.arc(h+ur.cx,m+ur.cy,nr,_l(ur.y0,ur.x0),_l(ur.y1,ur.x1),!y),n.arc(h,m,o,_l(ur.cy+ur.y1,ur.cx+ur.x1),_l(kr.cy+kr.y1,kr.cx+kr.x1),!y),br>0&&n.arc(h+kr.cx,m+kr.cy,br,_l(kr.y1,kr.x1),_l(kr.y0,kr.x0),!y))}else n.moveTo(h+Xe,m+nt),n.arc(h,m,o,c,f,!y);else n.moveTo(h+Xe,m+nt);i>kc&&mt?ye>kc?(nr=ic(k,ye),ur=ym(it,ut,_e,Se,i,-(br=ic(D,ye)),y),kr=ym(Xe,nt,Ae,Fe,i,-nr,y),n.lineTo(h+ur.cx+ur.x0,m+ur.cy+ur.y0),ye<ee&&nr===br?n.arc(h+ur.cx,m+ur.cy,ye,_l(ur.y0,ur.x0),_l(kr.y0,kr.x0),!y):(br>0&&n.arc(h+ur.cx,m+ur.cy,br,_l(ur.y0,ur.x0),_l(ur.y1,ur.x1),!y),n.arc(h,m,i,_l(ur.cy+ur.y1,ur.cx+ur.x1),_l(kr.cy+kr.y1,kr.cx+kr.x1),y),nr>0&&n.arc(h+kr.cx,m+kr.cy,nr,_l(kr.y1,kr.x1),_l(kr.y0,kr.x0),!y))):(n.lineTo(h+it,m+ut),n.arc(h,m,i,f,c,y)):n.lineTo(h+it,m+ut)}else n.moveTo(h,m);n.closePath()}}}(e,o)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t}(Do);Ll.prototype.type="sector";var bm=function(){this.cx=0,this.cy=0,this.r=0,this.r0=0},wh=function(n){function t(e){return n.call(this,e)||this}return yt(t,n),t.prototype.getDefaultShape=function(){return new bm},t.prototype.buildPath=function(e,o){var i=o.cx,a=o.cy,u=2*Math.PI;e.moveTo(i+o.r,a),e.arc(i,a,o.r,0,u,!1),e.moveTo(i+o.r0,a),e.arc(i,a,o.r0,0,u,!0)},t}(Do);function ag(n,t,e){var o=t.smooth,i=t.points;if(i&&i.length>=2){if(o){var a=function(_,S,k,D){var A,E,N,z,F=[],q=[],X=[],ee=[];if(D){N=[1/0,1/0],z=[-1/0,-1/0];for(var ie=0,ye=_.length;ie<ye;ie++)Wt(N,N,_[ie]),eo(z,z,_[ie]);Wt(N,N,D[0]),eo(z,z,D[1])}for(ie=0,ye=_.length;ie<ye;ie++){var _e=_[ie];if(k)A=_[ie?ie-1:ye-1],E=_[(ie+1)%ye];else{if(0===ie||ie===ye-1){F.push(Iu(_[ie]));continue}A=_[ie-1],E=_[ie+1]}lt(q,E,A),dn(q,q,S);var Se=Jn(_e,A),Ae=Jn(_e,E),Fe=Se+Ae;0!==Fe&&(Se/=Fe,Ae/=Fe),dn(X,q,-Se),dn(ee,q,Ae);var Xe=qt([],_e,X),nt=qt([],_e,ee);D&&(eo(Xe,Xe,N),Wt(Xe,Xe,z),eo(nt,nt,N),Wt(nt,nt,z)),F.push(Xe),F.push(nt)}return k&&F.push(F.shift()),F}(i,o,e,t.smoothConstraint);n.moveTo(i[0][0],i[0][1]);for(var u=i.length,c=0;c<(e?u:u-1);c++){var f=a[2*c],h=a[2*c+1],m=i[(c+1)%u];n.bezierCurveTo(f[0],f[1],h[0],h[1],m[0],m[1])}}else{n.moveTo(i[0][0],i[0][1]),c=1;for(var y=i.length;c<y;c++)n.lineTo(i[c][0],i[c][1])}e&&n.closePath()}}wh.prototype.type="ring";var qv=function(){this.points=null,this.smooth=0,this.smoothConstraint=null},ms=function(n){function t(e){return n.call(this,e)||this}return yt(t,n),t.prototype.getDefaultShape=function(){return new qv},t.prototype.buildPath=function(e,o){ag(e,o,!0)},t}(Do);ms.prototype.type="polygon";var xm=function(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null},ou=function(n){function t(e){return n.call(this,e)||this}return yt(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new xm},t.prototype.buildPath=function(e,o){ag(e,o,!1)},t}(Do);ou.prototype.type="polyline";var Yv={},Ob=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},Ws=function(n){function t(e){return n.call(this,e)||this}return yt(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Ob},t.prototype.buildPath=function(e,o){var i,a,u,c;if(this.subPixelOptimize){var f=Jp(Yv,o,this.style);i=f.x1,a=f.y1,u=f.x2,c=f.y2}else i=o.x1,a=o.y1,u=o.x2,c=o.y2;var h=o.percent;0!==h&&(e.moveTo(i,a),h<1&&(u=i*(1-h)+u*h,c=a*(1-h)+c*h),e.lineTo(u,c))},t.prototype.pointAt=function(e){var o=this.shape;return[o.x1*(1-e)+o.x2*e,o.y1*(1-e)+o.y2*e]},t}(Do);Ws.prototype.type="line";var wl=[],j_=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1};function Eb(n,t,e){return null!=n.cpx2||null!=n.cpy2?[(e?Hh:Ra)(n.x1,n.cpx1,n.cpx2,n.x2,t),(e?Hh:Ra)(n.y1,n.cpy1,n.cpy2,n.y2,t)]:[(e?mc:ns)(n.x1,n.cpx1,n.x2,t),(e?mc:ns)(n.y1,n.cpy1,n.y2,t)]}var Sl=function(n){function t(e){return n.call(this,e)||this}return yt(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new j_},t.prototype.buildPath=function(e,o){var i=o.x1,a=o.y1,u=o.x2,c=o.y2,f=o.cpx1,h=o.cpy1,m=o.cpx2,y=o.cpy2,_=o.percent;0!==_&&(e.moveTo(i,a),null==m||null==y?(_<1&&(mf(i,f,u,_,wl),f=wl[1],u=wl[2],mf(a,h,c,_,wl),h=wl[1],c=wl[2]),e.quadraticCurveTo(f,h,u,c)):(_<1&&(Sd(i,f,m,u,_,wl),f=wl[1],m=wl[2],u=wl[3],Sd(a,h,y,c,_,wl),h=wl[1],y=wl[2],c=wl[3]),e.bezierCurveTo(f,h,m,y,u,c)))},t.prototype.pointAt=function(e){return Eb(this.shape,e,!1)},t.prototype.tangentAt=function(e){var o=Eb(this.shape,e,!0);return mr(o,o)},t}(Do);Sl.prototype.type="bezier-curve";var Xv=function(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},Xa=function(n){function t(e){return n.call(this,e)||this}return yt(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Xv},t.prototype.buildPath=function(e,o){var i=o.cx,a=o.cy,u=Math.max(o.r,0),c=o.startAngle,f=o.endAngle,h=o.clockwise,m=Math.cos(c),y=Math.sin(c);e.moveTo(m*u+i,y*u+a),e.arc(i,a,u,c,f,!h)},t}(Do);Xa.prototype.type="arc";var Sh=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="compound",e}return yt(t,n),t.prototype._updatePathDirty=function(){for(var e=this.shape.paths,o=this.shapeChanged(),i=0;i<e.length;i++)o=o||e[i].shapeChanged();o&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var e=this.shape.paths||[],o=this.getGlobalScale(),i=0;i<e.length;i++)e[i].path||e[i].createPathProxy(),e[i].path.setScale(o[0],o[1],e[i].segmentIgnoreThreshold)},t.prototype.buildPath=function(e,o){for(var i=o.paths||[],a=0;a<i.length;a++)i[a].buildPath(e,i[a].shape,!0)},t.prototype.afterBrush=function(){for(var e=this.shape.paths||[],o=0;o<e.length;o++)e[o].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Do.prototype.getBoundingRect.call(this)},t}(Do),vs=function(){function n(t){this.colorStops=t||[]}return n.prototype.addColorStop=function(t,e){this.colorStops.push({offset:t,color:e})},n}(),pp=function(n){function t(e,o,i,a,u,c){var f=n.call(this,u)||this;return f.x=null==e?0:e,f.y=null==o?0:o,f.x2=null==i?1:i,f.y2=null==a?0:a,f.type="linear",f.global=c||!1,f}return yt(t,n),t}(vs),i0=function(n){function t(e,o,i,a,u){var c=n.call(this,a)||this;return c.x=null==e?.5:e,c.y=null==o?.5:o,c.r=null==i?.5:i,c.type="radial",c.global=u||!1,c}return yt(t,n),t}(vs),od=[0,0],Nl=[0,0],_m=new mo,wm=new mo,sg=function(){function n(t,e){this._corners=[],this._axes=[],this._origin=[0,0];for(var o=0;o<4;o++)this._corners[o]=new mo;for(o=0;o<2;o++)this._axes[o]=new mo;t&&this.fromBoundingRect(t,e)}return n.prototype.fromBoundingRect=function(t,e){var o=this._corners,i=this._axes,a=t.x,u=t.y,c=a+t.width,f=u+t.height;if(o[0].set(a,u),o[1].set(c,u),o[2].set(c,f),o[3].set(a,f),e)for(var h=0;h<4;h++)o[h].transform(e);for(mo.sub(i[0],o[1],o[0]),mo.sub(i[1],o[3],o[0]),i[0].normalize(),i[1].normalize(),h=0;h<2;h++)this._origin[h]=i[h].dot(o[0])},n.prototype.intersect=function(t,e){var o=!0,i=!e;return _m.set(1/0,1/0),wm.set(0,0),!this._intersectCheckOneSide(this,t,_m,wm,i,1)&&(o=!1,i)||!this._intersectCheckOneSide(t,this,_m,wm,i,-1)&&(o=!1,i)||i||mo.copy(e,o?_m:wm),o},n.prototype._intersectCheckOneSide=function(t,e,o,i,a,u){for(var c=!0,f=0;f<2;f++){var h=this._axes[f];if(this._getProjMinMaxOnAxis(f,t._corners,od),this._getProjMinMaxOnAxis(f,e._corners,Nl),od[1]<Nl[0]||od[0]>Nl[1]){if(c=!1,a)return c;var m=Math.abs(Nl[0]-od[1]),y=Math.abs(od[0]-Nl[1]);Math.min(m,y)>i.len()&&mo.scale(i,h,m<y?-m*u:y*u)}else o&&(m=Math.abs(Nl[0]-od[1]),y=Math.abs(od[0]-Nl[1]),Math.min(m,y)<o.len()&&mo.scale(o,h,m<y?m*u:-y*u))}return c},n.prototype._getProjMinMaxOnAxis=function(t,e,o){for(var i=this._axes[t],a=this._origin,u=e[0].dot(i)+a[t],c=u,f=u,h=1;h<e.length;h++){var m=e[h].dot(i)+a[t];c=Math.min(m,c),f=Math.max(m,f)}o[0]=c,o[1]=f},n}(),q_=[],a0=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.notClear=!0,e.incremental=!0,e._displayables=[],e._temporaryDisplayables=[],e._cursor=0,e}return yt(t,n),t.prototype.traverse=function(e,o){e.call(o,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(e,o){o?this._temporaryDisplayables.push(e):this._displayables.push(e),this.markRedraw()},t.prototype.addDisplayables=function(e,o){o=o||!1;for(var i=0;i<e.length;i++)this.addDisplayable(e[i],o)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(e){for(var o=this._cursor;o<this._displayables.length;o++)e&&e(this._displayables[o]);for(o=0;o<this._temporaryDisplayables.length;o++)e&&e(this._temporaryDisplayables[o])},t.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++)(o=this._displayables[e]).parent=this,o.update(),o.parent=null;for(e=0;e<this._temporaryDisplayables.length;e++){var o;(o=this._temporaryDisplayables[e]).parent=this,o.update(),o.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new To(1/0,1/0,-1/0,-1/0),o=0;o<this._displayables.length;o++){var i=this._displayables[o],a=i.getBoundingRect().clone();i.needLocalTransform()&&a.applyTransform(i.getLocalTransform(q_)),e.union(a)}this._rect=e}return this._rect},t.prototype.contain=function(e,o){var i=this.transformCoordToLocal(e,o);if(this.getBoundingRect().contain(i[0],i[1]))for(var a=0;a<this._displayables.length;a++)if(this._displayables[a].contain(e,o))return!0;return!1},t}(zu),ax=Qo();function ac(n,t,e,o,i){var a;if(t&&t.ecModel){var u=t.ecModel.getUpdatePayload();a=u&&u.animation}var c="update"===n;if(t&&t.isAnimationEnabled()){var f=void 0,h=void 0,m=void 0;return o?(f=_n(o.duration,200),h=_n(o.easing,"cubicOut"),m=0):(f=t.getShallow(c?"animationDurationUpdate":"animationDuration"),h=t.getShallow(c?"animationEasingUpdate":"animationEasing"),m=t.getShallow(c?"animationDelayUpdate":"animationDelay")),a&&(null!=a.duration&&(f=a.duration),null!=a.easing&&(h=a.easing),null!=a.delay&&(m=a.delay)),hn(m)&&(m=m(e,i)),hn(f)&&(f=f(e)),{duration:f||0,delay:m,easing:h}}return null}function jo(n,t,e,o,i,a,u){var c,f=!1;hn(i)?(u=a,a=i,i=null):fr(i)&&(a=i.cb,u=i.during,f=i.isFrom,c=i.removeOpt,i=i.dataIndex);var h="leave"===n;h||t.stopAnimation("leave");var m=ac(n,o,i,h?c||{}:null,o&&o.getAnimationDelayParams?o.getAnimationDelayParams(t,i):null);if(m&&m.duration>0){var y={duration:m.duration,delay:m.delay||0,easing:m.easing,done:a,force:!!a||!!u,setToFinal:!h,scope:n,during:u};f?t.animateFrom(e,y):t.animateTo(e,y)}else t.stopAnimation(),!f&&t.attr(e),u&&u(1),a&&a()}function io(n,t,e,o,i,a){jo("update",n,t,e,o,i,a)}function _a(n,t,e,o,i,a){jo("enter",n,t,e,o,i,a)}function Sm(n){if(!n.__zr)return!0;for(var t=0;t<n.animators.length;t++)if("leave"===n.animators[t].scope)return!0;return!1}function gp(n,t,e,o,i,a){Sm(n)||jo("leave",n,t,e,o,i,a)}function sx(n,t,e,o){n.removeTextContent(),n.removeTextGuideLine(),gp(n,{style:{opacity:0}},t,e,o)}function s0(n,t,e){function o(){n.parent&&n.parent.remove(n)}n.isGroup?n.traverse(function(i){i.isGroup||sx(i,t,e,o)}):sx(n,t,e,o)}function Df(n){ax(n).oldStyle=n.style}var u0=Math.max,Cm=Math.min,Bl={};function tl(n){return Do.extend(n)}function Zv(n,t){return function(n,t){var e=Ib(n,t);return function(o){function i(a){var u=o.call(this,a)||this;return u.applyTransform=e.applyTransform,u.buildPath=e.buildPath,u}return yt(i,o),i}(ig)}(n,t)}function Mc(n,t){Bl[n]=t}function l0(n){if(Bl.hasOwnProperty(n))return Bl[n]}function Ch(n,t,e,o){var i=el(n,t);return e&&("center"===o&&(e=kh(e,i.getBoundingRect())),c0(i,e)),i}function $c(n,t,e){var o=new bu({style:{image:n,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(i){"center"===e&&o.setStyle(kh(t,{width:i.width,height:i.height}))}});return o}function kh(n,t){var e,o=t.width/t.height,i=n.height*o;return e=i<=n.width?n.height:(i=n.width)/o,{x:n.x+n.width/2-i/2,y:n.y+n.height/2-e/2,width:i,height:e}}var Cl=function(n,t){for(var e=[],o=n.length,i=0;i<o;i++)e.push(n[i].getUpdatedPathProxy(!0));var u=new Do(t);return u.createPathProxy(),u.buildPath=function(c){if(Ab(c)){c.appendPath(e);var f=c.getContext();f&&c.rebuildPath(f,1)}},u};function c0(n,t){if(n.applyTransform){var e=n.getBoundingRect().calculateTransform(t);n.applyTransform(e)}}function Af(n,t){return Jp(n,n,{lineWidth:t}),n}var km=Ud;function Eo(n,t){for(var e=Ry([]);n&&n!==t;)Wr(e,n.getLocalTransform(),e),n=n.parent;return e}function _u(n,t,e){return t&&!Ht(t)&&(t=Bi.getLocalTransform(t)),e&&(t=Ut([],t)),En([],n,t)}function Mh(n,t,e){var o=0===t[4]||0===t[5]||0===t[0]?1:Math.abs(2*t[4]/t[0]),i=0===t[4]||0===t[5]||0===t[2]?1:Math.abs(2*t[4]/t[2]),a=["left"===n?-o:"right"===n?o:0,"top"===n?-i:"bottom"===n?i:0];return a=_u(a,t,e),Math.abs(a[0])>Math.abs(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function ux(n){return!n.isGroup}function ko(n,t,e){if(n&&t){var o,i=(o={},n.traverse(function(u){ux(u)&&u.anid&&(o[u.anid]=u)}),o);t.traverse(function(u){if(ux(u)&&u.anid){var c=i[u.anid];if(c){var f=a(u);u.attr(a(c)),io(u,f,e,fo(u).dataIndex)}}})}function a(u){var c={x:u.x,y:u.y,rotation:u.rotation};return null!=u.shape&&(c.shape=Pe({},u.shape)),c}}function Pb(n,t){return It(n,function(e){var o=e[0];o=u0(o,t.x),o=Cm(o,t.x+t.width);var i=e[1];return i=u0(i,t.y),[o,i=Cm(i,t.y+t.height)]})}function Kv(n,t){var e=u0(n.x,t.x),o=Cm(n.x+n.width,t.x+t.width),i=u0(n.y,t.y),a=Cm(n.y+n.height,t.y+t.height);if(o>=e&&a>=i)return{x:e,y:i,width:o-e,height:a-i}}function If(n,t,e){var o=Pe({rectHover:!0},t),i=o.style={strokeNoScale:!0};if(e=e||{x:-1,y:-1,width:2,height:2},n)return 0===n.indexOf("image://")?(i.image=n.slice(8),ht(i,e),new bu(o)):Ch(n.replace("path://",""),o,e,"center")}function ug(n,t,e,o,i){for(var a=0,u=i[i.length-1];a<i.length;a++){var c=i[a];if($v(n,t,e,o,c[0],c[1],u[0],u[1]))return!0;u=c}}function $v(n,t,e,o,i,a,u,c){var f,h=e-n,m=o-t,y=u-i,_=c-a,S=Jc(y,_,h,m);if((f=S)<=1e-6&&f>=-1e-6)return!1;var k=n-i,D=t-a,A=Jc(k,D,h,m)/S;if(A<0||A>1)return!1;var E=Jc(k,D,y,_)/S;return!(E<0||E>1)}function Jc(n,t,e,o){return n*o-e*t}function As(n){var t=n.itemTooltipOption,e=n.componentModel,o=n.itemName,i=Un(t)?{formatter:t}:t,a=e.mainType,u=e.componentIndex,c={componentType:a,name:o,$vars:["name"]};c[a+"Index"]=u;var f=n.formatterParamsExtra;f&&Te(Zn(f),function(m){Mr(c,m)||(c[m]=f[m],c.$vars.push(m))});var h=fo(n.el);h.componentMainType=a,h.componentIndex=u,h.tooltipConfig={name:o,option:ht({content:o,formatterParams:c},i)}}function Mm(n,t){var e;n.isGroup&&(e=t(n)),e||n.traverse(t)}function Vu(n,t){if(n)if(tt(n))for(var e=0;e<n.length;e++)Mm(n[e],t);else Mm(n,t)}Mc("circle",Kc),Mc("ellipse",gs),Mc("sector",Ll),Mc("ring",wh),Mc("polygon",ms),Mc("polyline",ou),Mc("rect",oi),Mc("line",Ws),Mc("bezierCurve",Sl),Mc("arc",Xa);var lg=Object.freeze({__proto__:null,updateProps:io,initProps:_a,removeElement:gp,removeElementWithFadeOut:s0,isElementRemoved:Sm,extendShape:tl,extendPath:Zv,registerShape:Mc,getShapeClass:l0,makePath:Ch,makeImage:$c,mergePath:Cl,resizePath:c0,subPixelOptimizeLine:Af,subPixelOptimizeRect:function(n){return z_(n.shape,n.shape,n.style),n},subPixelOptimize:km,getTransform:Eo,applyTransform:_u,transformDirection:Mh,groupTransition:ko,clipPointsByRect:Pb,clipRectByRect:Kv,createIcon:If,linePolygonIntersect:ug,lineLineIntersect:$v,setTooltipConfig:As,traverseElements:Vu,Group:lo,Image:bu,Text:li,Circle:Kc,Ellipse:gs,Sector:Ll,Ring:wh,Polygon:ms,Polyline:ou,Rect:oi,Line:Ws,BezierCurve:Sl,Arc:Xa,IncrementalDisplayable:a0,CompoundPath:Sh,LinearGradient:pp,RadialGradient:i0,BoundingRect:To,OrientedBoundingRect:sg,Point:mo,Path:Do}),ad={};function Tc(n,t){for(var e=0;e<Va.length;e++){var o=Va[e],i=t[o],a=n.ensureState(o);a.style=a.style||{},a.style.text=i}var u=n.currentStates.slice();n.clearStates(!0),n.setStyle({text:t.normal}),n.useStates(u,!0)}function Jv(n,t,e){var o,i=n.labelFetcher,a=n.labelDataIndex,u=n.labelDimIndex,c=t.normal;i&&(o=i.getFormattedLabel(a,"normal",null,u,c&&c.get("formatter"),null!=e?{interpolatedValue:e}:null)),null==o&&(o=hn(n.defaultText)?n.defaultText(a,n,e):n.defaultText);for(var f={normal:o},h=0;h<Va.length;h++){var m=Va[h],y=t[m];f[m]=_n(i?i.getFormattedLabel(a,m,null,u,y&&y.get("formatter")):null,o)}return f}function Da(n,t,e,o){e=e||ad;for(var i=n instanceof li,a=!1,u=0;u<Qp.length;u++)if((_=t[Qp[u]])&&_.getShallow("show")){a=!0;break}var c=i?n:n.getTextContent();if(a){i||(c||(c=new li,n.setTextContent(c)),n.stateProxy&&(c.stateProxy=n.stateProxy));var f=Jv(e,t),h=t.normal,m=!!h.getShallow("show"),y=yi(h,o&&o.normal,e,!1,!i);for(y.text=f.normal,i||n.setTextConfig(sd(h,e,!1)),u=0;u<Va.length;u++){var _,S=Va[u];if(_=t[S]){var k=c.ensureState(S),D=!!_n(_.getShallow("show"),m);D!==m&&(k.ignore=!D),k.style=yi(_,o&&o[S],e,!0,!i),k.style.text=f[S],!i&&(n.ensureState(S).textConfig=sd(_,e,!0))}}c.silent=!!h.getShallow("silent"),null!=c.style.x&&(y.x=c.style.x),null!=c.style.y&&(y.y=c.style.y),c.ignore=!m,c.useStyle(y),c.dirty(),e.enableTextSetter&&(mp(c).setLabelText=function(A){var E=Jv(e,t,A);Tc(c,E)})}else c&&(c.ignore=!0);n.dirty()}function Aa(n,t){for(var e={normal:n.getModel(t=t||"label")},o=0;o<Va.length;o++){var i=Va[o];e[i]=n.getModel([i,t])}return e}function yi(n,t,e,o,i){var a={};return function(u,c,f,h,m){f=f||ad;var y,_=c.ecModel,S=_&&_.option.textStyle,k=function(z){for(var F;z&&z!==z.ecModel;){var q=(z.option||ad).rich;if(q){F=F||{};for(var X=Zn(q),ee=0;ee<X.length;ee++)F[X[ee]]=1}z=z.parentModel}return F}(c);if(k)for(var D in y={},k)if(k.hasOwnProperty(D)){var A=c.getModel(["rich",D]);Qv(y[D]={},A,S,f,h,m,!1,!0)}y&&(u.rich=y);var E=c.get("overflow");E&&(u.overflow=E);var N=c.get("minMargin");null!=N&&(u.margin=N),Qv(u,c,S,f,h,m,!0,!1)}(a,n,e,o,i),t&&Pe(a,t),a}function sd(n,t,e){t=t||{};var o,i={},a=n.getShallow("rotate"),u=_n(n.getShallow("distance"),e?null:5),c=n.getShallow("offset");return"outside"===(o=n.getShallow("position")||(e?null:"inside"))&&(o=t.defaultOutsidePosition||"top"),null!=o&&(i.position=o),null!=c&&(i.offset=c),null!=a&&(a*=Math.PI/180,i.rotation=a),null!=u&&(i.distance=u),i.outsideFill="inherit"===n.get("color")?t.inheritColor||null:"auto",i}var cg=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],Y_=["align","lineHeight","width","height","tag","verticalAlign"],Tm=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function Qv(n,t,e,o,i,a,u,c){e=!i&&e||ad;var f=o&&o.inheritColor,h=t.getShallow("color"),m=t.getShallow("textBorderColor"),y=_n(t.getShallow("opacity"),e.opacity);"inherit"!==h&&"auto"!==h||(h=f||null),"inherit"!==m&&"auto"!==m||(m=f||null),a||(h=h||e.color,m=m||e.textBorderColor),null!=h&&(n.fill=h),null!=m&&(n.stroke=m);var _=_n(t.getShallow("textBorderWidth"),e.textBorderWidth);null!=_&&(n.lineWidth=_);var S=_n(t.getShallow("textBorderType"),e.textBorderType);null!=S&&(n.lineDash=S);var k=_n(t.getShallow("textBorderDashOffset"),e.textBorderDashOffset);null!=k&&(n.lineDashOffset=k),i||null!=y||c||(y=o&&o.defaultOpacity),null!=y&&(n.opacity=y),i||a||null==n.fill&&o.inheritColor&&(n.fill=o.inheritColor);for(var D=0;D<cg.length;D++){var A=cg[D];null!=(N=_n(t.getShallow(A),e[A]))&&(n[A]=N)}for(D=0;D<Y_.length;D++)null!=(N=t.getShallow(A=Y_[D]))&&(n[A]=N);if(null==n.verticalAlign){var E=t.getShallow("baseline");null!=E&&(n.verticalAlign=E)}if(!u||!o.disableBox){for(D=0;D<Tm.length;D++){var N;null!=(N=t.getShallow(A=Tm[D]))&&(n[A]=N)}var z=t.getShallow("borderType");null!=z&&(n.borderDash=z),"auto"!==n.backgroundColor&&"inherit"!==n.backgroundColor||!f||(n.backgroundColor=f),"auto"!==n.borderColor&&"inherit"!==n.borderColor||!f||(n.borderColor=f)}}function Dm(n,t){var e=t&&t.getModel("textStyle");return ni([n.fontStyle||e&&e.getShallow("fontStyle")||"",n.fontWeight||e&&e.getShallow("fontWeight")||"",(n.fontSize||e&&e.getShallow("fontSize")||12)+"px",n.fontFamily||e&&e.getShallow("fontFamily")||"sans-serif"].join(" "))}var mp=Qo();function nl(n,t,e,o){if(n){var i=mp(n);i.prevValue=i.value,i.value=e;var a=t.normal;i.valueAnimation=a.get("valueAnimation"),i.valueAnimation&&(i.precision=a.get("precision"),i.defaultInterpolatedText=o,i.statesModels=t)}}function f0(n,t,e,o,i){var a=mp(n);if(a.valueAnimation&&a.prevValue!==a.value){var u=a.defaultInterpolatedText,c=_n(a.interpolatedValue,a.prevValue),f=a.value;n.percent=0,(null==a.prevValue?_a:io)(n,{percent:1},o,t,null,function(h){var m=R_(e,a.precision,c,f,h);a.interpolatedValue=1===h?null:m;var y=Jv({labelDataIndex:t,labelFetcher:i,defaultText:u?u(m):m+""},a.statesModels,m);Tc(n,y)})}}var Am,d0,lx=["textStyle","color"],cx=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],fg=new li,qo=function(){function n(){}return n.prototype.getTextColor=function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(lx):null)},n.prototype.getFont=function(){return Dm({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},n.prototype.getTextRect=function(t){for(var e={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},o=0;o<cx.length;o++)e[cx[o]]=this.getShallow(cx[o]);return fg.useStyle(e),fg.update(),fg.getBoundingRect()},n}(),vp=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],dg=op(vp),h0=function(){function n(){}return n.prototype.getLineStyle=function(t){return dg(this,t)},n}(),fx=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],LS=op(fx),dx=function(){function n(){}return n.prototype.getItemStyle=function(t,e){return LS(this,t,e)},n}(),Pi=function(){function n(t,e,o){this.parentModel=e,this.ecModel=o,this.option=t}return n.prototype.init=function(t,e,o){for(var i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a]},n.prototype.mergeOption=function(t,e){Ve(this.option,t,!0)},n.prototype.get=function(t,e){return null==t?this.option:this._doGet(this.parsePath(t),!e&&this.parentModel)},n.prototype.getShallow=function(t,e){var o=this.option,i=null==o?o:o[t];if(null==i&&!e){var a=this.parentModel;a&&(i=a.getShallow(t))}return i},n.prototype.getModel=function(t,e){var o=null!=t,i=o?this.parsePath(t):null;return new n(o?this._doGet(i):this.option,e=e||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),this.ecModel)},n.prototype.isEmpty=function(){return null==this.option},n.prototype.restoreData=function(){},n.prototype.clone=function(){return new this.constructor(Re(this.option))},n.prototype.parsePath=function(t){return"string"==typeof t?t.split("."):t},n.prototype.resolveParentPath=function(t){return t},n.prototype.isAnimationEnabled=function(){if(!We.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},n.prototype._doGet=function(t,e){var o=this.option;if(!t)return o;for(var i=0;i<t.length&&(!t[i]||null!=(o=o&&"object"==typeof o?o[t[i]]:null));i++);return null==o&&e&&(o=e._doGet(this.resolveParentPath(t),e.parentModel)),o},n}();Ql(Pi),Am=Pi,d0=["__\0is_clz",Yy++].join("_"),Am.prototype[d0]=!0,Am.isInstance=function(n){return!(!n||!n[d0])},_r(Pi,h0),_r(Pi,dx),_r(Pi,rm),_r(Pi,qo);var hx=Math.round(10*Math.random());function Im(n){return[n||"",hx++].join("_")}function Xd(n,t){return Ve(Ve({},n,!0),t,!0)}var hg={},bp={},Om=We.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase().indexOf("ZH")>-1?"ZH":"EN";function qr(n,t){n=n.toUpperCase(),bp[n]=new Pi(t),hg[n]=t}function px(n){return bp[n]}qr("EN",{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),qr("ZH",{time:{month:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],dayOfWeekAbbr:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53cd\u9009"}},toolbox:{brush:{title:{rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"}},dataView:{title:"\u6570\u636e\u89c6\u56fe",lang:["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"]},dataZoom:{title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}},magicType:{title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"}},restore:{title:"\u8fd8\u539f"},saveAsImage:{title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]}},series:{typeNames:{pie:"\u997c\u56fe",bar:"\u67f1\u72b6\u56fe",line:"\u6298\u7ebf\u56fe",scatter:"\u6563\u70b9\u56fe",effectScatter:"\u6d9f\u6f2a\u6563\u70b9\u56fe",radar:"\u96f7\u8fbe\u56fe",tree:"\u6811\u56fe",treemap:"\u77e9\u5f62\u6811\u56fe",boxplot:"\u7bb1\u578b\u56fe",candlestick:"K\u7ebf\u56fe",k:"K\u7ebf\u56fe",heatmap:"\u70ed\u529b\u56fe",map:"\u5730\u56fe",parallel:"\u5e73\u884c\u5750\u6807\u56fe",lines:"\u7ebf\u56fe",graph:"\u5173\u7cfb\u56fe",sankey:"\u6851\u57fa\u56fe",funnel:"\u6f0f\u6597\u56fe",gauge:"\u4eea\u8868\u76d8\u56fe",pictorialBar:"\u8c61\u5f62\u67f1\u56fe",themeRiver:"\u4e3b\u9898\u6cb3\u6d41\u56fe",sunburst:"\u65ed\u65e5\u56fe"}},aria:{general:{withTitle:"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u201c{title}\u201d\u7684\u56fe\u8868\u3002",withoutTitle:"\u8fd9\u662f\u4e00\u4e2a\u56fe\u8868\uff0c"},series:{single:{prefix:"",withName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\uff0c\u8868\u793a{seriesName}\u3002",withoutName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\u3002"},multiple:{prefix:"\u5b83\u7531{seriesCount}\u4e2a\u56fe\u8868\u7cfb\u5217\u7ec4\u6210\u3002",withName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a\u8868\u793a{seriesName}\u7684{seriesType}\uff0c",withoutName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a{seriesType}\uff0c",separator:{middle:"\uff1b",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636e\u662f\u2014\u2014",partialData:"\u5176\u4e2d\uff0c\u524d{displayCnt}\u9879\u662f\u2014\u2014",withName:"{name}\u7684\u6570\u636e\u662f{value}",withoutName:"{value}",separator:{middle:"\uff0c",end:""}}}});var Em=864e5,ny=31536e6,xp={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},_p="{yyyy}-{MM}-{dd}",pg={year:"{yyyy}",month:"{yyyy}-{MM}",day:_p,hour:_p+" "+xp.hour,minute:_p+" "+xp.minute,second:_p+" "+xp.second,millisecond:xp.none},gg=["year","month","day","hour","minute","second","millisecond"],Pm=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function zl(n,t){return"0000".substr(0,t-(n+="").length)+n}function Zd(n){switch(n){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return n}}function NS(n){return n===Zd(n)}function Is(n,t,e,o){var i=Wc(n),a=i[ry(e)](),u=i[Rm(e)]()+1,c=Math.floor((u-1)/3)+1,f=i[ld(e)](),h=i["get"+(e?"UTC":"")+"Day"](),m=i[oy(e)](),y=(m-1)%12+1,_=i[mg(e)](),S=i[iy(e)](),k=i[Lm(e)](),D=(o instanceof Pi?o:px(o||Om)||bp.EN).getModel("time"),A=D.get("month"),E=D.get("monthAbbr"),N=D.get("dayOfWeek"),z=D.get("dayOfWeekAbbr");return(t||"").replace(/{yyyy}/g,a+"").replace(/{yy}/g,a%100+"").replace(/{Q}/g,c+"").replace(/{MMMM}/g,A[u-1]).replace(/{MMM}/g,E[u-1]).replace(/{MM}/g,zl(u,2)).replace(/{M}/g,u+"").replace(/{dd}/g,zl(f,2)).replace(/{d}/g,f+"").replace(/{eeee}/g,N[h]).replace(/{ee}/g,z[h]).replace(/{e}/g,h+"").replace(/{HH}/g,zl(m,2)).replace(/{H}/g,m+"").replace(/{hh}/g,zl(y+"",2)).replace(/{h}/g,y+"").replace(/{mm}/g,zl(_,2)).replace(/{m}/g,_+"").replace(/{ss}/g,zl(S,2)).replace(/{s}/g,S+"").replace(/{SSS}/g,zl(k,3)).replace(/{S}/g,k+"")}function ud(n,t){var e=Wc(n),o=e[Rm(t)]()+1,i=e[ld(t)](),a=e[oy(t)](),u=e[mg(t)](),c=e[iy(t)](),f=0===e[Lm(t)](),h=f&&0===c,m=h&&0===u,y=m&&0===a,_=y&&1===i;return _&&1===o?"year":_?"month":y?"day":m?"hour":h?"minute":f?"second":"millisecond"}function Kd(n,t,e){var o=hr(n)?Wc(n):n;switch(t=t||ud(n,e)){case"year":return o[ry(e)]();case"half-year":return o[Rm(e)]()>=6?1:0;case"quarter":return Math.floor((o[Rm(e)]()+1)/4);case"month":return o[Rm(e)]();case"day":return o[ld(e)]();case"half-day":return o[oy(e)]()/24;case"hour":return o[oy(e)]();case"minute":return o[mg(e)]();case"second":return o[iy(e)]();case"millisecond":return o[Lm(e)]()}}function ry(n){return n?"getUTCFullYear":"getFullYear"}function Rm(n){return n?"getUTCMonth":"getMonth"}function ld(n){return n?"getUTCDate":"getDate"}function oy(n){return n?"getUTCHours":"getHours"}function mg(n){return n?"getUTCMinutes":"getMinutes"}function iy(n){return n?"getUTCSeconds":"getSeconds"}function Lm(n){return n?"getUTCMilliseconds":"getMilliseconds"}function BS(n){return n?"setUTCFullYear":"setFullYear"}function Lb(n){return n?"setUTCMonth":"setMonth"}function Wo(n){return n?"setUTCDate":"setDate"}function gx(n){return n?"setUTCHours":"setHours"}function Nb(n){return n?"setUTCMinutes":"setMinutes"}function $d(n){return n?"setUTCSeconds":"setSeconds"}function ay(n){return n?"setUTCMilliseconds":"setMilliseconds"}function Nm(n){if(!qi(n))return Un(n)?n:"-";var t=(n+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function Vr(n,t){return n=(n||"").toLowerCase().replace(/-(.)/g,function(e,o){return o.toUpperCase()}),t&&n&&(n=n.charAt(0).toUpperCase()+n.slice(1)),n}var vg=wr;function $o(n,t,e){function o(h){return h&&ni(h)?h:"-"}function i(h){return!(null==h||isNaN(h)||!isFinite(h))}var a="time"===t,u=n instanceof Date;if(a||u){var c=a?Wc(n):n;if(!isNaN(+c))return Is(c,"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}",e);if(u)return"-"}if("ordinal"===t)return Ja(n)?o(n):hr(n)&&i(n)?n+"":"-";var f=$i(n);return i(f)?Nm(f):Ja(n)?o(n):"boolean"==typeof n?n+"":"-"}var X_=["a","b","c","d","e","f","g"],Of=function(n,t){return"{"+n+(null==t?"":t)+"}"};function wu(n,t,e){tt(t)||(t=[t]);var o=t.length;if(!o)return"";for(var i=t[0].$vars||[],a=0;a<i.length;a++){var u=X_[a];n=n.replace(Of(u),Of(u,0))}for(var c=0;c<o;c++)for(var f=0;f<i.length;f++){var h=t[c][i[f]];n=n.replace(Of(X_[f],c),e?Ea(h):h)}return n}function Bm(n,t){var e=Un(n)?{color:n,extraCssText:t}:n||{},o=e.color,i=e.type;t=e.extraCssText;var a=e.renderMode||"html";return o?"html"===a?"subItem"===i?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Ea(o)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+Ea(o)+";"+(t||"")+'"></span>':{renderMode:a,content:"{"+(e.markerId||"markerX")+"|}  ",style:"subItem"===i?{width:4,height:4,borderRadius:2,backgroundColor:o}:{width:10,height:10,borderRadius:5,backgroundColor:o}}:""}function iu(n,t){return t=t||"transparent",Un(n)?n:fr(n)&&n.colorStops&&(n.colorStops[0]||{}).color||t}function yg(n,t){if("_blank"===t||"blank"===t){var e=window.open();e.opener=null,e.location.href=n}else window.open(n,t)}var bg=Te,zm=["left","right","top","bottom","width","height"],Dc=[["width","left","right"],["height","top","bottom"]];function wp(n,t,e,o,i){var a=0,u=0;null==o&&(o=1/0),null==i&&(i=1/0);var c=0;t.eachChild(function(f,h){var m,y,_=f.getBoundingRect(),S=t.childAt(h+1),k=S&&S.getBoundingRect();if("horizontal"===n){var D=_.width+(k?-k.x+_.x:0);(m=a+D)>o||f.newline?(a=0,m=D,u+=c+e,c=_.height):c=Math.max(c,_.height)}else{var A=_.height+(k?-k.y+_.y:0);(y=u+A)>i||f.newline?(a+=c+e,u=0,y=A,c=_.width):c=Math.max(c,_.width)}f.newline||(f.x=a,f.y=u,f.markRedraw(),"horizontal"===n?a=m+e:u=y+e)})}var rl=wp;function au(n,t,e){e=vg(e||0);var o=t.width,i=t.height,a=Qn(n.left,o),u=Qn(n.top,i),c=Qn(n.right,o),f=Qn(n.bottom,i),h=Qn(n.width,o),m=Qn(n.height,i),y=e[2]+e[0],_=e[1]+e[3],S=n.aspect;switch(isNaN(h)&&(h=o-c-_-a),isNaN(m)&&(m=i-f-y-u),null!=S&&(isNaN(h)&&isNaN(m)&&(S>o/i?h=.8*o:m=.8*i),isNaN(h)&&(h=S*m),isNaN(m)&&(m=h/S)),isNaN(a)&&(a=o-c-h-_),isNaN(u)&&(u=i-f-m-y),n.left||n.right){case"center":a=o/2-h/2-e[3];break;case"right":a=o-h-_}switch(n.top||n.bottom){case"middle":case"center":u=i/2-m/2-e[0];break;case"bottom":u=i-m-y}a=a||0,u=u||0,isNaN(h)&&(h=o-_-a-(c||0)),isNaN(m)&&(m=i-y-u-(f||0));var k=new To(a+e[3],u+e[0],h,m);return k.margin=e,k}function Fm(n,t,e,o,i,a){var u,c=!i||!i.hv||i.hv[0],f=!i||!i.hv||i.hv[1],h=i&&i.boundingMode||"all";if((a=a||n).x=n.x,a.y=n.y,!c&&!f)return!1;if("raw"===h)u="group"===n.type?new To(0,0,+t.width||0,+t.height||0):n.getBoundingRect();else if(u=n.getBoundingRect(),n.needLocalTransform()){var m=n.getLocalTransform();(u=u.clone()).applyTransform(m)}var y=au(ht({width:u.width,height:u.height},t),e,o),_=c?y.x-u.x:0,S=f?y.y-u.y:0;return"raw"===h?(a.x=_,a.y=S):(a.x+=_,a.y+=S),a===n&&n.markRedraw(),!0}function Sp(n){var t=n.layoutMode||n.constructor.layoutMode;return fr(t)?t:t?{type:t}:null}function xg(n,t,e){var o=e&&e.ignoreSize;!tt(o)&&(o=[o,o]);var i=u(Dc[0],0),a=u(Dc[1],1);function u(m,y){var _={},S=0,k={},D=0;if(bg(m,function(N){k[N]=n[N]}),bg(m,function(N){c(t,N)&&(_[N]=k[N]=t[N]),f(_,N)&&S++,f(k,N)&&D++}),o[y])return f(t,m[1])?k[m[2]]=null:f(t,m[2])&&(k[m[1]]=null),k;if(2!==D&&S){if(S>=2)return _;for(var A=0;A<m.length;A++){var E=m[A];if(!c(_,E)&&c(n,E)){_[E]=n[E];break}}return _}return k}function c(m,y){return m.hasOwnProperty(y)}function f(m,y){return null!=m[y]&&"auto"!==m[y]}function h(m,y,_){bg(m,function(S){y[S]=_[S]})}h(Dc[0],n,i),h(Dc[1],n,a)}function _g(n){return T({},n)}function T(n,t){return t&&n&&bg(zm,function(e){t.hasOwnProperty(e)&&(n[e]=t[e])}),n}cr(wp,"vertical"),cr(wp,"horizontal");var n,t,R=Qo(),H=function(n){function t(e,o,i){var a=n.call(this,e,o,i)||this;return a.uid=Im("ec_cpt_model"),a}return yt(t,n),t.prototype.init=function(e,o,i){this.mergeDefaultAndTheme(e,i)},t.prototype.mergeDefaultAndTheme=function(e,o){var i=Sp(this),a=i?_g(e):{};Ve(e,o.getTheme().get(this.mainType)),Ve(e,this.getDefaultOption()),i&&xg(e,a,i)},t.prototype.mergeOption=function(e,o){Ve(this.option,e,!0);var i=Sp(this);i&&xg(this.option,e,i)},t.prototype.optionUpdated=function(e,o){},t.prototype.getDefaultOption=function(){var h,e=this.constructor;if(!(h=e)||!h[za])return e.defaultOption;var o=R(this);if(!o.defaultOption){for(var i=[],a=e;a;){var u=a.prototype.defaultOption;u&&i.push(u),a=a.superClass}for(var c={},f=i.length-1;f>=0;f--)c=Ve(c,i[f],!0);o.defaultOption=c}return o.defaultOption},t.prototype.getReferringComponents=function(e,o){var a=e+"Id";return tp(this.ecModel,e,{index:this.get(e+"Index",!0),id:this.get(a,!0)},o)},t.prototype.getBoxLayoutParams=function(){var e=this;return{left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")}},t.prototype.getZLevelKey=function(){return""},t.prototype.setZLevel=function(e){this.option.zlevel=e},t.protoInitialize=((e=t.prototype).type="component",e.id="",e.name="",e.mainType="",e.subType="",void(e.componentIndex=0)),t;var e}(Pi);rp(H,Pi),Ov(H),t={},(n=H).registerSubTypeDefaulter=function(e,o){var i=tu(e);t[i.main]=o},n.determineSubType=function(e,o){var i=o.type;if(!i){var a=tu(e).main;n.hasSubTypes(e)&&t[a]&&(i=t[a](o))}return i},function(n,t){function e(o,i){return o[i]||(o[i]={predecessor:[],successor:[]}),o[i]}n.topologicalTravel=function(o,i,a,u){if(o.length){var c=(E={},N=[],Te(A=i,function(z){var X,ee,ie,F=e(E,z),q=(X=F.originalDeps=function(n){var t=[];return Te(H.getClassesByMainType(n),function(e){t=t.concat(e.dependencies||e.prototype.dependencies||[])}),t=It(t,function(e){return tu(e).main}),"dataset"!==n&&jt(t,"dataset")<=0&&t.unshift("dataset"),t}(z),ee=A,ie=[],Te(X,function(ye){jt(ee,ye)>=0&&ie.push(ye)}),ie);F.entryCount=q.length,0===F.entryCount&&N.push(z),Te(q,function(X){jt(F.predecessor,X)<0&&F.predecessor.push(X);var ee=e(E,X);jt(ee.successor,X)<0&&ee.successor.push(z)})}),{graph:E,noEntryList:N}),f=c.graph,h=c.noEntryList,m={};for(Te(o,function(A){m[A]=!0});h.length;){var y=h.pop(),_=f[y],S=!!m[y];S&&(a.call(u,y,_.originalDeps.slice()),delete m[y]),Te(_.successor,S?D:k)}Te(m,function(){throw new Error("")})}var A,E,N;function k(A){f[A].entryCount--,0===f[A].entryCount&&h.push(A)}function D(A){m[A]=!0,k(A)}}}(H);var Q="";"undefined"!=typeof navigator&&(Q=navigator.platform||"");var ce="rgba(0, 0, 0, 0.2)",ge={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:ce,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:ce,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:ce,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:ce,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:ce,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:ce,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:Q.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},Ie=Ir(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),Be="original",$e="arrayRows",ot="objectRows",xt="keyedColumns",St="typedArray",wt="unknown",Nt="column",Tt="row",Yt=Qo();function Pn(n,t,e){var o={},i=Ln(t);if(!i||!n)return o;var a,u,c=[],f=[],m=Yt(t.ecModel).datasetMap,y=i.uid+"_"+e.seriesLayoutBy;Te(n=n.slice(),function(D,A){var E=fr(D)?D:n[A]={name:D};"ordinal"===E.type&&null==a&&(a=A,u=k(E)),o[E.name]=[]});var _=m.get(y)||m.set(y,{categoryWayDim:u,valueWayDim:0});function S(D,A,E){for(var N=0;N<E;N++)D.push(A+N)}function k(D){var A=D.dimsDef;return A?A.length:1}return Te(n,function(D,A){var E=D.name,N=k(D);if(null==a){var z=_.valueWayDim;S(o[E],z,N),S(f,z,N),_.valueWayDim+=N}else a===A?(S(o[E],0,N),S(c,0,N)):(S(o[E],z=_.categoryWayDim,N),S(f,z,N),_.categoryWayDim+=N)}),c.length&&(o.itemName=c),f.length&&(o.seriesName=f),o}function Lt(n,t,e){var o={};if(!Ln(n))return o;var i,a=t.sourceFormat,u=t.dimensionsDefine;a!==ot&&a!==xt||Te(u,function(h,m){"name"===(fr(h)?h.name:h)&&(i=m)});var c=function(){for(var h={},m={},y=[],_=0,S=Math.min(5,e);_<S;_++){var k=Ar(t.data,a,t.seriesLayoutBy,u,t.startIndex,_);y.push(k);var D=3===k;if(D&&null==h.v&&_!==i&&(h.v=_),(null==h.n||h.n===h.v||!D&&3===y[h.n])&&(h.n=_),A(h)&&3!==y[h.n])return h;D||(2===k&&null==m.v&&_!==i&&(m.v=_),null!=m.n&&m.n!==m.v||(m.n=_))}function A(E){return null!=E.v&&null!=E.n}return A(h)?h:A(m)?m:null}();if(c){o.value=[c.v];var f=null!=i?i:c.n;o.itemName=[f],o.seriesName=[f]}return o}function Ln(n){if(!n.get("data",!0))return tp(n.ecModel,"dataset",{index:n.get("datasetIndex",!0),id:n.get("datasetId",!0)},vu).models[0]}function cn(n,t){return Ar(n.data,n.sourceFormat,n.seriesLayoutBy,n.dimensionsDefine,n.startIndex,t)}function Ar(n,t,e,o,i,a){var u,c,f;if(Ci(n))return 3;if(o){var h=o[a];fr(h)?(c=h.name,f=h.type):Un(h)&&(c=h)}if(null!=f)return"ordinal"===f?1:3;if(t===$e){var m=n;if(e===Tt){for(var y=m[a],_=0;_<(y||[]).length&&_<5;_++)if(null!=(u=N(y[i+_])))return u}else for(_=0;_<m.length&&_<5;_++){var S=m[i+_];if(S&&null!=(u=N(S[a])))return u}}else if(t===ot){var k=n;if(!c)return 3;for(_=0;_<k.length&&_<5;_++)if((A=k[_])&&null!=(u=N(A[c])))return u}else if(t===xt){if(!c||!(y=n[c])||Ci(y))return 3;for(_=0;_<y.length&&_<5;_++)if(null!=(u=N(y[_])))return u}else if(t===Be){var D=n;for(_=0;_<D.length&&_<5;_++){var A,E=vl(A=D[_]);if(!tt(E))return 3;if(null!=(u=N(E[a])))return u}}function N(z){var F=Un(z);return null!=z&&isFinite(z)&&""!==z?F?2:3:F&&"-"!==z?1:void 0}return 3}var Pr,Yr,Kr,Vn=Ir(),xo=Qo(),Go=Qo(),vo=function(){function n(){}return n.prototype.getColorFromPalette=function(t,e,o){var i=Ko(this.get("color",!0)),a=this.get("colorLayer",!0);return bi(this,xo,i,a,t,e,o)},n.prototype.clearColorPalette=function(){!function(t,e){e(t).paletteIdx=0,e(t).paletteNameMap={}}(this,xo)},n}();function Yo(n,t,e,o){var i=Ko(n.get(["aria","decal","decals"]));return bi(n,Go,i,null,t,e,o)}function bi(n,t,e,o,i,a,u){var c=t(a=a||n),f=c.paletteIdx||0,h=c.paletteNameMap=c.paletteNameMap||{};if(h.hasOwnProperty(i))return h[i];var m=null!=u&&o?function(_,S){for(var k=_.length,D=0;D<k;D++)if(_[D].length>S)return _[D];return _[k-1]}(o,u):e;if((m=m||e)&&m.length){var y=m[f];return i&&(h[i]=y),c.paletteIdx=(f+1)%m.length,y}}var Ji="\0_ec_inner",sr=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return yt(t,n),t.prototype.init=function(e,o,i,a,u,c){a=a||{},this.option=null,this._theme=new Pi(a),this._locale=new Pi(u),this._optionManager=c},t.prototype.setOption=function(e,o,i){var a=xi(o);this._optionManager.setOption(e,i,a),this._resetOption(null,a)},t.prototype.resetOption=function(e,o){return this._resetOption(e,xi(o))},t.prototype._resetOption=function(e,o){var i=!1,a=this._optionManager;if(!e||"recreate"===e){var u=a.mountOption("recreate"===e);this.option&&"recreate"!==e?(this.restoreData(),this._mergeOption(u,o)):Kr(this,u),i=!0}if("timeline"!==e&&"media"!==e||this.restoreData(),!e||"recreate"===e||"timeline"===e){var c=a.getTimelineOption(this);c&&(i=!0,this._mergeOption(c,o))}if(!e||"recreate"===e||"media"===e){var f=a.getMediaOption(this);f.length&&Te(f,function(h){i=!0,this._mergeOption(h,o)},this)}return i},t.prototype.mergeOption=function(e){this._mergeOption(e,null)},t.prototype._mergeOption=function(e,o){var i=this.option,a=this._componentsMap,u=this._componentsCount,c=[],f=Ir(),h=o&&o.replaceMergeMainTypeMap;Yt(this).datasetMap=Ir(),Te(e,function(m,y){null!=m&&(H.hasClass(y)?y&&(c.push(y),f.set(y,!0)):i[y]=null==i[y]?Re(m):Ve(i[y],m,!0))}),h&&h.each(function(m,y){H.hasClass(y)&&!f.get(y)&&(c.push(y),f.set(y,!0))}),H.topologicalTravel(c,H.getAllClassMainTypes(),function(m){var F,q,y=function(z,F,q){var X=Vn.get(F);if(!X)return q;var ee=X(z);return ee?q.concat(ee):q}(this,m,Ko(e[m])),_=a.get(m),k=ph(_,y,_?h&&h.get(m)?"replaceMerge":"normalMerge":"replaceAll");F=m,q=H,Te(k,function(X){var ye,_e,ee=X.newOption;fr(ee)&&(X.keyInfo.mainType=F,X.keyInfo.subType=(_e=X.existing,(ye=ee).type?ye.type:_e?_e.subType:q.determineSubType(F,ye)))}),i[m]=null,a.set(m,null),u.set(m,0);var D,A=[],E=[],N=0;Te(k,function(z,F){var q=z.existing,X=z.newOption;if(X){var ie=H.getClass(m,z.keyInfo.subType,!("series"===m));if(!ie)return;if("tooltip"===m){if(D)return;D=!0}if(q&&q.constructor===ie)q.name=z.keyInfo.name,q.mergeOption(X,this),q.optionUpdated(X,!1);else{var ye=Pe({componentIndex:F},z.keyInfo);Pe(q=new ie(X,this,this,ye),ye),z.brandNew&&(q.__requireNewView=!0),q.init(X,this,this),q.optionUpdated(null,!0)}}else q&&(q.mergeOption({},this),q.optionUpdated({},!1));q?(A.push(q.option),E.push(q),N++):(A.push(void 0),E.push(void 0))},this),i[m]=A,a.set(m,E),u.set(m,N),"series"===m&&Pr(this)},this),this._seriesIndices||Pr(this)},t.prototype.getOption=function(){var e=Re(this.option);return Te(e,function(o,i){if(H.hasClass(i)){for(var a=Ko(o),u=a.length,c=!1,f=u-1;f>=0;f--)a[f]&&!Pd(a[f])?c=!0:(a[f]=null,!c&&u--);a.length=u,e[i]=a}}),delete e[Ji],e},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(e){this._payload=e},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(e,o){var i=this._componentsMap.get(e);if(i){var a=i[o||0];if(a)return a;if(null==o)for(var u=0;u<i.length;u++)if(i[u])return i[u]}},t.prototype.queryComponents=function(e){var o=e.mainType;if(!o)return[];var i,a=e.index,u=e.id,c=e.name,f=this._componentsMap.get(o);return f&&f.length?(null!=a?(i=[],Te(Ko(a),function(h){f[h]&&i.push(f[h])})):i=null!=u?Fi("id",u,f):null!=c?Fi("name",c,f):Lr(f,function(h){return!!h}),Jo(i,e)):[]},t.prototype.findComponents=function(e){var o,i,a,u,c,h=e.mainType,m=(i=h+"Index",a=h+"Id",u=h+"Name",!(o=e.query)||null==o[i]&&null==o[a]&&null==o[u]?null:{mainType:h,index:o[i],id:o[a],name:o[u]});return c=Jo(m?this.queryComponents(m):Lr(this._componentsMap.get(h),function(_){return!!_}),e),e.filter?Lr(c,e.filter):c},t.prototype.eachComponent=function(e,o,i){var a=this._componentsMap;if(hn(e)){var u=o,c=e;a.each(function(y,_){for(var S=0;y&&S<y.length;S++){var k=y[S];k&&c.call(u,_,k,k.componentIndex)}})}else for(var f=Un(e)?a.get(e):fr(e)?this.findComponents(e):null,h=0;f&&h<f.length;h++){var m=f[h];m&&o.call(i,m,m.componentIndex)}},t.prototype.getSeriesByName=function(e){var o=xa(e,null);return Lr(this._componentsMap.get("series"),function(i){return!!i&&null!=o&&i.name===o})},t.prototype.getSeriesByIndex=function(e){return this._componentsMap.get("series")[e]},t.prototype.getSeriesByType=function(e){return Lr(this._componentsMap.get("series"),function(o){return!!o&&o.subType===e})},t.prototype.getSeries=function(){return Lr(this._componentsMap.get("series"),function(e){return!!e})},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(e,o){Yr(this),Te(this._seriesIndices,function(i){var a=this._componentsMap.get("series")[i];e.call(o,a,i)},this)},t.prototype.eachRawSeries=function(e,o){Te(this._componentsMap.get("series"),function(i){i&&e.call(o,i,i.componentIndex)})},t.prototype.eachSeriesByType=function(e,o,i){Yr(this),Te(this._seriesIndices,function(a){var u=this._componentsMap.get("series")[a];u.subType===e&&o.call(i,u,a)},this)},t.prototype.eachRawSeriesByType=function(e,o,i){return Te(this.getSeriesByType(e),o,i)},t.prototype.isSeriesFiltered=function(e){return Yr(this),null==this._seriesIndicesMap.get(e.componentIndex)},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(e,o){Yr(this);var i=[];Te(this._seriesIndices,function(a){var u=this._componentsMap.get("series")[a];e.call(o,u,a)&&i.push(a)},this),this._seriesIndices=i,this._seriesIndicesMap=Ir(i)},t.prototype.restoreData=function(e){Pr(this);var o=this._componentsMap,i=[];o.each(function(a,u){H.hasClass(u)&&i.push(u)}),H.topologicalTravel(i,H.getAllClassMainTypes(),function(a){Te(o.get(a),function(u){!u||"series"===a&&function(c,f){if(f){var h=f.seriesIndex,m=f.seriesId,y=f.seriesName;return null!=h&&c.componentIndex!==h||null!=m&&c.id!==m||null!=y&&c.name!==y}}(u,e)||u.restoreData()})})},t.internalField=(Pr=function(e){var o=e._seriesIndices=[];Te(e._componentsMap.get("series"),function(i){i&&o.push(i.componentIndex)}),e._seriesIndicesMap=Ir(o)},Yr=function(e){},void(Kr=function(e,o){e.option={},e.option[Ji]=1,e._componentsMap=Ir({series:[]}),e._componentsCount=Ir();var a,c,i=o.aria;fr(i)&&null==i.enabled&&(i.enabled=!0),c=(a=o).color&&!a.colorLayer,Te(e._theme.option,function(f,h){"colorLayer"===h&&c||H.hasClass(h)||("object"==typeof f?a[h]=a[h]?Ve(a[h],f,!1):Re(f):null==a[h]&&(a[h]=f))}),Ve(o,ge,!1),e._mergeOption(o,null)})),t}(Pi);function Fi(n,t,e){if(tt(t)){var o=Ir();return Te(t,function(a){null!=a&&null!=xa(a,null)&&o.set(a,!0)}),Lr(e,function(a){return a&&o.get(a[n])})}var i=xa(t,null);return Lr(e,function(a){return a&&null!=i&&a[n]===i})}function Jo(n,t){return t.hasOwnProperty("subType")?Lr(n,function(e){return e&&e.subType===t.subType}):n}function xi(n){var t=Ir();return n&&Te(Ko(n.replaceMerge),function(e){t.set(e,!0)}),{replaceMergeMainTypeMap:t}}_r(sr,vo);var as=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],Ac=function(n){Te(as,function(t){this[t]=Bn(n[t],n)},this)},ss={},Wa=function(){function n(){this._coordinateSystems=[]}return n.prototype.create=function(t,e){var o=[];Te(ss,function(i,a){var u=i.create(t,e);o=o.concat(u||[])}),this._coordinateSystems=o},n.prototype.update=function(t,e){Te(this._coordinateSystems,function(o){o.update&&o.update(t,e)})},n.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},n.register=function(t,e){ss[t]=e},n.get=function(t){return ss[t]},n}(),cd=/^(min|max)?(.+)$/,Vm=function(){function n(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return n.prototype.setOption=function(t,e,o){t&&(Te(Ko(t.series),function(u){u&&u.data&&Ci(u.data)&&Vo(u.data)}),Te(Ko(t.dataset),function(u){u&&u.source&&Ci(u.source)&&Vo(u.source)})),t=Re(t);var i=this._optionBackup,a=function(u,c,f){var h,m,y=[],_=u.baseOption,S=u.timeline,k=u.options,D=u.media,A=!!u.media,E=!!(k||S||_&&_.timeline);function N(z){Te(c,function(F){F(z,f)})}return _?(m=_).timeline||(m.timeline=S):((E||A)&&(u.options=u.media=null),m=u),A&&tt(D)&&Te(D,function(z){z&&z.option&&(z.query?y.push(z):h||(h=z))}),N(m),Te(k,function(z){return N(z)}),Te(y,function(z){return N(z.option)}),{baseOption:m,timelineOptions:k||[],mediaDefault:h,mediaList:y}}(t,e,!i);this._newBaseOption=a.baseOption,i?(a.timelineOptions.length&&(i.timelineOptions=a.timelineOptions),a.mediaList.length&&(i.mediaList=a.mediaList),a.mediaDefault&&(i.mediaDefault=a.mediaDefault)):this._optionBackup=a},n.prototype.mountOption=function(t){var e=this._optionBackup;return this._timelineOptions=e.timelineOptions,this._mediaList=e.mediaList,this._mediaDefault=e.mediaDefault,this._currentMediaIndices=[],Re(t?e.baseOption:this._newBaseOption)},n.prototype.getTimelineOption=function(t){var e,o=this._timelineOptions;if(o.length){var i=t.getComponent("timeline");i&&(e=Re(o[i.getCurrentIndex()]))}return e},n.prototype.getMediaOption=function(t){var o,i=this._api.getWidth(),a=this._api.getHeight(),u=this._mediaList,c=this._mediaDefault,f=[],h=[];if(!u.length&&!c)return h;for(var m=0,y=u.length;m<y;m++)wg(u[m].query,i,a)&&f.push(m);return!f.length&&c&&(f=[-1]),f.length&&(o=this._currentMediaIndices,f.join(",")!==o.join(","))&&(h=It(f,function(_){return Re(-1===_?c.option:u[_].option)})),this._currentMediaIndices=f,h},n}();function wg(n,t,e){var o={width:t,height:e,aspectratio:t/e},i=!0;return Te(n,function(a,u){var m,y,_,c=u.match(cd);if(c&&c[1]&&c[2]){var f=c[1],h=c[2].toLowerCase();m=o[h],y=a,("min"===(_=f)?m>=y:"max"===_?m<=y:m===y)||(i=!1)}}),i}var Ef=Te,Ic=fr,Th=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function Hm(n){var t=n&&n.itemStyle;if(t)for(var e=0,o=Th.length;e<o;e++){var i=Th[e],a=t.normal,u=t.emphasis;a&&a[i]&&(n[i]=n[i]||{},n[i].normal?Ve(n[i].normal,a[i]):n[i].normal=a[i],a[i]=null),u&&u[i]&&(n[i]=n[i]||{},n[i].emphasis?Ve(n[i].emphasis,u[i]):n[i].emphasis=u[i],u[i]=null)}}function ol(n,t,e){if(n&&n[t]&&(n[t].normal||n[t].emphasis)){var o=n[t].normal,i=n[t].emphasis;o&&(e?(n[t].normal=n[t].emphasis=null,ht(n[t],o)):n[t]=o),i&&(n.emphasis=n.emphasis||{},n.emphasis[t]=i,i.focus&&(n.emphasis.focus=i.focus),i.blurScope&&(n.emphasis.blurScope=i.blurScope))}}function Jd(n){ol(n,"itemStyle"),ol(n,"lineStyle"),ol(n,"areaStyle"),ol(n,"label"),ol(n,"labelLine"),ol(n,"upperLabel"),ol(n,"edgeLabel")}function Za(n,t){var e=Ic(n)&&n[t],o=Ic(e)&&e.textStyle;if(o)for(var i=0,a=Zf.length;i<a;i++){var u=Zf[i];o.hasOwnProperty(u)&&(e[u]=o[u])}}function ef(n){n&&(Jd(n),Za(n,"label"),n.emphasis&&Za(n.emphasis,"label"))}function fd(n){return tt(n)?n:n?[n]:[]}function mx(n){return(tt(n)?n[0]:n)||{}}function Pk(n){n&&Te(Rk,function(t){t[0]in n&&!(t[1]in n)&&(n[t[1]]=n[t[0]])})}var Rk=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],UD=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],Lk=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function di(n){var t=n&&n.itemStyle;if(t)for(var e=0;e<Lk.length;e++){var o=Lk[e][1];null!=t[o]&&(t[Lk[e][0]]=t[o])}}function K_(n){n&&"edge"===n.alignTo&&null!=n.margin&&null==n.edgeDistance&&(n.edgeDistance=n.margin)}function Bb(n){n&&n.downplay&&!n.blur&&(n.blur=n.downplay)}function $_(n,t){if(n)for(var e=0;e<n.length;e++)t(n[e]),n[e]&&$_(n[e].children,t)}function J_(n,t){(function Z_(n,t){Ef(fd(n.series),function(o){Ic(o)&&function(i){if(Ic(i)){Hm(i),Jd(i),Za(i,"label"),Za(i,"upperLabel"),Za(i,"edgeLabel"),i.emphasis&&(Za(i.emphasis,"label"),Za(i.emphasis,"upperLabel"),Za(i.emphasis,"edgeLabel"));var a=i.markPoint;a&&(Hm(a),ef(a));var u=i.markLine;u&&(Hm(u),ef(u));var c=i.markArea;c&&ef(c);var f=i.data;if("graph"===i.type){f=f||i.nodes;var h=i.links||i.edges;if(h&&!Ci(h))for(var m=0;m<h.length;m++)ef(h[m]);Te(i.categories,function(S){Jd(S)})}if(f&&!Ci(f))for(m=0;m<f.length;m++)ef(f[m]);if((a=i.markPoint)&&a.data){var y=a.data;for(m=0;m<y.length;m++)ef(y[m])}if((u=i.markLine)&&u.data){var _=u.data;for(m=0;m<_.length;m++)tt(_[m])?(ef(_[m][0]),ef(_[m][1])):ef(_[m])}"gauge"===i.type?(Za(i,"axisLabel"),Za(i,"title"),Za(i,"detail")):"treemap"===i.type?(ol(i.breadcrumb,"itemStyle"),Te(i.levels,function(S){Jd(S)})):"tree"===i.type&&Jd(i.leaves)}}(o)});var e=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&e.push("valueAxis","categoryAxis","logAxis","timeAxis"),Ef(e,function(o){Ef(fd(n[o]),function(i){i&&(Za(i,"axisLabel"),Za(i.axisPointer,"label"))})}),Ef(fd(n.parallel),function(o){var i=o&&o.parallelAxisDefault;Za(i,"axisLabel"),Za(i&&i.axisPointer,"label")}),Ef(fd(n.calendar),function(o){ol(o,"itemStyle"),Za(o,"dayLabel"),Za(o,"monthLabel"),Za(o,"yearLabel")}),Ef(fd(n.radar),function(o){Za(o,"name"),o.name&&null==o.axisName&&(o.axisName=o.name,delete o.name),null!=o.nameGap&&null==o.axisNameGap&&(o.axisNameGap=o.nameGap,delete o.nameGap)}),Ef(fd(n.geo),function(o){Ic(o)&&(ef(o),Ef(fd(o.regions),function(i){ef(i)}))}),Ef(fd(n.timeline),function(o){ef(o),ol(o,"label"),ol(o,"itemStyle"),ol(o,"controlStyle",!0);var i=o.data;tt(i)&&Te(i,function(a){fr(a)&&(ol(a,"label"),ol(a,"itemStyle"))})}),Ef(fd(n.toolbox),function(o){ol(o,"iconStyle"),Ef(o.feature,function(i){ol(i,"iconStyle")})}),Za(mx(n.axisPointer),"label"),Za(mx(n.tooltip).axisPointer,"label")})(n,t),n.series=Ko(n.series),Te(n.series,function(e){if(fr(e)){var o=e.type;if("line"===o)null!=e.clipOverflow&&(e.clip=e.clipOverflow);else if("pie"===o||"gauge"===o){if(null!=e.clockWise&&(e.clockwise=e.clockWise),K_(e.label),(u=e.data)&&!Ci(u))for(var i=0;i<u.length;i++)K_(u[i]);null!=e.hoverOffset&&(e.emphasis=e.emphasis||{},(e.emphasis.scaleSize=null)&&(e.emphasis.scaleSize=e.hoverOffset))}else if("gauge"===o){var a=function(f,h){for(var m="pointer.color".split(","),y=f,_=0;_<m.length&&null!=(y=y&&y[m[_]]);_++);return y}(e);null!=a&&function(f,h,m,y){for(var _,S="itemStyle.color".split(","),k=f,D=0;D<S.length-1;D++)null==k[_=S[D]]&&(k[_]={}),k=k[_];null==k[S[D]]&&(k[S[D]]=m)}(e,0,a)}else if("bar"===o){var u;if(di(e),di(e.backgroundStyle),di(e.emphasis),(u=e.data)&&!Ci(u))for(i=0;i<u.length;i++)"object"==typeof u[i]&&(di(u[i]),di(u[i]&&u[i].emphasis))}else if("sunburst"===o){var c=e.highlightPolicy;c&&(e.emphasis=e.emphasis||{},e.emphasis.focus||(e.emphasis.focus=c)),Bb(e),$_(e.data,Bb)}else"graph"===o||"sankey"===o?(f=e)&&null!=f.focusNodeAdjacency&&(f.emphasis=f.emphasis||{},null==f.emphasis.focus&&(f.emphasis.focus="adjacency")):"map"===o&&(e.mapType&&!e.map&&(e.map=e.mapType),e.mapLocation&&ht(e,e.mapLocation));null!=e.hoverAnimation&&(e.emphasis=e.emphasis||{},e.emphasis&&null==e.emphasis.scale&&(e.emphasis.scale=e.hoverAnimation)),Pk(e)}var f}),n.dataRange&&(n.visualMap=n.dataRange),Te(UD,function(e){var o=n[e];o&&(tt(o)||(o=[o]),Te(o,function(i){Pk(i)}))})}function Nk(n){Te(n,function(t,e){var o=[],i=[NaN,NaN],a=[t.stackResultDimension,t.stackedOverDimension],u=t.data,c=t.isStackedByIndex,f=t.seriesModel.get("stackStrategy")||"samesign";u.modify(a,function(h,m,y){var _,S,k=u.get(t.stackedDimension,y);if(isNaN(k))return i;c?S=u.getRawIndex(y):_=u.get(t.stackedByDimension,y);for(var D=NaN,A=e-1;A>=0;A--){var E=n[A];if(c||(S=E.data.rawIndexOf(E.stackedByDimension,_)),S>=0){var N=E.data.getByRawIndex(E.stackResultDimension,S);if("all"===f||"positive"===f&&N>0||"negative"===f&&N<0||"samesign"===f&&k>=0&&N>0||"samesign"===f&&k<=0&&N<0){k=$h(k,N),D=N;break}}}return o[0]=k,o[1]=D,o})})}var p0,tf,g0,Bk,zS,FS=function(n){this.data=n.data||(n.sourceFormat===xt?{}:[]),this.sourceFormat=n.sourceFormat||wt,this.seriesLayoutBy=n.seriesLayoutBy||Nt,this.startIndex=n.startIndex||0,this.dimensionsDetectedCount=n.dimensionsDetectedCount,this.metaRawOption=n.metaRawOption;var t=this.dimensionsDefine=n.dimensionsDefine;if(t)for(var e=0;e<t.length;e++){var o=t[e];null==o.type&&1===cn(this,e)&&(o.type="ordinal")}};function zk(n){return n instanceof FS}function sy(n,t,e){e=e||ew(n);var o=t.seriesLayoutBy,i=function(a,u,c,f,h){var m,y;if(!a)return{dimensionsDefine:vx(h),startIndex:y,dimensionsDetectedCount:m};if(u===$e){var _=a;"auto"===f||null==f?VS(function(k){null!=k&&"-"!==k&&(Un(k)?null==y&&(y=1):y=0)},c,_,10):y=hr(f)?f:f?1:0,h||1!==y||(h=[],VS(function(k,D){h[D]=null!=k?k+"":""},c,_,1/0)),m=h?h.length:c===Tt?_.length:_[0]?_[0].length:null}else if(u===ot)h||(h=function(k){for(var D,A=0;A<k.length&&!(D=k[A++]););if(D)return Zn(D)}(a));else if(u===xt)h||(h=[],Te(a,function(k,D){h.push(D)}));else if(u===Be){var S=vl(a[0]);m=tt(S)&&S.length||1}return{startIndex:y,dimensionsDefine:vx(h),dimensionsDetectedCount:m}}(n,e,o,t.sourceHeader,t.dimensions);return new FS({data:n,sourceFormat:e,seriesLayoutBy:o,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:Re(t)})}function Q_(n){return new FS({data:n,sourceFormat:Ci(n)?St:Be})}function ew(n){var t=wt;if(Ci(n))t=St;else if(tt(n)){0===n.length&&(t=$e);for(var e=0,o=n.length;e<o;e++){var i=n[e];if(null!=i){if(tt(i)){t=$e;break}if(fr(i)){t=ot;break}}}}else if(fr(n))for(var a in n)if(Mr(n,a)&&Ht(n[a])){t=xt;break}return t}function vx(n){if(n){var t=Ir();return It(n,function(e,o){var i={name:(e=fr(e)?e:{name:e}).name,displayName:e.displayName,type:e.type};if(null==i.name)return i;i.name+="",null==i.displayName&&(i.displayName=i.name);var a=t.get(i.name);return a?i.name+="-"+a.count++:t.set(i.name,{count:1}),i})}}function VS(n,t,e,o){if(t===Tt)for(var i=0;i<e.length&&i<o;i++)n(e[i]?e[i][0]:null,i);else{var a=e[0]||[];for(i=0;i<a.length&&i<o;i++)n(a[i],i)}}function yx(n){var t=n.sourceFormat;return t===ot||t===xt}var tw=function(){function n(t,e){var o=zk(t)?t:Q_(t);this._source=o;var i=this._data=o.data;o.sourceFormat===St&&(this._offset=0,this._dimSize=e,this._data=i),zS(this,i,o)}return n.prototype.getSource=function(){return this._source},n.prototype.count=function(){return 0},n.prototype.getItem=function(t,e){},n.prototype.appendData=function(t){},n.prototype.clean=function(){},n.protoInitialize=function(){var t=n.prototype;t.pure=!1,t.persistent=!0}(),n.internalField=function(){var t;zS=function(u,c,f){var h=f.sourceFormat,m=f.seriesLayoutBy,y=f.startIndex,_=f.dimensionsDefine;if(Pe(u,Bk[US(h,m)]),h===St)u.getItem=e,u.count=i,u.fillStorage=o;else{var k=WS(h,m);u.getItem=Bn(k,null,c,y,_);var D=Vk(h,m);u.count=Bn(D,null,c,y,_)}};var e=function(u,c){c=c||[];for(var f=this._data,h=this._dimSize,m=h*(u-=this._offset),y=0;y<h;y++)c[y]=f[m+y];return c},o=function(u,c,f,h){for(var m=this._data,y=this._dimSize,_=0;_<y;_++){for(var S=h[_],k=null==S[0]?1/0:S[0],D=null==S[1]?-1/0:S[1],A=c-u,E=f[_],N=0;N<A;N++){var z=m[N*y+_];E[u+N]=z,z<k&&(k=z),z>D&&(D=z)}S[0]=k,S[1]=D}},i=function(){return this._data?this._data.length/this._dimSize:0};function a(u){for(var c=0;c<u.length;c++)this._data.push(u[c])}(t={})[$e+"_"+Nt]={pure:!0,appendData:a},t[$e+"_"+Tt]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[ot]={pure:!0,appendData:a},t[xt]={pure:!0,appendData:function(u){var c=this._data;Te(u,function(f,h){for(var m=c[h]||(c[h]=[]),y=0;y<(f||[]).length;y++)m.push(f[y])})}},t[Be]={appendData:a},t[St]={persistent:!1,pure:!0,appendData:function(u){this._data=u},clean:function(){this._offset+=this.count(),this._data=null}},Bk=t}(),n}(),HS=function(n,t,e,o){return n[o]},DT=((p0={})[$e+"_"+Nt]=function(n,t,e,o){return n[o+t]},p0[$e+"_"+Tt]=function(n,t,e,o,i){o+=t;for(var a=i||[],u=n,c=0;c<u.length;c++){var f=u[c];a[c]=f?f[o]:null}return a},p0[ot]=HS,p0[xt]=function(n,t,e,o,i){for(var a=i||[],u=0;u<e.length;u++){var f=n[e[u].name];a[u]=f?f[o]:null}return a},p0[Be]=HS,p0);function WS(n,t){return DT[US(n,t)]}var Fk=function(n,t,e){return n.length},jD=((tf={})[$e+"_"+Nt]=function(n,t,e){return Math.max(0,n.length-t)},tf[$e+"_"+Tt]=function(n,t,e){var o=n[0];return o?Math.max(0,o.length-t):0},tf[ot]=Fk,tf[xt]=function(n,t,e){var i=n[e[0].name];return i?i.length:0},tf[Be]=Fk,tf);function Vk(n,t){return jD[US(n,t)]}var nw=function(n,t,e){return n[t]},AT=((g0={})[$e]=nw,g0[ot]=function(n,t,e){return n[e]},g0[xt]=nw,g0[Be]=function(n,t,e){var o=vl(n);return o instanceof Array?o[t]:o},g0[St]=nw,g0);function GS(n){return AT[n]}function US(n,t){return n===$e?n+"_"+t:n}function bx(n,t,e){if(n){var o=n.getRawDataItem(t);if(null!=o){var i=n.getStore(),a=i.getSource().sourceFormat;if(null!=e){var u=n.getDimensionIndex(e),c=i.getDimensionProperty(u);return GS(a)(o,u,c)}var f=o;return a===Be&&(f=vl(o)),f}}}var IT=/\{@(.+?)\}/g,jS=function(){function n(){}return n.prototype.getDataParams=function(t,e){var o=this.getData(e),i=this.getRawValue(t,e),a=o.getRawIndex(t),u=o.getName(t),c=o.getRawDataItem(t),f=o.getItemVisual(t,"style"),h=f&&f[o.getItemVisual(t,"drawType")||"fill"],m=f&&f.stroke,y=this.mainType,_="series"===y,S=o.userOutput&&o.userOutput.get();return{componentType:y,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:_?this.subType:null,seriesIndex:this.seriesIndex,seriesId:_?this.id:null,seriesName:_?this.name:null,name:u,dataIndex:a,data:c,dataType:e,value:i,color:h,borderColor:m,dimensionNames:S?S.fullDimensions:null,encode:S?S.encode:null,$vars:["seriesName","name","value"]}},n.prototype.getFormattedLabel=function(t,e,o,i,a,u){e=e||"normal";var c=this.getData(o),f=this.getDataParams(t,o);return u&&(f.value=u.interpolatedValue),null!=i&&tt(f.value)&&(f.value=f.value[i]),a||(a=c.getItemModel(t).get("normal"===e?["label","formatter"]:[e,"label","formatter"])),hn(a)?(f.status=e,f.dimensionIndex=i,a(f)):Un(a)?wu(a,f).replace(IT,function(h,m){var y=m.length,_=m;"["===_.charAt(0)&&"]"===_.charAt(y-1)&&(_=+_.slice(1,y-1));var S=bx(c,t,_);if(u&&tt(u.interpolatedValue)){var k=c.getDimensionIndex(_);k>=0&&(S=u.interpolatedValue[k])}return null!=S?S+"":""}):void 0},n.prototype.getRawValue=function(t,e){return bx(this.getData(e),t)},n.prototype.formatTooltip=function(t,e,o){},n}();function OT(n){var t,e;return fr(n)?n.type&&(e=n):t=n,{text:t,frag:e}}function m0(n){return new Hk(n)}var Hk=function(){function n(t){this._reset=(t=t||{}).reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return n.prototype.perform=function(t){var e,o=this._upstream,i=t&&t.skip;if(this._dirty&&o){var a=this.context;a.data=a.outputData=o.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!i&&(e=this._plan(this.context));var u,c=y(this._modBy),f=this._modDataCount||0,h=y(t&&t.modBy),m=t&&t.modDataCount||0;function y(N){return!(N>=1)&&(N=1),N}c===h&&f===m||(e="reset"),(this._dirty||"reset"===e)&&(this._dirty=!1,u=this._doReset(i)),this._modBy=h,this._modDataCount=m;var _=t&&t.step;if(this._dueEnd=o?o._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var S=this._dueIndex,k=Math.min(null!=_?this._dueIndex+_:1/0,this._dueEnd);if(!i&&(u||S<k)){var D=this._progress;if(tt(D))for(var A=0;A<D.length;A++)this._doProgress(D[A],S,k,h,m);else this._doProgress(D,S,k,h,m)}this._dueIndex=k,this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:k}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},n.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},n.prototype._doProgress=function(t,e,o,i,a){ET.reset(e,o,i,a),this._callingProgress=t,this._callingProgress({start:e,end:o,count:o-e,next:ET.next},this.context)},n.prototype._doReset=function(t){var e,o;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!t&&this._reset&&((e=this._reset(this.context))&&e.progress&&(o=e.forceFirstProgress,e=e.progress),tt(e)&&!e.length&&(e=null)),this._progress=e,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),o},n.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},n.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},n.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},n.prototype.getUpstream=function(){return this._upstream},n.prototype.getDownstream=function(){return this._downstream},n.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},n}(),ET=function(){var n,t,e,o,i,a={reset:function(f,h,m,y){t=f,n=h,e=m,o=y,i=Math.ceil(o/e),a.next=e>1&&o>0?c:u}};return a;function u(){return t<n?t++:null}function c(){var f=t%i*e+Math.ceil(t/i),h=t>=n?null:f<o?f:t;return t++,h}}();function v0(n,t){var e=t&&t.type;return"ordinal"===e?n:("time"!==e||hr(n)||null==n||"-"===n||(n=+Wc(n)),null==n||""===n?NaN:+n)}var Wk=Ir({number:function(n){return parseFloat(n)},time:function(n){return+Wc(n)},trim:function(n){return Un(n)?ni(n):n}});function Gk(n){return Wk.get(n)}var PT={lt:function(n,t){return n<t},lte:function(n,t){return n<=t},gt:function(n,t){return n>t},gte:function(n,t){return n>=t}},qD=function(){function n(t,e){hr(e)||fi(""),this._opFn=PT[t],this._rvalFloat=$i(e)}return n.prototype.evaluate=function(t){return hr(t)?this._opFn(t,this._rvalFloat):this._opFn($i(t),this._rvalFloat)},n}(),qS=function(){function n(t,e){var o="desc"===t;this._resultLT=o?1:-1,null==e&&(e=o?"min":"max"),this._incomparable="min"===e?-1/0:1/0}return n.prototype.evaluate=function(t,e){var o=hr(t)?t:$i(t),i=hr(e)?e:$i(e),a=isNaN(o),u=isNaN(i);if(a&&(o=this._incomparable),u&&(i=this._incomparable),a&&u){var c=Un(t),f=Un(e);c&&(o=f?t:0),f&&(i=c?e:0)}return o<i?this._resultLT:o>i?-this._resultLT:0},n}(),Uk=function(){function n(t,e){this._rval=e,this._isEQ=t,this._rvalTypeof=typeof e,this._rvalFloat=$i(e)}return n.prototype.evaluate=function(t){var e=t===this._rval;if(!e){var o=typeof t;o===this._rvalTypeof||"number"!==o&&"number"!==this._rvalTypeof||(e=$i(t)===this._rvalFloat)}return this._isEQ?e:!e},n}();function YD(n,t){return"eq"===n||"ne"===n?new Uk("eq"===n,t):Mr(PT,n)?new qD(n,t):null}var RT=function(){function n(){}return n.prototype.getRawData=function(){throw new Error("not supported")},n.prototype.getRawDataItem=function(t){throw new Error("not supported")},n.prototype.cloneRawData=function(){},n.prototype.getDimensionInfo=function(t){},n.prototype.cloneAllDimensionInfo=function(){},n.prototype.count=function(){},n.prototype.retrieveValue=function(t,e){},n.prototype.retrieveValueFromItem=function(t,e){},n.prototype.convertValue=function(t,e){return v0(t,e)},n}();function jk(n){return YS(n.sourceFormat)||fi(""),n.data}function LT(n){var t=n.sourceFormat,e=n.data;if(YS(t)||fi(""),t===$e){for(var i=[],a=0,u=e.length;a<u;a++)i.push(e[a].slice());return i}if(t===ot){for(i=[],a=0,u=e.length;a<u;a++)i.push(Pe({},e[a]));return i}}function Zr(n,t,e){if(null!=e)return hr(e)||!isNaN(e)&&!Mr(t,e)?n[e]:Mr(t,e)?t[e]:void 0}function xx(n){return Re(n)}var yo=Ir();function qk(n,t,e,o){t.length||fi(""),fr(n)||fi("");var u=yo.get(n.type);u||fi("");var c=It(t,function(h){return function(m,y){var _=new RT,S=m.data,k=_.sourceFormat=m.sourceFormat,D=m.startIndex;m.seriesLayoutBy!==Nt&&fi("");var E=[],N={},z=m.dimensionsDefine;if(z)Te(z,function(ye,_e){var Se=ye.name,Ae={index:_e,name:Se,displayName:ye.displayName};E.push(Ae),null!=Se&&(Mr(N,Se)&&fi(""),N[Se]=Ae)});else for(var F=0;F<m.dimensionsDetectedCount;F++)E.push({index:F});var q=WS(k,Nt);y.__isBuiltIn&&(_.getRawDataItem=function(ye){return q(S,D,E,ye)},_.getRawData=Bn(jk,null,m)),_.cloneRawData=Bn(LT,null,m);var X=Vk(k,Nt);_.count=Bn(X,null,S,D,E);var ee=GS(k);_.retrieveValue=function(ye,_e){var Se=q(S,D,E,ye);return ie(Se,_e)};var ie=_.retrieveValueFromItem=function(ye,_e){if(null!=ye){var Se=E[_e];return Se?ee(ye,_e,Se.name):void 0}};return _.getDimensionInfo=Bn(Zr,null,E,N),_.cloneAllDimensionInfo=Bn(xx,null,E),_}(h,u)});return It(Ko(u.transform({upstream:c[0],upstreamList:c,config:Re(n.config)})),function(h,m){var y;fr(h)||fi(""),h.data||fi(""),YS(ew(h.data))||fi("");var S=t[0];if(S&&0===m&&!h.dimensions){var k=S.startIndex;k&&(h.data=S.data.slice(0,k).concat(h.data)),y={seriesLayoutBy:Nt,sourceHeader:k,dimensions:S.metaRawOption.dimensions}}else y={seriesLayoutBy:Nt,sourceHeader:0,dimensions:h.dimensions};return sy(h.data,y,null)})}function YS(n){return n===$e||n===ot}var co,_x="undefined",Yk=typeof Uint32Array===_x?Array:Uint32Array,ci=typeof Uint16Array===_x?Array:Uint16Array,XS=typeof Int32Array===_x?Array:Int32Array,ZS=typeof Float64Array===_x?Array:Float64Array,Xk={float:ZS,int:XS,ordinal:Array,number:Array,time:ZS};function rw(n){return n>65535?Yk:ci}function NT(n,t,e,o,i){var a=Xk[e||"float"];if(i){var u=n[t],c=u&&u.length;if(c!==o){for(var f=new a(o),h=0;h<c;h++)f[h]=u[h];n[t]=f}}else n[t]=new a(o)}var KS=function(){function n(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Ir()}return n.prototype.initData=function(t,e,o){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=t.getSource(),a=this.defaultDimValueGetter=co[i.sourceFormat];this._dimValueGetter=o||a,this._rawExtent=[],yx(i),this._dimensions=It(e,function(u){return{type:u.type,property:u.property}}),this._initDataFromProvider(0,t.count())},n.prototype.getProvider=function(){return this._provider},n.prototype.getSource=function(){return this._provider.getSource()},n.prototype.ensureCalculationDimension=function(t,e){var o=this._calcDimNameToIdx,i=this._dimensions,a=o.get(t);if(null!=a){if(i[a].type===e)return a}else a=i.length;return i[a]={type:e},o.set(t,a),this._chunks[a]=new Xk[e||"float"](this._rawCount),this._rawExtent[a]=[1/0,-1/0],a},n.prototype.collectOrdinalMeta=function(t,e){var o=this._chunks[t],i=this._dimensions[t],a=this._rawExtent,u=i.ordinalOffset||0,c=o.length;0===u&&(a[t]=[1/0,-1/0]);for(var f=a[t],h=u;h<c;h++){var m=o[h]=e.parseAndCollect(o[h]);isNaN(m)||(f[0]=Math.min(m,f[0]),f[1]=Math.max(m,f[1]))}i.ordinalMeta=e,i.ordinalOffset=c,i.type="ordinal"},n.prototype.getOrdinalMeta=function(t){return this._dimensions[t].ordinalMeta},n.prototype.getDimensionProperty=function(t){var e=this._dimensions[t];return e&&e.property},n.prototype.appendData=function(t){var e=this._provider,o=this.count();e.appendData(t);var i=e.count();return e.persistent||(i+=o),o<i&&this._initDataFromProvider(o,i,!0),[o,i]},n.prototype.appendValues=function(t,e){for(var o=this._chunks,i=this._dimensions,a=i.length,u=this._rawExtent,c=this.count(),f=c+Math.max(t.length,e||0),h=0;h<a;h++)NT(o,h,(k=i[h]).type,f,!0);for(var m=[],y=c;y<f;y++)for(var _=y-c,S=0;S<a;S++){var k=i[S],D=co.arrayRows.call(this,t[_]||m,k.property,_,S);o[S][y]=D;var A=u[S];D<A[0]&&(A[0]=D),D>A[1]&&(A[1]=D)}return this._rawCount=this._count=f,{start:c,end:f}},n.prototype._initDataFromProvider=function(t,e,o){for(var i=this._provider,a=this._chunks,u=this._dimensions,c=u.length,f=this._rawExtent,h=It(u,function(N){return N.property}),m=0;m<c;m++){var y=u[m];f[m]||(f[m]=[1/0,-1/0]),NT(a,m,y.type,e,o)}if(i.fillStorage)i.fillStorage(t,e,a,f);else for(var _=[],S=t;S<e;S++){_=i.getItem(S,_);for(var k=0;k<c;k++){var D=a[k],A=this._dimValueGetter(_,h[k],S,k);D[S]=A;var E=f[k];A<E[0]&&(E[0]=A),A>E[1]&&(E[1]=A)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=e,this._extent=[]},n.prototype.count=function(){return this._count},n.prototype.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var o=this._chunks[t];return o?o[this.getRawIndex(e)]:NaN},n.prototype.getValues=function(t,e){var o=[],i=[];if(null==e){e=t,t=[];for(var a=0;a<this._dimensions.length;a++)i.push(a)}else i=t;a=0;for(var u=i.length;a<u;a++)o.push(this.get(i[a],e));return o},n.prototype.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var o=this._chunks[t];return o?o[e]:NaN},n.prototype.getSum=function(t){var e=0;if(this._chunks[t])for(var o=0,i=this.count();o<i;o++){var a=this.get(t,o);isNaN(a)||(e+=a)}return e},n.prototype.getMedian=function(t){var e=[];this.each([t],function(a){isNaN(a)||e.push(a)});var o=e.sort(function(a,u){return a-u}),i=this.count();return 0===i?0:i%2==1?o[(i-1)/2]:(o[i/2]+o[i/2-1])/2},n.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var e=this._indices,o=e[t];if(null!=o&&o<this._count&&o===t)return t;for(var i=0,a=this._count-1;i<=a;){var u=(i+a)/2|0;if(e[u]<t)i=u+1;else{if(!(e[u]>t))return u;a=u-1}}return-1},n.prototype.indicesOfNearest=function(t,e,o){var i=this._chunks[t],a=[];if(!i)return a;null==o&&(o=1/0);for(var u=1/0,c=-1,f=0,h=0,m=this.count();h<m;h++){var y=e-i[this.getRawIndex(h)],_=Math.abs(y);_<=o&&((_<u||_===u&&y>=0&&c<0)&&(u=_,c=y,f=0),y===c&&(a[f++]=h))}return a.length=f,a},n.prototype.getIndices=function(){var t,e=this._indices;if(e){var o=e.constructor,i=this._count;if(o===Array){t=new o(i);for(var a=0;a<i;a++)t[a]=e[a]}else t=new o(e.buffer,0,i)}else for(t=new(o=rw(this._rawCount))(this.count()),a=0;a<t.length;a++)t[a]=a;return t},n.prototype.filter=function(t,e){if(!this._count)return this;for(var o=this.clone(),i=o.count(),a=new(rw(o._rawCount))(i),u=[],c=t.length,f=0,h=t[0],m=o._chunks,y=0;y<i;y++){var _=void 0,S=o.getRawIndex(y);if(0===c)_=e(y);else if(1===c)_=e(m[h][S],y);else{for(var k=0;k<c;k++)u[k]=m[t[k]][S];u[k]=y,_=e.apply(null,u)}_&&(a[f++]=S)}return f<i&&(o._indices=a),o._count=f,o._extent=[],o._updateGetRawIdx(),o},n.prototype.selectRange=function(t){var e=this.clone(),o=e._count;if(!o)return this;var i=Zn(t),a=i.length;if(!a)return this;var u=e.count(),c=new(rw(e._rawCount))(u),f=0,h=i[0],m=t[h][0],y=t[h][1],_=e._chunks,S=!1;if(!e._indices){var k=0;if(1===a){for(var D=_[i[0]],A=0;A<o;A++)((F=D[A])>=m&&F<=y||isNaN(F))&&(c[f++]=k),k++;S=!0}else if(2===a){D=_[i[0]];var E=_[i[1]],N=t[i[1]][0],z=t[i[1]][1];for(A=0;A<o;A++){var F=D[A],q=E[A];(F>=m&&F<=y||isNaN(F))&&(q>=N&&q<=z||isNaN(q))&&(c[f++]=k),k++}S=!0}}if(!S)if(1===a)for(A=0;A<u;A++){var X=e.getRawIndex(A);((F=_[i[0]][X])>=m&&F<=y||isNaN(F))&&(c[f++]=X)}else for(A=0;A<u;A++){for(var ee=!0,ie=(X=e.getRawIndex(A),0);ie<a;ie++){var ye=i[ie];((F=_[ye][X])<t[ye][0]||F>t[ye][1])&&(ee=!1)}ee&&(c[f++]=e.getRawIndex(A))}return f<u&&(e._indices=c),e._count=f,e._extent=[],e._updateGetRawIdx(),e},n.prototype.map=function(t,e){var o=this.clone(t);return this._updateDims(o,t,e),o},n.prototype.modify=function(t,e){this._updateDims(this,t,e)},n.prototype._updateDims=function(t,e,o){for(var i=t._chunks,a=[],u=e.length,c=t.count(),f=[],h=t._rawExtent,m=0;m<e.length;m++)h[e[m]]=[1/0,-1/0];for(var y=0;y<c;y++){for(var _=t.getRawIndex(y),S=0;S<u;S++)f[S]=i[e[S]][_];f[u]=y;var k=o&&o.apply(null,f);if(null!=k)for("object"!=typeof k&&(a[0]=k,k=a),m=0;m<k.length;m++){var D=e[m],A=k[m],E=h[D],N=i[D];N&&(N[_]=A),A<E[0]&&(E[0]=A),A>E[1]&&(E[1]=A)}}},n.prototype.lttbDownSample=function(t,e){var o,i,a,u=this.clone([t],!0),c=u._chunks[t],f=this.count(),h=0,m=Math.floor(1/e),y=this.getRawIndex(0),_=new(rw(this._rawCount))(Math.min(2*(Math.ceil(f/m)+2),f));_[h++]=y;for(var S=1;S<f-1;S+=m){for(var k=Math.min(S+m,f-1),D=Math.min(S+2*m,f),A=(D+k)/2,E=0,N=k;N<D;N++){var z=c[_e=this.getRawIndex(N)];isNaN(z)||(E+=z)}E/=D-k;var F=S,q=Math.min(S+m,f),X=S-1,ee=c[y];o=-1,a=F;var ie=-1,ye=0;for(N=F;N<q;N++){var _e;z=c[_e=this.getRawIndex(N)],isNaN(z)?(ye++,ie<0&&(ie=_e)):(i=Math.abs((X-A)*(z-ee)-(X-N)*(E-ee)))>o&&(o=i,a=_e)}ye>0&&ye<q-F&&(_[h++]=Math.min(ie,a),a=Math.max(ie,a)),_[h++]=a,y=a}return _[h++]=this.getRawIndex(f-1),u._count=h,u._indices=_,u.getRawIndex=this._getRawIdx,u},n.prototype.downSample=function(t,e,o,i){for(var a=this.clone([t],!0),u=a._chunks,c=[],f=Math.floor(1/e),h=u[t],m=this.count(),y=a._rawExtent[t]=[1/0,-1/0],_=new(rw(this._rawCount))(Math.ceil(m/f)),S=0,k=0;k<m;k+=f){f>m-k&&(c.length=f=m-k);for(var D=0;D<f;D++){var A=this.getRawIndex(k+D);c[D]=h[A]}var E=o(c),N=this.getRawIndex(Math.min(k+i(c,E)||0,m-1));h[N]=E,E<y[0]&&(y[0]=E),E>y[1]&&(y[1]=E),_[S++]=N}return a._count=S,a._indices=_,a._updateGetRawIdx(),a},n.prototype.each=function(t,e){if(this._count)for(var o=t.length,i=this._chunks,a=0,u=this.count();a<u;a++){var c=this.getRawIndex(a);switch(o){case 0:e(a);break;case 1:e(i[t[0]][c],a);break;case 2:e(i[t[0]][c],i[t[1]][c],a);break;default:for(var f=0,h=[];f<o;f++)h[f]=i[t[f]][c];h[f]=a,e.apply(null,h)}}},n.prototype.getDataExtent=function(t){var e=this._chunks[t],o=[1/0,-1/0];if(!e)return o;var i,a=this.count();if(!this._indices)return this._rawExtent[t].slice();if(i=this._extent[t])return i.slice();for(var u=(i=o)[0],c=i[1],f=0;f<a;f++){var h=e[this.getRawIndex(f)];h<u&&(u=h),h>c&&(c=h)}return this._extent[t]=i=[u,c],i},n.prototype.getRawDataItem=function(t){var e=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(e);for(var o=[],i=this._chunks,a=0;a<i.length;a++)o.push(i[a][e]);return o},n.prototype.clone=function(t,e){var o,i,a=new n,u=this._chunks,c=t&&Sn(t,function(h,m){return h[m]=!0,h},{});if(c)for(var f=0;f<u.length;f++)a._chunks[f]=c[f]?(i=void 0,(i=(o=u[f]).constructor)===Array?o.slice():new i(o)):u[f];else a._chunks=u;return this._copyCommonProps(a),e||(a._indices=this._cloneIndices()),a._updateGetRawIdx(),a},n.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=Re(this._extent),t._rawExtent=Re(this._rawExtent)},n.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,e=void 0;if(t===Array){var o=this._indices.length;e=new t(o);for(var i=0;i<o;i++)e[i]=this._indices[i]}else e=new t(this._indices);return e}return null},n.prototype._getRawIdxIdentity=function(t){return t},n.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},n.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},n.internalField=function(){function t(e,o,i,a){return v0(e[a],this._dimensions[a])}co={arrayRows:t,objectRows:function(e,o,i,a){return v0(e[o],this._dimensions[a])},keyedColumns:t,original:function(e,o,i,a){var u=e&&(null==e.value?e:e.value);return v0(u instanceof Array?u[a]:u,this._dimensions[a])},typedArray:function(e,o,i,a){return e[a]}}}(),n}(),ow=function(){function n(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return n.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},n.prototype._setLocalSource=function(t,e){this._sourceList=t,this._upstreamSignList=e,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},n.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},n.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},n.prototype._createSource=function(){this._setLocalSource([],[]);var t,e,o=this._sourceHost,i=this._getUpstreamSourceManagers(),a=!!i.length;if(Cx(o)){var u=o,c=void 0,f=void 0,h=void 0;if(a){var m=i[0];m.prepareSource(),c=(h=m.getSource()).data,f=h.sourceFormat,e=[m._getVersionSign()]}else f=Ci(c=u.get("data",!0))?St:Be,e=[];var y=this._getSourceMetaRawOption()||{},_=h&&h.metaRawOption||{},S=_n(y.seriesLayoutBy,_.seriesLayoutBy)||null,k=_n(y.sourceHeader,_.sourceHeader),D=_n(y.dimensions,_.dimensions);t=S!==_.seriesLayoutBy||!!k!=!!_.sourceHeader||D?[sy(c,{seriesLayoutBy:S,sourceHeader:k,dimensions:D},f)]:[]}else{var A=o;if(a){var E=this._applyTransform(i);t=E.sourceList,e=E.upstreamSignList}else t=[sy(A.get("source",!0),this._getSourceMetaRawOption(),null)],e=[]}this._setLocalSource(t,e)},n.prototype._applyTransform=function(t){var e,o=this._sourceHost,i=o.get("transform",!0),a=o.get("fromTransformResult",!0);null!=a&&1!==t.length&&BT("");var c,f=[],h=[];return Te(t,function(m){m.prepareSource();var y=m.getSource(a||0);null==a||y||BT(""),f.push(y),h.push(m._getVersionSign())}),i?e=function(m,y,_){var S=Ko(m),k=S.length;k||fi("");for(var A=0,E=k;A<E;A++)y=qk(S[A],y),A!==E-1&&(y.length=Math.max(y.length,1));return y}(i,f):null!=a&&(e=[(c=f[0],new FS({data:c.data,sourceFormat:c.sourceFormat,seriesLayoutBy:c.seriesLayoutBy,dimensionsDefine:Re(c.dimensionsDefine),startIndex:c.startIndex,dimensionsDetectedCount:c.dimensionsDetectedCount}))]),{sourceList:e,upstreamSignList:h}},n.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),e=0;e<t.length;e++){var o=t[e];if(o._isDirty()||this._upstreamSignList[e]!==o._getVersionSign())return!0}},n.prototype.getSource=function(t){var e=this._sourceList[t=t||0];if(!e){var o=this._getUpstreamSourceManagers();return o[0]&&o[0].getSource(t)}return e},n.prototype.getSharedDataStore=function(t){var e=t.makeStoreSchema();return this._innerGetDataStore(e.dimensions,t.source,e.hash)},n.prototype._innerGetDataStore=function(t,e,o){var i=this._storeList,a=i[0];a||(a=i[0]={});var u=a[o];if(!u){var c=this._getUpstreamSourceManagers()[0];Cx(this._sourceHost)&&c?u=c._innerGetDataStore(t,e,o):(u=new KS).initData(new tw(e,t.length),t),a[o]=u}return u},n.prototype._getUpstreamSourceManagers=function(){var o,t=this._sourceHost;if(Cx(t)){var e=Ln(t);return e?[e.getSourceManager()]:[]}return It((o=t).get("transform",!0)||o.get("fromTransformResult",!0)?tp(o.ecModel,"dataset",{index:o.get("fromDatasetIndex",!0),id:o.get("fromDatasetId",!0)},vu).models:[],function(o){return o.getSourceManager()})},n.prototype._getSourceMetaRawOption=function(){var t,e,o,i=this._sourceHost;if(Cx(i))t=i.get("seriesLayoutBy",!0),e=i.get("sourceHeader",!0),o=i.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var a=i;t=a.get("seriesLayoutBy",!0),e=a.get("sourceHeader",!0),o=a.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:e,dimensions:o}},n}();function Sx(n){n.option.transform&&Vo(n.option.transform)}function Cx(n){return"series"===n.mainType}function BT(n){throw new Error(n)}var zT="line-height:1";function y0(n,t){var e=n.color||"#6e7079",o=n.fontSize||12,i=n.fontWeight||"400",a=n.color||"#464646",u=n.fontSize||14,c=n.fontWeight||"900";return"html"===t?{nameStyle:"font-size:"+Ea(o+"")+"px;color:"+Ea(e)+";font-weight:"+Ea(i+""),valueStyle:"font-size:"+Ea(u+"")+"px;color:"+Ea(a)+";font-weight:"+Ea(c+"")}:{nameStyle:{fontSize:o,fill:e,fontWeight:i},valueStyle:{fontSize:u,fill:a,fontWeight:c}}}var Dh=[0,10,20,30],Zk=["","\n","\n\n","\n\n\n"];function Fl(n,t){return t.type=n,t}function Wm(n){return"section"===n.type}function uy(n){return Wm(n)?Ka:b0}function Gm(n){if(Wm(n)){var t=0,e=n.blocks.length,o=e>1||e>0&&!n.noHeader;return Te(n.blocks,function(i){var a=Gm(i);a>=t&&(t=a+ +(o&&(!a||Wm(i)&&!i.noHeader)))}),t}return 0}function Ka(n,t,e,o){var i,a=t.noHeader,u=(i=Gm(t),{html:Dh[i],richText:Zk[i]}),c=[],f=t.blocks||[];go(!f||tt(f)),f=f||[];var h=n.orderMode;if(t.sortBlocks&&h){f=f.slice();var m={valueAsc:"asc",valueDesc:"desc"};if(Mr(m,h)){var y=new qS(m[h],null);f.sort(function(D,A){return y.evaluate(D.sortParam,A.sortParam)})}else"seriesDesc"===h&&f.reverse()}Te(f,function(D,A){var E=t.valueFormatter,N=uy(D)(E?Pe(Pe({},n),{valueFormatter:E}):n,D,A>0?u.html:0,o);null!=N&&c.push(N)});var _="richText"===n.renderMode?c.join(u.richText):x0(c.join(""),a?e:u.html);if(a)return _;var S=$o(t.header,"ordinal",n.useUTC),k=y0(o,n.renderMode).nameStyle;return"richText"===n.renderMode?ly(n,S,k)+u.richText+_:x0('<div style="'+k+";"+zT+';">'+Ea(S)+"</div>"+_,e)}function b0(n,t,e,o){var F,q,ye,i=n.renderMode,a=t.noName,u=t.noValue,c=!t.markerType,f=t.name,h=n.useUTC,m=t.valueFormatter||n.valueFormatter||function(F){return It(F=tt(F)?F:[F],function(q,X){return $o(q,tt(S)?S[X]:S,h)})};if(!a||!u){var y=c?"":n.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||"#333",i),_=a?"":$o(f,"ordinal",h),S=t.valueType,k=u?[]:m(t.value),D=!c||!a,A=!c&&a,E=y0(o,i),N=E.nameStyle,z=E.valueStyle;return"richText"===i?(c?"":y)+(a?"":ly(n,_,N))+(u?"":(F=n,q=k,ye=[z],D&&ye.push({padding:[0,0,0,A?10:20],align:"right"}),F.markupStyleCreator.wrapRichTextStyle(tt(q)?q.join("  "):q,ye))):x0((c?"":y)+(a?"":function(F,q,X){return'<span style="'+X+";"+(q?"margin-left:2px":"")+'">'+Ea(F)+"</span>"}(_,!c,N))+(u?"":function(F,q,X,ee){return'<span style="'+(q?"float:right;margin-left:"+(X?"10px":"20px"):"")+";"+ee+'">'+It(F=tt(F)?F:[F],function(_e){return Ea(_e)}).join("&nbsp;&nbsp;")+"</span>"}(k,D,A,z)),e)}}function Cp(n,t,e,o,i,a){if(n)return uy(n)({useUTC:i,renderMode:e,orderMode:o,markupStyleCreator:t,valueFormatter:n.valueFormatter},n,0,a)}function x0(n,t){return'<div style="margin: '+t+"px 0 0;"+zT+';">'+n+'<div style="clear:both"></div></div>'}function ly(n,t,e){return n.markupStyleCreator.wrapRichTextStyle(t,e)}function il(n,t){return iu(n.getData().getItemVisual(t,"style")[n.visualDrawType])}function Ah(n,t){var e=n.get("padding");return null!=e?e:"richText"===t?[8,10]:10}var iw=function(){function n(){this.richTextStyles={},this._nextStyleNameId=Jl()}return n.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},n.prototype.makeTooltipMarker=function(t,e,o){var i="richText"===o?this._generateStyleName():null,a=Bm({color:e,type:t,renderMode:o,markerId:i});return Un(a)?a:(this.richTextStyles[i]=a.style,a.content)},n.prototype.wrapRichTextStyle=function(t,e){var o={};tt(e)?Te(e,function(a){return Pe(o,a)}):Pe(o,e);var i=this._generateStyleName();return this.richTextStyles[i]=o,"{"+i+"|"+t+"}"},n}();function aw(n){var t,e,o,i,a=n.series,u=n.dataIndex,c=n.multipleSeries,f=a.getData(),h=f.mapDimensionsAll("defaultedTooltip"),m=h.length,y=a.getRawValue(u),_=tt(y),S=il(a,u);if(m>1||_&&!m){var k=function(F,q,X,ee,ie){var ye=q.getData(),_e=Sn(F,function(nt,it,ut){var mt=ye.getDimensionInfo(ut);return nt||mt&&!1!==mt.tooltip&&null!=mt.displayName},!1),Se=[],Ae=[],Fe=[];function Xe(nt,it){var ut=ye.getDimensionInfo(it);ut&&!1!==ut.otherDims.tooltip&&(_e?Fe.push(Fl("nameValue",{markerType:"subItem",markerColor:ie,name:ut.displayName,value:nt,valueType:ut.type})):(Se.push(nt),Ae.push(ut.type)))}return ee.length?Te(ee,function(nt){Xe(bx(ye,X,nt),nt)}):Te(F,Xe),{inlineValues:Se,inlineValueTypes:Ae,blocks:Fe}}(y,a,u,h,S);t=k.inlineValues,e=k.inlineValueTypes,o=k.blocks,i=k.inlineValues[0]}else if(m){var D=f.getDimensionInfo(h[0]);i=t=bx(f,u,h[0]),e=D.type}else i=t=_?y[0]:y;var A=yl(a),E=A&&a.name||"",N=f.getName(u),z=c?E:N;return Fl("section",{header:E,noHeader:c||!A,sortParam:i,blocks:[Fl("nameValue",{markerType:"item",markerColor:S,name:z,noName:!ni(z),value:t,valueType:e})].concat(o||[])})}var Sg=Qo();function _0(n,t){return n.getName(t)||n.getId(t)}var w0="__universalTransitionEnabled",ga=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e._selectedDataIndicesMap={},e}return yt(t,n),t.prototype.init=function(e,o,i){this.seriesIndex=this.componentIndex,this.dataTask=m0({count:zb,reset:Kk}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,i),(Sg(this).sourceManager=new ow(this)).prepareSource();var a=this.getInitialData(e,i);sw(a,this),this.dataTask.context.data=a,Sg(this).dataBeforeProcessed=a,Cg(this),this._initSelectedMapFromData(a)},t.prototype.mergeDefaultAndTheme=function(e,o){var i=Sp(this),a=i?_g(e):{},u=this.subType;H.hasClass(u)&&(u+="Series"),Ve(e,o.getTheme().get(this.subType)),Ve(e,this.getDefaultOption()),Ta(e,"label",["show"]),this.fillDataTextStyle(e.data),i&&xg(e,a,i)},t.prototype.mergeOption=function(e,o){e=Ve(this.option,e,!0),this.fillDataTextStyle(e.data);var i=Sp(this);i&&xg(this.option,e,i);var a=Sg(this).sourceManager;a.dirty(),a.prepareSource();var u=this.getInitialData(e,o);sw(u,this),this.dataTask.dirty(),this.dataTask.context.data=u,Sg(this).dataBeforeProcessed=u,Cg(this),this._initSelectedMapFromData(u)},t.prototype.fillDataTextStyle=function(e){if(e&&!Ci(e))for(var o=["show"],i=0;i<e.length;i++)e[i]&&e[i].label&&Ta(e[i],"label",o)},t.prototype.getInitialData=function(e,o){},t.prototype.appendData=function(e){this.getRawData().appendData(e.data)},t.prototype.getData=function(e){var o=Mx(this);if(o){var i=o.context.data;return null==e?i:i.getLinkedData(e)}return Sg(this).data},t.prototype.getAllData=function(){var e=this.getData();return e&&e.getLinkedDataAll?e.getLinkedDataAll():[{data:e}]},t.prototype.setData=function(e){var o=Mx(this);if(o){var i=o.context;i.outputData=e,o!==this.dataTask&&(i.data=e)}Sg(this).data=e},t.prototype.getEncode=function(){var e=this.get("encode",!0);if(e)return Ir(e)},t.prototype.getSourceManager=function(){return Sg(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return Sg(this).dataBeforeProcessed},t.prototype.getColorBy=function(){return this.get("colorBy")||"series"},t.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},t.prototype.getBaseAxis=function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},t.prototype.formatTooltip=function(e,o,i){return aw({series:this,dataIndex:e,multipleSeries:o})},t.prototype.isAnimationEnabled=function(){var e=this.ecModel;if(We.node&&(!e||!e.ssr))return!1;var o=this.getShallow("animation");return o&&this.getData().count()>this.getShallow("animationThreshold")&&(o=!1),!!o},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(e,o,i){var a=this.ecModel,u=vo.prototype.getColorFromPalette.call(this,e,o,i);return u||(u=a.getColorFromPalette(e,o,i)),u},t.prototype.coordDimToDataDim=function(e){return this.getRawData().mapDimensionsAll(e)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(e,o){this._innerSelect(this.getData(o),e)},t.prototype.unselect=function(e,o){var i=this.option.selectedMap;if(i){var a=this.option.selectedMode,u=this.getData(o);if("series"===a||"all"===i)return this.option.selectedMap={},void(this._selectedDataIndicesMap={});for(var c=0;c<e.length;c++){var f=_0(u,e[c]);i[f]=!1,this._selectedDataIndicesMap[f]=-1}}},t.prototype.toggleSelect=function(e,o){for(var i=[],a=0;a<e.length;a++)i[0]=e[a],this.isSelected(e[a],o)?this.unselect(i,o):this.select(i,o)},t.prototype.getSelectedDataIndices=function(){if("all"===this.option.selectedMap)return[].slice.call(this.getData().getIndices());for(var e=this._selectedDataIndicesMap,o=Zn(e),i=[],a=0;a<o.length;a++){var u=e[o[a]];u>=0&&i.push(u)}return i},t.prototype.isSelected=function(e,o){var i=this.option.selectedMap;if(!i)return!1;var a=this.getData(o);return("all"===i||i[_0(a,e)])&&!a.getItemModel(e).get(["select","disabled"])},t.prototype.isUniversalTransitionEnabled=function(){if(this[w0])return!0;var e=this.option.universalTransition;return!!e&&(!0===e||e&&e.enabled)},t.prototype._innerSelect=function(e,o){var i,a,u=this.option,c=u.selectedMode,f=o.length;if(c&&f)if("series"===c)u.selectedMap="all";else if("multiple"===c){fr(u.selectedMap)||(u.selectedMap={});for(var h=u.selectedMap,m=0;m<f;m++){var y=o[m];h[S=_0(e,y)]=!0,this._selectedDataIndicesMap[S]=e.getRawIndex(y)}}else if("single"===c||!0===c){var _=o[f-1],S=_0(e,_);u.selectedMap=((i={})[S]=!0,i),this._selectedDataIndicesMap=((a={})[S]=e.getRawIndex(_),a)}},t.prototype._initSelectedMapFromData=function(e){if(!this.option.selectedMap){var o=[];e.hasItemOption&&e.each(function(i){var a=e.getRawDataItem(i);a&&a.selected&&o.push(i)}),o.length>0&&this._innerSelect(e,o)}},t.registerClass=function(e){return H.registerClass(e)},t.protoInitialize=((e=t.prototype).type="series.__base__",e.seriesIndex=0,e.ignoreStyleOnData=!1,e.hasSymbolVisual=!1,e.defaultSymbol="circle",e.visualStyleAccessPath="itemStyle",void(e.visualDrawType="fill")),t;var e}(H);function Cg(n){var o,i,a,t=n.name;yl(n)||(n.name=(i=(o=n.getRawData()).mapDimensionsAll("seriesName"),a=[],Te(i,function(u){var c=o.getDimensionInfo(u);c.displayName&&a.push(c.displayName)}),a.join(" ")||t))}function zb(n){return n.model.getRawData().count()}function Kk(n){var t=n.model;return t.setData(t.getRawData().cloneShallow()),kx}function kx(n,t){t.outputData&&n.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function sw(n,t){Te(J(n.CHANGABLE_METHODS,n.DOWNSAMPLE_METHODS),function(e){n.wrapMethod(e,cr($S,t))})}function $S(n,t){var e=Mx(n);return e&&e.setOutputEnd((t||this).count()),t}function Mx(n){var t=(n.ecModel||{}).scheduler,e=t&&t.getPipeline(n.uid);if(e){var o=e.currentTask;if(o){var i=o.agentStubMap;i&&(o=i.get(n.uid))}return o}}_r(ga,jS),_r(ga,vo),rp(ga,H);var Ga=function(){function n(){this.group=new lo,this.uid=Im("viewComponent")}return n.prototype.init=function(t,e){},n.prototype.render=function(t,e,o,i){},n.prototype.dispose=function(t,e){},n.prototype.updateView=function(t,e,o,i){},n.prototype.updateLayout=function(t,e,o,i){},n.prototype.updateVisual=function(t,e,o,i){},n.prototype.toggleBlurSeries=function(t,e,o){},n.prototype.eachRendered=function(t){var e=this.group;e&&e.traverse(t)},n}();function S0(){var n=Qo();return function(t){var e=n(t),o=t.pipelineContext,i=!!e.large,a=!!e.progressiveRender,u=e.large=!(!o||!o.large),c=e.progressiveRender=!(!o||!o.progressiveRender);return!(i===u&&a===c)&&"reset"}}Ql(Ga),Ov(Ga);var JS=Qo(),uw=S0(),ma=function(){function n(){this.group=new lo,this.uid=Im("viewChart"),this.renderTask=m0({plan:$k,reset:QS}),this.renderTask.context={view:this}}return n.prototype.init=function(t,e){},n.prototype.render=function(t,e,o,i){},n.prototype.highlight=function(t,e,o,i){var a=t.getData(i&&i.dataType);a&&Fb(a,i,"emphasis")},n.prototype.downplay=function(t,e,o,i){var a=t.getData(i&&i.dataType);a&&Fb(a,i,"normal")},n.prototype.remove=function(t,e){this.group.removeAll()},n.prototype.dispose=function(t,e){},n.prototype.updateView=function(t,e,o,i){this.render(t,e,o,i)},n.prototype.updateLayout=function(t,e,o,i){this.render(t,e,o,i)},n.prototype.updateVisual=function(t,e,o,i){this.render(t,e,o,i)},n.prototype.eachRendered=function(t){Vu(this.group,t)},n.markUpdateMethod=function(t,e){JS(t).updateMethod=e},n.protoInitialize=void(n.prototype.type="chart"),n}();function Tx(n,t,e){n&&Xc(n)&&("emphasis"===t?Mf:qd)(n,e)}function Fb(n,t,e){var a,u,o=Rd(n,t),i=t&&null!=t.highlightKey?(null==(u=F_[a=t.highlightKey])&&$n<=32&&(u=F_[a]=$n++),u):null;null!=o?Te(Ko(o),function(a){Tx(n.getItemGraphicEl(a),e,i)}):n.eachItemGraphicEl(function(a){Tx(a,e,i)})}function $k(n){return uw(n.model)}function QS(n){var t=n.model,e=n.ecModel,o=n.api,i=n.payload,a=t.pipelineContext.progressiveRender,u=n.view,c=i&&JS(i).updateMethod,f=a?"incrementalPrepareRender":c&&u[c]?c:"render";return"render"!==f&&u[f](t,e,o,i),Jk[f]}Ql(ma),Ov(ma);var Jk={incrementalPrepareRender:{progress:function(n,t){t.view.incrementalRender(n,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(n,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},Vb="\0__throttleOriginMethod",Qk="\0__throttleRate",kg="\0__throttleType";function lw(n,t,e){var o,i,a,u,c,f=0,h=0,m=null;function y(){h=(new Date).getTime(),m=null,n.apply(a,u||[])}t=t||0;var _=function(){for(var S=[],k=0;k<arguments.length;k++)S[k]=arguments[k];o=(new Date).getTime(),a=this,u=S;var D=c||t,A=c||e;c=null,i=o-(A?f:h)-D,clearTimeout(m),A?m=setTimeout(y,D):i>=0?y():m=setTimeout(y,-i),f=o};return _.clear=function(){m&&(clearTimeout(m),m=null)},_.debounceNextCall=function(S){c=S},_}function C0(n,t,e,o){var i=n[t];if(i){var a=i[Vb]||i;if(i[Qk]!==e||i[kg]!==o){if(null==e||!o)return n[t]=a;(i=n[t]=lw(a,e,"debounce"===o))[Vb]=a,i[kg]=o,i[Qk]=e}return i}}function Dx(n,t){var e=n[t];e&&e[Vb]&&(e.clear&&e.clear(),n[t]=e[Vb])}var eC=Qo(),eM={itemStyle:op(fx,!0),lineStyle:op(vp,!0)},XD={lineStyle:"stroke",itemStyle:"fill"};function tC(n,t){return n.visualStyleMapper||eM[t]||(console.warn("Unknown style type '"+t+"'."),eM.itemStyle)}function nC(n,t){return n.visualDrawType||XD[t]||(console.warn("Unknown style type '"+t+"'."),"fill")}var FT={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){var e=n.getData(),o=n.visualStyleAccessPath||"itemStyle",i=n.getModel(o),a=tC(n,o)(i),u=i.getShallow("decal");u&&(e.setVisual("decal",u),u.dirty=!0);var c=nC(n,o),f=a[c],h=hn(f)?f:null;if(!a[c]||h||"auto"===a.fill||"auto"===a.stroke){var y=n.getColorFromPalette(n.name,null,t.getSeriesCount());a[c]||(a[c]=y,e.setVisual("colorFromPalette",!0)),a.fill="auto"===a.fill||hn(a.fill)?y:a.fill,a.stroke="auto"===a.stroke||hn(a.stroke)?y:a.stroke}if(e.setVisual("style",a),e.setVisual("drawType",c),!t.isSeriesFiltered(n)&&h)return e.setVisual("colorFromPalette",!1),{dataEach:function(_,S){var k=n.getDataParams(S),D=Pe({},a);D[c]=h(k),_.setItemVisual(S,"style",D)}}}},Ax=new Pi,VT={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){if(!n.ignoreStyleOnData&&!t.isSeriesFiltered(n)){var e=n.getData(),o=n.visualStyleAccessPath||"itemStyle",i=tC(n,o),a=e.getVisual("drawType");return{dataEach:e.hasItemOption?function(u,c){var f=u.getRawDataItem(c);if(f&&f[o]){Ax.option=f[o];var h=i(Ax);Pe(u.ensureUniqueItemVisual(c,"style"),h),Ax.option.decal&&(u.setItemVisual(c,"decal",Ax.option.decal),Ax.option.decal.dirty=!0),a in h&&u.setItemVisual(c,"colorFromPalette",!1)}}:null}}}},tM={performRawSeries:!0,overallReset:function(n){var t=Ir();n.eachSeries(function(e){var o=e.getColorBy();if(!e.isColorBySeries()){var i=e.type+"-"+o,a=t.get(i);a||t.set(i,a={}),eC(e).scope=a}}),n.eachSeries(function(e){if(!e.isColorBySeries()&&!n.isSeriesFiltered(e)){var o=e.getRawData(),i={},a=e.getData(),u=eC(e).scope,f=nC(e,e.visualStyleAccessPath||"itemStyle");a.each(function(h){var m=a.getRawIndex(h);i[m]=h}),o.each(function(h){var m=i[h];if(a.getItemVisual(m,"colorFromPalette")){var y=a.ensureUniqueItemVisual(m,"style"),_=o.getName(h)||h+"",S=o.count();y[f]=e.getColorFromPalette(_,u,S)}})}})}},Hb=Math.PI,Wb=function(){function n(t,e,o,i){this._stageTaskMap=Ir(),this.ecInstance=t,this.api=e,o=this._dataProcessorHandlers=o.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=o.concat(i)}return n.prototype.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each(function(o){var i=o.overallTask;i&&i.dirty()})},n.prototype.getPerformArgs=function(t,e){if(t.__pipeline){var o=this._pipelineMap.get(t.__pipeline.id),i=o.context,a=!e&&o.progressiveEnabled&&(!i||i.progressiveRender)&&t.__idxInPipeline>o.blockIndex?o.step:null,u=i&&i.modDataCount;return{step:a,modBy:null!=u?Math.ceil(u/a):null,modDataCount:u}}},n.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},n.prototype.updateStreamModes=function(t,e){var o=this._pipelineMap.get(t.uid),i=t.getData().count(),a=o.progressiveEnabled&&e.incrementalPrepareRender&&i>=o.threshold,u=t.get("large")&&i>=t.get("largeThreshold"),c="mod"===t.get("progressiveChunkMode")?i:null;t.pipelineContext=o.context={progressiveRender:a,modDataCount:c,large:u}},n.prototype.restorePipelines=function(t){var e=this,o=e._pipelineMap=Ir();t.eachSeries(function(i){var a=i.getProgressive(),u=i.uid;o.set(u,{id:u,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:a&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),e._pipe(i,i.dataTask)})},n.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.api.getModel(),o=this.api;Te(this._allHandlers,function(i){var a=t.get(i.uid)||t.set(i.uid,{});go(!(i.reset&&i.overallReset),""),i.reset&&this._createSeriesStageTask(i,a,e,o),i.overallReset&&this._createOverallStageTask(i,a,e,o)},this)},n.prototype.prepareView=function(t,e,o,i){var a=t.renderTask,u=a.context;u.model=e,u.ecModel=o,u.api=i,a.__block=!t.incrementalPrepareRender,this._pipe(e,a)},n.prototype.performDataProcessorTasks=function(t,e){this._performStageTasks(this._dataProcessorHandlers,t,e,{block:!0})},n.prototype.performVisualTasks=function(t,e,o){this._performStageTasks(this._visualHandlers,t,e,o)},n.prototype._performStageTasks=function(t,e,o,i){i=i||{};var a=!1,u=this;function c(f,h){return f.setDirty&&(!f.dirtyMap||f.dirtyMap.get(h.__pipeline.id))}Te(t,function(f,h){if(!i.visualType||i.visualType===f.visualType){var m=u._stageTaskMap.get(f.uid),y=m.seriesTaskMap,_=m.overallTask;if(_){var S,k=_.agentStubMap;k.each(function(A){c(i,A)&&(A.dirty(),S=!0)}),S&&_.dirty(),u.updatePayload(_,o);var D=u.getPerformArgs(_,i.block);k.each(function(A){A.perform(D)}),_.perform(D)&&(a=!0)}else y&&y.each(function(A,E){c(i,A)&&A.dirty();var N=u.getPerformArgs(A,i.block);N.skip=!f.performRawSeries&&e.isSeriesFiltered(A.context.model),u.updatePayload(A,o),A.perform(N)&&(a=!0)})}}),this.unfinished=a||this.unfinished},n.prototype.performSeriesTasks=function(t){var e;t.eachSeries(function(o){e=o.dataTask.perform()||e}),this.unfinished=e||this.unfinished},n.prototype.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})},n.prototype.updatePayload=function(t,e){"remain"!==e&&(t.context.payload=e)},n.prototype._createSeriesStageTask=function(t,e,o,i){var a=this,u=e.seriesTaskMap,c=e.seriesTaskMap=Ir(),f=t.seriesType,h=t.getTargetSeries;function m(y){var _=y.uid,S=c.set(_,u&&u.get(_)||m0({plan:Gb,reset:Um,count:cw}));S.context={model:y,ecModel:o,api:i,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:a},a._pipe(y,S)}t.createOnAllSeries?o.eachRawSeries(m):f?o.eachRawSeriesByType(f,m):h&&h(o,i).each(m)},n.prototype._createOverallStageTask=function(t,e,o,i){var a=this,u=e.overallTask=e.overallTask||m0({reset:rC});u.context={ecModel:o,api:i,overallReset:t.overallReset,scheduler:a};var c=u.agentStubMap,f=u.agentStubMap=Ir(),h=t.seriesType,m=t.getTargetSeries,y=!0,_=!1;function k(D){var A=D.uid,E=f.set(A,c&&c.get(A)||(_=!0,m0({reset:oC,onDirty:nM})));E.context={model:D,overallProgress:y},E.agent=u,E.__block=y,a._pipe(D,E)}go(!t.createOnAllSeries,""),h?o.eachRawSeriesByType(h,k):m?m(o,i).each(k):(y=!1,Te(o.getSeries(),k)),_&&u.dirty()},n.prototype._pipe=function(t,e){var i=this._pipelineMap.get(t.uid);!i.head&&(i.head=e),i.tail&&i.tail.pipe(e),i.tail=e,e.__idxInPipeline=i.count++,e.__pipeline=i},n.wrapStageHandler=function(t,e){return hn(t)&&(t={overallReset:t,seriesType:aC(t)}),t.uid=Im("stageHandler"),e&&(t.visualType=e),t},n}();function rC(n){n.overallReset(n.ecModel,n.api,n.payload)}function oC(n){return n.overallProgress&&HT}function HT(){this.agent.dirty(),this.getDownstream().dirty()}function nM(){this.agent&&this.agent.dirty()}function Gb(n){return n.plan?n.plan(n.model,n.ecModel,n.api,n.payload):null}function Um(n){n.useClearVisual&&n.data.clearAllVisual();var t=n.resetDefines=Ko(n.reset(n.model,n.ecModel,n.api,n.payload));return t.length>1?It(t,function(e,o){return iC(o)}):WT}var WT=iC(0);function iC(n){return function(t,e){var o=e.data,i=e.resetDefines[n];if(i&&i.dataEach)for(var a=t.start;a<t.end;a++)i.dataEach(o,a);else i&&i.progress&&i.progress(t,o)}}function cw(n){return n.data.count()}function aC(n){Ub=null;try{n(jb,Ix)}catch{}return Ub}var Ub,jb={},Ix={};function fw(n,t){for(var e in t.prototype)n[e]=Io}fw(jb,sr),fw(Ix,Ac),jb.eachSeriesByType=jb.eachRawSeriesByType=function(n){Ub=n},jb.eachComponent=function(n){"series"===n.mainType&&n.subType&&(Ub=n.subType)};var qb=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],rM={color:qb,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],qb]},Oc="#B9B8CE",kp="#100C2A",dw=function(){return{axisLine:{lineStyle:{color:Oc}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},nf=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],Gs={darkMode:!0,color:nf,backgroundColor:kp,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:Oc}},textStyle:{color:Oc},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Oc}},dataZoom:{borderColor:"#71708A",textStyle:{color:Oc},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Oc}},timeline:{lineStyle:{color:Oc},label:{color:Oc},controlStyle:{color:Oc,borderColor:Oc}},calendar:{itemStyle:{color:kp},dayLabel:{color:Oc},monthLabel:{color:Oc},yearLabel:{color:Oc}},timeAxis:dw(),logAxis:dw(),valueAxis:dw(),categoryAxis:dw(),line:{symbol:"circle"},graph:{color:nf},gauge:{title:{color:Oc},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Oc},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};Gs.categoryAxis.splitLine.show=!1;var k0=function(){function n(){}return n.prototype.normalizeQuery=function(t){var e={},o={},i={};if(Un(t)){var a=tu(t);e.mainType=a.main||null,e.subType=a.sub||null}else{var u=["Index","Name","Id"],c={name:1,dataIndex:1,dataType:1};Te(t,function(f,h){for(var m=!1,y=0;y<u.length;y++){var _=u[y],S=h.lastIndexOf(_);if(S>0&&S===h.length-_.length){var k=h.slice(0,S);"data"!==k&&(e.mainType=k,e[_.toLowerCase()]=f,m=!0)}}c.hasOwnProperty(h)&&(o[h]=f,m=!0),m||(i[h]=f)})}return{cptQuery:e,dataQuery:o,otherQuery:i}},n.prototype.filter=function(t,e){var o=this.eventInfo;if(!o)return!0;var i=o.targetEl,a=o.packedEvent,u=o.model,c=o.view;if(!u||!c)return!0;var f=e.cptQuery,h=e.dataQuery;return m(f,u,"mainType")&&m(f,u,"subType")&&m(f,u,"index","componentIndex")&&m(f,u,"name")&&m(f,u,"id")&&m(h,a,"name")&&m(h,a,"dataIndex")&&m(h,a,"dataType")&&(!c.filterForExposedEvent||c.filterForExposedEvent(t,e.otherQuery,i,a));function m(y,_,S,k){return null==y[S]||_[k||S]===y[S]}},n.prototype.afterTrigger=function(){this.eventInfo=null},n}(),Ox=["symbol","symbolSize","symbolRotate","symbolOffset"],Mp=Ox.concat(["symbolKeepAspect"]),sC={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){var e=n.getData();if(n.legendIcon&&e.setVisual("legendIcon",n.legendIcon),n.hasSymbolVisual){for(var o={},i={},a=!1,u=0;u<Ox.length;u++){var c=Ox[u],f=n.get(c);hn(f)?(a=!0,i[c]=f):o[c]=f}if(o.symbol=o.symbol||n.defaultSymbol,e.setVisual(Pe({legendIcon:n.legendIcon||o.symbol,symbolKeepAspect:n.get("symbolKeepAspect")},o)),!t.isSeriesFiltered(n)){var h=Zn(i);return{dataEach:a?function(m,y){for(var _=n.getRawValue(y),S=n.getDataParams(y),k=0;k<h.length;k++){var D=h[k];m.setItemVisual(y,D,i[D](_,S))}}:null}}}}},hw={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){if(n.hasSymbolVisual&&!t.isSeriesFiltered(n))return{dataEach:n.getData().hasItemOption?function(e,o){for(var i=e.getItemModel(o),a=0;a<Mp.length;a++){var u=Mp[a],c=i.getShallow(u,!0);null!=c&&e.setItemVisual(o,u,c)}}:null}}};function pw(n,t,e){switch(e){case"color":return n.getItemVisual(t,"style")[n.getVisual("drawType")];case"opacity":return n.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getItemVisual(t,e)}}function cy(n,t){switch(t){case"color":return n.getVisual("style")[n.getVisual("drawType")];case"opacity":return n.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getVisual(t)}}function oM(n,t,e,o){switch(e){case"color":n.ensureUniqueItemVisual(t,"style")[n.getVisual("drawType")]=o,n.setItemVisual(t,"colorFromPalette",!1);break;case"opacity":n.ensureUniqueItemVisual(t,"style").opacity=o;break;case"symbol":case"symbolSize":case"liftZ":n.setItemVisual(t,e,o)}}function gw(n,t){function e(o,i){var a=[];return o.eachComponent({mainType:"series",subType:n,query:i},function(u){a.push(u.seriesIndex)}),a}Te([[n+"ToggleSelect","toggleSelect"],[n+"Select","select"],[n+"UnSelect","unselect"]],function(o){t(o[0],function(i,a,u){i=Pe({},i),u.dispatchAction(Pe(i,{type:o[1],seriesIndex:e(a,i)}))})})}function Ih(n,t,e,o,i){var a=n+t;e.isSilent(a)||o.eachComponent({mainType:"series",subType:"pie"},function(u){for(var c=u.seriesIndex,f=u.option.selectedMap,h=i.selected,m=0;m<h.length;m++)if(h[m].seriesIndex===c){var y=u.getData(),_=Rd(y,i.fromActionPayload);e.trigger(a,{type:a,seriesId:u.id,name:tt(_)?y.getName(_[0]):y.getName(_),selected:Un(f)?f:Pe({},f)})}})}function fy(n,t,e){for(var o;n&&(!t(n)||(o=n,!e));)n=n.__hostTarget||n.parent;return o}var M0=Math.round(9*Math.random()),uC="function"==typeof Object.defineProperty,iM=function(){function n(){this._id="__ec_inner_"+M0++}return n.prototype.get=function(t){return this._guard(t)[this._id]},n.prototype.set=function(t,e){var o=this._guard(t);return uC?Object.defineProperty(o,this._id,{value:e,enumerable:!1,configurable:!0}):o[this._id]=e,this},n.prototype.delete=function(t){return!!this.has(t)&&(delete this._guard(t)[this._id],!0)},n.prototype.has=function(t){return!!this._guard(t)[this._id]},n.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},n}(),GT=Do.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,t){var e=t.cx,o=t.cy,i=t.width/2,a=t.height/2;n.moveTo(e,o-a),n.lineTo(e+i,o+a),n.lineTo(e-i,o+a),n.closePath()}}),ZD=Do.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,t){var e=t.cx,o=t.cy,i=t.width/2,a=t.height/2;n.moveTo(e,o-a),n.lineTo(e+i,o),n.lineTo(e,o+a),n.lineTo(e-i,o),n.closePath()}}),UT=Do.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,t){var e=t.x,o=t.y,i=t.width/5*3,a=Math.max(i,t.height),u=i/2,c=u*u/(a-u),f=o-a+u+c,h=Math.asin(c/u),m=Math.cos(h)*u,y=Math.sin(h),_=Math.cos(h),S=.6*u,k=.7*u;n.moveTo(e-m,f+c),n.arc(e,f,u,Math.PI-h,2*Math.PI+h),n.bezierCurveTo(e+m-y*S,f+c+_*S,e,o-k,e,o),n.bezierCurveTo(e,o-k,e-m+y*S,f+c+_*S,e-m,f+c),n.closePath()}}),jT=Do.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,t){var e=t.height,i=t.x,a=t.y,u=t.width/3*2;n.moveTo(i,a),n.lineTo(i+u,a+e),n.lineTo(i,a+e/4*3),n.lineTo(i-u,a+e),n.lineTo(i,a),n.closePath()}}),qT={line:function(n,t,e,o,i){i.x1=n,i.y1=t+o/2,i.x2=n+e,i.y2=t+o/2},rect:function(n,t,e,o,i){i.x=n,i.y=t,i.width=e,i.height=o},roundRect:function(n,t,e,o,i){i.x=n,i.y=t,i.width=e,i.height=o,i.r=Math.min(e,o)/4},square:function(n,t,e,o,i){var a=Math.min(e,o);i.x=n,i.y=t,i.width=a,i.height=a},circle:function(n,t,e,o,i){i.cx=n+e/2,i.cy=t+o/2,i.r=Math.min(e,o)/2},diamond:function(n,t,e,o,i){i.cx=n+e/2,i.cy=t+o/2,i.width=e,i.height=o},pin:function(n,t,e,o,i){i.x=n+e/2,i.y=t+o/2,i.width=e,i.height=o},arrow:function(n,t,e,o,i){i.x=n+e/2,i.y=t+o/2,i.width=e,i.height=o},triangle:function(n,t,e,o,i){i.cx=n+e/2,i.cy=t+o/2,i.width=e,i.height=o}},mw={};Te({line:Ws,rect:oi,roundRect:oi,square:oi,circle:Kc,diamond:ZD,pin:UT,arrow:jT,triangle:GT},function(n,t){mw[t]=new n});var aM=Do.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(n,t,e){var o=Ad(n,t,e),i=this.shape;return i&&"pin"===i.symbolType&&"inside"===t.position&&(o.y=e.y+.4*e.height),o},buildPath:function(n,t,e){var o=t.symbolType;if("none"!==o){var i=mw[o];i||(i=mw[o="rect"]),qT[o](t.x,t.y,t.width,t.height,i.shape),i.buildPath(n,i.shape,e)}}});function Yb(n,t){if("image"!==this.type){var e=this.style;this.__isEmptyBrush?(e.stroke=n,e.fill=t||"#fff",e.lineWidth=2):"line"===this.shape.symbolType?e.stroke=n:e.fill=n,this.markRedraw()}}function Hu(n,t,e,o,i,a,u){var c,f=0===n.indexOf("empty");return f&&(n=n.substr(5,1).toLowerCase()+n.substr(6)),(c=0===n.indexOf("image://")?$c(n.slice(8),new To(t,e,o,i),u?"center":"cover"):0===n.indexOf("path://")?Ch(n.slice(7),{},new To(t,e,o,i),u?"center":"cover"):new aM({shape:{symbolType:n,x:t,y:e,width:o,height:i}})).__isEmptyBrush=f,c.setColor=Yb,a&&c.setColor(a),c}function Xb(n){return tt(n)||(n=[+n,+n]),[n[0]||0,n[1]||0]}function Zb(n,t){if(null!=n)return tt(n)||(n=[n,n]),[Qn(n[0],t[0])||0,Qn(_n(n[1],n[0]),t[1])||0]}function dy(n){return isFinite(n)}function Kb(n,t,e){for(var o="radial"===t.type?(u=n,c=t,void 0,void 0,void 0,_=void 0,S=void 0,k=void 0,h=(f=e).width,m=f.height,y=Math.min(h,m),_=null==c.x?.5:c.x,S=null==c.y?.5:c.y,k=null==c.r?.5:c.r,c.global||(_=_*h+f.x,S=S*m+f.y,k*=y),_=dy(_)?_:.5,S=dy(S)?S:.5,k=k>=0&&dy(k)?k:.5,u.createRadialGradient(_,S,0,_,S,k)):function(u,c,f){var h=null==c.x?0:c.x,m=null==c.x2?1:c.x2,y=null==c.y?0:c.y,_=null==c.y2?0:c.y2;return c.global||(h=h*f.width+f.x,m=m*f.width+f.x,y=y*f.height+f.y,_=_*f.height+f.y),h=dy(h)?h:0,m=dy(m)?m:1,y=dy(y)?y:0,_=dy(_)?_:0,u.createLinearGradient(h,y,m,_)}(n,t,e),i=t.colorStops,a=0;a<i.length;a++)o.addColorStop(i[a].offset,i[a].color);var u,c,f,h,m,y,_,S,k;return o}function lC(n){return parseInt(n,10)}function T0(n,t,e){var o=["width","height"][t],i=["clientWidth","clientHeight"][t],a=["paddingLeft","paddingTop"][t],u=["paddingRight","paddingBottom"][t];if(null!=e[o]&&"auto"!==e[o])return parseFloat(e[o]);var c=document.defaultView.getComputedStyle(n);return(n[i]||lC(c[o])||lC(n.style[o]))-(lC(c[a])||0)-(lC(c[u])||0)|0}function Ex(n){var t,e,o=n.style,i=o.lineDash&&o.lineWidth>0&&(e=o.lineWidth,(t=o.lineDash)&&"solid"!==t&&e>0?"dashed"===t?[4*e,2*e]:"dotted"===t?[e]:hr(t)?[t]:tt(t)?t:null:null),a=o.lineDashOffset;if(i){var u=o.strokeNoScale&&n.getLineScale?n.getLineScale():1;u&&1!==u&&(i=It(i,function(c){return c/u}),a/=u)}return[i,a]}var YT=new Ya(!0);function hy(n){var t=n.stroke;return!(null==t||"none"===t||!(n.lineWidth>0))}function D0(n){return"string"==typeof n&&"none"!==n}function $b(n){var t=n.fill;return null!=t&&"none"!==t}function XT(n,t){if(null!=t.fillOpacity&&1!==t.fillOpacity){var e=n.globalAlpha;n.globalAlpha=t.fillOpacity*t.opacity,n.fill(),n.globalAlpha=e}else n.fill()}function Jb(n,t){if(null!=t.strokeOpacity&&1!==t.strokeOpacity){var e=n.globalAlpha;n.globalAlpha=t.strokeOpacity*t.opacity,n.stroke(),n.globalAlpha=e}else n.stroke()}function jm(n,t,e){var o=ca(t.image,t.__image,e);if(Up(o)){var i=n.createPattern(o,t.repeat||"repeat");if("function"==typeof DOMMatrix&&i&&i.setTransform){var a=new DOMMatrix;a.translateSelf(t.x||0,t.y||0),a.rotateSelf(0,0,(t.rotation||0)*zr),a.scaleSelf(t.scaleX||1,t.scaleY||1),i.setTransform(a)}return i}}var sM=["shadowBlur","shadowOffsetX","shadowOffsetY"],vw=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function Px(n,t,e,o,i){var a=!1;if(!o&&t===(e=e||{}))return!1;if(o||t.opacity!==e.opacity){Pf(n,i),a=!0;var u=Math.max(Math.min(t.opacity,1),0);n.globalAlpha=isNaN(u)?zd.opacity:u}(o||t.blend!==e.blend)&&(a||(Pf(n,i),a=!0),n.globalCompositeOperation=t.blend||zd.blend);for(var c=0;c<sM.length;c++){var f=sM[c];(o||t[f]!==e[f])&&(a||(Pf(n,i),a=!0),n[f]=n.dpr*(t[f]||0))}return(o||t.shadowColor!==e.shadowColor)&&(a||(Pf(n,i),a=!0),n.shadowColor=t.shadowColor||zd.shadowColor),a}function py(n,t,e,o,i){var a=gy(t,i.inHover),u=o?null:e&&gy(e,i.inHover)||{};if(a===u)return!1;var c=Px(n,a,u,o,i);if((o||a.fill!==u.fill)&&(c||(Pf(n,i),c=!0),D0(a.fill)&&(n.fillStyle=a.fill)),(o||a.stroke!==u.stroke)&&(c||(Pf(n,i),c=!0),D0(a.stroke)&&(n.strokeStyle=a.stroke)),(o||a.opacity!==u.opacity)&&(c||(Pf(n,i),c=!0),n.globalAlpha=null==a.opacity?1:a.opacity),t.hasStroke()){var f=a.lineWidth/(a.strokeNoScale&&t.getLineScale?t.getLineScale():1);n.lineWidth!==f&&(c||(Pf(n,i),c=!0),n.lineWidth=f)}for(var h=0;h<vw.length;h++){var m=vw[h],y=m[0];(o||a[y]!==u[y])&&(c||(Pf(n,i),c=!0),n[y]=a[y]||m[1])}return c}function cC(n,t){var e=t.transform,o=n.dpr||1;e?n.setTransform(o*e[0],o*e[1],o*e[2],o*e[3],o*e[4],o*e[5]):n.setTransform(o,0,0,o,0,0)}function Pf(n,t){t.batchFill&&n.fill(),t.batchStroke&&n.stroke(),t.batchFill="",t.batchStroke=""}function gy(n,t){return t&&n.__hoverStyle||n.style}function yw(n,t){my(n,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function my(n,t,e,o){var i=t.transform;if(!t.shouldBePainted(e.viewWidth,e.viewHeight,!1,!1))return t.__dirty&=-2,void(t.__isRendered=!1);var k,D,A,a=t.__clipPaths,u=e.prevElClipPaths,c=!1,f=!1;if(u&&!function(k,D){if(k===D||!k&&!D)return!1;if(!k||!D||k.length!==D.length)return!0;for(var A=0;A<k.length;A++)if(k[A]!==D[A])return!0;return!1}(a,u)||(u&&u.length&&(Pf(n,e),n.restore(),f=c=!0,e.prevElClipPaths=null,e.allClipped=!1,e.prevEl=null),a&&a.length&&(Pf(n,e),n.save(),function(k,D,A){for(var E=!1,N=0;N<k.length;N++){var z=k[N];E=E||z.isZeroArea(),cC(D,z),D.beginPath(),z.buildPath(D,z.shape),D.clip()}A.allClipped=E}(a,n,e),c=!0),e.prevElClipPaths=a),e.allClipped)t.__isRendered=!1;else{t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var h=e.prevEl;h||(f=c=!0);var m,y,_=t instanceof Do&&t.autoBatch&&(D=$b(k=t.style),A=hy(k),!(k.lineDash||!(+D^+A)||D&&"string"!=typeof k.fill||A&&"string"!=typeof k.stroke||k.strokePercent<1||k.strokeOpacity<1||k.fillOpacity<1));c||(y=h.transform,(m=i)&&y?m[0]!==y[0]||m[1]!==y[1]||m[2]!==y[2]||m[3]!==y[3]||m[4]!==y[4]||m[5]!==y[5]:m||y)?(Pf(n,e),cC(n,t)):_||Pf(n,e);var S=gy(t,e.inHover);t instanceof Do?(1!==e.lastDrawType&&(f=!0,e.lastDrawType=1),py(n,t,h,f,e),_&&(e.batchFill||e.batchStroke)||n.beginPath(),function(k,D,A,E){var N,z=hy(A),F=$b(A),q=A.strokePercent,X=q<1,ee=!D.path;D.silent&&!X||!ee||D.createPathProxy();var ie=D.path||YT,ye=D.__dirty;if(!E){var _e=A.fill,Se=A.stroke,Ae=F&&!!_e.colorStops,Fe=z&&!!Se.colorStops,Xe=F&&!!_e.image,nt=z&&!!Se.image,it=void 0,ut=void 0,mt=void 0,Ot=void 0,Pt=void 0;(Ae||Fe)&&(Pt=D.getBoundingRect()),Ae&&(it=ye?Kb(k,_e,Pt):D.__canvasFillGradient,D.__canvasFillGradient=it),Fe&&(ut=ye?Kb(k,Se,Pt):D.__canvasStrokeGradient,D.__canvasStrokeGradient=ut),Xe&&(mt=ye||!D.__canvasFillPattern?jm(k,_e,D):D.__canvasFillPattern,D.__canvasFillPattern=mt),nt&&(Ot=ye||!D.__canvasStrokePattern?jm(k,Se,D):D.__canvasStrokePattern,D.__canvasStrokePattern=mt),Ae?k.fillStyle=it:Xe&&(mt?k.fillStyle=mt:F=!1),Fe?k.strokeStyle=ut:nt&&(Ot?k.strokeStyle=Ot:z=!1)}var Gt,kn,tr=D.getGlobalScale();ie.setScale(tr[0],tr[1],D.segmentIgnoreThreshold),k.setLineDash&&A.lineDash&&(Gt=(N=Ex(D))[0],kn=N[1]);var Xt=!0;(ee||4&ye)&&(ie.setDPR(k.dpr),X?ie.setContext(null):(ie.setContext(k),Xt=!1),ie.reset(),D.buildPath(ie,D.shape,E),ie.toStatic(),D.pathUpdated()),Xt&&ie.rebuildPath(k,X?q:1),Gt&&(k.setLineDash(Gt),k.lineDashOffset=kn),E||(A.strokeFirst?(z&&Jb(k,A),F&&XT(k,A)):(F&&XT(k,A),z&&Jb(k,A))),Gt&&k.setLineDash([])}(n,t,S,_),_&&(e.batchFill=S.fill||"",e.batchStroke=S.stroke||"")):t instanceof $p?(3!==e.lastDrawType&&(f=!0,e.lastDrawType=3),py(n,t,h,f,e),function(k,D,A){var E,N=A.text;if(null!=N&&(N+=""),N){k.font=A.font||xe,k.textAlign=A.textAlign,k.textBaseline=A.textBaseline;var z=void 0,F=void 0;k.setLineDash&&A.lineDash&&(z=(E=Ex(D))[0],F=E[1]),z&&(k.setLineDash(z),k.lineDashOffset=F),A.strokeFirst?(hy(A)&&k.strokeText(N,A.x,A.y),$b(A)&&k.fillText(N,A.x,A.y)):($b(A)&&k.fillText(N,A.x,A.y),hy(A)&&k.strokeText(N,A.x,A.y)),z&&k.setLineDash([])}}(n,t,S)):t instanceof bu?(2!==e.lastDrawType&&(f=!0,e.lastDrawType=2),function(k,D,A,E,N){Px(k,gy(D,N.inHover),A&&gy(A,N.inHover),E,N)}(n,t,h,f,e),function(k,D,A){var E=D.__image=ca(A.image,D.__image,D,D.onload);if(E&&Up(E)){var N=A.x||0,z=A.y||0,F=D.getWidth(),q=D.getHeight(),X=E.width/E.height;if(null==F&&null!=q?F=q*X:null==q&&null!=F?q=F/X:null==F&&null==q&&(F=E.width,q=E.height),A.sWidth&&A.sHeight){var ee=A.sx||0,ie=A.sy||0;k.drawImage(E,ee,ie,A.sWidth,A.sHeight,N,z,F,q)}else if(A.sx&&A.sy){var ye=F-(ee=A.sx),_e=q-(ie=A.sy);k.drawImage(E,ee,ie,ye,_e,N,z,F,q)}else k.drawImage(E,N,z,F,q)}}(n,t,S)):t.getTemporalDisplayables&&(4!==e.lastDrawType&&(f=!0,e.lastDrawType=4),function(k,D,A){var E=D.getDisplayables(),N=D.getTemporalDisplayables();k.save();var z,F,q={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:A.viewWidth,viewHeight:A.viewHeight,inHover:A.inHover};for(z=D.getCursor(),F=E.length;z<F;z++)(ie=E[z]).beforeBrush&&ie.beforeBrush(),ie.innerBeforeBrush(),my(k,ie,q,z===F-1),ie.innerAfterBrush(),ie.afterBrush&&ie.afterBrush(),q.prevEl=ie;for(var X=0,ee=N.length;X<ee;X++){var ie;(ie=N[X]).beforeBrush&&ie.beforeBrush(),ie.innerBeforeBrush(),my(k,ie,q,X===ee-1),ie.innerAfterBrush(),ie.afterBrush&&ie.afterBrush(),q.prevEl=ie}D.clearTemporalDisplayables(),D.notClear=!0,k.restore()}(n,t,e)),_&&o&&Pf(n,e),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),e.prevEl=t,t.__dirty=0,t.__isRendered=!0}}var vy=new iM,Qb=new Po(100),fC=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function $a(n,t){if("none"===n)return null;var e=t.getDevicePixelRatio(),o=t.getZr(),i="svg"===o.painter.type;n.dirty&&vy.delete(n);var a=vy.get(n);if(a)return a;var u=ht(n,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===u.backgroundColor&&(u.backgroundColor=null);var c={repeat:"repeat"};return function(f){for(var h,m=[e],y=!0,_=0;_<fC.length;++_){var S=u[fC[_]];if(null!=S&&!tt(S)&&!Un(S)&&!hr(S)&&"boolean"!=typeof S){y=!1;break}m.push(S)}if(y){h=m.join(",")+(i?"-svg":"");var k=Qb.get(h);k&&(i?f.svgElement=k:f.image=k)}var D,A=e1(u.dashArrayX),E=function(ye){if(!ye||"object"==typeof ye&&0===ye.length)return[0,0];if(hr(ye)){var _e=Math.ceil(ye);return[_e,_e]}var Se=It(ye,function(Ae){return Math.ceil(Ae)});return ye.length%2?Se.concat(Se):Se}(u.dashArrayY),N=Rx(u.symbol),z=It(A,function(ye){return Lx(ye)}),F=Lx(E),q=!i&&ne.createCanvas(),X=i&&{tag:"g",attrs:{},key:"dcl",children:[]},ee=function(){for(var ye=1,_e=0,Se=z.length;_e<Se;++_e)ye=Gp(ye,z[_e]);var Ae=1;for(_e=0,Se=N.length;_e<Se;++_e)Ae=Gp(Ae,N[_e].length);ye*=Ae;var Fe=F*z.length*N.length;return{width:Math.max(1,Math.min(ye,u.maxTileWidth)),height:Math.max(1,Math.min(Fe,u.maxTileHeight))}}();q&&(q.width=ee.width*e,q.height=ee.height*e,D=q.getContext("2d")),function(){D&&(D.clearRect(0,0,q.width,q.height),u.backgroundColor&&(D.fillStyle=u.backgroundColor,D.fillRect(0,0,q.width,q.height)));for(var ye=0,_e=0;_e<E.length;++_e)ye+=E[_e];if(!(ye<=0))for(var Se=-F,Ae=0,Fe=0,Xe=0;Se<ee.height;){if(Ae%2==0){for(var nt=Fe/2%N.length,it=0,ut=0,mt=0;it<2*ee.width;){var Ot=0;for(_e=0;_e<A[Xe].length;++_e)Ot+=A[Xe][_e];if(Ot<=0)break;if(ut%2==0){var Pt=.5*(1-u.symbolSize);gr(it+A[Xe][ut]*Pt,Se+E[Ae]*Pt,A[Xe][ut]*u.symbolSize,E[Ae]*u.symbolSize,N[nt][mt/2%N[nt].length])}it+=A[Xe][ut],++mt,++ut===A[Xe].length&&(ut=0)}++Xe===A.length&&(Xe=0)}Se+=E[Ae],++Fe,++Ae===E.length&&(Ae=0)}function gr(dr,nr,br,ur,kr){var Br=i?1:e,Ro=Hu(kr,dr*Br,nr*Br,br*Br,ur*Br,u.color,u.symbolKeepAspect);if(i){var Zo=o.painter.renderOneToVNode(Ro);Zo&&X.children.push(Zo)}else yw(D,Ro)}}(),y&&Qb.put(h,q||X),f.image=q,f.svgElement=X,f.svgWidth=ee.width,f.svgHeight=ee.height}(c),c.rotation=u.rotation,c.scaleX=c.scaleY=i?1:1/e,vy.set(n,c),n.dirty=!1,c}function Rx(n){if(!n||0===n.length)return[["rect"]];if(Un(n))return[[n]];for(var t=!0,e=0;e<n.length;++e)if(!Un(n[e])){t=!1;break}if(t)return Rx([n]);var o=[];for(e=0;e<n.length;++e)Un(n[e])?o.push([n[e]]):o.push(n[e]);return o}function e1(n){if(!n||0===n.length)return[[0,0]];if(hr(n))return[[i=Math.ceil(n),i]];for(var t=!0,e=0;e<n.length;++e)if(!hr(n[e])){t=!1;break}if(t)return e1([n]);var o=[];for(e=0;e<n.length;++e)if(hr(n[e])){var i=Math.ceil(n[e]);o.push([i,i])}else(i=It(n[e],function(a){return Math.ceil(a)})).length%2==1?o.push(i.concat(i)):o.push(i);return o}function Lx(n){for(var t=0,e=0;e<n.length;++e)t+=n[e];return n.length%2==1?2*t:t}var sc=new ho,A0={};function dC(n){return A0[n]}var pC={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:3e3,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:4500,ARIA:6e3,DECAL:7e3}},Rf="__flagInMainProcess",Lf="__pendingUpdate",gC="__needsUpdateStatus",Nx=/^[a-zA-Z0-9_]+$/,xw="__connectUpdateStatus";function Bx(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!this.isDisposed())return lM(this,n,t)}}function uM(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return lM(this,n,t)}}function lM(n,t,e){return e[0]=e[0]&&e[0].toLowerCase(),ho.prototype[t].apply(n,e)}var I0,t1,kl,rf,_w,O0,n1,E0,P0,zx,Fx,Vx,mC,vC,cM,yC,dd,ZT,R0=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return yt(t,n),t}(ho),bC=R0.prototype;bC.on=uM("on"),bC.off=uM("off");var xC=function(n){function t(e,o,i){var a=n.call(this,new k0)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],i=i||{},Un(o)&&(o=ww[o]),a._dom=e;var h=a._zr=Wp(e,{renderer:i.renderer||"canvas",devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:_n(i.useDirtyRect,!1),useCoarsePointer:_n(i.useCoarsePointer,"auto"),pointerSize:i.pointerSize});a._ssr=i.ssr,a._throttledZrFlush=lw(Bn(h.flush,h),17),(o=Re(o))&&J_(o,!0),a._theme=o,a._locale=function(_){if(Un(_)){var S=hg[_.toUpperCase()]||{};return"ZH"===_||"EN"===_?Re(S):Ve(Re(S),Re(hg.EN),!1)}return Ve(Re(_),Re(hg.EN),!1)}(i.locale||Om),a._coordSysMgr=new Wa;var m=a._api=cM(a);function y(_,S){return _.__prio-S.__prio}return Zg(of,y),Zg(qm,y),a._scheduler=new Wb(a,m,qm,of),a._messageCenter=new R0,a._initEvents(),a.resize=Bn(a.resize,a),h.animation.on("frame",a._onframe,a),zx(h,a),Fx(h,a),Vo(a),a}return yt(t,n),t.prototype._onframe=function(){if(!this._disposed){ZT(this);var e=this._scheduler;if(this[Lf]){var o=this[Lf].silent;this[Rf]=!0;try{I0(this),rf.update.call(this,null,this[Lf].updateParams)}catch(f){throw this[Rf]=!1,this[Lf]=null,f}this._zr.flush(),this[Rf]=!1,this[Lf]=null,E0.call(this,o),P0.call(this,o)}else if(e.unfinished){var i=1,a=this._model,u=this._api;e.unfinished=!1;do{var c=+new Date;e.performSeriesTasks(a),e.performDataProcessorTasks(a),O0(this,a),e.performVisualTasks(a),vC(this,this._model,u,"remain",{}),i-=+new Date-c}while(i>0&&e.unfinished);e.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},t.prototype.setOption=function(e,o,i){if(!this[Rf])if(this._disposed);else{var a,u,c;if(fr(o)&&(i=o.lazyUpdate,a=o.silent,u=o.replaceMerge,c=o.transition,o=o.notMerge),this[Rf]=!0,!this._model||o){var f=new Vm(this._api),h=this._theme,m=this._model=new sr;m.scheduler=this._scheduler,m.ssr=this._ssr,m.init(null,null,null,h,this._locale,f)}this._model.setOption(e,{replaceMerge:u},Mg);var y={seriesTransition:c,optionChanged:!0};if(i)this[Lf]={silent:a,updateParams:y},this[Rf]=!1,this.getZr().wakeUp();else{try{I0(this),rf.update.call(this,null,y)}catch(_){throw this[Lf]=null,this[Rf]=!1,_}this._ssr||this._zr.flush(),this[Lf]=null,this[Rf]=!1,E0.call(this,a),P0.call(this,a)}}},t.prototype.setTheme=function(){},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||We.hasGlobalWindow&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(e){return this.renderToCanvas(e)},t.prototype.renderToCanvas=function(e){return this._zr.painter.getRenderedCanvas({backgroundColor:(e=e||{}).backgroundColor||this._model.get("backgroundColor"),pixelRatio:e.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(e){return this._zr.painter.renderToString({useViewBox:(e=e||{}).useViewBox})},t.prototype.getSvgDataURL=function(){if(We.svgSupported){var e=this._zr;return Te(e.storage.getDisplayList(),function(o){o.stopAnimation(null,!0)}),e.painter.toDataURL()}},t.prototype.getDataURL=function(e){if(!this._disposed){var o=(e=e||{}).excludeComponents,i=this._model,a=[],u=this;Te(o,function(f){i.eachComponent({mainType:f},function(h){var m=u._componentsMap[h.__viewId];m.group.ignore||(a.push(m),m.group.ignore=!0)})});var c="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.renderToCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return Te(a,function(f){f.group.ignore=!1}),c}},t.prototype.getConnectedDataURL=function(e){if(!this._disposed){var o="svg"===e.type,i=this.group,a=Math.min,u=Math.max,c=1/0;if(Sw[i]){var f=c,h=c,m=-1/0,y=-1/0,_=[],S=e&&e.pixelRatio||this.getDevicePixelRatio();Te(L0,function(z,F){if(z.group===i){var q=o?z.getZr().painter.getSvgDom().innerHTML:z.renderToCanvas(Re(e)),X=z.getDom().getBoundingClientRect();f=a(X.left,f),h=a(X.top,h),m=u(X.right,m),y=u(X.bottom,y),_.push({dom:q,left:X.left,top:X.top})}});var k=(m*=S)-(f*=S),D=(y*=S)-(h*=S),A=ne.createCanvas(),E=Wp(A,{renderer:o?"svg":"canvas"});if(E.resize({width:k,height:D}),o){var N="";return Te(_,function(z){N+='<g transform="translate('+(z.left-f)+","+(z.top-h)+')">'+z.dom+"</g>"}),E.painter.getSvgRoot().innerHTML=N,e.connectedBackgroundColor&&E.painter.setBackgroundColor(e.connectedBackgroundColor),E.refreshImmediately(),E.painter.toDataURL()}return e.connectedBackgroundColor&&E.add(new oi({shape:{x:0,y:0,width:k,height:D},style:{fill:e.connectedBackgroundColor}})),Te(_,function(z){var F=new bu({style:{x:z.left*S-f,y:z.top*S-h,image:z.dom}});E.add(F)}),E.refreshImmediately(),A.toDataURL("image/"+(e&&e.type||"png"))}return this.getDataURL(e)}},t.prototype.convertToPixel=function(e,o){return _w(this,"convertToPixel",e,o)},t.prototype.convertFromPixel=function(e,o){return _w(this,"convertFromPixel",e,o)},t.prototype.containPixel=function(e,o){var i;if(!this._disposed)return Te(wf(this._model,e),function(a,u){u.indexOf("Models")>=0&&Te(a,function(c){var f=c.coordinateSystem;if(f&&f.containPoint)i=i||!!f.containPoint(o);else if("seriesModels"===u){var h=this._chartsMap[c.__viewId];h&&h.containPoint&&(i=i||h.containPoint(o,c))}},this)},this),!!i},t.prototype.getVisual=function(e,o){var i=wf(this._model,e,{defaultMainType:"series"}),u=i.seriesModel.getData(),c=i.hasOwnProperty("dataIndexInside")?i.dataIndexInside:i.hasOwnProperty("dataIndex")?u.indexOfRawIndex(i.dataIndex):null;return null!=c?pw(u,c,o):cy(u,o)},t.prototype.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},t.prototype.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]},t.prototype._initEvents=function(){var o,i,a=this;Te(_C,function(u){var c=function(f){var h,m=a.getModel(),y=f.target;if("globalout"===u?h={}:y&&fy(y,function(E){var N=fo(E);if(N&&null!=N.dataIndex){var z=N.dataModel||m.getSeriesByIndex(N.seriesIndex);return h=z&&z.getDataParams(N.dataIndex,N.dataType)||{},!0}if(N.eventData)return h=Pe({},N.eventData),!0},!0),h){var S=h.componentType,k=h.componentIndex;"markLine"!==S&&"markPoint"!==S&&"markArea"!==S||(S="series",k=h.seriesIndex);var D=S&&null!=k&&m.getComponent(S,k),A=D&&a["series"===D.mainType?"_chartsMap":"_componentsMap"][D.__viewId];h.event=f,h.type=u,a._$eventProcessor.eventInfo={targetEl:y,packedEvent:h,model:D,view:A},a.trigger(u,h)}};c.zrEventfulCallAtLast=!0,a._zr.on(u,c,a)}),Te(r1,function(u,c){a._messageCenter.on(c,function(f){this.trigger(c,f)},a)}),Te(["selectchanged"],function(u){a._messageCenter.on(u,function(c){this.trigger(u,c)},a)}),o=this,i=this._api,this._messageCenter.on("selectchanged",function(u){var c=i.getModel();u.isFromClick?(Ih("map","selectchanged",o,c,u),Ih("pie","selectchanged",o,c,u)):"select"===u.fromAction?(Ih("map","selected",o,c,u),Ih("pie","selected",o,c,u)):"unselect"===u.fromAction&&(Ih("map","unselected",o,c,u),Ih("pie","unselected",o,c,u))})},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){this._disposed||this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed);else{this._disposed=!0,this.getDom()&&qy(this.getDom(),Cw,"");var e=this,o=e._api,i=e._model;Te(e._componentsViews,function(a){a.dispose(i,o)}),Te(e._chartsViews,function(a){a.dispose(i,o)}),e._zr.dispose(),e._dom=e._model=e._chartsMap=e._componentsMap=e._chartsViews=e._componentsViews=e._scheduler=e._api=e._zr=e._throttledZrFlush=e._theme=e._coordSysMgr=e._messageCenter=null,delete L0[e.id]}},t.prototype.resize=function(e){if(!this[Rf])if(this._disposed);else{this._zr.resize(e);var o=this._model;if(this._loadingFX&&this._loadingFX.resize(),o){var i=o.resetOption("media"),a=e&&e.silent;this[Lf]&&(null==a&&(a=this[Lf].silent),i=!0,this[Lf]=null),this[Rf]=!0;try{i&&I0(this),rf.update.call(this,{type:"resize",animation:Pe({duration:0},e&&e.animation)})}catch(u){throw this[Rf]=!1,u}this[Rf]=!1,E0.call(this,a),P0.call(this,a)}}},t.prototype.showLoading=function(e,o){if(this._disposed);else if(fr(e)&&(o=e,e=""),e=e||"default",this.hideLoading(),Wx[e]){var i=Wx[e](this._api,o),a=this._zr;this._loadingFX=i,a.add(i)}},t.prototype.hideLoading=function(){this._disposed||(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},t.prototype.makeActionFromEvent=function(e){var o=Pe({},e);return o.type=r1[e.type],o},t.prototype.dispatchAction=function(e,o){if(this._disposed);else if(fr(o)||(o={silent:!!o}),Hx[e.type]&&this._model)if(this[Rf])this._pendingActions.push(e);else{var i=o.silent;n1.call(this,e,i);var a=o.flush;a?this._zr.flush():!1!==a&&We.browser.weChat&&this._throttledZrFlush(),E0.call(this,i),P0.call(this,i)}},t.prototype.updateLabelLayout=function(){sc.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(e){if(this._disposed);else{var o=e.seriesIndex;this.getModel().getSeriesByIndex(o).appendData(e),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},t.internalField=function(){function e(f){f.clearColorPalette(),f.eachSeries(function(h){h.clearColorPalette()})}function o(f){for(var h=[],m=f.currentStates,y=0;y<m.length;y++){var _=m[y];"emphasis"!==_&&"blur"!==_&&"select"!==_&&h.push(_)}f.selected&&f.states.select&&h.push("select"),2===f.hoverState&&f.states.emphasis?h.push("emphasis"):1===f.hoverState&&f.states.blur&&h.push("blur"),f.useStates(h)}function i(f,h){if(!f.preventAutoZ){var m=f.get("z")||0,y=f.get("zlevel")||0;h.eachRendered(function(_){return a(_,m,y,-1/0),!0})}}function a(f,h,m,y){var _=f.getTextContent(),S=f.getTextGuideLine();if(f.isGroup)for(var k=f.childrenRef(),D=0;D<k.length;D++)y=Math.max(a(k[D],h,m,y),y);else f.z=h,f.zlevel=m,y=Math.max(f.z2,y);if(_&&(_.z=h,_.zlevel=m,isFinite(y)&&(_.z2=y+2)),S){var A=f.textGuideLineConfig;S.z=h,S.zlevel=m,isFinite(y)&&(S.z2=y+(A&&A.showAbove?1:-1))}return y}function u(f,h){h.eachRendered(function(m){if(!Sm(m)){var y=m.getTextContent(),_=m.getTextGuideLine();m.stateTransition&&(m.stateTransition=null),y&&y.stateTransition&&(y.stateTransition=null),_&&_.stateTransition&&(_.stateTransition=null),m.hasState()?(m.prevStates=m.currentStates,m.clearStates()):m.prevStates&&(m.prevStates=null)}})}function c(f,h){var m=f.getModel("stateAnimation"),y=f.isAnimationEnabled(),_=m.get("duration"),S=_>0?{duration:_,delay:m.get("delay"),easing:m.get("easing")}:null;h.eachRendered(function(k){if(k.states&&k.states.emphasis){if(Sm(k))return;if(k instanceof Do&&function(N){var z=Bv(N);z.normalFill=N.style.fill,z.normalStroke=N.style.stroke;var F=N.states.select||{};z.selectFill=F.style&&F.style.fill||null,z.selectStroke=F.style&&F.style.stroke||null}(k),k.__dirty){var D=k.prevStates;D&&k.useStates(D)}if(y){k.stateTransition=S;var A=k.getTextContent(),E=k.getTextGuideLine();A&&(A.stateTransition=S),E&&(E.stateTransition=S)}k.__dirty&&o(k)}})}I0=function(f){var h=f._scheduler;h.restorePipelines(f._model),h.prepareStageTasks(),t1(f,!0),t1(f,!1),h.plan()},t1=function(f,h){for(var m=f._model,y=f._scheduler,_=h?f._componentsViews:f._chartsViews,S=h?f._componentsMap:f._chartsMap,k=f._zr,D=f._api,A=0;A<_.length;A++)_[A].__alive=!1;function E(z){var F=z.__requireNewView;z.__requireNewView=!1;var q="_ec_"+z.id+"_"+z.type,X=!F&&S[q];if(!X){var ee=tu(z.type);(X=new(h?Ga.getClass(ee.main,ee.sub):ma.getClass(ee.sub))).init(m,D),S[q]=X,_.push(X),k.add(X.group)}z.__viewId=X.__id=q,X.__alive=!0,X.__model=z,X.group.__ecComponentInfo={mainType:z.mainType,index:z.componentIndex},!h&&y.prepareView(X,z,m,D)}for(h?m.eachComponent(function(z,F){"series"!==z&&E(F)}):m.eachSeries(E),A=0;A<_.length;){var N=_[A];N.__alive?A++:(!h&&N.renderTask.dispose(),k.remove(N.group),N.dispose(m,D),_.splice(A,1),S[N.__id]===N&&delete S[N.__id],N.__id=N.group.__ecComponentInfo=null)}},kl=function(f,h,m,y,_){var S=f._model;if(S.setUpdatePayload(m),y){var k={};k[y+"Id"]=m[y+"Id"],k[y+"Index"]=m[y+"Index"],k[y+"Name"]=m[y+"Name"];var D={mainType:y,query:k};_&&(D.subType=_);var A,E=m.excludeSeriesId;null!=E&&(A=Ir(),Te(Ko(E),function(z){var F=xa(z,null);null!=F&&A.set(F,!0)})),S&&S.eachComponent(D,function(z){if(!A||null==A.get(z.id))if(rg(m))if(z instanceof ga)m.type!==pn||m.notBlur||z.get(["emphasis","disabled"])||function(ee,ie,ye){var _e=ee.seriesIndex,Se=ee.getData(ie.dataType);if(Se){var Ae=Rd(Se,ie);Ae=(tt(Ae)?Ae[0]:Ae)||0;var Fe=Se.getItemGraphicEl(Ae);if(!Fe)for(var Xe=Se.count(),nt=0;!Fe&&nt<Xe;)Fe=Se.getItemGraphicEl(nt++);if(Fe){var it=fo(Fe);Mb(_e,it.focus,it.blurScope,ye)}else{var ut=ee.get(["emphasis","focus"]),mt=ee.get(["emphasis","blurScope"]);null!=ut&&Mb(_e,ut,mt,ye)}}}(z,m,f._api);else{var F=nx(z.mainType,z.componentIndex,m.name,f._api),X=F.dispatchers;m.type===pn&&F.focusSelf&&!m.notBlur&&Hv(z.mainType,z.componentIndex,f._api),X&&Te(X,function(ee){m.type===pn?Mf(ee):qd(ee)})}else Cc(m)&&z instanceof ga&&(function(ee,ie,ye){if(Cc(ie)){var _e=ie.dataType,Se=Rd(ee.getData(_e),ie);tt(Se)||(Se=[Se]),ee[ie.type===zv?"toggleSelect":ie.type===um?"select":"unselect"](Se,_e)}}(z,m),H_(z),dd(f))},f),S&&S.eachComponent(D,function(z){A&&null!=A.get(z.id)||N(f["series"===y?"_chartsMap":"_componentsMap"][z.__viewId])},f)}else Te([].concat(f._componentsViews).concat(f._chartsViews),N);function N(z){z&&z.__alive&&z[h]&&z[h](z.__model,S,f._api,m)}},rf={prepareAndUpdate:function(f){I0(this),rf.update.call(this,f,{optionChanged:null!=f.newOption})},update:function(f,h){var m=this._model,y=this._api,_=this._zr,S=this._coordSysMgr,k=this._scheduler;if(m){m.setUpdatePayload(f),k.restoreData(m,f),k.performSeriesTasks(m),S.create(m,y),k.performDataProcessorTasks(m,f),O0(this,m),S.update(m,y),e(m),k.performVisualTasks(m,f),Vx(this,m,y,f,h);var D=m.get("backgroundColor")||"transparent",A=m.get("darkMode");_.setBackgroundColor(D),null!=A&&"auto"!==A&&_.setDarkMode(A),sc.trigger("afterupdate",m,y)}},updateTransform:function(f){var h=this,m=this._model,y=this._api;if(m){m.setUpdatePayload(f);var _=[];m.eachComponent(function(k,D){if("series"!==k){var A=h.getViewOfComponentModel(D);if(A&&A.__alive)if(A.updateTransform){var E=A.updateTransform(D,m,y,f);E&&E.update&&_.push(A)}else _.push(A)}});var S=Ir();m.eachSeries(function(k){var D=h._chartsMap[k.__viewId];if(D.updateTransform){var A=D.updateTransform(k,m,y,f);A&&A.update&&S.set(k.uid,1)}else S.set(k.uid,1)}),e(m),this._scheduler.performVisualTasks(m,f,{setDirty:!0,dirtyMap:S}),vC(this,m,y,f,{},S),sc.trigger("afterupdate",m,y)}},updateView:function(f){var h=this._model;h&&(h.setUpdatePayload(f),ma.markUpdateMethod(f,"updateView"),e(h),this._scheduler.performVisualTasks(h,f,{setDirty:!0}),Vx(this,h,this._api,f,{}),sc.trigger("afterupdate",h,this._api))},updateVisual:function(f){var h=this,m=this._model;m&&(m.setUpdatePayload(f),m.eachSeries(function(y){y.getData().clearAllVisual()}),ma.markUpdateMethod(f,"updateVisual"),e(m),this._scheduler.performVisualTasks(m,f,{visualType:"visual",setDirty:!0}),m.eachComponent(function(y,_){if("series"!==y){var S=h.getViewOfComponentModel(_);S&&S.__alive&&S.updateVisual(_,m,h._api,f)}}),m.eachSeries(function(y){h._chartsMap[y.__viewId].updateVisual(y,m,h._api,f)}),sc.trigger("afterupdate",m,this._api))},updateLayout:function(f){rf.update.call(this,f)}},_w=function(f,h,m,y){if(f._disposed);else for(var _,S=f._model,k=f._coordSysMgr.getCoordinateSystems(),D=wf(S,m),A=0;A<k.length;A++){var E=k[A];if(E[h]&&null!=(_=E[h](S,D,y)))return _}},O0=function(f,h){var m=f._chartsMap,y=f._scheduler;h.eachSeries(function(_){y.updateStreamModes(_,m[_.__viewId])})},n1=function(f,h){var m=this,y=this.getModel(),_=f.type,S=f.escapeConnect,k=Hx[_],D=k.actionInfo,A=(D.update||"update").split(":"),E=A.pop(),N=null!=A[0]&&tu(A[0]);this[Rf]=!0;var z=[f],F=!1;f.batch&&(F=!0,z=It(f.batch,function(Se){return(Se=ht(Pe({},Se),f)).batch=null,Se}));var q,X=[],ee=Cc(f),ie=rg(f);if(ie&&kb(this._api),Te(z,function(Se){if((q=(q=k.action(Se,m._model,m._api))||Pe({},Se)).type=D.event||q.type,X.push(q),ie){var Ae=Ld(f),Xe=Ae.mainTypeSpecified?Ae.queryOptionMap.keys()[0]:"series";kl(m,E,Se,Xe),dd(m)}else ee?(kl(m,E,Se,"series"),dd(m)):N&&kl(m,E,Se,N.main,N.sub)}),"none"!==E&&!ie&&!ee&&!N)try{this[Lf]?(I0(this),rf.update.call(this,f),this[Lf]=null):rf[E].call(this,f)}catch(Se){throw this[Rf]=!1,Se}if(q=F?{type:D.event||_,escapeConnect:S,batch:X}:X[0],this[Rf]=!1,!h){var ye=this._messageCenter;if(ye.trigger(q.type,q),ee){var _e={type:"selectchanged",escapeConnect:S,selected:cm(y),isFromClick:f.isFromClick||!1,fromAction:f.type,fromActionPayload:f};ye.trigger(_e.type,_e)}}},E0=function(f){for(var h=this._pendingActions;h.length;){var m=h.shift();n1.call(this,m,f)}},P0=function(f){!f&&this.trigger("updated")},zx=function(f,h){f.on("rendered",function(m){h.trigger("rendered",m),!f.animation.isFinished()||h[Lf]||h._scheduler.unfinished||h._pendingActions.length||h.trigger("finished")})},Fx=function(f,h){f.on("mouseover",function(m){var _,S,k,D,A,E,y=fy(m.target,Xc);y&&(S=m,k=h._api,(E=(A=nx((D=fo(_=y)).componentMainType,D.componentIndex,D.componentHighDownName,k)).dispatchers)?(A.focusSelf&&Hv(D.componentMainType,D.componentIndex,k),Te(E,function(z){return Sb(z,S)})):(Mb(D.seriesIndex,D.focus,D.blurScope,k),"self"===D.focus&&Hv(D.componentMainType,D.componentIndex,k),Sb(_,S)),dd(h))}).on("mouseout",function(m){var y=fy(m.target,Xc);y&&(function(_,S,k){kb(k);var D=fo(_),A=nx(D.componentMainType,D.componentIndex,D.componentHighDownName,k).dispatchers;A?Te(A,function(E){return Vv(E,S)}):Vv(_,S)}(y,m,h._api),dd(h))}).on("click",function(m){var y=fy(m.target,function(k){return null!=fo(k).dataIndex},!0);if(y){var _=y.selected?"unselect":"select",S=fo(y);h._api.dispatchAction({type:_,dataType:S.dataType,dataIndexInside:S.dataIndex,seriesIndex:S.seriesIndex,isFromClick:!0})}})},Vx=function(f,h,m,y,_){(function(S){var k=[],D=[],A=!1;if(S.eachComponent(function(F,q){var X=q.get("zlevel")||0,ee=q.get("z")||0,ie=q.getZLevelKey();A=A||!!ie,("series"===F?D:k).push({zlevel:X,z:ee,idx:q.componentIndex,type:F,key:ie})}),A){var E,N,z=k.concat(D);Zg(z,function(F,q){return F.zlevel===q.zlevel?F.z-q.z:F.zlevel-q.zlevel}),Te(z,function(F){var q=S.getComponent(F.type,F.idx),X=F.zlevel,ee=F.key;null!=E&&(X=Math.max(E,X)),ee?(X===E&&ee!==N&&X++,N=ee):N&&(X===E&&X++,N=""),E=X,q.setZLevel(X)})}})(h),mC(f,h,m,y,_),Te(f._chartsViews,function(S){S.__alive=!1}),vC(f,h,m,y,_),Te(f._chartsViews,function(S){S.__alive||S.remove(h,m)})},mC=function(f,h,m,y,_,S){Te(S||f._componentsViews,function(k){var D=k.__model;u(0,k),k.render(D,h,m,y),i(D,k),c(D,k)})},vC=function(f,h,m,y,_,S){var k=f._scheduler;_=Pe(_||{},{updatedSeries:h.getSeries()}),sc.trigger("series:beforeupdate",h,m,_);var A,E,F,D=!1;h.eachSeries(function(A){var E=f._chartsMap[A.__viewId];E.__alive=!0;var F,q,N=E.renderTask;k.updatePayload(N,y),u(0,E),S&&S.get(A.uid)&&N.dirty(),N.perform(k.getPerformArgs(N))&&(D=!0),E.group.silent=!!A.get("silent"),F=E,q=A.get("blendMode")||null,F.eachRendered(function(X){X.isGroup||(X.style.blend=q)}),H_(A)}),k.unfinished=D||k.unfinished,sc.trigger("series:layoutlabels",h,m,_),sc.trigger("series:transition",h,m,_),h.eachSeries(function(A){var E=f._chartsMap[A.__viewId];i(A,E),c(A,E)}),E=h,F=0,(A=f)._zr.storage.traverse(function(q){q.isGroup||F++}),F>E.get("hoverLayerThreshold")&&!We.node&&!We.worker&&E.eachSeries(function(q){if(!q.preventUsingHoverLayer){var X=A._chartsMap[q.__viewId];X.__alive&&X.eachRendered(function(ee){ee.states.emphasis&&(ee.states.emphasis.hoverLayer=!0)})}}),sc.trigger("series:afterupdate",h,m,_)},dd=function(f){f[gC]=!0,f.getZr().wakeUp()},ZT=function(f){f[gC]&&(f.getZr().storage.traverse(function(h){Sm(h)||o(h)}),f[gC]=!1)},cM=function(f){return new(function(h){function m(){return null!==h&&h.apply(this,arguments)||this}return yt(m,h),m.prototype.getCoordinateSystems=function(){return f._coordSysMgr.getCoordinateSystems()},m.prototype.getComponentByElement=function(y){for(;y;){var _=y.__ecComponentInfo;if(null!=_)return f._model.getComponent(_.mainType,_.index);y=y.parent}},m.prototype.enterEmphasis=function(y,_){Mf(y,_),dd(f)},m.prototype.leaveEmphasis=function(y,_){qd(y,_),dd(f)},m.prototype.enterBlur=function(y){Cb(y),dd(f)},m.prototype.leaveBlur=function(y){n0(y),dd(f)},m.prototype.enterSelect=function(y){r0(y),dd(f)},m.prototype.leaveSelect=function(y){Sc(y),dd(f)},m.prototype.getModel=function(){return f.getModel()},m.prototype.getViewOfComponentModel=function(y){return f.getViewOfComponentModel(y)},m.prototype.getViewOfSeriesModel=function(y){return f.getViewOfSeriesModel(y)},m}(Ac))(f)},yC=function(f){function h(m,y){for(var _=0;_<m.length;_++)m[_][xw]=y}Te(r1,function(m,y){f._messageCenter.on(y,function(_){if(Sw[f.group]&&0!==f[xw]){if(_&&_.escapeConnect)return;var S=f.makeActionFromEvent(_),k=[];Te(L0,function(D){D!==f&&D.group===f.group&&k.push(D)}),h(k,0),Te(k,function(D){1!==D[xw]&&D.dispatchAction(S)}),h(k,2)}})})}}(),t}(ho),yy=xC.prototype;yy.on=Bx("on"),yy.off=Bx("off"),yy.one=function(n,t,e){var o=this;this.on.call(this,n,function i(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];t&&t.apply&&t.apply(this,a),o.off(n,i)},e)};var _C=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"],Hx={},r1={},qm=[],Mg=[],of=[],ww={},Wx={},L0={},Sw={},Gx=+new Date-0,fM=+new Date-0,Cw="_echarts_instance_";function wC(n){Sw[n]=!1}var $T=wC;function kw(n){return L0[function(t,e){return t.getAttribute?t.getAttribute(e):t[e]}(n,Cw)]}function Mw(n,t){ww[n]=t}function Ux(n){jt(Mg,n)<0&&Mg.push(n)}function o1(n,t){qx(qm,n,t,2e3)}function SC(n){N0("afterinit",n)}function dM(n){N0("afterupdate",n)}function N0(n,t){sc.on(n,t)}function Vl(n,t,e){hn(t)&&(e=t,t="");var o=fr(n)?n.type:[n,n={event:t}][0];n.event=(n.event||o).toLowerCase(),r1[t=n.event]||(go(Nx.test(o)&&Nx.test(t)),Hx[o]||(Hx[o]={action:e,actionInfo:n}),r1[t]=o)}function by(n,t){Wa.register(n,t)}function jx(n,t){qx(of,n,t,1e3,"layout")}function Tg(n,t){qx(of,n,t,3e3,"visual")}var Tw=[];function qx(n,t,e,o,i){if((hn(t)||fr(t))&&(e=t,t=o),!(jt(Tw,e)>=0)){Tw.push(e);var a=Wb.wrapStageHandler(e,i);a.__prio=t,a.__raw=e,n.push(a)}}function Us(n,t){Wx[n]=t}function Dw(n,t,e){var o=dC("registerMap");o&&o(n,t,e)}var CC=function(n){var t=(n=Re(n)).type;t||fi("");var o=t.split(":");2!==o.length&&fi("");var i=!1;"echarts"===o[0]&&(t=o[1],i=!0),n.__isBuiltIn=i,yo.set(t,n)};Tg(2e3,FT),Tg(4500,VT),Tg(4500,tM),Tg(2e3,sC),Tg(4500,hw),Tg(7e3,function(n,t){n.eachRawSeries(function(e){if(!n.isSeriesFiltered(e)){var o=e.getData();o.hasItemVisual()&&o.each(function(a){var u=o.getItemVisual(a,"decal");u&&(o.ensureUniqueItemVisual(a,"style").decal=$a(u,t))});var i=o.getVisual("decal");i&&(o.getVisual("style").decal=$a(i,t))}})}),Ux(J_),o1(900,function(n){var t=Ir();n.eachSeries(function(e){var o=e.get("stack");if(o){var i=t.get(o)||t.set(o,[]),a=e.getData(),u={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:e};if(!u.stackedDimension||!u.isStackedByIndex&&!u.stackedByDimension)return;i.length&&a.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(u)}}),t.each(Nk)}),Us("default",function(n,t){ht(t=t||{},{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var e=new lo,o=new oi({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});e.add(o);var i,a=new li({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),u=new oi({style:{fill:"none"},textContent:a,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});return e.add(u),t.showSpinner&&((i=new Xa({shape:{startAngle:-Hb/2,endAngle:-Hb/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*Hb/2}).start("circularInOut"),i.animateShape(!0).when(1e3,{startAngle:3*Hb/2}).delay(300).start("circularInOut"),e.add(i)),e.resize=function(){var c=a.getBoundingRect().width,f=t.showSpinner?t.spinnerRadius:0,h=(n.getWidth()-2*f-(t.showSpinner&&c?10:0)-c)/2-(t.showSpinner&&c?0:5+c/2)+(t.showSpinner?0:c/2)+(c?0:f),m=n.getHeight()/2;t.showSpinner&&i.setShape({cx:h,cy:m}),u.setShape({x:h-f,y:m-f,width:2*f,height:2*f}),o.setShape({x:0,y:0,width:n.getWidth(),height:n.getHeight()})},e.resize(),e}),Vl({type:pn,event:pn,update:pn},Io),Vl({type:eg,event:eg,update:eg},Io),Vl({type:um,event:um,update:um},Io),Vl({type:lm,event:lm,update:lm},Io),Vl({type:zv,event:zv,update:zv},Io),Mw("light",rM),Mw("dark",Gs);var Aw=[],JT={registerPreprocessor:Ux,registerProcessor:o1,registerPostInit:SC,registerPostUpdate:dM,registerUpdateLifecycle:N0,registerAction:Vl,registerCoordinateSystem:by,registerLayout:jx,registerVisual:Tg,registerTransform:CC,registerLoading:Us,registerMap:Dw,registerImpl:function(n,t){A0[n]=t},PRIORITY:pC,ComponentModel:H,ComponentView:Ga,SeriesModel:ga,ChartView:ma,registerComponentModel:function(n){H.registerClass(n)},registerComponentView:function(n){Ga.registerClass(n)},registerSeriesModel:function(n){ga.registerClass(n)},registerChartView:function(n){ma.registerClass(n)},registerSubTypeDefaulter:function(n,t){H.registerSubTypeDefaulter(n,t)},registerPainter:function(n,t){P_(n,t)}};function ii(n){tt(n)?Te(n,function(t){ii(t)}):jt(Aw,n)>=0||(Aw.push(n),hn(n)&&(n={install:n}),n.install(JT))}function i1(n){return null==n?0:n.length||1}function Yx(n){return n}var Tp=function(){function n(t,e,o,i,a,u){this._old=t,this._new=e,this._oldKeyGetter=o||Yx,this._newKeyGetter=i||Yx,this.context=a,this._diffModeMultiple="multiple"===u}return n.prototype.add=function(t){return this._add=t,this},n.prototype.update=function(t){return this._update=t,this},n.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},n.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},n.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},n.prototype.remove=function(t){return this._remove=t,this},n.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},n.prototype._executeOneToOne=function(){var t=this._old,e=this._new,o={},i=new Array(t.length),a=new Array(e.length);this._initIndexMap(t,null,i,"_oldKeyGetter"),this._initIndexMap(e,o,a,"_newKeyGetter");for(var u=0;u<t.length;u++){var c=i[u],f=o[c],h=i1(f);if(h>1){var m=f.shift();1===f.length&&(o[c]=f[0]),this._update&&this._update(m,u)}else 1===h?(o[c]=null,this._update&&this._update(f,u)):this._remove&&this._remove(u)}this._performRestAdd(a,o)},n.prototype._executeMultiple=function(){var e=this._new,o={},i={},a=[],u=[];this._initIndexMap(this._old,o,a,"_oldKeyGetter"),this._initIndexMap(e,i,u,"_newKeyGetter");for(var c=0;c<a.length;c++){var f=a[c],h=o[f],m=i[f],y=i1(h),_=i1(m);if(y>1&&1===_)this._updateManyToOne&&this._updateManyToOne(m,h),i[f]=null;else if(1===y&&_>1)this._updateOneToMany&&this._updateOneToMany(m,h),i[f]=null;else if(1===y&&1===_)this._update&&this._update(m,h),i[f]=null;else if(y>1&&_>1)this._updateManyToMany&&this._updateManyToMany(m,h),i[f]=null;else if(y>1)for(var S=0;S<y;S++)this._remove&&this._remove(h[S]);else this._remove&&this._remove(h)}this._performRestAdd(u,i)},n.prototype._performRestAdd=function(t,e){for(var o=0;o<t.length;o++){var i=t[o],a=e[i],u=i1(a);if(u>1)for(var c=0;c<u;c++)this._add&&this._add(a[c]);else 1===u&&this._add&&this._add(a);e[i]=null}},n.prototype._initIndexMap=function(t,e,o,i){for(var a=this._diffModeMultiple,u=0;u<t.length;u++){var c="_ec_"+this[i](t[u],u);if(a||(o[u]=c),e){var f=e[c],h=i1(f);0===h?(e[c]=u,a&&o.push(c)):1===h?e[c]=[f,u]:f.push(u)}}},n}(),hM=function(){function n(t,e){this._encode=t,this._schema=e}return n.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},n.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},n}();function kC(n,t){return n.hasOwnProperty(t)||(n[t]=[]),n[t]}function Iw(n){return"category"===n?"ordinal":"time"===n?"time":"float"}var a1=function(n){this.otherDims={},null!=n&&Pe(this,n)},QT=Qo(),e2={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},Ow=function(){function n(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return n.prototype.isDimensionOmitted=function(){return this._dimOmitted},n.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=pM(this.source)))},n.prototype.getSourceDimensionIndex=function(t){return _n(this._dimNameMap.get(t),-1)},n.prototype.getSourceDimension=function(t){var e=this.source.dimensionsDefine;if(e)return e[t]},n.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,e=yx(this.source),o=!gM(t),i="",a=[],u=0,c=0;u<t;u++){var f=void 0,h=void 0,m=void 0,y=this.dimensions[c];if(y&&y.storeDimIndex===u)f=e?y.name:null,h=y.type,m=y.ordinalMeta,c++;else{var _=this.getSourceDimension(u);_&&(f=e?_.name:null,h=_.type)}a.push({property:f,type:h,ordinalMeta:m}),!e||null==f||y&&y.isCalculationCoord||(i+=o?f.replace(/\`/g,"`1").replace(/\$/g,"`2"):f),i+="$",i+=e2[h]||"f",m&&(i+=m.uid),i+="$"}var S=this.source;return{dimensions:a,hash:[S.seriesLayoutBy,S.startIndex,i].join("$$")}},n.prototype.makeOutputDimensionNames=function(){for(var t=[],e=0,o=0;e<this._fullDimCount;e++){var i=void 0,a=this.dimensions[o];if(a&&a.storeDimIndex===e)a.isCalculationCoord||(i=a.name),o++;else{var u=this.getSourceDimension(e);u&&(i=u.name)}t.push(i)}return t},n.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},n}();function MC(n){return n instanceof Ow}function s1(n){for(var t=Ir(),e=0;e<(n||[]).length;e++){var o=n[e],i=fr(o)?o.name:o;null!=i&&null==t.get(i)&&t.set(i,e)}return t}function pM(n){var t=QT(n);return t.dimNameMap||(t.dimNameMap=s1(n.dimensionsDefine))}function gM(n){return n>30}var TC,DC,Xx,Zx,AC,Qd,B0,hd=fr,Dg=It,t2="undefined"==typeof Int32Array?Array:Int32Array,KD=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],Ew=["_approximateExtent"],uc=function(){function n(t,e){var o;this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var i=!1;MC(t)?(o=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(i=!0,o=t),o=o||["x","y"];for(var a={},u=[],c={},f=!1,h={},m=0;m<o.length;m++){var y=o[m],_=Un(y)?new a1({name:y}):y instanceof a1?y:new a1(y),S=_.name;_.type=_.type||"float",_.coordDim||(_.coordDim=S,_.coordDimIndex=0);var k=_.otherDims=_.otherDims||{};u.push(S),a[S]=_,null!=h[S]&&(f=!0),_.createInvertedIndices&&(c[S]=[]),0===k.itemName&&(this._nameDimIdx=m),0===k.itemId&&(this._idDimIdx=m),i&&(_.storeDimIndex=m)}if(this.dimensions=u,this._dimInfos=a,this._initGetDimensionInfo(f),this.hostModel=e,this._invertedIndicesMap=c,this._dimOmitted){var D=this._dimIdxToName=Ir();Te(u,function(A){D.set(a[A].storeDimIndex,A)})}}return n.prototype.getDimension=function(t){var e=this._recognizeDimIndex(t);if(null==e)return t;if(e=t,!this._dimOmitted)return this.dimensions[e];var o=this._dimIdxToName.get(e);if(null!=o)return o;var i=this._schema.getSourceDimension(e);return i?i.name:void 0},n.prototype.getDimensionIndex=function(t){var e=this._recognizeDimIndex(t);if(null!=e)return e;if(null==t)return-1;var o=this._getDimInfo(t);return o?o.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},n.prototype._recognizeDimIndex=function(t){if(hr(t)||null!=t&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},n.prototype._getStoreDimIndex=function(t){return this.getDimensionIndex(t)},n.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},n.prototype._initGetDimensionInfo=function(t){var e=this._dimInfos;this._getDimInfo=t?function(o){return e.hasOwnProperty(o)?e[o]:void 0}:function(o){return e[o]}},n.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},n.prototype.mapDimension=function(t,e){var o=this._dimSummary;if(null==e)return o.encodeFirstDimNotExtra[t];var i=o.encode[t];return i?i[e]:null},n.prototype.mapDimensionsAll=function(t){return(this._dimSummary.encode[t]||[]).slice()},n.prototype.getStore=function(){return this._store},n.prototype.initData=function(t,e,o){var i,a=this;if(t instanceof KS&&(i=t),!i){var u=this.dimensions,c=zk(t)||Ht(t)?new tw(t,u.length):t;i=new KS;var f=Dg(u,function(h){return{type:a._dimInfos[h].type,property:h}});i.initData(c,f,o)}this._store=i,this._nameList=(e||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,i.count()),this._dimSummary=function(h,m){var y={},_=y.encode={},S=Ir(),k=[],D=[],A={};Te(h.dimensions,function(q){var X,ee=h.getDimensionInfo(q),ie=ee.coordDim;if(ie){var ye=ee.coordDimIndex;kC(_,ie)[ye]=q,ee.isExtraCoord||(S.set(ie,1),"ordinal"!==(X=ee.type)&&"time"!==X&&(k[0]=q),kC(A,ie)[ye]=h.getDimensionIndex(ee.name)),ee.defaultTooltip&&D.push(q)}Ie.each(function(_e,Se){var Ae=kC(_,Se),Fe=ee.otherDims[Se];null!=Fe&&!1!==Fe&&(Ae[Fe]=ee.name)})});var E=[],N={};S.each(function(q,X){var ee=_[X];N[X]=ee[0],E=E.concat(ee)}),y.dataDimsOnCoord=E,y.dataDimIndicesOnCoord=It(E,function(q){return h.getDimensionInfo(q).storeDimIndex}),y.encodeFirstDimNotExtra=N;var z=_.label;z&&z.length&&(k=z.slice());var F=_.tooltip;return F&&F.length?D=F.slice():D.length||(D=k.slice()),_.defaultedLabel=k,_.defaultedTooltip=D,y.userOutput=new hM(A,m),y}(this,this._schema),this.userOutput=this._dimSummary.userOutput},n.prototype.appendData=function(t){var e=this._store.appendData(t);this._doInit(e[0],e[1])},n.prototype.appendValues=function(t,e){var o=this._store.appendValues(t,e.length),i=o.start,a=o.end,u=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),e)for(var c=i;c<a;c++)this._nameList[c]=e[c-i],u&&B0(this,c)},n.prototype._updateOrdinalMeta=function(){for(var t=this._store,e=this.dimensions,o=0;o<e.length;o++){var i=this._dimInfos[e[o]];i.ordinalMeta&&t.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},n.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return null==this._idDimIdx&&t.getSource().sourceFormat!==St&&!t.fillStorage},n.prototype._doInit=function(t,e){if(!(t>=e)){var o=this._store.getProvider();this._updateOrdinalMeta();var i=this._nameList,a=this._idList;if(o.getSource().sourceFormat===Be&&!o.pure)for(var u=[],c=t;c<e;c++){var f=o.getItem(c,u);if(!this.hasItemOption&&ep(f)&&(this.hasItemOption=!0),f){var h=f.name;null==i[c]&&null!=h&&(i[c]=xa(h,null));var m=f.id;null==a[c]&&null!=m&&(a[c]=xa(m,null))}}if(this._shouldMakeIdFromName())for(c=t;c<e;c++)B0(this,c);TC(this)}},n.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},n.prototype.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},n.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},n.prototype.setCalculationInfo=function(t,e){hd(t)?Pe(this._calculationInfo,t):this._calculationInfo[t]=e},n.prototype.getName=function(t){var e=this.getRawIndex(t),o=this._nameList[e];return null==o&&null!=this._nameDimIdx&&(o=Xx(this,this._nameDimIdx,e)),null==o&&(o=""),o},n.prototype._getCategory=function(t,e){var o=this._store.get(t,e),i=this._store.getOrdinalMeta(t);return i?i.categories[o]:o},n.prototype.getId=function(t){return DC(this,this.getRawIndex(t))},n.prototype.count=function(){return this._store.count()},n.prototype.get=function(t,e){var i=this._dimInfos[t];if(i)return this._store.get(i.storeDimIndex,e)},n.prototype.getByRawIndex=function(t,e){var i=this._dimInfos[t];if(i)return this._store.getByRawIndex(i.storeDimIndex,e)},n.prototype.getIndices=function(){return this._store.getIndices()},n.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},n.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},n.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},n.prototype.getValues=function(t,e){var o=this,i=this._store;return tt(t)?i.getValues(Dg(t,function(a){return o._getStoreDimIndex(a)}),e):i.getValues(t)},n.prototype.hasValue=function(t){for(var e=this._dimSummary.dataDimIndicesOnCoord,o=0,i=e.length;o<i;o++)if(isNaN(this._store.get(e[o],t)))return!1;return!0},n.prototype.indexOfName=function(t){for(var e=0,o=this._store.count();e<o;e++)if(this.getName(e)===t)return e;return-1},n.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},n.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},n.prototype.rawIndexOf=function(t,e){var i=(t&&this._invertedIndicesMap[t])[e];return null==i||isNaN(i)?-1:i},n.prototype.indicesOfNearest=function(t,e,o){return this._store.indicesOfNearest(this._getStoreDimIndex(t),e,o)},n.prototype.each=function(t,e,o){hn(t)&&(o=e,e=t,t=[]);var i=o||this,a=Dg(Zx(t),this._getStoreDimIndex,this);this._store.each(a,i?Bn(e,i):e)},n.prototype.filterSelf=function(t,e,o){hn(t)&&(o=e,e=t,t=[]);var i=o||this,a=Dg(Zx(t),this._getStoreDimIndex,this);return this._store=this._store.filter(a,i?Bn(e,i):e),this},n.prototype.selectRange=function(t){var e=this,o={};return Te(Zn(t),function(i){var a=e._getStoreDimIndex(i);o[a]=t[i]}),this._store=this._store.selectRange(o),this},n.prototype.mapArray=function(t,e,o){hn(t)&&(o=e,e=t,t=[]);var i=[];return this.each(t,function(){i.push(e&&e.apply(this,arguments))},o=o||this),i},n.prototype.map=function(t,e,o,i){var a=o||i||this,u=Dg(Zx(t),this._getStoreDimIndex,this),c=Qd(this);return c._store=this._store.map(u,a?Bn(e,a):e),c},n.prototype.modify=function(t,e,o,i){var a=o||i||this,u=Dg(Zx(t),this._getStoreDimIndex,this);this._store.modify(u,a?Bn(e,a):e)},n.prototype.downSample=function(t,e,o,i){var a=Qd(this);return a._store=this._store.downSample(this._getStoreDimIndex(t),e,o,i),a},n.prototype.lttbDownSample=function(t,e){var o=Qd(this);return o._store=this._store.lttbDownSample(this._getStoreDimIndex(t),e),o},n.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},n.prototype.getItemModel=function(t){var e=this.hostModel,o=this.getRawDataItem(t);return new Pi(o,e,e&&e.ecModel)},n.prototype.diff=function(t){var e=this;return new Tp(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(o){return DC(t,o)},function(o){return DC(e,o)})},n.prototype.getVisual=function(t){var e=this._visual;return e&&e[t]},n.prototype.setVisual=function(t,e){this._visual=this._visual||{},hd(t)?Pe(this._visual,t):this._visual[t]=e},n.prototype.getItemVisual=function(t,e){var o=this._itemVisuals[t],i=o&&o[e];return null==i?this.getVisual(e):i},n.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},n.prototype.ensureUniqueItemVisual=function(t,e){var o=this._itemVisuals,i=o[t];i||(i=o[t]={});var a=i[e];return null==a&&(tt(a=this.getVisual(e))?a=a.slice():hd(a)&&(a=Pe({},a)),i[e]=a),a},n.prototype.setItemVisual=function(t,e,o){var i=this._itemVisuals[t]||{};this._itemVisuals[t]=i,hd(e)?Pe(i,e):i[e]=o},n.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},n.prototype.setLayout=function(t,e){hd(t)?Pe(this._layout,t):this._layout[t]=e},n.prototype.getLayout=function(t){return this._layout[t]},n.prototype.getItemLayout=function(t){return this._itemLayouts[t]},n.prototype.setItemLayout=function(t,e,o){this._itemLayouts[t]=o?Pe(this._itemLayouts[t]||{},e):e},n.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},n.prototype.setItemGraphicEl=function(t,e){sm(this.hostModel&&this.hostModel.seriesIndex,this.dataType,t,e),this._graphicEls[t]=e},n.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},n.prototype.eachItemGraphicEl=function(t,e){Te(this._graphicEls,function(o,i){o&&t&&t.call(e,o,i)})},n.prototype.cloneShallow=function(t){return t||(t=new n(this._schema?this._schema:Dg(this.dimensions,this._getDimInfo,this),this.hostModel)),AC(t,this),t._store=this._store,t},n.prototype.wrapMethod=function(t,e){var o=this[t];hn(o)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var i=o.apply(this,arguments);return e.apply(this,[i].concat(bo(arguments)))})},n.internalField=(TC=function(t){var e=t._invertedIndicesMap;Te(e,function(o,i){var a=t._dimInfos[i],u=a.ordinalMeta,c=t._store;if(u){o=e[i]=new t2(u.categories.length);for(var f=0;f<o.length;f++)o[f]=-1;for(f=0;f<c.count();f++)o[c.get(a.storeDimIndex,f)]=f}})},Xx=function(t,e,o){return xa(t._getCategory(e,o),null)},DC=function(t,e){var o=t._idList[e];return null==o&&null!=t._idDimIdx&&(o=Xx(t,t._idDimIdx,e)),null==o&&(o="e\0\0"+e),o},Zx=function(t){return tt(t)||(t=null!=t?[t]:[]),t},Qd=function(t){var e=new n(t._schema?t._schema:Dg(t.dimensions,t._getDimInfo,t),t.hostModel);return AC(e,t),e},AC=function(t,e){Te(KD.concat(e.__wrappedMethods||[]),function(o){e.hasOwnProperty(o)&&(t[o]=e[o])}),t.__wrappedMethods=e.__wrappedMethods,Te(Ew,function(o){t[o]=Re(e[o])}),t._calculationInfo=Pe({},e._calculationInfo)},void(B0=function(t,e){var o=t._nameList,i=t._idList,a=t._nameDimIdx,u=t._idDimIdx,c=o[e],f=i[e];if(null==c&&null!=a&&(o[e]=c=Xx(t,a,e)),null==f&&null!=u&&(i[e]=f=Xx(t,u,e)),null==f&&null!=c){var h=t._nameRepeatCount,m=h[c]=(h[c]||0)+1;f=c,m>1&&(f+="__ec__"+m),i[e]=f}})),n}();function Ym(n,t){zk(n)||(n=Q_(n));var ye,Ae,e=(t=t||{}).coordDimensions||[],o=t.dimensionsDefine||n.dimensionsDefine||[],i=Ir(),a=[],u=(ye=e,Ae=Math.max(n.dimensionsDetectedCount||1,ye.length,o.length,t.dimensionsCount||0),Te(ye,function(Fe){var Xe;fr(Fe)&&(Xe=Fe.dimsDef)&&(Ae=Math.max(Ae,Xe.length))}),Ae),c=t.canOmitUnusedDimensions&&gM(u),f=o===n.dimensionsDefine,h=f?pM(n):s1(o),m=t.encodeDefine;!m&&t.encodeDefaulter&&(m=t.encodeDefaulter(n,u));for(var y=Ir(m),_=new XS(u),S=0;S<_.length;S++)_[S]=-1;function k(ie){var ye=_[ie];if(ye<0){var _e=o[ie],Se=fr(_e)?_e:{name:_e},Ae=new a1,Fe=Se.name;return null!=Fe&&null!=h.get(Fe)&&(Ae.name=Ae.displayName=Fe),null!=Se.type&&(Ae.type=Se.type),null!=Se.displayName&&(Ae.displayName=Se.displayName),_[ie]=a.length,Ae.storeDimIndex=ie,a.push(Ae),Ae}return a[ye]}if(!c)for(S=0;S<u;S++)k(S);y.each(function(ie,ye){var _e=Ko(ie).slice();if(1===_e.length&&!Un(_e[0])&&_e[0]<0)y.set(ye,!1);else{var Se=y.set(ye,[]);Te(_e,function(Ae,Fe){var Xe=Un(Ae)?h.get(Ae):Ae;null!=Xe&&Xe<u&&(Se[Fe]=Xe,A(k(Xe),ye,Fe))})}});var D=0;function A(ie,ye,_e){null!=Ie.get(ye)?ie.otherDims[ye]=_e:(ie.coordDim=ye,ie.coordDimIndex=_e,i.set(ye,!0))}Te(e,function(ie){var ye,_e,Se,Ae;if(Un(ie))ye=ie,Ae={};else{ye=(Ae=ie).name;var Fe=Ae.ordinalMeta;Ae.ordinalMeta=null,(Ae=Pe({},Ae)).ordinalMeta=Fe,_e=Ae.dimsDef,Se=Ae.otherDims,Ae.name=Ae.coordDim=Ae.coordDimIndex=Ae.dimsDef=Ae.otherDims=null}var Xe=y.get(ye);if(!1!==Xe){if(!(Xe=Ko(Xe)).length)for(var nt=0;nt<(_e&&_e.length||1);nt++){for(;D<u&&null!=k(D).coordDim;)D++;D<u&&Xe.push(D++)}Te(Xe,function(it,ut){var mt=k(it);if(f&&null!=Ae.type&&(mt.type=Ae.type),A(ht(mt,Ae),ye,ut),null==mt.name&&_e){var Ot=_e[ut];!fr(Ot)&&(Ot={name:Ot}),mt.name=mt.displayName=Ot.name,mt.defaultTooltip=Ot.defaultTooltip}Se&&ht(mt.otherDims,Se)})}});var E=t.generateCoord,N=t.generateCoordCount,z=null!=N;N=E?N||1:0;var F=E||"value";function q(ie){null==ie.name&&(ie.name=ie.coordDim)}if(c)Te(a,function(ie){q(ie)}),a.sort(function(ie,ye){return ie.storeDimIndex-ye.storeDimIndex});else for(var X=0;X<u;X++){var ee=k(X);null==ee.coordDim&&(ee.coordDim=Os(F,i,z),ee.coordDimIndex=0,(!E||N<=0)&&(ee.isExtraCoord=!0),N--),q(ee),null!=ee.type||1!==cn(n,X)&&(!ee.isExtraCoord||null==ee.otherDims.itemName&&null==ee.otherDims.seriesName)||(ee.type="ordinal")}return function(ie){for(var ye=Ir(),_e=0;_e<ie.length;_e++){var Se=ie[_e],Ae=Se.name,Fe=ye.get(Ae)||0;Fe>0&&(Se.name=Ae+(Fe-1)),Fe++,ye.set(Ae,Fe)}}(a),new Ow({source:n,dimensions:a,fullDimensionCount:u,dimensionOmitted:c})}function Os(n,t,e){if(e||t.hasKey(n)){for(var o=0;t.hasKey(n+o);)o++;n+=o}return t.set(n,!0),n}var z0=function(n){this.coordSysDims=[],this.axisMap=Ir(),this.categoryAxisMap=Ir(),this.coordSysName=n},n2={cartesian2d:function(n,t,e,o){var i=n.getReferringComponents("xAxis",vu).models[0],a=n.getReferringComponents("yAxis",vu).models[0];t.coordSysDims=["x","y"],e.set("x",i),e.set("y",a),ai(i)&&(o.set("x",i),t.firstCategoryDimIndex=0),ai(a)&&(o.set("y",a),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},singleAxis:function(n,t,e,o){var i=n.getReferringComponents("singleAxis",vu).models[0];t.coordSysDims=["single"],e.set("single",i),ai(i)&&(o.set("single",i),t.firstCategoryDimIndex=0)},polar:function(n,t,e,o){var i=n.getReferringComponents("polar",vu).models[0],a=i.findAxisModel("radiusAxis"),u=i.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],e.set("radius",a),e.set("angle",u),ai(a)&&(o.set("radius",a),t.firstCategoryDimIndex=0),ai(u)&&(o.set("angle",u),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},geo:function(n,t,e,o){t.coordSysDims=["lng","lat"]},parallel:function(n,t,e,o){var i=n.ecModel,a=i.getComponent("parallel",n.get("parallelIndex")),u=t.coordSysDims=a.dimensions.slice();Te(a.parallelAxisIndex,function(c,f){var h=i.getComponent("parallelAxis",c),m=u[f];e.set(m,h),ai(h)&&(o.set(m,h),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=f))})}};function ai(n){return"category"===n.get("type")}function Pw(n,t,e){var o,i,a,u=(e=e||{}).byIndex,c=e.stackedCoordDimension;MC(t.schema)?(o=(i=t.schema).dimensions,a=t.store):o=t;var f,h,m,y,_=!(!n||!n.get("stack"));if(Te(o,function(N,z){Un(N)&&(o[z]=N={name:N}),_&&!N.isExtraCoord&&(u||f||!N.ordinalMeta||(f=N),h||"ordinal"===N.type||"time"===N.type||c&&c!==N.coordDim||(h=N))}),!h||u||f||(u=!0),h){m="__\0ecstackresult_"+n.id,y="__\0ecstackedover_"+n.id,f&&(f.createInvertedIndices=!0);var S=h.coordDim,k=h.type,D=0;Te(o,function(N){N.coordDim===S&&D++});var A={name:m,coordDim:S,coordDimIndex:D,type:k,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length},E={name:y,coordDim:y,coordDimIndex:D+1,type:k,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length+1};i?(a&&(A.storeDimIndex=a.ensureCalculationDimension(y,k),E.storeDimIndex=a.ensureCalculationDimension(m,k)),i.appendCalculationDimension(A),i.appendCalculationDimension(E)):(o.push(A),o.push(E))}return{stackedDimension:h&&h.name,stackedByDimension:f&&f.name,isStackedByIndex:u,stackedOverDimension:y,stackResultDimension:m}}function ei(n,t){return!!t&&t===n.getCalculationInfo("stackedDimension")}function mM(n,t){return ei(n,t)?n.getCalculationInfo("stackResultDimension"):t}function Ag(n,t,e){e=e||{};var o,i=t.getSourceManager(),a=!1;n?(a=!0,o=Q_(n)):a=(o=i.getSource()).sourceFormat===Be;var E,N,z,F,u=function(A){var E=A.get("coordinateSystem"),N=new z0(E),z=n2[E];if(z)return z(A,N,N.axisMap,N.categoryAxisMap),N}(t),c=(E=u,z=t.get("coordinateSystem"),F=Wa.get(z),E&&E.coordSysDims&&(N=It(E.coordSysDims,function(q){var X={name:q},ee=E.axisMap.get(q);if(ee){var ie=ee.get("type");X.type=Iw(ie)}return X})),N||(N=F&&(F.getDimensionsInfo?F.getDimensionsInfo():F.dimensions.slice())||["x","y"]),N),f=e.useEncodeDefaulter,h=hn(f)?f:f?cr(Pn,c,t):null,m=Ym(o,{coordDimensions:c,generateCoord:e.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:h,canOmitUnusedDimensions:!a}),y=function(A,E,N){var z,F;return N&&Te(A,function(q,X){var ie=N.categoryAxisMap.get(q.coordDim);ie&&(null==z&&(z=X),q.ordinalMeta=ie.getOrdinalMeta(),E&&(q.createInvertedIndices=!0)),null!=q.otherDims.itemName&&(F=!0)}),F||null==z||(A[z].otherDims.itemName=0),z}(m.dimensions,e.createInvertedIndices,u),_=a?null:i.getSharedDataStore(m),S=Pw(t,{schema:m,store:_}),k=new uc(m,t);k.setCalculationInfo(S);var D=null!=y&&function(A){if(A.sourceFormat===Be){var E=function(N){for(var z=0;z<N.length&&null==N[z];)z++;return N[z]}(A.data||[]);return!tt(vl(E))}}(o)?function(A,E,N,z){return z===y?N:this.defaultDimValueGetter(A,E,N,z)}:null;return k.hasItemOption=!1,k.initData(a?o:_,null,D),k}var Ig=function(){function n(t){this._setting=t||{},this._extent=[1/0,-1/0]}return n.prototype.getSetting=function(t){return this._setting[t]},n.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},n.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.setExtent=function(t,e){var o=this._extent;isNaN(t)||(o[0]=t),isNaN(e)||(o[1]=e)},n.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},n.prototype.isBlank=function(){return this._isBlank},n.prototype.setBlank=function(t){this._isBlank=t},n}();Ov(Ig);var pd=0,F0=function(){function n(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++pd}return n.createByAxisModel=function(t){var e=t.option,o=e.data,i=o&&It(o,u1);return new n({categories:i,needCollect:!i,deduplication:!1!==e.dedplication})},n.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},n.prototype.parseAndCollect=function(t){var e,o=this._needCollect;if(!Un(t)&&!o)return t;if(o&&!this._deduplication)return this.categories[e=this.categories.length]=t,e;var i=this._getOrCreateMap();return null==(e=i.get(t))&&(o?(this.categories[e=this.categories.length]=t,i.set(t,e)):e=NaN),e},n.prototype._getOrCreateMap=function(){return this._map||(this._map=Ir(this.categories))},n}();function u1(n){return fr(n)&&null!=n.value?n.value:n+""}function Dp(n){return"interval"===n.type||"log"===n.type}function Xm(n){var t=Math.pow(10,pb(n)),e=n/t;return e?2===e?e=3:3===e?e=5:e*=2:e=1,ri(e*t)}function IC(n){return eu(n)+2}function vM(n,t,e){n[t]=Math.max(Math.min(n[t],e[1]),e[0])}function Ml(n,t){return n>=t[0]&&n<=t[1]}function l1(n,t){return t[1]===t[0]?.5:(n-t[0])/(t[1]-t[0])}function xy(n,t){return n*(t[1]-t[0])+t[0]}var V0=function(n){function t(e){var o=n.call(this,e)||this;o.type="ordinal";var i=o.getSetting("ordinalMeta");return i||(i=new F0({})),tt(i)&&(i=new F0({categories:It(i,function(a){return fr(a)?a.value:a})})),o._ordinalMeta=i,o._extent=o.getSetting("extent")||[0,i.categories.length-1],o}return yt(t,n),t.prototype.parse=function(e){return null==e?NaN:Un(e)?this._ordinalMeta.getOrdinal(e):Math.round(e)},t.prototype.contain=function(e){return Ml(e=this.parse(e),this._extent)&&null!=this._ordinalMeta.categories[e]},t.prototype.normalize=function(e){return l1(e=this._getTickNumber(this.parse(e)),this._extent)},t.prototype.scale=function(e){return e=Math.round(xy(e,this._extent)),this.getRawOrdinalNumber(e)},t.prototype.getTicks=function(){for(var e=[],o=this._extent,i=o[0];i<=o[1];)e.push({value:i}),i++;return e},t.prototype.getMinorTicks=function(e){},t.prototype.setSortInfo=function(e){if(null!=e){for(var o=e.ordinalNumbers,i=this._ordinalNumbersByTick=[],a=this._ticksByOrdinalNumber=[],u=0,c=this._ordinalMeta.categories.length,f=Math.min(c,o.length);u<f;++u){var h=o[u];i[u]=h,a[h]=u}for(var m=0;u<c;++u){for(;null!=a[m];)m++;i.push(m),a[m]=u}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},t.prototype._getTickNumber=function(e){var o=this._ticksByOrdinalNumber;return o&&e>=0&&e<o.length?o[e]:e},t.prototype.getRawOrdinalNumber=function(e){var o=this._ordinalNumbersByTick;return o&&e>=0&&e<o.length?o[e]:e},t.prototype.getLabel=function(e){if(!this.isBlank()){var o=this.getRawOrdinalNumber(e.value),i=this._ordinalMeta.categories[o];return null==i?"":i+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.unionExtentFromData=function(e,o){this.unionExtent(e.getApproximateExtent(o))},t.prototype.isInExtentRange=function(e){return e=this._getTickNumber(e),this._extent[0]<=e&&this._extent[1]>=e},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t}(Ig);Ig.registerClass(V0);var Zm=ri,Km=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="interval",e._interval=0,e._intervalPrecision=2,e}return yt(t,n),t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return Ml(e,this._extent)},t.prototype.normalize=function(e){return l1(e,this._extent)},t.prototype.scale=function(e){return xy(e,this._extent)},t.prototype.setExtent=function(e,o){var i=this._extent;isNaN(e)||(i[0]=parseFloat(e)),isNaN(o)||(i[1]=parseFloat(o))},t.prototype.unionExtent=function(e){var o=this._extent;e[0]<o[0]&&(o[0]=e[0]),e[1]>o[1]&&(o[1]=e[1]),this.setExtent(o[0],o[1])},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=IC(e)},t.prototype.getTicks=function(e){var o=this._interval,i=this._extent,a=this._niceExtent,u=this._intervalPrecision,c=[];if(!o)return c;i[0]<a[0]&&c.push(e?{value:Zm(a[0]-o,u)}:{value:i[0]});for(var f=a[0];f<=a[1]&&(c.push({value:f}),(f=Zm(f+o,u))!==c[c.length-1].value);)if(c.length>1e4)return[];var h=c.length?c[c.length-1].value:a[1];return i[1]>h&&c.push(e?{value:Zm(h+o,u)}:{value:i[1]}),c},t.prototype.getMinorTicks=function(e){for(var o=this.getTicks(!0),i=[],a=this.getExtent(),u=1;u<o.length;u++){for(var f=o[u-1],h=0,m=[],y=(o[u].value-f.value)/e;h<e-1;){var _=Zm(f.value+(h+1)*y);_>a[0]&&_<a[1]&&m.push(_),h++}i.push(m)}return i},t.prototype.getLabel=function(e,o){if(null==e)return"";var i=o&&o.precision;return null==i?i=eu(e.value)||0:"auto"===i&&(i=this._intervalPrecision),Nm(Zm(e.value,i,!0))},t.prototype.calcNiceTicks=function(e,o,i){e=e||5;var a=this._extent,u=a[1]-a[0];if(isFinite(u)){u<0&&(u=-u,a.reverse());var c=function af(n,t,e,o){var i={},u=i.interval=Ba((n[1]-n[0])/t,!0);null!=e&&u<e&&(u=i.interval=e),null!=o&&u>o&&(u=i.interval=o);var f,h,c=i.intervalPrecision=IC(u);return f=i.niceTickExtent=[ri(Math.ceil(n[0]/u)*u,c),ri(Math.floor(n[1]/u)*u,c)],h=n,!isFinite(f[0])&&(f[0]=h[0]),!isFinite(f[1])&&(f[1]=h[1]),vM(f,0,h),vM(f,1,h),f[0]>f[1]&&(f[0]=f[1]),i}(a,e,o,i);this._intervalPrecision=c.intervalPrecision,this._interval=c.interval,this._niceExtent=c.niceTickExtent}},t.prototype.calcNiceExtent=function(e){var o=this._extent;if(o[0]===o[1])if(0!==o[0]){var i=Math.abs(o[0]);e.fixMax||(o[1]+=i/2),o[0]-=i/2}else o[1]=1;isFinite(o[1]-o[0])||(o[0]=0,o[1]=1),this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval);var u=this._interval;e.fixMin||(o[0]=Zm(Math.floor(o[0]/u)*u)),e.fixMax||(o[1]=Zm(Math.ceil(o[1]/u)*u))},t.prototype.setNiceExtent=function(e,o){this._niceExtent=[e,o]},t.type="interval",t}(Ig);Ig.registerClass(Km);var Rw="undefined"!=typeof Float32Array,yM=Rw?Float32Array:Array;function Og(n){return tt(n)?Rw?new Float32Array(n):n:new yM(n)}var Kx="__ec_stack_";function Eg(n){return n.get("stack")||Kx+n.seriesIndex}function Nf(n){return n.dim+n.index}function _y(n,t){var e=[];return t.eachSeriesByType(n,function(o){$m(o)&&e.push(o)}),e}function eh(n){var t=function(o){var i={};Te(o,function(y){var _=y.coordinateSystem.getBaseAxis();if("time"===_.type||"value"===_.type)for(var S=y.getData(),k=_.dim+"_"+_.index,D=S.getDimensionIndex(S.mapDimension(_.dim)),A=S.getStore(),E=0,N=A.count();E<N;++E){var z=A.get(D,E);i[k]?i[k].push(z):i[k]=[z]}});var a={};for(var u in i)if(i.hasOwnProperty(u)){var c=i[u];if(c){c.sort(function(y,_){return y-_});for(var f=null,h=1;h<c.length;++h){var m=c[h]-c[h-1];m>0&&(f=null===f?m:Math.min(f,m))}a[u]=f}}return a}(n),e=[];return Te(n,function(o){var i,a=o.coordinateSystem.getBaseAxis(),u=a.getExtent();if("category"===a.type)i=a.getBandWidth();else if("value"===a.type||"time"===a.type){var f=t[a.dim+"_"+a.index],h=Math.abs(u[1]-u[0]),m=a.scale.getExtent(),y=Math.abs(m[1]-m[0]);i=f?h/y*f:h}else{var _=o.getData();i=Math.abs(u[1]-u[0])/_.count()}var S=Qn(o.get("barWidth"),i),k=Qn(o.get("barMaxWidth"),i),D=Qn(o.get("barMinWidth")||(Ap(o)?.5:1),i),A=o.get("barGap"),E=o.get("barCategoryGap");e.push({bandWidth:i,barWidth:S,barMaxWidth:k,barMinWidth:D,barGap:A,barCategoryGap:E,axisKey:Nf(a),stackId:Eg(o)})}),OC(e)}function OC(n){var t={};Te(n,function(o,i){var a=o.axisKey,u=o.bandWidth,c=t[a]||{bandWidth:u,remainedWidth:u,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},f=c.stacks;t[a]=c;var h=o.stackId;f[h]||c.autoWidthCount++,f[h]=f[h]||{width:0,maxWidth:0};var m=o.barWidth;m&&!f[h].width&&(f[h].width=m,m=Math.min(c.remainedWidth,m),c.remainedWidth-=m);var y=o.barMaxWidth;y&&(f[h].maxWidth=y);var _=o.barMinWidth;_&&(f[h].minWidth=_);var S=o.barGap;null!=S&&(c.gap=S);var k=o.barCategoryGap;null!=k&&(c.categoryGap=k)});var e={};return Te(t,function(o,i){e[i]={};var a=o.stacks,u=o.bandWidth,c=o.categoryGap;if(null==c){var f=Zn(a).length;c=Math.max(35-4*f,15)+"%"}var h=Qn(c,u),m=Qn(o.gap,1),y=o.remainedWidth,_=o.autoWidthCount,S=(y-h)/(_+(_-1)*m);S=Math.max(S,0),Te(a,function(E){var N=E.maxWidth,z=E.minWidth;if(E.width)F=E.width,N&&(F=Math.min(F,N)),z&&(F=Math.max(F,z)),E.width=F,y-=F+m*F,_--;else{var F=S;N&&N<F&&(F=Math.min(N,y)),z&&z>F&&(F=z),F!==S&&(E.width=F,y-=F+m*F,_--)}}),S=(y-h)/(_+(_-1)*m),S=Math.max(S,0);var k,D=0;Te(a,function(E,N){E.width||(E.width=S),k=E,D+=E.width*(1+m)}),k&&(D-=k.width*m);var A=-D/2;Te(a,function(E,N){e[i][N]=e[i][N]||{bandWidth:u,offset:A,width:E.width},A+=E.width*(1+m)})}),e}function r2(n,t){var e=_y(n,t),o=eh(e);Te(e,function(i){var a=i.getData(),u=i.coordinateSystem.getBaseAxis(),c=Eg(i),f=o[Nf(u)][c];a.setLayout({bandWidth:f.bandWidth,offset:f.offset,size:f.width})})}function H0(n){return{seriesType:n,plan:S0(),reset:function(t){if($m(t)){var e=t.getData(),o=t.coordinateSystem,i=o.getBaseAxis(),a=o.getOtherAxis(i),u=e.getDimensionIndex(e.mapDimension(a.dim)),c=e.getDimensionIndex(e.mapDimension(i.dim)),f=t.get("showBackground",!0),h=e.mapDimension(a.dim),m=e.getCalculationInfo("stackResultDimension"),y=ei(e,h)&&!!e.getCalculationInfo("stackedOnSeries"),_=a.isHorizontal(),S=(F=a).toGlobalCoord(F.dataToCoord("log"===F.type?1:0)),k=Ap(t),D=t.get("barMinHeight")||0,A=m&&e.getDimensionIndex(m),E=e.getLayout("size"),N=e.getLayout("offset");return{progress:function(z,F){for(var q,X=z.count,ee=k&&Og(3*X),ie=k&&f&&Og(3*X),ye=k&&Og(X),_e=o.master.getRect(),Se=_?_e.width:_e.height,Ae=F.getStore(),Fe=0;null!=(q=z.next());){var Xe=Ae.get(y?A:u,q),nt=Ae.get(c,q),it=S,ut=void 0;y&&(ut=+Xe-Ae.get(u,q));var mt=void 0,Ot=void 0,Pt=void 0,Gt=void 0;if(_){var kn=o.dataToPoint([Xe,nt]);y&&(it=o.dataToPoint([ut,nt])[0]),mt=it,Ot=kn[1]+N,Pt=kn[0]-it,Gt=E,Math.abs(Pt)<D&&(Pt=(Pt<0?-1:1)*D)}else kn=o.dataToPoint([nt,Xe]),y&&(it=o.dataToPoint([nt,ut])[1]),mt=kn[0]+N,Ot=it,Pt=E,Gt=kn[1]-it,Math.abs(Gt)<D&&(Gt=(Gt<=0?-1:1)*D);k?(ee[Fe]=mt,ee[Fe+1]=Ot,ee[Fe+2]=_?Pt:Gt,ie&&(ie[Fe]=_?_e.x:mt,ie[Fe+1]=_?Ot:_e.y,ie[Fe+2]=Se),ye[q]=q):F.setItemLayout(q,{x:mt,y:Ot,width:Pt,height:Gt}),Fe+=3}k&&F.setLayout({largePoints:ee,largeDataIndices:ye,largeBackgroundPoints:ie,valueAxisHorizontal:_})}}}var F}}}function $m(n){return n.coordinateSystem&&"cartesian2d"===n.coordinateSystem.type}function Ap(n){return n.pipelineContext&&n.pipelineContext.large}var Lw=function(n){function t(e){var o=n.call(this,e)||this;return o.type="time",o}return yt(t,n),t.prototype.getLabel=function(e){var o=this.getSetting("useUTC");return Is(e.value,pg[function(i){switch(i){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}(Zd(this._minLevelUnit))]||pg.second,o,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(e,o,i){var a=this.getSetting("useUTC");return function(u,c,f,h,m){var y=null;if(Un(f))y=f;else if(hn(f))y=f(u.value,c,{level:u.level});else{var _=Pe({},xp);if(u.level>0)for(var S=0;S<gg.length;++S)_[gg[S]]="{primary|"+_[gg[S]]+"}";var k=f?!1===f.inherit?f:ht(f,_):_,D=ud(u.value,m);if(k[D])y=k[D];else if(k.inherit){for(S=Pm.indexOf(D)-1;S>=0;--S)if(k[D]){y=k[D];break}y=y||_.none}if(tt(y)){var A=null==u.level?0:u.level>=0?u.level:y.length+u.level;y=y[A=Math.min(A,y.length-1)]}}return Is(new Date(u.value),y,m,h)}(e,o,i,this.getSetting("locale"),a)},t.prototype.getTicks=function(){var o=this._extent,i=[];if(!this._interval)return i;i.push({value:o[0],level:0});var a=this.getSetting("useUTC"),u=function(c,f,h,m){var _=Pm,S=0;function k(it,ut,mt,Ot,Pt,Gt,kn){for(var tr=new Date(ut),Xt=ut,zn=tr[Ot]();Xt<mt&&Xt<=m[1];)kn.push({value:Xt}),tr[Pt](zn+=it),Xt=tr.getTime();kn.push({value:Xt,notAdd:!0})}function D(it,ut,mt){var Ot=[],Pt=!ut.length;if(!function(nr,br,ur,kr){var Br=Wc(br),Ro=Wc(ur),Zo=function(yv){return Kd(Br,yv,kr)===Kd(Ro,yv,kr)},wa=function(){return Zo("year")},Si=function(){return wa()&&Zo("month")},Hi=function(){return Si()&&Zo("day")},oa=function(){return Hi()&&Zo("hour")},qs=function(){return oa()&&Zo("minute")},su=function(){return qs()&&Zo("second")};switch(nr){case"year":return wa();case"month":return Si();case"day":return Hi();case"hour":return oa();case"minute":return qs();case"second":return su();case"millisecond":return su()&&Zo("millisecond")}}(Zd(it),m[0],m[1],h)){Pt&&(ut=[{value:Qm(new Date(m[0]),it,h)},{value:m[1]}]);for(var Gt=0;Gt<ut.length-1;Gt++){var kn=ut[Gt].value,tr=ut[Gt+1].value;if(kn!==tr){var Xt=void 0,zn=void 0,gr=void 0;switch(it){case"year":Xt=Math.max(1,Math.round(f/Em/365)),zn=ry(h),gr=BS(h);break;case"half-year":case"quarter":case"month":Xt=Jm(f),zn=Rm(h),gr=Lb(h);break;case"week":case"half-week":case"day":Xt=o2(f),zn=ld(h),gr=Wo(h);break;case"half-day":case"quarter-day":case"hour":Xt=EC(f),zn=oy(h),gr=gx(h);break;case"minute":Xt=ys(f,!0),zn=mg(h),gr=Nb(h);break;case"second":Xt=ys(f,!1),zn=iy(h),gr=$d(h);break;case"millisecond":Xt=i2(f),zn=Lm(h),gr=ay(h)}k(Xt,kn,tr,zn,gr,0,Ot),"year"===it&&mt.length>1&&0===Gt&&mt.unshift({value:mt[0].value-Xt})}}for(Gt=0;Gt<Ot.length;Gt++)mt.push(Ot[Gt]);return Ot}}for(var A=[],E=[],N=0,z=0,F=0;F<_.length&&S++<1e4;++F){var q=Zd(_[F]);if(NS(_[F])&&(D(_[F],A[A.length-1]||[],E),q!==(_[F+1]?Zd(_[F+1]):null))){if(E.length){z=N,E.sort(function(it,ut){return it.value-ut.value});for(var X=[],ee=0;ee<E.length;++ee){var ie=E[ee].value;0!==ee&&E[ee-1].value===ie||(X.push(E[ee]),ie>=m[0]&&ie<=m[1]&&N++)}var ye=(m[1]-m[0])/f;if(N>1.5*ye&&z>ye/1.5||(A.push(X),N>ye||c===_[F]))break}E=[]}}var _e=Lr(It(A,function(it){return Lr(it,function(ut){return ut.value>=m[0]&&ut.value<=m[1]&&!ut.notAdd})}),function(it){return it.length>0}),Se=[],Ae=_e.length-1;for(F=0;F<_e.length;++F)for(var Fe=_e[F],Xe=0;Xe<Fe.length;++Xe)Se.push({value:Fe[Xe].value,level:Ae-F});Se.sort(function(it,ut){return it.value-ut.value});var nt=[];for(F=0;F<Se.length;++F)0!==F&&Se[F].value===Se[F-1].value||nt.push(Se[F]);return nt}(this._minLevelUnit,this._approxInterval,a,o);return(i=i.concat(u)).push({value:o[1],level:0}),i},t.prototype.calcNiceExtent=function(e){var o=this._extent;if(o[0]===o[1]&&(o[0]-=Em,o[1]+=Em),o[1]===-1/0&&o[0]===1/0){var i=new Date;o[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),o[0]=o[1]-Em}this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval)},t.prototype.calcNiceTicks=function(e,o,i){var a=this._extent;this._approxInterval=(a[1]-a[0])/(e=e||10),null!=o&&this._approxInterval<o&&(this._approxInterval=o),null!=i&&this._approxInterval>i&&(this._approxInterval=i);var c=$x.length,f=Math.min(function(h,m,y,_){for(;y<_;){var S=y+_>>>1;h[S][1]<m?y=S+1:_=S}return y}($x,this._approxInterval,0,c),c-1);this._interval=$x[f][1],this._minLevelUnit=$x[Math.max(f-1,0)][0]},t.prototype.parse=function(e){return hr(e)?e:+Wc(e)},t.prototype.contain=function(e){return Ml(this.parse(e),this._extent)},t.prototype.normalize=function(e){return l1(this.parse(e),this._extent)},t.prototype.scale=function(e){return xy(e,this._extent)},t.type="time",t}(Km),$x=[["second",1e3],["minute",6e4],["hour",36e5],["quarter-day",216e5],["half-day",432e5],["day",10368e4],["half-week",3024e5],["week",6048e5],["month",26784e5],["quarter",8208e6],["half-year",ny/2],["year",ny]];function o2(n,t){return(n/=Em)>16?16:n>7.5?7:n>3.5?4:n>1.5?2:1}function Jm(n){return(n/=2592e6)>6?6:n>3?3:n>2?2:1}function EC(n){return(n/=36e5)>12?12:n>6?6:n>3.5?4:n>2?2:1}function ys(n,t){return(n/=t?6e4:1e3)>30?30:n>20?20:n>15?15:n>10?10:n>5?5:n>2?2:1}function i2(n){return Ba(n,!0)}function Qm(n,t,e){var o=new Date(n);switch(Zd(t)){case"year":case"month":o[Lb(e)](0);case"day":o[Wo(e)](1);case"hour":o[gx(e)](0);case"minute":o[Nb(e)](0);case"second":o[$d(e)](0),o[ay(e)](0)}return o.getTime()}Ig.registerClass(Lw);var Nw=Ig.prototype,W0=Km.prototype,c1=ri,bM=Math.floor,Jx=Math.ceil,Qx=Math.pow,th=Math.log,Pg=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="log",e.base=10,e._originalScale=new Km,e._interval=0,e}return yt(t,n),t.prototype.getTicks=function(e){var i=this._extent,a=this._originalScale.getExtent();return It(W0.getTicks.call(this,e),function(u){var c=u.value,f=ri(Qx(this.base,c));return f=c===i[0]&&this._fixMin?ev(f,a[0]):f,{value:f=c===i[1]&&this._fixMax?ev(f,a[1]):f}},this)},t.prototype.setExtent=function(e,o){var i=th(this.base);e=th(Math.max(0,e))/i,o=th(Math.max(0,o))/i,W0.setExtent.call(this,e,o)},t.prototype.getExtent=function(){var e=this.base,o=Nw.getExtent.call(this);o[0]=Qx(e,o[0]),o[1]=Qx(e,o[1]);var i=this._originalScale.getExtent();return this._fixMin&&(o[0]=ev(o[0],i[0])),this._fixMax&&(o[1]=ev(o[1],i[1])),o},t.prototype.unionExtent=function(e){this._originalScale.unionExtent(e);var o=this.base;e[0]=th(e[0])/th(o),e[1]=th(e[1])/th(o),Nw.unionExtent.call(this,e)},t.prototype.unionExtentFromData=function(e,o){this.unionExtent(e.getApproximateExtent(o))},t.prototype.calcNiceTicks=function(e){e=e||10;var o=this._extent,i=o[1]-o[0];if(!(i===1/0||i<=0)){var a=hh(i);for(e/i*a<=.5&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;var u=[ri(Jx(o[0]/a)*a),ri(bM(o[1]/a)*a)];this._interval=a,this._niceExtent=u}},t.prototype.calcNiceExtent=function(e){W0.calcNiceExtent.call(this,e),this._fixMin=e.fixMin,this._fixMax=e.fixMax},t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return Ml(e=th(e)/th(this.base),this._extent)},t.prototype.normalize=function(e){return l1(e=th(e)/th(this.base),this._extent)},t.prototype.scale=function(e){return e=xy(e,this._extent),Qx(this.base,e)},t.type="log",t}(Ig),Bw=Pg.prototype;function ev(n,t){return c1(n,eu(t))}Bw.getMinorTicks=W0.getMinorTicks,Bw.getLabel=W0.getLabel,Ig.registerClass(Pg);var tv=function(){function n(t,e,o){this._prepareParams(t,e,o)}return n.prototype._prepareParams=function(t,e,o){o[1]<o[0]&&(o=[NaN,NaN]),this._dataMin=o[0],this._dataMax=o[1];var i=this._isOrdinal="ordinal"===t.type;this._needCrossZero="interval"===t.type&&e.getNeedCrossZero&&e.getNeedCrossZero();var a=this._modelMinRaw=e.get("min",!0);hn(a)?this._modelMinNum=nv(t,a({min:o[0],max:o[1]})):"dataMin"!==a&&(this._modelMinNum=nv(t,a));var u=this._modelMaxRaw=e.get("max",!0);if(hn(u)?this._modelMaxNum=nv(t,u({min:o[0],max:o[1]})):"dataMax"!==u&&(this._modelMaxNum=nv(t,u)),i)this._axisDataLen=e.getCategories().length;else{var c=e.get("boundaryGap"),f=tt(c)?c:[c||0,c||0];this._boundaryGapInner="boolean"==typeof f[0]||"boolean"==typeof f[1]?[0,0]:[gl(f[0],1),gl(f[1],1)]}},n.prototype.calculate=function(){var t=this._isOrdinal,e=this._dataMin,o=this._dataMax,i=this._axisDataLen,a=this._boundaryGapInner,u=t?null:o-e||Math.abs(e),c="dataMin"===this._modelMinRaw?e:this._modelMinNum,f="dataMax"===this._modelMaxRaw?o:this._modelMaxNum,h=null!=c,m=null!=f;null==c&&(c=t?i?0:NaN:e-a[0]*u),null==f&&(f=t?i?i-1:NaN:o+a[1]*u),(null==c||!isFinite(c))&&(c=NaN),(null==f||!isFinite(f))&&(f=NaN);var y=Rn(c)||Rn(f)||t&&!i;this._needCrossZero&&(c>0&&f>0&&!h&&(c=0),c<0&&f<0&&!m&&(f=0));var _=this._determinedMin,S=this._determinedMax;return null!=_&&(c=_,h=!0),null!=S&&(f=S,m=!0),{min:c,max:f,minFixed:h,maxFixed:m,isBlank:y}},n.prototype.modifyDataMinMax=function(t,e){this[Fw[t]]=e},n.prototype.setDeterminedMinMax=function(t,e){this[zw[t]]=e},n.prototype.freeze=function(){this.frozen=!0},n}(),zw={min:"_determinedMin",max:"_determinedMax"},Fw={min:"_dataMin",max:"_dataMax"};function Rg(n,t,e){var o=n.rawExtentInfo;return o||(o=new tv(n,t,e),n.rawExtentInfo=o,o)}function nv(n,t){return null==t?null:Rn(t)?NaN:n.parse(t)}function Vw(n,t){var e=n.type,o=Rg(n,t,n.getExtent()).calculate();n.setBlank(o.isBlank);var i=o.min,a=o.max,u=t.ecModel;if(u&&"time"===e){var c=_y("bar",u),f=!1;if(Te(c,function(y){f=f||y.getBaseAxis()===t.axis}),f){var h=eh(c),m=function(y,_,S,k){var D=S.axis.getExtent(),A=D[1]-D[0],E=function(ee,ie,ye){if(ee&&ie)return ee[Nf(ie)]}(k,S.axis);if(void 0===E)return{min:y,max:_};var N=1/0;Te(E,function(ee){N=Math.min(ee.offset,N)});var z=-1/0;Te(E,function(ee){z=Math.max(ee.offset+ee.width,z)}),N=Math.abs(N),z=Math.abs(z);var F=N+z,q=_-y,X=q/(1-(N+z)/A)-q;return{min:y-=X*(N/F),max:_+=X*(z/F)}}(i,a,t,h);i=m.min,a=m.max}}return{extent:[i,a],fixMin:o.minFixed,fixMax:o.maxFixed}}function Oh(n,t){var e=t,o=Vw(n,e),i=o.extent,a=e.get("splitNumber");n instanceof Pg&&(n.base=e.get("logBase"));var u=n.type,c=e.get("interval"),f="interval"===u||"time"===u;n.setExtent(i[0],i[1]),n.calcNiceExtent({splitNumber:a,fixMin:o.fixMin,fixMax:o.fixMax,minInterval:f?e.get("minInterval"):null,maxInterval:f?e.get("maxInterval"):null}),null!=c&&n.setInterval&&n.setInterval(c)}function G0(n,t){if(t=t||n.get("type"))switch(t){case"category":return new V0({ordinalMeta:n.getOrdinalMeta?n.getOrdinalMeta():n.getCategories(),extent:[1/0,-1/0]});case"time":return new Lw({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new(Ig.getClass(t)||Km)}}function rv(n){var t,e,a,o=n.getLabelModel().get("formatter"),i="category"===n.type?n.scale.getExtent()[0]:null;return"time"===n.scale.type?(e=o,function(a,u){return n.scale.getFormattedLabel(a,u,e)}):Un(o)?(a=o,function(u){var c=n.scale.getLabel(u);return a.replace("{value}",null!=c?c:"")}):hn(o)?(t=o,function(a,u){return null!=i&&(u=a.value-i),t(f1(n,a),u,null!=a.level?{level:a.level}:null)}):function(a){return n.scale.getLabel(a)}}function f1(n,t){return"category"===n.type?n.scale.getLabel(t):t.value}function xM(n,t){var e=t*Math.PI/180,o=n.width,i=n.height,a=o*Math.abs(Math.cos(e))+Math.abs(i*Math.sin(e)),u=o*Math.abs(Math.sin(e))+Math.abs(i*Math.cos(e));return new To(n.x,n.y,a,u)}function Hw(n){var t=n.get("interval");return null==t?"auto":t}function U0(n){return"category"===n.type&&0===Hw(n.getLabelModel())}function e_(n,t){var e={};return Te(n.mapDimensionsAll(t),function(o){e[mM(n,o)]=!0}),Zn(e)}var j0=function(){function n(){}return n.prototype.getNeedCrossZero=function(){return!this.option.scale},n.prototype.getCoordSysModel=function(){},n}(),Ww=Object.freeze({__proto__:null,createList:function(n){return Ag(null,n)},getLayoutRect:au,dataStack:{isDimensionStacked:ei,enableDataStack:Pw,getStackedDimension:mM},createScale:function(n,t){var e=t;t instanceof Pi||(e=new Pi(t));var o=G0(e);return o.setExtent(n[0],n[1]),Oh(o,e),o},mixinAxisModelCommonMethods:function(n){_r(n,j0)},getECData:fo,createTextStyle:function(n,t){return yi(n,null,null,"normal"!==(t=t||{}).state)},createDimensions:function(n,t){return Ym(n,t).dimensions},createSymbol:Hu,enableHoverEmphasis:Tf});function Gw(n,t){return Math.abs(n-t)<1e-8}function q0(n,t,e){var o=0,i=n[0];if(!i)return!1;for(var a=1;a<n.length;a++){var u=n[a];o+=Wd(i[0],i[1],u[0],u[1],t,e),i=u}var c=n[0];return Gw(i[0],c[0])&&Gw(i[1],c[1])||(o+=Wd(i[0],i[1],c[0],c[1],t,e)),0!==o}var wM=[];function PC(n,t){for(var e=0;e<n.length;e++)En(n[e],n[e],t)}function Lg(n,t,e,o){for(var i=0;i<n.length;i++){var a=n[i];o&&(a=o.project(a)),a&&isFinite(a[0])&&isFinite(a[1])&&(Wt(t,t,a),eo(e,e,a))}}var ov=function(){function n(t){this.name=t}return n.prototype.setCenter=function(t){this._center=t},n.prototype.getCenter=function(){var t=this._center;return t||(t=this._center=this.calcCenter()),t},n}(),nh=function(n,t){this.type="polygon",this.exterior=n,this.interiors=t},Uw=function(n){this.type="linestring",this.points=n},RC=function(n){function t(e,o,i){var a=n.call(this,e)||this;return a.type="geoJSON",a.geometries=o,a._center=i&&[i[0],i[1]],a}return yt(t,n),t.prototype.calcCenter=function(){for(var e,o=this.geometries,i=0,a=0;a<o.length;a++){var u=o[a],c=u.exterior,f=c&&c.length;f>i&&(e=u,i=f)}if(e)return function(m){for(var y=0,_=0,S=0,k=m.length,D=m[k-1][0],A=m[k-1][1],E=0;E<k;E++){var N=m[E][0],z=m[E][1],F=D*z-N*A;y+=F,_+=(D+N)*F,S+=(A+z)*F,D=N,A=z}return y?[_/y/3,S/y/3,y]:[m[0][0]||0,m[0][1]||0]}(e.exterior);var h=this.getBoundingRect();return[h.x+h.width/2,h.y+h.height/2]},t.prototype.getBoundingRect=function(e){var o=this._rect;if(o&&!e)return o;var i=[1/0,1/0],a=[-1/0,-1/0];return Te(this.geometries,function(u){"polygon"===u.type?Lg(u.exterior,i,a,e):Te(u.points,function(c){Lg(c,i,a,e)})}),isFinite(i[0])&&isFinite(i[1])&&isFinite(a[0])&&isFinite(a[1])||(i[0]=i[1]=a[0]=a[1]=0),o=new To(i[0],i[1],a[0]-i[0],a[1]-i[1]),e||(this._rect=o),o},t.prototype.contain=function(e){var o=this.getBoundingRect(),i=this.geometries;if(!o.contain(e[0],e[1]))return!1;e:for(var a=0,u=i.length;a<u;a++){var c=i[a];if("polygon"===c.type){var h=c.interiors;if(q0(c.exterior,e[0],e[1])){for(var m=0;m<(h?h.length:0);m++)if(q0(h[m],e[0],e[1]))continue e;return!0}}}return!1},t.prototype.transformTo=function(e,o,i,a){var u=this.getBoundingRect(),c=u.width/u.height;i?a||(a=i/c):i=c*a;for(var f=new To(e,o,i,a),h=u.calculateTransform(f),m=this.geometries,y=0;y<m.length;y++){var _=m[y];"polygon"===_.type?(PC(_.exterior,h),Te(_.interiors,function(S){PC(S,h)})):Te(_.points,function(S){PC(S,h)})}(u=this._rect).copy(f),this._center=[u.x+u.width/2,u.y+u.height/2]},t.prototype.cloneShallow=function(e){null==e&&(e=this.name);var o=new t(e,this.geometries,this._center);return o._rect=this._rect,o.transformTo=null,o},t}(ov),SM=function(n){function t(e,o){var i=n.call(this,e)||this;return i.type="geoSVG",i._elOnlyForCalculate=o,i}return yt(t,n),t.prototype.calcCenter=function(){for(var e=this._elOnlyForCalculate,o=e.getBoundingRect(),i=[o.x+o.width/2,o.y+o.height/2],a=Ry(wM),u=e;u&&!u.isGeoSVGGraphicRoot;)Wr(a,u.getLocalTransform(),a),u=u.parent;return Ut(a,a),En(i,i,a),i},t}(ov);function LC(n,t,e){for(var o=0;o<n.length;o++)n[o]=CM(n[o],t[o],e)}function CM(n,t,e){for(var o=[],i=t[0],a=t[1],u=0;u<n.length;u+=2){var c=n.charCodeAt(u)-64,f=n.charCodeAt(u+1)-64;c=c>>1^-(1&c),f=f>>1^-(1&f),i=c+=i,a=f+=a,o.push([c/e,f/e])}return o}function Eh(n,t){return It(Lr((n=function(e){if(!e.UTF8Encoding)return e;var o=e,i=o.UTF8Scale;return null==i&&(i=1024),Te(o.features,function(a){var u=a.geometry,c=u.encodeOffsets,f=u.coordinates;if(c)switch(u.type){case"LineString":u.coordinates=CM(f,c,i);break;case"Polygon":case"MultiLineString":LC(f,c,i);break;case"MultiPolygon":Te(f,function(h,m){return LC(h,c[m],i)})}}),o.UTF8Encoding=!1,o}(n)).features,function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0}),function(e){var o=e.properties,i=e.geometry,a=[];switch(i.type){case"Polygon":var u=i.coordinates;a.push(new nh(u[0],u.slice(1)));break;case"MultiPolygon":Te(i.coordinates,function(f){f[0]&&a.push(new nh(f[0],f.slice(1)))});break;case"LineString":a.push(new Uw([i.coordinates]));break;case"MultiLineString":a.push(new Uw(i.coordinates))}var c=new RC(o[t||"name"],a,o.cp);return c.properties=o,c})}var ti=Object.freeze({__proto__:null,linearMap:zi,round:ri,asc:la,getPrecision:eu,getPrecisionSafe:xf,getPixelPrecision:Kl,getPercentWithPrecision:function(n,t,e){return n[t]&&ml(n,e)[t]||0},MAX_SAFE_INTEGER:_f,remRadian:Ms,isRadianAroundZero:Jh,parseDate:Wc,quantity:hh,quantityExponent:pb,nice:Ba,quantile:mu,reformIntervals:$l,isNumeric:qi,numericToNumber:$i}),d1=Object.freeze({__proto__:null,parse:Wc,format:Is}),jw=Object.freeze({__proto__:null,extendShape:tl,extendPath:Zv,makePath:Ch,makeImage:$c,mergePath:Cl,resizePath:c0,createIcon:If,updateProps:io,initProps:_a,getTransform:Eo,clipPointsByRect:Pb,clipRectByRect:Kv,registerShape:Mc,getShapeClass:l0,Group:lo,Image:bu,Text:li,Circle:Kc,Ellipse:gs,Sector:Ll,Ring:wh,Polygon:ms,Polyline:ou,Rect:oi,Line:Ws,BezierCurve:Sl,Arc:Xa,IncrementalDisplayable:a0,CompoundPath:Sh,LinearGradient:pp,RadialGradient:i0,BoundingRect:To}),kM=Object.freeze({__proto__:null,addCommas:Nm,toCamelCase:Vr,normalizeCssArray:vg,encodeHTML:Ea,formatTpl:wu,getTooltipMarker:Bm,formatTime:function(n,t,e){"week"!==n&&"month"!==n&&"quarter"!==n&&"half-year"!==n&&"year"!==n||(n="MM-dd\nyyyy");var o=Wc(t),i=e?"getUTC":"get",a=o[i+"FullYear"](),u=o[i+"Month"]()+1,c=o[i+"Date"](),f=o[i+"Hours"](),h=o[i+"Minutes"](),m=o[i+"Seconds"](),y=o[i+"Milliseconds"]();return n.replace("MM",zl(u,2)).replace("M",u).replace("yyyy",a).replace("yy",zl(a%100+"",2)).replace("dd",zl(c,2)).replace("d",c).replace("hh",zl(f,2)).replace("h",f).replace("mm",zl(h,2)).replace("m",h).replace("ss",zl(m,2)).replace("s",m).replace("SSS",zl(y,3))},capitalFirst:function(n){return n&&n.charAt(0).toUpperCase()+n.substr(1)},truncateText:vh,getTextRect:function(n,t,e,o,i,a,u,c){return new li({style:{text:n,font:t,align:e,verticalAlign:o,padding:i,rich:a,overflow:u?"truncate":null,lineHeight:c}}).getBoundingRect()}}),MM=Object.freeze({__proto__:null,map:It,each:Te,indexOf:jt,inherits:Cr,reduce:Sn,filter:Lr,bind:Bn,curry:cr,isArray:tt,isString:Un,isObject:fr,isFunction:hn,extend:Pe,defaults:ht,clone:Re,merge:Ve}),h1=Qo();function t_(n,t){var o,c,f,i=NC(n,"labels"),a=Hw(t);return BC(i,a)||qw(i,a,{labels:hn(a)?Y0(n,a):n_(n,o="auto"===a?null!=(f=h1(c=n).autoInterval)?f:h1(c).autoInterval=c.calculateCategoryInterval():a),labelCategoryInterval:o})}function NC(n,t){return h1(n)[t]||(h1(n)[t]=[])}function BC(n,t){for(var e=0;e<n.length;e++)if(n[e].key===t)return n[e].value}function qw(n,t,e){return n.push({key:t,value:e}),e}function n_(n,t,e){var o=rv(n),i=n.scale,a=i.getExtent(),u=n.getLabelModel(),c=[],f=Math.max((t||0)+1,1),h=a[0],m=i.count();0!==h&&f>1&&m/f>2&&(h=Math.round(Math.ceil(h/f)*f));var y=U0(n),_=u.get("showMinLabel")||y,S=u.get("showMaxLabel")||y;_&&h!==a[0]&&D(a[0]);for(var k=h;k<=a[1];k+=f)D(k);function D(A){var E={value:A};c.push(e?A:{formattedLabel:o(E),rawLabel:i.getLabel(E),tickValue:A})}return S&&k-f!==a[1]&&D(a[1]),c}function Y0(n,t,e){var o=n.scale,i=rv(n),a=[];return Te(o.getTicks(),function(u){var c=o.getLabel(u),f=u.value;t(u.value,c)&&a.push(e?f:{formattedLabel:i(u),rawLabel:c,tickValue:f})}),a}var Yw=[0,1],gd=function(){function n(t,e,o){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=o||[0,0]}return n.prototype.contain=function(t){var e=this._extent,o=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]);return t>=o&&t<=i},n.prototype.containData=function(t){return this.scale.contain(t)},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.getPixelPrecision=function(t){return Kl(t||this.scale.getExtent(),this._extent)},n.prototype.setExtent=function(t,e){var o=this._extent;o[0]=t,o[1]=e},n.prototype.dataToCoord=function(t,e){var o=this._extent,i=this.scale;return t=i.normalize(t),this.onBand&&"ordinal"===i.type&&r_(o=o.slice(),i.count()),zi(t,Yw,o,e)},n.prototype.coordToData=function(t,e){var o=this._extent,i=this.scale;this.onBand&&"ordinal"===i.type&&r_(o=o.slice(),i.count());var a=zi(t,o,Yw,e);return this.scale.scale(a)},n.prototype.pointToData=function(t,e){},n.prototype.getTicksCoords=function(t){var e=(t=t||{}).tickModel||this.getTickModel(),o=It(function a2(n,t){return"category"===n.type?function(e,o){var i,a,u=NC(e,"ticks"),c=Hw(o),f=BC(u,c);if(f)return f;if(o.get("show")&&!e.scale.isBlank()||(i=[]),hn(c))i=Y0(e,c,!0);else if("auto"===c){var h=t_(e,e.getLabelModel());a=h.labelCategoryInterval,i=It(h.labels,function(m){return m.tickValue})}else i=n_(e,a=c,!0);return qw(u,c,{ticks:i,tickCategoryInterval:a})}(n,t):{ticks:It(n.scale.getTicks(),function(e){return e.value})}}(this,e).ticks,function(i){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(i):i),tickValue:i}},this);return function(i,a,u,c){var f=a.length;if(i.onBand&&!u&&f){var h,m,y=i.getExtent();if(1===f)a[0].coord=y[0],h=a[1]={coord:y[0]};else{var S=(a[f-1].coord-a[0].coord)/(a[f-1].tickValue-a[0].tickValue);Te(a,function(A){A.coord-=S/2}),m=1+i.scale.getExtent()[1]-a[f-1].tickValue,a.push(h={coord:a[f-1].coord+S*m})}var k=y[0]>y[1];D(a[0].coord,y[0])&&(c?a[0].coord=y[0]:a.shift()),c&&D(y[0],a[0].coord)&&a.unshift({coord:y[0]}),D(y[1],h.coord)&&(c?h.coord=y[1]:a.pop()),c&&D(h.coord,y[1])&&a.push({coord:y[1]})}function D(A,E){return A=ri(A),E=ri(E),k?A>E:A<E}}(this,o,e.get("alignWithLabel"),t.clamp),o},n.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var t=this.model.getModel("minorTick").get("splitNumber");return t>0&&t<100||(t=5),It(this.scale.getMinorTicks(t),function(e){return It(e,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this)},n.prototype.getViewLabels=function(){return function TM(n){return"category"===n.type?function(t){var e=t.getLabelModel(),o=t_(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:o.labelCategoryInterval}:o}(n):function(t){var e=t.scale.getTicks(),o=rv(t);return{labels:It(e,function(i,a){return{level:i.level,formattedLabel:o(i,a),rawLabel:t.scale.getLabel(i),tickValue:i.value}})}}(n)}(this).labels},n.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},n.prototype.getTickModel=function(){return this.model.getModel("axisTick")},n.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),o=e[1]-e[0]+(this.onBand?1:0);0===o&&(o=1);var i=Math.abs(t[1]-t[0]);return Math.abs(i)/o},n.prototype.calculateCategoryInterval=function(){return function(t){var ye,_e,e=(_e=(ye=t).getLabelModel(),{axisRotate:ye.getRotate?ye.getRotate():ye.isHorizontal&&!ye.isHorizontal()?90:0,labelRotate:_e.get("rotate")||0,font:_e.getFont()}),o=rv(t),i=(e.axisRotate-e.labelRotate)/180*Math.PI,a=t.scale,u=a.getExtent(),c=a.count();if(u[1]-u[0]<1)return 0;var f=1;c>40&&(f=Math.max(1,Math.floor(c/40)));for(var h=u[0],m=t.dataToCoord(h+1)-t.dataToCoord(h),y=Math.abs(m*Math.cos(i)),_=Math.abs(m*Math.sin(i)),S=0,k=0;h<=u[1];h+=f){var A,E=zs(o({value:h}),e.font,"center","top");A=1.3*E.height,S=Math.max(S,1.3*E.width,7),k=Math.max(k,A,7)}var N=S/y,z=k/_;isNaN(N)&&(N=1/0),isNaN(z)&&(z=1/0);var F=Math.max(0,Math.floor(Math.min(N,z))),q=h1(t.model),X=t.getExtent(),ee=q.lastAutoInterval,ie=q.lastTickCount;return null!=ee&&null!=ie&&Math.abs(ee-F)<=1&&Math.abs(ie-c)<=1&&ee>F&&q.axisExtent0===X[0]&&q.axisExtent1===X[1]?F=ee:(q.lastTickCount=c,q.lastAutoInterval=F,q.axisExtent0=X[0],q.axisExtent1=X[1]),F}(this)},n}();function r_(n,t){var e=(n[1]-n[0])/t/2;n[0]+=e,n[1]-=e}var Ng=2*Math.PI,Ph=Ya.CMD,zC=["top","right","bottom","left"];function DM(n,t,e,o,i){var a=e.width,u=e.height;switch(n){case"top":o.set(e.x+a/2,e.y-t),i.set(0,-1);break;case"bottom":o.set(e.x+a/2,e.y+u+t),i.set(0,1);break;case"left":o.set(e.x-t,e.y+u/2),i.set(-1,0);break;case"right":o.set(e.x+a+t,e.y+u/2),i.set(1,0)}}function s2(n,t,e,o,i,a,u,c,f){u-=n,c-=t;var h=Math.sqrt(u*u+c*c),m=(u/=h)*e+n,y=(c/=h)*e+t;if(Math.abs(o-i)%Ng<1e-4)return f[0]=m,f[1]=y,h-e;if(a){var _=o;o=Fa(i),i=Fa(_)}else o=Fa(o),i=Fa(i);o>i&&(i+=Ng);var S=Math.atan2(c,u);if(S<0&&(S+=Ng),S>=o&&S<=i||S+Ng>=o&&S+Ng<=i)return f[0]=m,f[1]=y,h-e;var k=e*Math.cos(o)+n,D=e*Math.sin(o)+t,A=e*Math.cos(i)+n,E=e*Math.sin(i)+t,N=(k-u)*(k-u)+(D-c)*(D-c),z=(A-u)*(A-u)+(E-c)*(E-c);return N<z?(f[0]=k,f[1]=D,Math.sqrt(N)):(f[0]=A,f[1]=E,Math.sqrt(z))}function o_(n,t,e,o,i,a,u,c){var f=i-n,h=a-t,m=e-n,y=o-t,_=Math.sqrt(m*m+y*y),S=(f*(m/=_)+h*(y/=_))/_;c&&(S=Math.min(Math.max(S,0),1));var k=u[0]=n+(S*=_)*m,D=u[1]=t+S*y;return Math.sqrt((k-i)*(k-i)+(D-a)*(D-a))}function FC(n,t,e,o,i,a,u){e<0&&(n+=e,e=-e),o<0&&(t+=o,o=-o);var c=n+e,f=t+o,h=u[0]=Math.min(Math.max(i,n),c),m=u[1]=Math.min(Math.max(a,t),f);return Math.sqrt((h-i)*(h-i)+(m-a)*(m-a))}var md=[];function u2(n,t,e){var o=FC(t.x,t.y,t.width,t.height,n.x,n.y,md);return e.set(md[0],md[1]),o}function AM(n,t,e){for(var o,i,a=0,u=0,c=0,f=0,h=1/0,m=t.data,y=n.x,_=n.y,S=0;S<m.length;){var k=m[S++];1===S&&(c=a=m[S],f=u=m[S+1]);var D=h;switch(k){case Ph.M:a=c=m[S++],u=f=m[S++];break;case Ph.L:D=o_(a,u,m[S],m[S+1],y,_,md,!0),a=m[S++],u=m[S++];break;case Ph.C:D=Ca(a,u,m[S++],m[S++],m[S++],m[S++],m[S],m[S+1],y,_,md),a=m[S++],u=m[S++];break;case Ph.Q:D=O_(a,u,m[S++],m[S++],m[S],m[S+1],y,_,md),a=m[S++],u=m[S++];break;case Ph.A:var A=m[S++],E=m[S++],N=m[S++],z=m[S++],F=m[S++],q=m[S++];S+=1;var X=!!(1-m[S++]);o=Math.cos(F)*N+A,i=Math.sin(F)*z+E,S<=1&&(c=o,f=i),D=s2(A,E,z,F,F+q,X,(y-A)*z/N+A,_,md),a=Math.cos(F+q)*N+A,u=Math.sin(F+q)*z+E;break;case Ph.R:D=FC(c=a=m[S++],f=u=m[S++],m[S++],m[S++],y,_,md);break;case Ph.Z:D=o_(a,u,c,f,y,_,md,!0),a=c,u=f}D<h&&(h=D,e.set(md[0],md[1]))}return h}var Ip=new mo,us=new mo,Es=new mo,vd=new mo,iv=new mo;function Xw(n,t){if(n){var e=n.getTextGuideLine(),o=n.getTextContent();if(o&&e){var i=n.textGuideLineConfig||{},a=[[0,0],[0,0],[0,0]],u=i.candidates||zC,c=o.getBoundingRect().clone();c.applyTransform(o.getComputedTransform());var f=1/0,h=i.anchor,m=n.getComputedTransform(),y=m&&Ut([],m),_=t.get("length2")||0;h&&Es.copy(h);for(var S=0;S<u.length;S++){DM(u[S],0,c,Ip,vd),mo.scaleAndAdd(us,Ip,vd,_),us.transform(y);var k=n.getBoundingRect(),D=h?h.distance(us):n instanceof Do?AM(us,n.path,Es):u2(us,k,Es);D<f&&(f=D,us.transform(m),Es.transform(m),Es.toArray(a[0]),us.toArray(a[1]),Ip.toArray(a[2]))}Zw(a,t.get("minTurnAngle")),e.setShape({points:a})}}}var p1=[],Bf=new mo;function Zw(n,t){if(t<=180&&t>0){t=t/180*Math.PI,Ip.fromArray(n[0]),us.fromArray(n[1]),Es.fromArray(n[2]),mo.sub(vd,Ip,us),mo.sub(iv,Es,us);var e=vd.len(),o=iv.len();if(!(e<.001||o<.001)){vd.scale(1/e),iv.scale(1/o);var i=vd.dot(iv);if(Math.cos(t)<i){var a=o_(us.x,us.y,Es.x,Es.y,Ip.x,Ip.y,p1,!1);Bf.fromArray(p1),Bf.scaleAndAdd(iv,a/Math.tan(Math.PI-t));var u=Es.x!==us.x?(Bf.x-us.x)/(Es.x-us.x):(Bf.y-us.y)/(Es.y-us.y);if(isNaN(u))return;u<0?mo.copy(Bf,us):u>1&&mo.copy(Bf,Es),Bf.toArray(n[1])}}}}function X0(n,t,e){if(e<=180&&e>0){e=e/180*Math.PI,Ip.fromArray(n[0]),us.fromArray(n[1]),Es.fromArray(n[2]),mo.sub(vd,us,Ip),mo.sub(iv,Es,us);var o=vd.len(),i=iv.len();if(!(o<.001||i<.001)&&(vd.scale(1/o),iv.scale(1/i),vd.dot(t)<Math.cos(e))){var a=o_(us.x,us.y,Es.x,Es.y,Ip.x,Ip.y,p1,!1);Bf.fromArray(p1);var u=Math.PI/2,c=u+Math.acos(iv.dot(t))-e;if(c>=u)mo.copy(Bf,Es);else{Bf.scaleAndAdd(iv,a/Math.tan(Math.PI/2-c));var f=Es.x!==us.x?(Bf.x-us.x)/(Es.x-us.x):(Bf.y-us.y)/(Es.y-us.y);if(isNaN(f))return;f<0?mo.copy(Bf,us):f>1&&mo.copy(Bf,Es)}Bf.toArray(n[1])}}}function IM(n,t,e,o){var i="normal"===e,a=i?n:n.ensureState(e);a.ignore=t;var u=o.get("smooth");u&&!0===u&&(u=.3),a.shape=a.shape||{},u>0&&(a.shape.smooth=u);var c=o.getModel("lineStyle").getLineStyle();i?n.useStyle(c):a.style=c}function Z0(n,t){var e=t.smooth,o=t.points;if(o)if(n.moveTo(o[0][0],o[0][1]),e>0&&o.length>=3){var i=Kn(o[0],o[1]),a=Kn(o[1],o[2]);if(!i||!a)return n.lineTo(o[1][0],o[1][1]),void n.lineTo(o[2][0],o[2][1]);var u=Math.min(i,a)*e,c=Mn([],o[1],o[0],u/i),f=Mn([],o[1],o[2],u/a),h=Mn([],c,f,.5);n.bezierCurveTo(c[0],c[1],c[0],c[1],h[0],h[1]),n.bezierCurveTo(f[0],f[1],f[0],f[1],o[2][0],o[2][1])}else for(var m=1;m<o.length;m++)n.lineTo(o[m][0],o[m][1])}function g1(n,t,e){var o=n.getTextGuideLine(),i=n.getTextContent();if(i){for(var a=t.normal,u=a.get("show"),c=i.ignore,f=0;f<Qp.length;f++){var h=Qp[f],m=t[h],y="normal"===h;if(m){var _=m.get("show");if((y?c:_n(i.states[h]&&i.states[h].ignore,c))||!_n(_,u)){var S=y?o:o&&o.states[h];S&&(S.ignore=!0);continue}o||(o=new ou,n.setTextGuideLine(o),y||!c&&u||IM(o,!0,"normal",t.normal),n.stateProxy&&(o.stateProxy=n.stateProxy)),IM(o,!1,h,m)}}if(o){ht(o.style,e),o.style.fill=null;var k=a.get("showAbove");(n.textGuideLineConfig=n.textGuideLineConfig||{}).showAbove=k||!1,o.buildPath=Z0}}else o&&n.removeTextGuideLine()}function Kw(n,t){for(var e={normal:n.getModel(t=t||"labelLine")},o=0;o<Va.length;o++){var i=Va[o];e[i]=n.getModel([i,t])}return e}function K0(n){for(var t=[],e=0;e<n.length;e++){var o=n[e];if(!o.defaultAttr.ignore){var i=o.label,a=i.getComputedTransform(),u=i.getBoundingRect(),c=!a||a[1]<1e-5&&a[2]<1e-5,f=i.style.margin||0,h=u.clone();h.applyTransform(a),h.x-=f/2,h.y-=f/2,h.width+=f,h.height+=f;var m=c?new sg(u,a):null;t.push({label:i,labelLine:o.labelLine,rect:h,localRect:u,obb:m,priority:o.priority,defaultAttr:o.defaultAttr,layoutOption:o.computedLayoutOption,axisAligned:c,transform:a})}}return t}function VC(n,t,e,o,i,a){var u=n.length;if(!(u<2)){n.sort(function(ee,ie){return ee.rect[t]-ie.rect[t]});for(var c,f=0,h=!1,m=0,y=0;y<u;y++){var _=n[y],S=_.rect;(c=S[t]-f)<0&&(S[t]-=c,_.label[t]-=c,h=!0),m+=Math.max(-c,0),f=S[t]+S[e]}m>0&&a&&F(-m/u,0,u);var k,D,A=n[0],E=n[u-1];return N(),k<0&&q(-k,.8),D<0&&q(D,.8),N(),z(k,D,1),z(D,k,-1),N(),k<0&&X(-k),D<0&&X(D),h}function N(){k=A.rect[t]-o,D=i-E.rect[t]-E.rect[e]}function z(ee,ie,ye){if(ee<0){var _e=Math.min(ie,-ee);if(_e>0){F(_e*ye,0,u);var Se=_e+ee;Se<0&&q(-Se*ye,1)}else q(-ee*ye,1)}}function F(ee,ie,ye){0!==ee&&(h=!0);for(var _e=ie;_e<ye;_e++){var Se=n[_e];Se.rect[t]+=ee,Se.label[t]+=ee}}function q(ee,ie){for(var ye=[],_e=0,Se=1;Se<u;Se++){var Ae=n[Se-1].rect,Fe=Math.max(n[Se].rect[t]-Ae[t]-Ae[e],0);ye.push(Fe),_e+=Fe}if(_e){var Xe=Math.min(Math.abs(ee)/_e,ie);if(ee>0)for(Se=0;Se<u-1;Se++)F(ye[Se]*Xe,0,Se+1);else for(Se=u-1;Se>0;Se--)F(-ye[Se-1]*Xe,Se,u)}}function X(ee){var ie=ee<0?-1:1;ee=Math.abs(ee);for(var ye=Math.ceil(ee/(u-1)),_e=0;_e<u-1;_e++)if(ie>0?F(ye,0,_e+1):F(-ye,u-_e-1,u),(ee-=ye)<=0)return}}function yd(n,t,e,o){return VC(n,"y","height",t,e,o)}function OM(n){var t=[];n.sort(function(D,A){return A.priority-D.priority});var e=new To(0,0,0,0);function o(D){if(!D.ignore){var A=D.ensureState("emphasis");null==A.ignore&&(A.ignore=!1)}D.ignore=!0}for(var i=0;i<n.length;i++){var a=n[i],u=a.axisAligned,c=a.localRect,f=a.transform,h=a.label,m=a.labelLine;e.copy(a.rect),e.width-=.1,e.height-=.1,e.x+=.05,e.y+=.05;for(var y=a.obb,_=!1,S=0;S<t.length;S++){var k=t[S];if(e.intersect(k.rect)){if(u&&k.axisAligned){_=!0;break}if(k.obb||(k.obb=new sg(k.localRect,k.transform)),y||(y=new sg(c,f)),y.intersect(k.obb)){_=!0;break}}}_?(o(h),m&&o(m)):(h.attr("ignore",a.defaultAttr.ignore),m&&m.attr("ignore",a.defaultAttr.labelGuideIgnore),t.push(a))}}function l2(n){if(n){for(var t=[],e=0;e<n.length;e++)t.push(n[e].slice());return t}}function c2(n,t){var e=n.label,o=t&&t.getTextGuideLine();return{dataIndex:n.dataIndex,dataType:n.dataType,seriesIndex:n.seriesModel.seriesIndex,text:n.label.style.text,rect:n.hostRect,labelRect:n.rect,align:e.style.align,verticalAlign:e.style.verticalAlign,labelLinePoints:l2(o&&o.shape.points)}}var EM=["align","verticalAlign","width","height","fontSize"],rh=new Bi,HC=Qo(),f2=Qo();function $w(n,t,e){for(var o=0;o<e.length;o++){var i=e[o];null!=t[i]&&(n[i]=t[i])}}var m1=["x","y","rotation"],d2=function(){function n(){this._labelList=[],this._chartViewList=[]}return n.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},n.prototype._addLabel=function(t,e,o,i,a){var u=i.style,c=i.__hostTarget.textConfig||{},f=i.getComputedTransform(),h=i.getBoundingRect().plain();To.applyTransform(h,h,f),f?rh.setLocalTransform(f):(rh.x=rh.y=rh.rotation=rh.originX=rh.originY=0,rh.scaleX=rh.scaleY=1);var m,y=i.__hostTarget;if(y){m=y.getBoundingRect().plain();var _=y.getComputedTransform();To.applyTransform(m,m,_)}var S=m&&y.getTextGuideLine();this._labelList.push({label:i,labelLine:S,seriesModel:o,dataIndex:t,dataType:e,layoutOption:a,computedLayoutOption:null,rect:h,hostRect:m,priority:m?m.width*m.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:S&&S.ignore,x:rh.x,y:rh.y,scaleX:rh.scaleX,scaleY:rh.scaleY,rotation:rh.rotation,style:{x:u.x,y:u.y,align:u.align,verticalAlign:u.verticalAlign,width:u.width,height:u.height,fontSize:u.fontSize},cursor:i.cursor,attachedPos:c.position,attachedRot:c.rotation}})},n.prototype.addLabelsOfSeries=function(t){var e=this;this._chartViewList.push(t);var o=t.__model,i=o.get("labelLayout");(hn(i)||Zn(i).length)&&t.group.traverse(function(a){if(a.ignore)return!0;var u=a.getTextContent(),c=fo(a);u&&!u.disableLabelLayout&&e._addLabel(c.dataIndex,c.dataType,o,u,i)})},n.prototype.updateLayoutConfig=function(t){var e=t.getWidth(),o=t.getHeight();function i(E,N){return function(){Xw(E,N)}}for(var a=0;a<this._labelList.length;a++){var u=this._labelList[a],c=u.label,f=c.__hostTarget,h=u.defaultAttr,m=void 0;m=(m=hn(u.layoutOption)?u.layoutOption(c2(u,f)):u.layoutOption)||{},u.computedLayoutOption=m;var y=Math.PI/180;f&&f.setTextConfig({local:!1,position:null!=m.x||null!=m.y?null:h.attachedPos,rotation:null!=m.rotate?m.rotate*y:h.attachedRot,offset:[m.dx||0,m.dy||0]});var _=!1;if(null!=m.x?(c.x=Qn(m.x,e),c.setStyle("x",0),_=!0):(c.x=h.x,c.setStyle("x",h.style.x)),null!=m.y?(c.y=Qn(m.y,o),c.setStyle("y",0),_=!0):(c.y=h.y,c.setStyle("y",h.style.y)),m.labelLinePoints){var S=f.getTextGuideLine();S&&(S.setShape({points:m.labelLinePoints}),_=!1)}HC(c).needsUpdateLabelLine=_,c.rotation=null!=m.rotate?m.rotate*y:h.rotation,c.scaleX=h.scaleX,c.scaleY=h.scaleY;for(var k=0;k<EM.length;k++){var D=EM[k];c.setStyle(D,null!=m[D]?m[D]:h.style[D])}if(m.draggable){if(c.draggable=!0,c.cursor="move",f){var A=u.seriesModel;null!=u.dataIndex&&(A=u.seriesModel.getData(u.dataType).getItemModel(u.dataIndex)),c.on("drag",i(f,A.getModel("labelLine")))}}else c.off("drag"),c.cursor=h.cursor}},n.prototype.layout=function(t){var o=t.getWidth(),i=t.getHeight(),a=K0(this._labelList),u=Lr(a,function(f){return"shiftX"===f.layoutOption.moveOverlap}),c=Lr(a,function(f){return"shiftY"===f.layoutOption.moveOverlap});VC(u,"x","width",0,o,void 0),yd(c,0,i),OM(Lr(a,function(f){return f.layoutOption.hideOverlap}))},n.prototype.processLabelsOverall=function(){var t=this;Te(this._chartViewList,function(e){var o=e.__model,i=e.ignoreLabelLineUpdate,a=o.isAnimationEnabled();e.group.traverse(function(u){if(u.ignore&&!u.forceLabelAnimation)return!0;var c=!i,f=u.getTextContent();!c&&f&&(c=HC(f).needsUpdateLabelLine),c&&t._updateLabelLine(u,o),a&&t._animateLabels(u,o)})})},n.prototype._updateLabelLine=function(t,e){var o=t.getTextContent(),i=fo(t),a=i.dataIndex;if(o&&null!=a){var u=e.getData(i.dataType),c=u.getItemModel(a),f={},h=u.getItemVisual(a,"style"),m=u.getVisual("drawType");f.stroke=h[m];var y=c.getModel("labelLine");g1(t,Kw(c),f),Xw(t,y)}},n.prototype._animateLabels=function(t,e){var o=t.getTextContent(),i=t.getTextGuideLine();if(o&&(t.forceLabelAnimation||!o.ignore&&!o.invisible&&!t.disableLabelAnimation&&!Sm(t))){var a=(k=HC(o)).oldLayout,u=fo(t),c=u.dataIndex,f={x:o.x,y:o.y,rotation:o.rotation},h=e.getData(u.dataType);if(a){o.attr(a);var m=t.prevStates;m&&(jt(m,"select")>=0&&o.attr(k.oldLayoutSelect),jt(m,"emphasis")>=0&&o.attr(k.oldLayoutEmphasis)),io(o,f,e,c)}else if(o.attr(f),!mp(o).valueAnimation){var y=_n(o.style.opacity,1);o.style.opacity=0,_a(o,{style:{opacity:y}},e,c)}if(k.oldLayout=f,o.states.select){var _=k.oldLayoutSelect={};$w(_,f,m1),$w(_,o.states.select,m1)}if(o.states.emphasis){var S=k.oldLayoutEmphasis={};$w(S,f,m1),$w(S,o.states.emphasis,m1)}f0(o,c,h,e,e)}if(i&&!i.ignore&&!i.invisible){a=(k=f2(i)).oldLayout;var k,D={points:i.shape.points};a?(i.attr({shape:a}),io(i,{shape:D},e)):(i.setShape(D),i.style.strokePercent=0,_a(i,{style:{strokePercent:1}},e)),k.oldLayout=D}},n}(),Jw=Qo(),i_=Math.sin,v1=Math.cos,y1=Math.PI,b1=2*Math.PI,WC=180/y1,GC=function(){function n(){}return n.prototype.reset=function(t){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,t||4)},n.prototype.moveTo=function(t,e){this._add("M",t,e)},n.prototype.lineTo=function(t,e){this._add("L",t,e)},n.prototype.bezierCurveTo=function(t,e,o,i,a,u){this._add("C",t,e,o,i,a,u)},n.prototype.quadraticCurveTo=function(t,e,o,i){this._add("Q",t,e,o,i)},n.prototype.arc=function(t,e,o,i,a,u){this.ellipse(t,e,o,o,0,i,a,u)},n.prototype.ellipse=function(t,e,o,i,a,u,c,f){var k,h=c-u,m=!f,y=Math.abs(h),_=Na(y-b1)||(m?h>=b1:-h>=b1),S=h>0?h%b1:h%b1+b1;k=!!_||!Na(y)&&S>=y1==!!m;var D=t+o*v1(u),A=e+i*i_(u);this._start&&this._add("M",D,A);var E=Math.round(a*WC);if(_){var N=1/this._p,z=(m?1:-1)*(b1-N);this._add("A",o,i,E,1,+m,t+o*v1(u+z),e+i*i_(u+z)),N>.01&&this._add("A",o,i,E,0,+m,D,A)}else{var F=t+o*v1(c),q=e+i*i_(c);this._add("A",o,i,E,+k,+m,F,q)}},n.prototype.rect=function(t,e,o,i){this._add("M",t,e),this._add("l",o,0),this._add("l",0,i),this._add("l",-o,0),this._add("Z")},n.prototype.closePath=function(){this._d.length>0&&this._add("Z")},n.prototype._add=function(t,e,o,i,a,u,c,f,h){for(var m=[],y=this._p,_=1;_<arguments.length;_++){var S=arguments[_];if(isNaN(S))return void(this._invalid=!0);m.push(Math.round(S*y)/y)}this._d.push(t+m.join(" ")),this._start="Z"===t},n.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},n.prototype.getStr=function(){return this._str},n}(),a_="none",h2=Math.round,UC=["lineCap","miterLimit","lineJoin"],PM=It(UC,function(n){return"stroke-"+n.toLowerCase()}),Ec="http://www.w3.org/2000/svg",RM="http://www.w3.org/1999/xlink";function jC(n){return document.createElementNS(Ec,n)}function Hl(n,t,e,o,i){return{tag:n,attrs:e||{},children:o,text:i,key:t}}function Qw(n,t){var e=(t=t||{}).newline?"\n":"";return function o(i){var a=i.children,u=i.tag,f=i.text;return function(h,m){var y=[];if(m)for(var _ in m){var S=m[_],k=_;!1!==S&&(!0!==S&&null!=S&&(k+='="'+S+'"'),y.push(k))}return"<"+h+" "+y.join(" ")+">"}(u,i.attrs)+("style"!==u?Ea(f):f||"")+(a?""+e+It(a,function(h){return o(h)}).join(e)+e:"")+"</"+u+">"}(n)}function qC(n){return{zrId:n,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function YC(n,t,e,o){return Hl("svg","root",{width:n,height:t,xmlns:Ec,"xmlns:xlink":RM,version:"1.1",baseProfile:"full",viewBox:!!o&&"0 0 "+n+" "+t},e)}var eS={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},$0="transform-origin";function J0(n,t,e){var o=Pe({},n.shape);Pe(o,t),n.buildPath(e,o);var i=new GC;return i.reset(vi(n)),e.rebuildPath(i,1),i.generateStr(),i.getStr()}function $D(n,t){var e=t.originX,o=t.originY;(e||o)&&(n[$0]=e+"px "+o+"px")}var g2={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function LM(n,t){var e=t.zrId+"-ani-"+t.cssAnimIdx++;return t.cssAnims[e]=n,e}function s_(n){return Un(n)?eS[n]?"cubic-bezier("+eS[n]+")":Yl(n)?n:"":""}function tS(n,t,e,o){var i=n.animators,a=i.length,u=[];if(n instanceof Sh){var c=function(N,z,F){var q,X,ie={};if(Te(N.shape.paths,function(_e){var Se=qC(F.zrId);Se.animation=!0,tS(_e,{},Se,!0);var Ae=Se.cssAnims,Fe=Se.cssNodes,Xe=Zn(Ae),nt=Xe.length;if(nt){var it=Ae[X=Xe[nt-1]];for(var ut in it){var mt=it[ut];ie[ut]=ie[ut]||{d:""},ie[ut].d+=mt.d||""}for(var Ot in Fe){var Pt=Fe[Ot].animation;Pt.indexOf(X)>=0&&(q=Pt)}}}),q){z.d=!1;var ye=LM(ie,F);return q.replace(X,ye)}}(n,t,e);if(c)u.push(c);else if(!a)return}else if(!a)return;for(var f={},h=0;h<a;h++){var m=i[h],y=[m.getMaxTime()/1e3+"s"],_=s_(m.getClip().easing),S=m.getDelay();y.push(_||"linear"),S&&y.push(S/1e3+"s"),m.getLoop()&&y.push("infinite");var k=y.join(" ");f[k]=f[k]||[k,[]],f[k][1].push(m)}function D(N){var z,F=N[1],q=F.length,X={},ee={},ie={},ye="animation-timing-function";function _e(dr,nr,br){for(var ur=dr.getTracks(),kr=dr.getMaxTime(),Br=0;Br<ur.length;Br++){var Ro=ur[Br];if(Ro.needsAnimate()){var Zo=Ro.keyframes,wa=Ro.propName;if(br&&(wa=br(wa)),wa)for(var Si=0;Si<Zo.length;Si++){var Hi=Zo[Si],oa=Math.round(Hi.time/kr*100)+"%",qs=s_(Hi.easing),su=Hi.rawValue;(Un(su)||hr(su))&&(nr[oa]=nr[oa]||{},nr[oa][wa]=Hi.rawValue,qs&&(nr[oa][ye]=qs))}}}}for(var Se=0;Se<q;Se++)(Gt=(Pt=F[Se]).targetName)?"shape"===Gt&&_e(Pt,ee):!o&&_e(Pt,X);for(var Ae in X){var Fe={};Gr(Fe,n),Pe(Fe,X[Ae]);var Xe=fh(Fe),nt=X[Ae][ye];ie[Ae]=Xe?{transform:Xe}:{},$D(ie[Ae],Fe),nt&&(ie[Ae][ye]=nt)}var it=!0;for(var Ae in ee){ie[Ae]=ie[Ae]||{};var ut=!z;nt=ee[Ae][ye],ut&&(z=new Ya);var mt=z.len();z.reset(),ie[Ae].d=J0(n,ee[Ae],z);var Ot=z.len();if(!ut&&mt!==Ot){it=!1;break}nt&&(ie[Ae][ye]=nt)}if(!it)for(var Ae in ie)delete ie[Ae].d;if(!o)for(Se=0;Se<q;Se++){var Pt,Gt;"style"===(Gt=(Pt=F[Se]).targetName)&&_e(Pt,ie,function(dr){return g2[dr]})}var kn,tr=Zn(ie),Xt=!0;for(Se=1;Se<tr.length;Se++){var zn=tr[Se-1];if(ie[zn][$0]!==ie[tr[Se]][$0]){Xt=!1;break}kn=ie[zn][$0]}if(Xt&&kn){for(var Ae in ie)ie[Ae][$0]&&delete ie[Ae][$0];t[$0]=kn}if(Lr(tr,function(dr){return Zn(ie[dr]).length>0}).length)return LM(ie,e)+" "+N[0]+" both"}for(var A in f)(c=D(f[A]))&&u.push(c);if(u.length){var E=e.zrId+"-cls-"+e.cssClassIdx++;e.cssNodes["."+E]={animation:u.join(",")},t.class=E}}var u_=Math.round;function XC(n){return n&&Un(n.src)}function NM(n){return n&&hn(n.toDataURL)}function bd(n,t,e,o){(function p2(n,t,e,o){var z,i=null==t.opacity?1:t.opacity;if(e instanceof bu)n("opacity",i);else{if(null!=(z=t.fill)&&z!==a_){var a=hl(t.fill);n("fill",a.color);var u=null!=t.fillOpacity?t.fillOpacity*a.opacity*i:a.opacity*i;(o||u<1)&&n("fill-opacity",u)}else n("fill",a_);if(function(N){var z=N.stroke;return null!=z&&z!==a_}(t)){var c=hl(t.stroke);n("stroke",c.color);var f=t.strokeNoScale?e.getLineScale():1,h=f?(t.lineWidth||0)/f:0,m=null!=t.strokeOpacity?t.strokeOpacity*c.opacity*i:c.opacity*i,y=t.strokeFirst;if((o||1!==h)&&n("stroke-width",h),(o||y)&&n("paint-order",y?"stroke":"fill"),(o||m<1)&&n("stroke-opacity",m),t.lineDash){var _=Ex(e),S=_[0],k=_[1];S&&(k=h2(k||0),n("stroke-dasharray",S.join(",")),(k||o)&&n("stroke-dashoffset",k))}else o&&n("stroke-dasharray",a_);for(var D=0;D<UC.length;D++){var A=UC[D];if(o||t[A]!==am[A]){var E=t[A]||am[A];E&&n(PM[D],E)}}}else o&&n("stroke",a_)}})(function(i,a){var u="fill"===i||"stroke"===i;u&&Gf(a)?FM(t,n,i,o):u&&Uh(a)?VM(e,n,i,o):n[i]=a},t,e,!1),function(i,a,u){var q,c=i.style;if((q=c)&&(q.shadowBlur||q.shadowOffsetX||q.shadowOffsetY)){var f=function(q){var X=q.style,ee=q.getGlobalScale();return[X.shadowColor,(X.shadowBlur||0).toFixed(2),(X.shadowOffsetX||0).toFixed(2),(X.shadowOffsetY||0).toFixed(2),ee[0],ee[1]].join(",")}(i),h=u.shadowCache,m=h[f];if(!m){var y=i.getGlobalScale(),_=y[0],S=y[1];if(!_||!S)return;var k=c.shadowOffsetX||0,D=c.shadowOffsetY||0,A=c.shadowBlur,E=hl(c.shadowColor),N=E.opacity,z=E.color,F=A/2/_+" "+A/2/S;m=u.zrId+"-s"+u.shadowIdx++,u.defs[m]=Hl("filter",m,{id:m,x:"-100%",y:"-100%",width:"300%",height:"300%"},[Hl("feDropShadow","",{dx:k/_,dy:D/S,stdDeviation:F,"flood-color":z,"flood-opacity":N})]),h[f]=m}a.filter=Zu(m)}}(e,n,o)}function l_(n){return Na(n[0]-1)&&Na(n[1])&&Na(n[2])&&Na(n[3]-1)}function nS(n,t,e){if(t&&(!Na((i=t)[4])||!Na(i[5])||!l_(t))){var o=e?10:1e4;n.transform=l_(t)?"translate("+u_(t[4]*o)/o+" "+u_(t[5]*o)/o+")":function(i){return"matrix("+wv(i[0])+","+wv(i[1])+","+wv(i[2])+","+wv(i[3])+","+Dn(i[4])+","+Dn(i[5])+")"}(t)}var i}function ZC(n,t,e){for(var o=n.points,i=[],a=0;a<o.length;a++)i.push(u_(o[a][0]*e)/e),i.push(u_(o[a][1]*e)/e);t.points=i.join(" ")}function rS(n){return!n.smooth}var KC,BM,m2={circle:[(KC=["cx","cy","r"],BM=It(KC,function(n){return"string"==typeof n?[n,n]:n}),function(n,t,e){for(var o=0;o<BM.length;o++){var i=BM[o],a=n[i[0]];null!=a&&(t[i[1]]=u_(a*e)/e)}})],polyline:[ZC,rS],polygon:[ZC,rS]};function zM(n,t){var e=n.style,o=n.shape,i=m2[n.type],a={},u=t.animation,c="path",f=n.style.strokePercent,h=t.compress&&vi(n)||4;if(!i||t.willUpdate||i[1]&&!i[1](o)||u&&function(A){for(var E=A.animators,N=0;N<E.length;N++)if("shape"===E[N].targetName)return!0;return!1}(n)||f<1){var m=!n.path||n.shapeChanged();n.path||n.createPathProxy();var y=n.path;m&&(y.beginPath(),n.buildPath(y,n.shape),n.pathUpdated());var _=y.getVersion(),S=n,k=S.__svgPathBuilder;S.__svgPathVersion===_&&k&&f===S.__svgPathStrokePercent||(k||(k=S.__svgPathBuilder=new GC),k.reset(h),y.rebuildPath(k,f),k.generateStr(),S.__svgPathVersion=_,S.__svgPathStrokePercent=f),a.d=k.getStr()}else{c=n.type;var D=Math.pow(10,h);i[0](o,a,D)}return nS(a,n.transform),bd(a,e,n,t),t.animation&&tS(n,a,t),Hl(c,n.id+"",a)}function v2(n,t){return n instanceof Do?zM(n,t):n instanceof bu?function(e,o){var i=e.style,a=i.image;if(a&&!Un(a)&&(XC(a)?a=a.src:NM(a)&&(a=a.toDataURL())),a){var u=i.x||0,c=i.y||0,f={href:a,width:i.width,height:i.height};return u&&(f.x=u),c&&(f.y=c),nS(f,e.transform),bd(f,i,e,o),o.animation&&tS(e,f,o),Hl("image",e.id+"",f)}}(n,t):n instanceof $p?function(e,o){var D,A,E,i=e.style,a=i.text;if(null!=a&&(a+=""),a&&!isNaN(i.x)&&!isNaN(i.y)){var u=i.font||xe,c=i.x||0,f=(D=i.y||0,A=Dv(u),"top"===(E=i.textBaseline)?D+=A/2:"bottom"===E&&(D-=A/2),D),h={"dominant-baseline":"central","text-anchor":Xl[i.textAlign]||i.textAlign};if(Vs(i)){var m="",y=i.fontStyle,_=wc(i.fontSize);if(!parseFloat(_))return;var k=i.fontWeight;m+="font-size:"+_+";font-family:"+(i.fontFamily||K)+";",y&&"normal"!==y&&(m+="font-style:"+y+";"),k&&"normal"!==k&&(m+="font-weight:"+k+";"),h.style=m}else h.style="font: "+u;return a.match(/\s/)&&(h["xml:space"]="preserve"),c&&(h.x=c),f&&(h.y=f),nS(h,e.transform),bd(h,i,e,o),o.animation&&tS(e,h,o),Hl("text",e.id+"",h,void 0,a)}}(n,t):void 0}function FM(n,t,e,o){var i,a=n[e],u={gradientUnits:a.global?"userSpaceOnUse":"objectBoundingBox"};if(Lu(a))i="linearGradient",u.x1=a.x,u.y1=a.y,u.x2=a.x2,u.y2=a.y2;else{if(!Wf(a))return;i="radialGradient",u.cx=_n(a.x,.5),u.cy=_n(a.y,.5),u.r=_n(a.r,.5)}for(var c=a.colorStops,f=[],h=0,m=c.length;h<m;++h){var y=100*Dn(c[h].offset)+"%",_=hl(c[h].color),k=_.opacity,D={offset:y};D["stop-color"]=_.color,k<1&&(D["stop-opacity"]=k),f.push(Hl("stop",h+"",D))}var A=Qw(Hl(i,"",u,f)),E=o.gradientCache,N=E[A];N||(N=o.zrId+"-g"+o.gradientIdx++,E[A]=N,u.id=N,o.defs[N]=Hl(i,N,u,f)),t[e]=Zu(N)}function VM(n,t,e,o){var i,a=n.style[e],u=n.getBoundingRect(),c={},f=a.repeat,h="no-repeat"===f,m="repeat-x"===f,y="repeat-y"===f;if(jr(a)){var _=a.imageWidth,S=a.imageHeight,k=void 0,D=a.image;if(Un(D)?k=D:XC(D)?k=D.src:NM(D)&&(k=D.toDataURL()),"undefined"==typeof Image){var A="Image width/height must been given explictly in svg-ssr renderer.";go(_,A),go(S,A)}else if(null==_||null==S){var E=function(_e,Se){if(_e){var Ae=_e.elm,Fe=_||Se.width,Xe=S||Se.height;"pattern"===_e.tag&&(m?(Xe=1,Fe/=u.width):y&&(Fe=1,Xe/=u.height)),_e.attrs.width=Fe,_e.attrs.height=Xe,Ae&&(Ae.setAttribute("width",Fe),Ae.setAttribute("height",Xe))}},N=ca(k,null,n,function(_e){h||E(X,_e),E(i,_e)});N&&N.width&&N.height&&(_=_||N.width,S=S||N.height)}i=Hl("image","img",{href:k,width:_,height:S}),c.width=_,c.height=S}else a.svgElement&&(i=Re(a.svgElement),c.width=a.svgWidth,c.height=a.svgHeight);if(i){var z,F;h?z=F=1:m?(F=1,z=c.width/u.width):y?(z=1,F=c.height/u.height):c.patternUnits="userSpaceOnUse",null==z||isNaN(z)||(c.width=z),null==F||isNaN(F)||(c.height=F);var q=fh(a);q&&(c.patternTransform=q);var X=Hl("pattern","",c,[i]),ee=Qw(X),ie=o.patternCache,ye=ie[ee];ye||(ye=o.zrId+"-p"+o.patternIdx++,ie[ee]=ye,c.id=ye,X=o.defs[ye]=Hl("pattern",ye,c,[i])),t[e]=Zu(ye)}}function y2(n,t,e){var o=e.clipPathCache,i=e.defs,a=o[n.id];if(!a){var u={id:a=e.zrId+"-c"+e.clipPathIdx++};o[n.id]=a,i[a]=Hl("clipPath",a,u,[zM(n,e)])}t["clip-path"]=Zu(a)}function b2(n){return document.createTextNode(n)}function Bg(n,t,e){n.insertBefore(t,e)}function $C(n,t){n.removeChild(t)}function JC(n,t){n.appendChild(t)}function HM(n){return n.parentNode}function oS(n){return n.nextSibling}function WM(n,t){n.textContent=t}var x2=Hl("","");function QC(n){return void 0===n}function zf(n){return void 0!==n}function GM(n,t,e){for(var o={},i=t;i<=e;++i){var a=n[i].key;void 0!==a&&(o[a]=i)}return o}function wy(n,t){return n.tag===t.tag&&n.key===t.key}function iS(n){var t,e=n.children,o=n.tag;if(zf(o)){var i=n.elm=jC(o);if(jM(x2,n),tt(e))for(t=0;t<e.length;++t){var a=e[t];null!=a&&JC(i,iS(a))}else zf(n.text)&&!fr(n.text)&&JC(i,b2(n.text))}else n.elm=b2(n.text);return n.elm}function UM(n,t,e,o,i){for(;o<=i;++o){var a=e[o];null!=a&&Bg(n,iS(a),t)}}function av(n,t,e,o){for(;e<=o;++e){var i=t[e];null!=i&&(zf(i.tag)?$C(HM(i.elm),i.elm):$C(n,i.elm))}}function jM(n,t){var e,o=t.elm,i=n&&n.attrs||{},a=t.attrs||{};if(i!==a){for(e in a){var u=a[e];i[e]!==u&&(!0===u?o.setAttribute(e,""):!1===u?o.removeAttribute(e):120!==e.charCodeAt(0)?o.setAttribute(e,u):"xmlns:xlink"===e||"xmlns"===e?o.setAttributeNS("http://www.w3.org/2000/xmlns/",e,u):58===e.charCodeAt(3)?o.setAttributeNS("http://www.w3.org/XML/1998/namespace",e,u):58===e.charCodeAt(5)?o.setAttributeNS(RM,e,u):o.setAttribute(e,u))}for(e in i)e in a||o.removeAttribute(e)}}function c_(n,t){var e=t.elm=n.elm,o=n.children,i=t.children;n!==t&&(jM(n,t),QC(t.text)?zf(o)&&zf(i)?o!==i&&function(a,u,c){for(var f,h,m,y=0,_=0,S=u.length-1,k=u[0],D=u[S],A=c.length-1,E=c[0],N=c[A];y<=S&&_<=A;)null==k?k=u[++y]:null==D?D=u[--S]:null==E?E=c[++_]:null==N?N=c[--A]:wy(k,E)?(c_(k,E),k=u[++y],E=c[++_]):wy(D,N)?(c_(D,N),D=u[--S],N=c[--A]):wy(k,N)?(c_(k,N),Bg(a,k.elm,oS(D.elm)),k=u[++y],N=c[--A]):wy(D,E)?(c_(D,E),Bg(a,D.elm,k.elm),D=u[--S],E=c[++_]):(QC(f)&&(f=GM(u,y,S)),QC(h=f[E.key])||(m=u[h]).tag!==E.tag?Bg(a,iS(E),k.elm):(c_(m,E),u[h]=void 0,Bg(a,m.elm,k.elm)),E=c[++_]);(y<=S||_<=A)&&(y>S?UM(a,null==c[A+1]?null:c[A+1].elm,c,_,A):av(a,u,y,S))}(e,o,i):zf(i)?(zf(n.text)&&WM(e,""),UM(e,null,i,0,i.length-1)):zf(o)?av(e,o,0,o.length-1):zf(n.text)&&WM(e,""):n.text!==t.text&&(zf(o)&&av(e,o,0,o.length-1),WM(e,t.text)))}var JD=0,ek=function(){function n(t,e,o){if(this.type="svg",this.refreshHover=function(){},this.configLayer=function(){},this.storage=e,this._opts=o=Pe({},o),this.root=t,this._id="zr"+JD++,this._oldVNode=YC(o.width,o.height),t&&!o.ssr){var i=this._viewport=document.createElement("div");i.style.cssText="position:relative;overflow:hidden";var a=this._svgDom=this._oldVNode.elm=jC("svg");jM(null,this._oldVNode),i.appendChild(a),t.appendChild(i)}this.resize(o.width,o.height)}return n.prototype.getType=function(){return this.type},n.prototype.getViewportRoot=function(){return this._viewport},n.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},n.prototype.getSvgDom=function(){return this._svgDom},n.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style="position:absolute;left:0;top:0;user-select:none",function(e,o){if(wy(e,o))c_(e,o);else{var i=e.elm,a=HM(i);iS(o),null!==a&&(Bg(a,o.elm,oS(i)),av(a,[e],0,0))}}(this._oldVNode,t),this._oldVNode=t}},n.prototype.renderOneToVNode=function(t){return v2(t,qC(this._id))},n.prototype.renderToVNode=function(t){t=t||{};var e=this.storage.getDisplayList(!0),o=this._width,i=this._height,a=qC(this._id);a.animation=t.animation,a.willUpdate=t.willUpdate,a.compress=t.compress;var u=[],c=this._bgVNode=function(_,S,k,D){var A;if(k&&"none"!==k)if(A=Hl("rect","bg",{width:_,height:S,x:"0",y:"0",id:"0"}),Gf(k))FM({fill:k},A.attrs,"fill",D);else if(Uh(k))VM({style:{fill:k},dirty:Io,getBoundingRect:function(){return{width:_,height:S}}},A.attrs,"fill",D);else{var E=hl(k),z=E.opacity;A.attrs.fill=E.color,z<1&&(A.attrs["fill-opacity"]=z)}return A}(o,i,this._backgroundColor,a);c&&u.push(c);var f=t.compress?null:this._mainVNode=Hl("g","main",{},[]);this._paintList(e,a,f?f.children:u),f&&u.push(f);var _,S,D,A,E,N,z,h=It(Zn(a.defs),function(_){return a.defs[_]});if(h.length&&u.push(Hl("defs","defs",{},h)),t.animation){var m=(S=a.cssAnims,A=" {"+(D=({newline:!0}||{}).newline?"\n":""),E=D+"}",N=It(Zn(_=a.cssNodes),function(F){return F+A+It(Zn(_[F]),function(q){return q+":"+_[F][q]+";"}).join(D)+E}).join(D),z=It(Zn(S),function(F){return"@keyframes "+F+A+It(Zn(S[F]),function(q){return q+A+It(Zn(S[F][q]),function(X){var ee=S[F][q][X];return"d"===X&&(ee='path("'+ee+'")'),X+":"+ee+";"}).join(D)+E}).join(D)+E}).join(D),N||z?["<![CDATA[",N,z,"]]>"].join(D):"");if(m){var y=Hl("style","stl",{},[],m);u.push(y)}}return YC(o,i,u,t.useViewBox)},n.prototype.renderToString=function(t){return Qw(this.renderToVNode({animation:_n((t=t||{}).cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:_n(t.useViewBox,!0)}),{newline:!0})},n.prototype.setBackgroundColor=function(t){this._backgroundColor=t},n.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},n.prototype._paintList=function(t,e,o){for(var i,a,u=t.length,c=[],f=0,h=0,m=0;m<u;m++){var y=t[m];if(!y.invisible){var _=y.__clipPaths,S=_&&_.length||0,k=a&&a.length||0,D=void 0;for(D=Math.max(S-1,k-1);D>=0&&(!_||!a||_[D]!==a[D]);D--);for(var A=k-1;A>D;A--)i=c[--f-1];for(var E=D+1;E<S;E++){var N={};y2(_[E],N,e);var z=Hl("g","clip-g-"+h++,N,[]);(i?i.children:o).push(z),c[f++]=z,i=z}a=_;var F=v2(y,e);F&&(i?i.children:o).push(F)}}},n.prototype.resize=function(t,e){var o=this._opts,i=this.root,a=this._viewport;if(null!=t&&(o.width=t),null!=e&&(o.height=e),i&&a&&(a.style.display="none",t=T0(i,0,o),e=T0(i,1,o),a.style.display=""),this._width!==t||this._height!==e){if(this._width=t,this._height=e,a){var u=a.style;u.width=t+"px",u.height=e+"px"}if(Uh(this._backgroundColor))this.refresh();else{var c=this._svgDom;c&&(c.setAttribute("width",t),c.setAttribute("height",e));var f=this._bgVNode&&this._bgVNode.elm;f&&(f.setAttribute("width",t),f.setAttribute("height",e))}}},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},n.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},n.prototype.toDataURL=function(t){var e=this.renderToString(),o="data:image/svg+xml;";return t?(e=H1(e))&&o+"base64,"+e:o+"charset=UTF-8,"+encodeURIComponent(e)},n}();function w2(n,t,e){var o=ne.createCanvas(),i=t.getWidth(),a=t.getHeight(),u=o.style;return u&&(u.position="absolute",u.left="0",u.top="0",u.width=i+"px",u.height=a+"px",o.setAttribute("data-zr-dom-id",n)),o.width=i*e,o.height=a*e,o}var tk=function(n){function t(e,o,i){var a,u=n.call(this)||this;u.motionBlur=!1,u.lastFrameAlpha=.7,u.dpr=1,u.virtual=!1,u.config={},u.incremental=!1,u.zlevel=0,u.maxRepaintRectCount=5,u.__dirty=!0,u.__firstTimePaint=!0,u.__used=!1,u.__drawIndex=0,u.__startIndex=0,u.__endIndex=0,u.__prevStartIndex=null,u.__prevEndIndex=null,i=i||Ku,"string"==typeof e?a=w2(e,o,i):fr(e)&&(e=(a=e).id),u.id=e,u.dom=a;var c=a.style;return c&&(Qa(a),a.onselectstart=function(){return!1},c.padding="0",c.margin="0",c.borderWidth="0"),u.painter=o,u.dpr=i,u}return yt(t,n),t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var e=this.dpr;this.domBack=w2("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),1!==e&&this.ctxBack.scale(e,e)},t.prototype.createRepaintRects=function(e,o,i,a){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var u,c=[],f=this.maxRepaintRectCount,h=!1,m=new To(0,0,0,0);function y(N){if(N.isFinite()&&!N.isZero())if(0===c.length)(z=new To(0,0,0,0)).copy(N),c.push(z);else{for(var z,F=!1,q=1/0,X=0,ee=0;ee<c.length;++ee){var ie=c[ee];if(ie.intersect(N)){var ye=new To(0,0,0,0);ye.copy(ie),ye.union(N),c[ee]=ye,F=!0;break}if(h){m.copy(N),m.union(ie);var Ae=m.width*m.height-N.width*N.height-ie.width*ie.height;Ae<q&&(q=Ae,X=ee)}}h&&(c[X].union(N),F=!0),!F&&((z=new To(0,0,0,0)).copy(N),c.push(z)),h||(h=c.length>=f)}}for(var _=this.__startIndex;_<this.__endIndex;++_)if(D=e[_]){var S=D.shouldBePainted(i,a,!0,!0);(A=D.__isRendered&&(1&D.__dirty||!S)?D.getPrevPaintRect():null)&&y(A);var k=S&&(1&D.__dirty||!D.__isRendered)?D.getPaintRect():null;k&&y(k)}for(_=this.__prevStartIndex;_<this.__prevEndIndex;++_){var D,A;S=(D=o[_]).shouldBePainted(i,a,!0,!0),D&&(!S||!D.__zr)&&D.__isRendered&&(A=D.getPrevPaintRect())&&y(A)}do{for(u=!1,_=0;_<c.length;)if(c[_].isZero())c.splice(_,1);else{for(var E=_+1;E<c.length;)c[_].intersect(c[E])?(u=!0,c[_].union(c[E]),c.splice(E,1)):E++;_++}}while(u);return this._paintRects=c,c},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(e,o){var i=this.dpr,a=this.dom,u=a.style,c=this.domBack;u&&(u.width=e+"px",u.height=o+"px"),a.width=e*i,a.height=o*i,c&&(c.width=e*i,c.height=o*i,1!==i&&this.ctxBack.scale(i,i))},t.prototype.clear=function(e,o,i){var a=this.dom,u=this.ctx,c=a.width,f=a.height;o=o||this.clearColor;var h=this.motionBlur&&!e,m=this.lastFrameAlpha,y=this.dpr,_=this;h&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,c/y,f/y));var S=this.domBack;function k(D,A,E,N){if(u.clearRect(D,A,E,N),o&&"transparent"!==o){var z=void 0;bn(o)?(z=(o.global||o.__width===E&&o.__height===N)&&o.__canvasGradient||Kb(u,o,{x:0,y:0,width:E,height:N}),o.__canvasGradient=z,o.__width=E,o.__height=N):Qt(o)&&(o.scaleX=o.scaleX||y,o.scaleY=o.scaleY||y,z=jm(u,o,{dirty:function(){_.setUnpainted(),_.__painter.refresh()}})),u.save(),u.fillStyle=z||o,u.fillRect(D,A,E,N),u.restore()}h&&(u.save(),u.globalAlpha=m,u.drawImage(S,D,A,E,N),u.restore())}!i||h?k(0,0,c,f):i.length&&Te(i,function(D){k(D.x*y,D.y*y,D.width*y,D.height*y)})},t}(ho),x1=314159,aS=function(){function n(t,e,o,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var a=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=o=Pe({},o||{}),this.dpr=o.devicePixelRatio||Ku,this._singleCanvas=a,this.root=t,t.style&&(Qa(t),t.innerHTML=""),this.storage=e;var u=this._zlevelList;this._prevDisplayList=[];var S,k,D,c=this._layers;if(a){var f=t,h=f.width,m=f.height;null!=o.width&&(h=o.width),null!=o.height&&(m=o.height),this.dpr=o.devicePixelRatio||1,f.width=h*this.dpr,f.height=m*this.dpr,this._width=h,this._height=m;var y=new tk(f,this,this.dpr);y.__builtin__=!0,y.initContext(),c[314159]=y,y.zlevel=x1,u.push(x1),this._domRoot=t}else{this._width=T0(t,0,o),this._height=T0(t,1,o);var _=this._domRoot=(S=this._width,k=this._height,(D=document.createElement("div")).style.cssText=["position:relative","width:"+S+"px","height:"+k+"px","padding:0","margin:0","border-width:0"].join(";")+";",D);t.appendChild(_)}}return n.prototype.getType=function(){return"canvas"},n.prototype.isSingleCanvas=function(){return this._singleCanvas},n.prototype.getViewportRoot=function(){return this._domRoot},n.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},n.prototype.refresh=function(t){var e=this.storage.getDisplayList(!0),o=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,o,t,this._redrawId);for(var a=0;a<i.length;a++){var c=this._layers[i[a]];!c.__builtin__&&c.refresh&&c.refresh(0===a?this._backgroundColor:null)}return this._opts.useDirtyRect&&(this._prevDisplayList=e.slice()),this},n.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},n.prototype._paintHoverList=function(t){var e=t.length,o=this._hoverlayer;if(o&&o.clear(),e){for(var i,a={inHover:!0,viewWidth:this._width,viewHeight:this._height},u=0;u<e;u++){var c=t[u];c.__inHover&&(o||(o=this._hoverlayer=this.getLayer(1e5)),i||(i=o.ctx).save(),my(i,c,a,u===e-1))}i&&i.restore()}},n.prototype.getHoverLayer=function(){return this.getLayer(1e5)},n.prototype.paintOne=function(t,e){yw(t,e)},n.prototype._paintList=function(t,e,o,i){if(this._redrawId===i){o=o||!1,this._updateLayerStatus(t);var a=this._doPaintList(t,e,o),u=a.finished,c=a.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),c&&this._paintHoverList(t),u)this.eachLayer(function(h){h.afterBrush&&h.afterBrush()});else{var f=this;hc(function(){f._paintList(t,e,o,i)})}}},n.prototype._compositeManually=function(){var t=this.getLayer(x1).ctx,e=this._domRoot.width,o=this._domRoot.height;t.clearRect(0,0,e,o),this.eachBuiltinLayer(function(i){i.virtual&&t.drawImage(i.dom,0,0,e,o)})},n.prototype._doPaintList=function(t,e,o){for(var i=this,a=[],u=this._opts.useDirtyRect,c=0;c<this._zlevelList.length;c++){var h=this._layers[this._zlevelList[c]];h.__builtin__&&h!==this._hoverlayer&&(h.__dirty||o)&&a.push(h)}for(var m=!0,y=!1,_=function(D){var A,E=a[D],N=E.ctx,z=u&&E.createRepaintRects(t,e,S._width,S._height),F=o?E.__startIndex:E.__drawIndex,q=!o&&E.incremental&&Date.now,X=q&&Date.now(),ee=E.zlevel===S._zlevelList[0]?S._backgroundColor:null;if(E.__startIndex===E.__endIndex)E.clear(!1,ee,z);else if(F===E.__startIndex){var ie=t[F];ie.incremental&&ie.notClear&&!o||E.clear(!1,ee,z)}-1===F&&(console.error("For some unknown reason. drawIndex is -1"),F=E.__startIndex);var ye=function(Fe){var Xe={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(A=F;A<E.__endIndex;A++){var nt=t[A];if(nt.__inHover&&(y=!0),i._doPaintEl(nt,E,u,Fe,Xe,A===E.__endIndex-1),q&&Date.now()-X>15)break}Xe.prevElClipPaths&&N.restore()};if(z)if(0===z.length)A=E.__endIndex;else for(var _e=S.dpr,Se=0;Se<z.length;++Se){var Ae=z[Se];N.save(),N.beginPath(),N.rect(Ae.x*_e,Ae.y*_e,Ae.width*_e,Ae.height*_e),N.clip(),ye(Ae),N.restore()}else N.save(),ye(),N.restore();E.__drawIndex=A,E.__drawIndex<E.__endIndex&&(m=!1)},S=this,k=0;k<a.length;k++)_(k);return We.wxa&&Te(this._layers,function(D){D&&D.ctx&&D.ctx.draw&&D.ctx.draw()}),{finished:m,needsRefreshHover:y}},n.prototype._doPaintEl=function(t,e,o,i,a,u){var c=e.ctx;if(o){var f=t.getPaintRect();(!i||f&&f.intersect(i))&&(my(c,t,a,u),t.setPrevPaintRect(f))}else my(c,t,a,u)},n.prototype.getLayer=function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=x1);var o=this._layers[t];return o||((o=new tk("zr_"+t,this,this.dpr)).zlevel=t,o.__builtin__=!0,this._layerConfig[t]?Ve(o,this._layerConfig[t],!0):this._layerConfig[t-.01]&&Ve(o,this._layerConfig[t-.01],!0),e&&(o.virtual=e),this.insertLayer(t,o),o.initContext()),o},n.prototype.insertLayer=function(t,e){var m,o=this._layers,i=this._zlevelList,a=i.length,u=this._domRoot,c=null,f=-1;if(!o[t]&&(m=e)&&(m.__builtin__||"function"==typeof m.resize&&"function"==typeof m.refresh)){if(a>0&&t>i[0]){for(f=0;f<a-1&&!(i[f]<t&&i[f+1]>t);f++);c=o[i[f]]}if(i.splice(f+1,0,t),o[t]=e,!e.virtual)if(c){var h=c.dom;h.nextSibling?u.insertBefore(e.dom,h.nextSibling):u.appendChild(e.dom)}else u.firstChild?u.insertBefore(e.dom,u.firstChild):u.appendChild(e.dom);e.__painter=this}},n.prototype.eachLayer=function(t,e){for(var o=this._zlevelList,i=0;i<o.length;i++){var a=o[i];t.call(e,this._layers[a],a)}},n.prototype.eachBuiltinLayer=function(t,e){for(var o=this._zlevelList,i=0;i<o.length;i++){var a=o[i],u=this._layers[a];u.__builtin__&&t.call(e,u,a)}},n.prototype.eachOtherLayer=function(t,e){for(var o=this._zlevelList,i=0;i<o.length;i++){var a=o[i],u=this._layers[a];u.__builtin__||t.call(e,u,a)}},n.prototype.getLayers=function(){return this._layers},n.prototype._updateLayerStatus=function(t){function e(y){u&&(u.__endIndex!==y&&(u.__dirty=!0),u.__endIndex=y)}if(this.eachBuiltinLayer(function(y,_){y.__dirty=y.__used=!1}),this._singleCanvas)for(var o=1;o<t.length;o++)if((f=t[o]).zlevel!==t[o-1].zlevel||f.incremental){this._needsManuallyCompositing=!0;break}var i,a,u=null,c=0;for(a=0;a<t.length;a++){var f,h=(f=t[a]).zlevel,m=void 0;i!==h&&(i=h,c=0),f.incremental?((m=this.getLayer(h+.001,this._needsManuallyCompositing)).incremental=!0,c=1):m=this.getLayer(h+(c>0?.01:0),this._needsManuallyCompositing),m.__builtin__||ve("ZLevel "+h+" has been used by unkown layer "+m.id),m!==u&&(m.__used=!0,m.__startIndex!==a&&(m.__dirty=!0),m.__startIndex=a,m.__drawIndex=m.incremental?-1:a,e(a),u=m),1&f.__dirty&&!f.__inHover&&(m.__dirty=!0,m.incremental&&m.__drawIndex<0&&(m.__drawIndex=a))}e(a),this.eachBuiltinLayer(function(y,_){!y.__used&&y.getElementCount()>0&&(y.__dirty=!0,y.__startIndex=y.__endIndex=y.__drawIndex=0),y.__dirty&&y.__drawIndex<0&&(y.__drawIndex=y.__startIndex)})},n.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},n.prototype._clearLayer=function(t){t.clear()},n.prototype.setBackgroundColor=function(t){this._backgroundColor=t,Te(this._layers,function(e){e.setUnpainted()})},n.prototype.configLayer=function(t,e){if(e){var o=this._layerConfig;o[t]?Ve(o[t],e,!0):o[t]=e;for(var i=0;i<this._zlevelList.length;i++){var a=this._zlevelList[i];(a===t||a===t+.01)&&Ve(this._layers[a],o[t],!0)}}},n.prototype.delLayer=function(t){var e=this._layers,o=this._zlevelList,i=e[t];i&&(i.dom.parentNode.removeChild(i.dom),delete e[t],o.splice(jt(o,t),1))},n.prototype.resize=function(t,e){if(this._domRoot.style){var o=this._domRoot;o.style.display="none";var i=this._opts,a=this.root;if(null!=t&&(i.width=t),null!=e&&(i.height=e),t=T0(a,0,i),e=T0(a,1,i),o.style.display="",this._width!==t||e!==this._height){for(var u in o.style.width=t+"px",o.style.height=e+"px",this._layers)this._layers.hasOwnProperty(u)&&this._layers[u].resize(t,e);this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(x1).resize(t,e)}return this},n.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},n.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},n.prototype.getRenderedCanvas=function(t){if(this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var e=new tk("image",this,(t=t||{}).pixelRatio||this.dpr);e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor);var o=e.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var i=e.dom.width,a=e.dom.height;this.eachLayer(function(y){y.__builtin__?o.drawImage(y.dom,0,0,i,a):y.renderToCanvas&&(o.save(),y.renderToCanvas(o),o.restore())})}else for(var u={inHover:!1,viewWidth:this._width,viewHeight:this._height},c=this.storage.getDisplayList(!0),f=0,h=c.length;f<h;f++)my(o,c[f],u,f===h-1);return e.dom},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n}(),QD=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return yt(t,n),t.prototype.getInitialData=function(e){return Ag(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var o=new lo,i=Hu("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);o.add(i),i.setStyle(e.lineStyle);var a=this.getData().getVisual("symbol"),u=this.getData().getVisual("symbolRotate"),c="none"===a?"circle":a,f=.8*e.itemHeight,h=Hu(c,(e.itemWidth-f)/2,(e.itemHeight-f)/2,f,f,e.itemStyle.fill);return o.add(h),h.setStyle(e.itemStyle),h.rotation=("inherit"===e.iconRotate?u:e.iconRotate||0)*Math.PI/180,h.setOrigin([e.itemWidth/2,e.itemHeight/2]),c.indexOf("empty")>-1&&(h.style.stroke=h.style.fill,h.style.fill="#fff",h.style.lineWidth=2),o},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(ga);function sf(n,t){var e=n.mapDimensionsAll("defaultedLabel"),o=e.length;if(1===o){var i=bx(n,t,e[0]);return null!=i?i+"":null}if(o){for(var a=[],u=0;u<e.length;u++)a.push(bx(n,t,e[u]));return a.join(" ")}}function nk(n,t){var e=n.mapDimensionsAll("defaultedLabel");if(!tt(t))return t+"";for(var o=[],i=0;i<e.length;i++){var a=n.getDimensionIndex(e[i]);a>=0&&o.push(t[a])}return o.join(" ")}var Op=function(n){function t(e,o,i,a){var u=n.call(this)||this;return u.updateData(e,o,i,a),u}return yt(t,n),t.prototype._createSymbol=function(e,o,i,a,u){this.removeAll();var c=Hu(e,-1,-1,2,2,null,u);c.attr({z2:100,culling:!0,scaleX:a[0]/2,scaleY:a[1]/2}),c.drift=S2,this._symbolType=e,this.add(c)},t.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){Mf(this.childAt(0))},t.prototype.downplay=function(){qd(this.childAt(0))},t.prototype.setZ=function(e,o){var i=this.childAt(0);i.zlevel=e,i.z=o},t.prototype.setDraggable=function(e,o){var i=this.childAt(0);i.draggable=e,i.cursor=!o&&e?"move":i.cursor},t.prototype.updateData=function(e,o,i,a){this.silent=!1;var u=e.getItemVisual(o,"symbol")||"circle",c=e.hostModel,f=t.getSymbolSize(e,o),h=u!==this._symbolType,m=a&&a.disableAnimation;if(h){var y=e.getItemVisual(o,"symbolKeepAspect");this._createSymbol(u,e,o,f,y)}else{(S=this.childAt(0)).silent=!1;var _={scaleX:f[0]/2,scaleY:f[1]/2};m?S.attr(_):io(S,_,c,o),Df(S)}if(this._updateCommon(e,o,f,i,a),h){var S=this.childAt(0);m||(_={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:S.style.opacity}},S.scaleX=S.scaleY=0,S.style.opacity=0,_a(S,_,c,o))}m&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(e,o,i,a,u){var c,f,h,m,y,_,S,k,D,A=this.childAt(0),E=e.hostModel;if(a&&(c=a.emphasisItemStyle,f=a.blurItemStyle,h=a.selectItemStyle,m=a.focus,y=a.blurScope,S=a.labelStatesModels,k=a.hoverScale,D=a.cursorStyle,_=a.emphasisDisabled),!a||e.hasItemOption){var N=a&&a.itemModel?a.itemModel:e.getItemModel(o),z=N.getModel("emphasis");c=z.getModel("itemStyle").getItemStyle(),h=N.getModel(["select","itemStyle"]).getItemStyle(),f=N.getModel(["blur","itemStyle"]).getItemStyle(),m=z.get("focus"),y=z.get("blurScope"),_=z.get("disabled"),S=Aa(N),k=z.getShallow("scale"),D=N.getShallow("cursor")}var F=e.getItemVisual(o,"symbolRotate");A.attr("rotation",(F||0)*Math.PI/180||0);var q=Zb(e.getItemVisual(o,"symbolOffset"),i);q&&(A.x=q[0],A.y=q[1]),D&&A.attr("cursor",D);var X=e.getItemVisual(o,"style"),ee=X.fill;if(A instanceof bu){var ie=A.style;A.useStyle(Pe({image:ie.image,x:ie.x,y:ie.y,width:ie.width,height:ie.height},X))}else A.useStyle(A.__isEmptyBrush?Pe({},X):X),A.style.decal=null,A.setColor(ee,u&&u.symbolInnerColor),A.style.strokeNoScale=!0;var ye=e.getItemVisual(o,"liftZ"),_e=this._z2;null!=ye?null==_e&&(this._z2=A.z2,A.z2+=ye):null!=_e&&(A.z2=_e,this._z2=null);var Se=u&&u.useNameLabel;Da(A,S,{labelFetcher:E,labelDataIndex:o,defaultText:function(Xe){return Se?e.getName(Xe):sf(e,Xe)},inheritColor:ee,defaultOpacity:X.opacity}),this._sizeX=i[0]/2,this._sizeY=i[1]/2;var Ae=A.ensureState("emphasis");Ae.style=c,A.ensureState("select").style=h,A.ensureState("blur").style=f;var Fe=null==k||!0===k?Math.max(1.1,3/this._sizeY):isFinite(k)&&k>0?+k:1;Ae.scaleX=this._sizeX*Fe,Ae.scaleY=this._sizeY*Fe,this.setSymbolScale(1),Ds(this,m,y,_)},t.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},t.prototype.fadeOut=function(e,o,i){var a=this.childAt(0),u=fo(this).dataIndex,c=i&&i.animation;if(this.silent=a.silent=!0,i&&i.fadeLabel){var f=a.getTextContent();f&&gp(f,{style:{opacity:0}},o,{dataIndex:u,removeOpt:c,cb:function(){a.removeTextContent()}})}else a.removeTextContent();gp(a,{style:{opacity:0},scaleX:0,scaleY:0},o,{dataIndex:u,cb:e,removeOpt:c})},t.getSymbolSize=function(e,o){return Xb(e.getItemVisual(o,"symbolSize"))},t}(lo);function S2(n,t){this.parent.drift(n,t)}function w1(n,t,e,o){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(o.isIgnore&&o.isIgnore(e))&&!(o.clipShape&&!o.clipShape.contain(t[0],t[1]))&&"none"!==n.getItemVisual(e,"symbol")}function Q0(n){return null==n||fr(n)||(n={isIgnore:n}),n||{}}function eb(n){var t=n.hostModel,e=t.getModel("emphasis");return{emphasisItemStyle:e.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:e.get("focus"),blurScope:e.get("blurScope"),emphasisDisabled:e.get("disabled"),hoverScale:e.get("scale"),labelStatesModels:Aa(t),cursorStyle:t.get("cursor")}}var tb=function(){function n(t){this.group=new lo,this._SymbolCtor=t||Op}return n.prototype.updateData=function(t,e){this._progressiveEls=null,e=Q0(e);var o=this.group,i=t.hostModel,a=this._data,u=this._SymbolCtor,c=e.disableAnimation,f=eb(t),h={disableAnimation:c},m=e.getSymbolPoint||function(y){return t.getItemLayout(y)};a||o.removeAll(),t.diff(a).add(function(y){var _=m(y);if(w1(t,_,y,e)){var S=new u(t,y,f,h);S.setPosition(_),t.setItemGraphicEl(y,S),o.add(S)}}).update(function(y,_){var S=a.getItemGraphicEl(_),k=m(y);if(w1(t,k,y,e)){var D=t.getItemVisual(y,"symbol")||"circle",A=S&&S.getSymbolType&&S.getSymbolType();if(!S||A&&A!==D)o.remove(S),(S=new u(t,y,f,h)).setPosition(k);else{S.updateData(t,y,f,h);var E={x:k[0],y:k[1]};c?S.attr(E):io(S,E,i)}o.add(S),t.setItemGraphicEl(y,S)}else o.remove(S)}).remove(function(y){var _=a.getItemGraphicEl(y);_&&_.fadeOut(function(){o.remove(_)},i)}).execute(),this._getSymbolPoint=m,this._data=t},n.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl(function(o,i){var a=t._getSymbolPoint(i);o.setPosition(a),o.markRedraw()})},n.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=eb(t),this._data=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(t,e,o){function i(f){f.isGroup||(f.incremental=!0,f.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],o=Q0(o);for(var a=t.start;a<t.end;a++){var u=e.getItemLayout(a);if(w1(e,u,a,o)){var c=new this._SymbolCtor(e,a,this._seriesScope);c.traverse(i),c.setPosition(u),this.group.add(c),e.setItemGraphicEl(a,c),this._progressiveEls.push(c)}}},n.prototype.eachRendered=function(t){Vu(this._progressiveEls||this.group,t)},n.prototype.remove=function(t){var e=this.group,o=this._data;o&&t?o.eachItemGraphicEl(function(i){i.fadeOut(function(){e.remove(i)},o.hostModel)}):e.removeAll()},n}();function qM(n,t,e){var D,A,E,o=n.getBaseAxis(),i=n.getOtherAxis(o),a=(D=e,A=0,E=i.scale.getExtent(),"start"===D?A=E[0]:"end"===D?A=E[1]:hr(D)&&!isNaN(D)?A=D:E[0]>0?A=E[0]:E[1]<0&&(A=E[1]),A),u=o.dim,c=i.dim,f=t.mapDimension(c),h=t.mapDimension(u),m="x"===c||"radius"===c?1:0,y=It(n.dimensions,function(k){return t.mapDimension(k)}),_=!1,S=t.getCalculationInfo("stackResultDimension");return ei(t,y[0])&&(_=!0,y[0]=S),ei(t,y[1])&&(_=!0,y[1]=S),{dataDimsForPoint:y,valueStart:a,valueAxisDim:c,baseAxisDim:u,stacked:!!_,valueDim:f,baseDim:h,baseDataOffset:m,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function sv(n,t,e,o){var i=NaN;n.stacked&&(i=e.get(e.getCalculationInfo("stackedOverDimension"),o)),isNaN(i)&&(i=n.valueStart);var a=n.baseDataOffset,u=[];return u[a]=e.get(n.baseDim,o),u[1-a]=i,t.dataToPoint(u)}var Sy=Math.min,nb=Math.max;function Rh(n,t){return isNaN(n)||isNaN(t)}function Cy(n,t,e,o,i,a,u,c,f){for(var h,m,y,_,S,k,D=e,A=0;A<o;A++){var E=t[2*D],N=t[2*D+1];if(D>=i||D<0)break;if(Rh(E,N)){if(f){D+=a;continue}break}if(D===e)n[a>0?"moveTo":"lineTo"](E,N),y=E,_=N;else{var z=E-h,F=N-m;if(z*z+F*F<.5){D+=a;continue}if(u>0){for(var q=D+a,X=t[2*q],ee=t[2*q+1];X===E&&ee===N&&A<o;)A++,X=t[2*(q+=a)],ee=t[2*q+1],z=(E=t[2*(D+=a)])-h,F=(N=t[2*D+1])-m;var ie=A+1;if(f)for(;Rh(X,ee)&&ie<o;)ie++,X=t[2*(q+=a)],ee=t[2*q+1];var ye=.5,_e=0,Se=0,Ae=void 0,Fe=void 0;if(ie>=o||Rh(X,ee))S=E,k=N;else{_e=X-h,Se=ee-m;var Xe=E-h,nt=X-E,it=N-m,ut=ee-N,mt=void 0,Ot=void 0;if("x"===c){var Pt=_e>0?1:-1;S=E-Pt*(mt=Math.abs(Xe))*u,k=N,Ae=E+Pt*(Ot=Math.abs(nt))*u,Fe=N}else if("y"===c){var Gt=Se>0?1:-1;S=E,k=N-Gt*(mt=Math.abs(it))*u,Ae=E,Fe=N+Gt*(Ot=Math.abs(ut))*u}else mt=Math.sqrt(Xe*Xe+it*it),S=E-_e*u*(1-(ye=(Ot=Math.sqrt(nt*nt+ut*ut))/(Ot+mt))),k=N-Se*u*(1-ye),Fe=N+Se*u*ye,Ae=Sy(Ae=E+_e*u*ye,nb(X,E)),Fe=Sy(Fe,nb(ee,N)),Ae=nb(Ae,Sy(X,E)),k=N-(Se=(Fe=nb(Fe,Sy(ee,N)))-N)*mt/Ot,S=Sy(S=E-(_e=Ae-E)*mt/Ot,nb(h,E)),k=Sy(k,nb(m,N)),Ae=E+(_e=E-(S=nb(S,Sy(h,E))))*Ot/mt,Fe=N+(Se=N-(k=nb(k,Sy(m,N))))*Ot/mt}n.bezierCurveTo(y,_,S,k,E,N),y=Ae,_=Fe}else n.lineTo(E,N)}h=E,m=N,D+=a}return A}var S1=function(){this.smooth=0,this.smoothConstraint=!0},rk=function(n){function t(e){var o=n.call(this,e)||this;return o.type="ec-polyline",o}return yt(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new S1},t.prototype.buildPath=function(e,o){var i=o.points,a=0,u=i.length/2;if(o.connectNulls){for(;u>0&&Rh(i[2*u-2],i[2*u-1]);u--);for(;a<u&&Rh(i[2*a],i[2*a+1]);a++);}for(;a<u;)a+=Cy(e,i,a,u,u,1,o.smooth,o.smoothMonotone,o.connectNulls)+1},t.prototype.getPointOn=function(e,o){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i,a,u=this.path.data,c=Ya.CMD,f="x"===o,h=[],m=0;m<u.length;){var y=void 0,_=void 0,S=void 0,k=void 0,D=void 0,A=void 0,E=void 0;switch(u[m++]){case c.M:i=u[m++],a=u[m++];break;case c.L:if(y=u[m++],_=u[m++],(E=f?(e-i)/(y-i):(e-a)/(_-a))<=1&&E>=0){var N=f?(_-a)*E+a:(y-i)*E+i;return f?[e,N]:[N,e]}i=y,a=_;break;case c.C:y=u[m++],_=u[m++],S=u[m++],k=u[m++],D=u[m++],A=u[m++];var z=f?fb(i,y,S,D,e,h):fb(a,_,k,A,e,h);if(z>0)for(var F=0;F<z;F++){var q=h[F];if(q<=1&&q>=0)return N=f?Ra(a,_,k,A,q):Ra(i,y,S,D,q),f?[e,N]:[N,e]}i=D,a=A}}},t}(Do),eA=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return yt(t,n),t}(S1),Ep=function(n){function t(e){var o=n.call(this,e)||this;return o.type="ec-polygon",o}return yt(t,n),t.prototype.getDefaultShape=function(){return new eA},t.prototype.buildPath=function(e,o){var i=o.points,a=o.stackedOnPoints,u=0,c=i.length/2,f=o.smoothMonotone;if(o.connectNulls){for(;c>0&&Rh(i[2*c-2],i[2*c-1]);c--);for(;u<c&&Rh(i[2*u],i[2*u+1]);u++);}for(;u<c;){var h=Cy(e,i,u,c,c,1,o.smooth,f,o.connectNulls);Cy(e,a,u+h-1,h,c,-1,o.stackedOnSmooth,f,o.connectNulls),u+=h+1,e.closePath()}},t}(Do);function ok(n,t,e,o,i){var a=n.getArea(),u=a.x,c=a.y,f=a.width,h=a.height,m=e.get(["lineStyle","width"])||2;u-=m/2,c-=m/2,f+=m,h+=m,u=Math.floor(u),f=Math.round(f);var y=new oi({shape:{x:u,y:c,width:f,height:h}});if(t){var _=n.getBaseAxis(),S=_.isHorizontal(),k=_.inverse;S?(k&&(y.shape.x+=f),y.shape.width=0):(k||(y.shape.y+=h),y.shape.height=0);var D=hn(i)?function(A){i(A,y)}:null;_a(y,{shape:{width:f,height:h,x:u,y:c}},e,null,o,D)}return y}function C2(n,t,e){var o=n.getArea(),i=ri(o.r0,1),a=ri(o.r,1),u=new Ll({shape:{cx:ri(n.cx,1),cy:ri(n.cy,1),r0:i,r:a,startAngle:o.startAngle,endAngle:o.endAngle,clockwise:o.clockwise}});return t&&("angle"===n.getBaseAxis().dim?u.shape.endAngle=o.startAngle:u.shape.r=i,_a(u,{shape:{endAngle:o.endAngle,r:a}},e)),u}function C1(n,t,e,o,i){return n?"polar"===n.type?C2(n,t,e):"cartesian2d"===n.type?ok(n,t,e,o,i):null:null}function rb(n,t){return n.type===t}function uv(n,t){if(n.length===t.length){for(var e=0;e<n.length;e++)if(n[e]!==t[e])return;return!0}}function ob(n){for(var t=1/0,e=1/0,o=-1/0,i=-1/0,a=0;a<n.length;){var u=n[a++],c=n[a++];isNaN(u)||(t=Math.min(u,t),o=Math.max(u,o)),isNaN(c)||(e=Math.min(c,e),i=Math.max(c,i))}return[[t,e],[o,i]]}function YM(n,t){var e=ob(n),o=e[0],i=e[1],a=ob(t),u=a[0],c=a[1];return Math.max(Math.abs(o[0]-u[0]),Math.abs(o[1]-u[1]),Math.abs(i[0]-c[0]),Math.abs(i[1]-c[1]))}function k2(n){return hr(n)?n:n?.5:0}function ky(n,t,e,o){var i=t.getBaseAxis(),a="x"===i.dim||"radius"===i.dim?0:1,u=[],c=0,f=[],h=[],m=[],y=[];if(o){for(c=0;c<n.length;c+=2)isNaN(n[c])||isNaN(n[c+1])||y.push(n[c],n[c+1]);n=y}for(c=0;c<n.length-2;c+=2)switch(m[0]=n[c+2],m[1]=n[c+3],h[0]=n[c],h[1]=n[c+1],u.push(h[0],h[1]),e){case"end":f[a]=m[a],f[1-a]=h[1-a],u.push(f[0],f[1]);break;case"middle":var S=[];f[a]=S[a]=(h[a]+m[a])/2,f[1-a]=h[1-a],S[1-a]=m[1-a],u.push(f[0],f[1]),u.push(S[0],S[1]);break;default:f[a]=h[a],f[1-a]=m[1-a],u.push(f[0],f[1])}return u.push(n[c++],n[c++]),u}function ki(n,t){return[n[2*t],n[2*t+1]]}function XM(n){if(n.get(["endLabel","show"]))return!0;for(var t=0;t<Va.length;t++)if(n.get([Va[t],"endLabel","show"]))return!0;return!1}function ak(n,t,e,o){if(rb(t,"cartesian2d")){var i=o.getModel("endLabel"),a=i.get("valueAnimation"),u=o.getData(),c={lastFrameIndex:0},f=XM(o)?function(S,k){n._endLabelOnDuring(S,k,u,c,a,i,t)}:null,h=t.getBaseAxis().isHorizontal(),m=ok(t,e,o,function(){var S=n._endLabel;S&&e&&null!=c.originalX&&S.attr({x:c.originalX,y:c.originalY})},f);if(!o.get("clip",!0)){var y=m.shape,_=Math.max(y.width,y.height);h?(y.y-=_,y.height+=2*_):(y.x-=_,y.width+=2*_)}return f&&f(1,m),m}return C2(t,e,o)}var ZM=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return yt(t,n),t.prototype.init=function(){var e=new lo,o=new tb;this.group.add(o.group),this._symbolDraw=o,this._lineGroup=e},t.prototype.render=function(e,o,i){var a=this,u=e.coordinateSystem,c=this.group,f=e.getData(),h=e.getModel("lineStyle"),m=e.getModel("areaStyle"),y=f.getLayout("points")||[],_="polar"===u.type,S=this._coordSys,k=this._symbolDraw,D=this._polyline,A=this._polygon,E=this._lineGroup,N=!o.ssr&&e.isAnimationEnabled(),z=!m.isEmpty(),F=m.get("origin"),q=qM(u,f,F),X=z&&function(Xt,zn,gr){if(!gr.valueDim)return[];for(var dr=zn.count(),nr=Og(2*dr),br=0;br<dr;br++){var ur=sv(gr,Xt,zn,br);nr[2*br]=ur[0],nr[2*br+1]=ur[1]}return nr}(u,f,q),ee=e.get("showSymbol"),ie=e.get("connectNulls"),ye=ee&&!_&&function ik(n,t,e){var o=n.get("showAllSymbol"),i="auto"===o;if(!o||i){var a=e.getAxesByScale("ordinal")[0];if(a&&(!i||!function(f,h){var m=f.getExtent(),y=Math.abs(m[1]-m[0])/f.scale.count();isNaN(y)&&(y=0);for(var _=h.count(),S=Math.max(1,Math.round(_/5)),k=0;k<_;k+=S)if(1.5*Op.getSymbolSize(h,k)[f.isHorizontal()?1:0]>y)return!1;return!0}(a,t))){var u=t.mapDimension(a.dim),c={};return Te(a.getViewLabels(),function(f){var h=a.scale.getRawOrdinalNumber(f.tickValue);c[h]=1}),function(f){return!c.hasOwnProperty(t.get(u,f))}}}}(e,f,u),_e=this._data;_e&&_e.eachItemGraphicEl(function(Xt,zn){Xt.__temp&&(c.remove(Xt),_e.setItemGraphicEl(zn,null))}),ee||k.remove(),c.add(E);var Se,Ae=!_&&e.get("step");u&&u.getArea&&e.get("clip",!0)&&(null!=(Se=u.getArea()).width?(Se.x-=.1,Se.y-=.1,Se.width+=.2,Se.height+=.2):Se.r0&&(Se.r0-=.5,Se.r+=.5)),this._clipShapeForSymbol=Se;var Fe=function M2(n,t,e){var o=n.getVisual("visualMeta");if(o&&o.length&&n.count()&&"cartesian2d"===t.type){for(var i,a,u=o.length-1;u>=0;u--){var c=n.getDimensionInfo(o[u].dimension);if("x"===(i=c&&c.coordDim)||"y"===i){a=o[u];break}}if(a){var f=t.getAxis(i),h=It(a.stops,function(N){return{coord:f.toGlobalCoord(f.dataToCoord(N.value)),color:N.color}}),m=h.length,y=a.outerColors.slice();m&&h[0].coord>h[m-1].coord&&(h.reverse(),y.reverse());var _=function(N,z){var F,q,X=[],ee=N.length;function ie(Ae,Fe,Xe){var nt=Ae.coord;return{coord:Xe,color:dl((Xe-nt)/(Fe.coord-nt),[Ae.color,Fe.color])}}for(var ye=0;ye<ee;ye++){var _e=N[ye],Se=_e.coord;if(Se<0)F=_e;else{if(Se>z){q?X.push(ie(q,_e,z)):F&&X.push(ie(F,_e,0),ie(F,_e,z));break}F&&(X.push(ie(F,_e,0)),F=null),X.push(_e),q=_e}}return X}(h,"x"===i?e.getWidth():e.getHeight()),S=_.length;if(!S&&m)return h[0].coord<0?y[1]?y[1]:h[m-1].color:y[0]?y[0]:h[0].color;var k=_[0].coord-10,D=_[S-1].coord+10,A=D-k;if(A<.001)return"transparent";Te(_,function(N){N.offset=(N.coord-k)/A}),_.push({offset:S?_[S-1].offset:.5,color:y[1]||"transparent"}),_.unshift({offset:S?_[0].offset:.5,color:y[0]||"transparent"});var E=new pp(0,0,0,0,_,!0);return E[i]=k,E[i+"2"]=D,E}}}(f,u,i)||f.getVisual("style")[f.getVisual("drawType")];if(D&&S.type===u.type&&Ae===this._step){z&&!A?A=this._newPolygon(y,X):A&&!z&&(E.remove(A),A=this._polygon=null),_||this._initOrUpdateEndLabel(e,u,iu(Fe));var Xe=E.getClipPath();Xe?_a(Xe,{shape:ak(this,u,!1,e).shape},e):E.setClipPath(ak(this,u,!0,e)),ee&&k.updateData(f,{isIgnore:ye,clipShape:Se,disableAnimation:!0,getSymbolPoint:function(Xt){return[y[2*Xt],y[2*Xt+1]]}}),uv(this._stackedOnPoints,X)&&uv(this._points,y)||(N?this._doUpdateAnimation(f,X,u,i,Ae,F,ie):(Ae&&(y=ky(y,u,Ae,ie),X&&(X=ky(X,u,Ae,ie))),D.setShape({points:y}),A&&A.setShape({points:y,stackedOnPoints:X})))}else ee&&k.updateData(f,{isIgnore:ye,clipShape:Se,disableAnimation:!0,getSymbolPoint:function(Xt){return[y[2*Xt],y[2*Xt+1]]}}),N&&this._initSymbolLabelAnimation(f,u,Se),Ae&&(y=ky(y,u,Ae,ie),X&&(X=ky(X,u,Ae,ie))),D=this._newPolyline(y),z?A=this._newPolygon(y,X):A&&(E.remove(A),A=this._polygon=null),_||this._initOrUpdateEndLabel(e,u,iu(Fe)),E.setClipPath(ak(this,u,!0,e));var nt=e.getModel("emphasis"),it=nt.get("focus"),ut=nt.get("blurScope"),mt=nt.get("disabled");D.useStyle(ht(h.getLineStyle(),{fill:"none",stroke:Fe,lineJoin:"bevel"})),Fu(D,e,"lineStyle"),D.style.lineWidth>0&&"bolder"===e.get(["emphasis","lineStyle","width"])&&(D.getState("emphasis").style.lineWidth=+D.style.lineWidth+1),fo(D).seriesIndex=e.seriesIndex,Ds(D,it,ut,mt);var Ot=k2(e.get("smooth")),Pt=e.get("smoothMonotone");if(D.setShape({smooth:Ot,smoothMonotone:Pt,connectNulls:ie}),A){var Gt=f.getCalculationInfo("stackedOnSeries"),kn=0;A.useStyle(ht(m.getAreaStyle(),{fill:Fe,opacity:.7,lineJoin:"bevel",decal:f.getVisual("style").decal})),Gt&&(kn=k2(Gt.get("smooth"))),A.setShape({smooth:Ot,stackedOnSmooth:kn,smoothMonotone:Pt,connectNulls:ie}),Fu(A,e,"areaStyle"),fo(A).seriesIndex=e.seriesIndex,Ds(A,it,ut,mt)}var tr=function(Xt){a._changePolyState(Xt)};f.eachItemGraphicEl(function(Xt){Xt&&(Xt.onHoverStateChange=tr)}),this._polyline.onHoverStateChange=tr,this._data=f,this._coordSys=u,this._stackedOnPoints=X,this._points=y,this._step=Ae,this._valueOrigin=F,e.get("triggerLineEvent")&&(this.packEventData(e,D),A&&this.packEventData(e,A))},t.prototype.packEventData=function(e,o){fo(o).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}},t.prototype.highlight=function(e,o,i,a){var u=e.getData(),c=Rd(u,a);if(this._changePolyState("emphasis"),!(c instanceof Array)&&null!=c&&c>=0){var f=u.getLayout("points"),h=u.getItemGraphicEl(c);if(!h){var m=f[2*c],y=f[2*c+1];if(isNaN(m)||isNaN(y)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(m,y))return;var _=e.get("zlevel")||0,S=e.get("z")||0;(h=new Op(u,c)).x=m,h.y=y,h.setZ(_,S);var k=h.getSymbolPath().getTextContent();k&&(k.zlevel=_,k.z=S,k.z2=this._polyline.z2+1),h.__temp=!0,u.setItemGraphicEl(c,h),h.stopSymbolAnimation(!0),this.group.add(h)}h.highlight()}else ma.prototype.highlight.call(this,e,o,i,a)},t.prototype.downplay=function(e,o,i,a){var u=e.getData(),c=Rd(u,a);if(this._changePolyState("normal"),null!=c&&c>=0){var f=u.getItemGraphicEl(c);f&&(f.__temp?(u.setItemGraphicEl(c,null),this.group.remove(f)):f.downplay())}else ma.prototype.downplay.call(this,e,o,i,a)},t.prototype._changePolyState=function(e){var o=this._polygon;pa(this._polyline,e),o&&pa(o,e)},t.prototype._newPolyline=function(e){var o=this._polyline;return o&&this._lineGroup.remove(o),o=new rk({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(o),this._polyline=o,o},t.prototype._newPolygon=function(e,o){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new Ep({shape:{points:e,stackedOnPoints:o},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},t.prototype._initSymbolLabelAnimation=function(e,o,i){var a,u,c=o.getBaseAxis(),f=c.inverse;"cartesian2d"===o.type?(a=c.isHorizontal(),u=!1):"polar"===o.type&&(a="angle"===c.dim,u=!0);var h=e.hostModel,m=h.get("animationDuration");hn(m)&&(m=m(null));var y=h.get("animationDelay")||0,_=hn(y)?y(null):y;e.eachItemGraphicEl(function(S,k){var D=S;if(D){var E=void 0,N=void 0,z=void 0;if(i)if(u){var F=i,q=o.pointToCoord([S.x,S.y]);a?(E=F.startAngle,N=F.endAngle,z=-q[1]/180*Math.PI):(E=F.r0,N=F.r,z=q[0])}else a?(E=i.x,N=i.x+i.width,z=S.x):(E=i.y+i.height,N=i.y,z=S.y);var ee=N===E?0:(z-E)/(N-E);f&&(ee=1-ee);var ie=hn(y)?y(k):m*ee+_,ye=D.getSymbolPath(),_e=ye.getTextContent();D.attr({scaleX:0,scaleY:0}),D.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:ie}),_e&&_e.animateFrom({style:{opacity:0}},{duration:300,delay:ie}),ye.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(e,o,i){var y,S,k,D,A,E,a=e.getModel("endLabel");if(XM(e)){var u=e.getData(),c=this._polyline,f=u.getLayout("points");if(!f)return c.removeTextContent(),void(this._endLabel=null);var h=this._endLabel;h||((h=this._endLabel=new li({z2:200})).ignoreClip=!0,c.setTextContent(this._endLabel),c.disableLabelAnimation=!0);var m=function(y){for(var S,k=y.length/2;k>0&&(S=y[2*k-1],isNaN(y[2*k-2])||isNaN(S));k--);return k-1}(f);m>=0&&(Da(c,Aa(e,"endLabel"),{inheritColor:i,labelFetcher:e,labelDataIndex:m,defaultText:function(y,_,S){return null!=S?nk(u,S):sf(u,y)},enableTextSetter:!0},(y=a,k=(S=o.getBaseAxis()).isHorizontal(),D=S.inverse,A=k?D?"right":"left":"center",E=k?"middle":D?"top":"bottom",{normal:{align:y.get("align")||A,verticalAlign:y.get("verticalAlign")||E}})),c.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,o,i,a,u,c,f){var h=this._endLabel,m=this._polyline;if(h){e<1&&null==a.originalX&&(a.originalX=h.x,a.originalY=h.y);var y=i.getLayout("points"),_=i.hostModel,S=_.get("connectNulls"),k=c.get("precision"),D=c.get("distance")||0,A=f.getBaseAxis(),E=A.isHorizontal(),N=A.inverse,z=o.shape,F=N?E?z.x:z.y+z.height:E?z.x+z.width:z.y,q=(E?D:0)*(N?-1:1),X=(E?0:-D)*(N?-1:1),ee=E?"x":"y",ie=function(it,ut,mt){for(var Ot,Pt,Gt=it.length/2,kn="x"===mt?0:1,tr=0,Xt=-1,zn=0;zn<Gt;zn++)if(Pt=it[2*zn+kn],!isNaN(Pt)&&!isNaN(it[2*zn+1-kn]))if(0!==zn){if(Ot<=ut&&Pt>=ut||Ot>=ut&&Pt<=ut){Xt=zn;break}tr=zn,Ot=Pt}else Ot=Pt;return{range:[tr,Xt],t:(ut-Ot)/(Pt-Ot)}}(y,F,ee),ye=ie.range,_e=ye[1]-ye[0],Se=void 0;if(_e>=1){if(_e>1&&!S){var Ae=ki(y,ye[0]);h.attr({x:Ae[0]+q,y:Ae[1]+X}),u&&(Se=_.getRawValue(ye[0]))}else{(Ae=m.getPointOn(F,ee))&&h.attr({x:Ae[0]+q,y:Ae[1]+X});var Fe=_.getRawValue(ye[0]),Xe=_.getRawValue(ye[1]);u&&(Se=R_(i,k,Fe,Xe,ie.t))}a.lastFrameIndex=ye[0]}else{var nt=1===e||a.lastFrameIndex>0?ye[0]:0;Ae=ki(y,nt),u&&(Se=_.getRawValue(nt)),h.attr({x:Ae[0]+q,y:Ae[1]+X})}u&&mp(h).setLabelText(Se)}},t.prototype._doUpdateAnimation=function(e,o,i,a,u,c,f){var h=this._polyline,m=this._polygon,y=e.hostModel,_=function(X,ee,ie,ye,_e,Se,Ae,Fe){for(var Xe=function(Ys,ll){var Rc=[];return ll.diff(Ys).add(function(Lc){Rc.push({cmd:"+",idx:Lc})}).update(function(Lc,Nc){Rc.push({cmd:"=",idx:Nc,idx1:Lc})}).remove(function(Lc){Rc.push({cmd:"-",idx:Lc})}).execute(),Rc}(X,ee),nt=[],it=[],ut=[],mt=[],Ot=[],Pt=[],Gt=[],kn=qM(_e,ee,Ae),tr=X.getLayout("points")||[],Xt=ee.getLayout("points")||[],zn=0;zn<Xe.length;zn++){var gr=Xe[zn],dr=!0,nr=void 0,br=void 0;switch(gr.cmd){case"=":var ur=tr[nr=2*gr.idx],kr=tr[nr+1],Br=Xt[br=2*gr.idx1],Ro=Xt[br+1];(isNaN(ur)||isNaN(kr))&&(ur=Br,kr=Ro),nt.push(ur,kr),it.push(Br,Ro),ut.push(ie[nr],ie[nr+1]),mt.push(ye[br],ye[br+1]),Gt.push(ee.getRawIndex(gr.idx1));break;case"+":var Zo=gr.idx,wa=kn.dataDimsForPoint,Si=_e.dataToPoint([ee.get(wa[0],Zo),ee.get(wa[1],Zo)]);br=2*Zo,nt.push(Si[0],Si[1]),it.push(Xt[br],Xt[br+1]);var Hi=sv(kn,_e,ee,Zo);ut.push(Hi[0],Hi[1]),mt.push(ye[br],ye[br+1]),Gt.push(ee.getRawIndex(Zo));break;case"-":dr=!1}dr&&(Ot.push(gr),Pt.push(Pt.length))}Pt.sort(function(Ys,ll){return Gt[Ys]-Gt[ll]});var oa=nt.length,qs=Og(oa),su=Og(oa),gf=Og(oa),yv=Og(oa),I_=[];for(zn=0;zn<Pt.length;zn++){var ia=Pt[zn],pi=2*zn,Lo=2*ia;qs[pi]=nt[Lo],qs[pi+1]=nt[Lo+1],su[pi]=it[Lo],su[pi+1]=it[Lo+1],gf[pi]=ut[Lo],gf[pi+1]=ut[Lo+1],yv[pi]=mt[Lo],yv[pi+1]=mt[Lo+1],I_[zn]=Ot[ia]}return{current:qs,next:su,stackedOnCurrent:gf,stackedOnNext:yv,status:I_}}(this._data,e,this._stackedOnPoints,o,this._coordSys,0,this._valueOrigin),S=_.current,k=_.stackedOnCurrent,D=_.next,A=_.stackedOnNext;if(u&&(S=ky(_.current,i,u,f),k=ky(_.stackedOnCurrent,i,u,f),D=ky(_.next,i,u,f),A=ky(_.stackedOnNext,i,u,f)),YM(S,D)>3e3||m&&YM(k,A)>3e3)return h.stopAnimation(),h.setShape({points:D}),void(m&&(m.stopAnimation(),m.setShape({points:D,stackedOnPoints:A})));h.shape.__points=_.current,h.shape.points=S;var E={shape:{points:D}};_.current!==S&&(E.shape.__points=_.next),h.stopAnimation(),io(h,E,y),m&&(m.setShape({points:S,stackedOnPoints:k}),m.stopAnimation(),io(m,{shape:{stackedOnPoints:A}},y),h.shape.points!==m.shape.points&&(m.shape.points=h.shape.points));for(var N=[],z=_.status,F=0;F<z.length;F++)if("="===z[F].cmd){var q=e.getItemGraphicEl(z[F].idx1);q&&N.push({el:q,ptIdx:F})}h.animators&&h.animators.length&&h.animators[0].during(function(){m&&m.dirtyShape();for(var X=h.shape.__points,ee=0;ee<N.length;ee++){var ie=N[ee].el,ye=2*N[ee].ptIdx;ie.x=X[ye],ie.y=X[ye+1],ie.markRedraw()}})},t.prototype.remove=function(e){var o=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(a,u){a.__temp&&(o.remove(a),i.setItemGraphicEl(u,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(ma);function My(n,t){return{seriesType:n,plan:S0(),reset:function(e){var o=e.getData(),i=e.coordinateSystem,u=t||e.pipelineContext.large;if(i){var c=It(i.dimensions,function(S){return o.mapDimension(S)}).slice(0,2),f=c.length,h=o.getCalculationInfo("stackResultDimension");ei(o,c[0])&&(c[0]=h),ei(o,c[1])&&(c[1]=h);var m=o.getStore(),y=o.getDimensionIndex(c[0]),_=o.getDimensionIndex(c[1]);return f&&{progress:function(S,k){for(var A=u&&Og((S.end-S.start)*f),E=[],N=[],z=S.start,F=0;z<S.end;z++){var q=void 0;if(1===f){var X=m.get(y,z);q=i.dataToPoint(X,null,N)}else E[0]=m.get(y,z),E[1]=m.get(_,z),q=i.dataToPoint(E,null,N);u?(A[F++]=q[0],A[F++]=q[1]):k.setItemLayout(z,q.slice())}u&&k.setLayout("points",A)}}}}}}var uf={average:function(n){for(var t=0,e=0,o=0;o<n.length;o++)isNaN(n[o])||(t+=n[o],e++);return 0===e?NaN:t/e},sum:function(n){for(var t=0,e=0;e<n.length;e++)t+=n[e]||0;return t},max:function(n){for(var t=-1/0,e=0;e<n.length;e++)n[e]>t&&(t=n[e]);return isFinite(t)?t:NaN},min:function(n){for(var t=1/0,e=0;e<n.length;e++)n[e]<t&&(t=n[e]);return isFinite(t)?t:NaN},nearest:function(n){return n[0]}},T2=function(n){return Math.round(n.length/2)};function zg(n){return{seriesType:n,reset:function(t,e,o){var i=t.getData(),a=t.get("sampling"),u=t.coordinateSystem,c=i.count();if(c>10&&"cartesian2d"===u.type&&a){var f=u.getBaseAxis(),h=u.getOtherAxis(f),m=f.getExtent(),y=o.getDevicePixelRatio(),_=Math.abs(m[1]-m[0])*(y||1),S=Math.round(c/_);if(isFinite(S)&&S>1){"lttb"===a&&t.setData(i.lttbDownSample(i.mapDimension(h.dim),1/S));var k=void 0;Un(a)?k=uf[a]:hn(a)&&(k=a),k&&t.setData(i.downSample(i.mapDimension(h.dim),1/S,k,T2))}}}}}var f_=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.getInitialData=function(e,o){return Ag(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e,o,i){var a=this.coordinateSystem;if(a&&a.clampData){var u=a.clampData(e),c=a.dataToPoint(u);if(i)Te(a.getAxes(),function(_,S){if("category"===_.type&&null!=o){var k=_.getTicksCoords(),D=u[S],A="x1"===o[S]||"y1"===o[S];if(A&&(D+=1),k.length<2)return;if(2===k.length)return void(c[S]=_.toGlobalCoord(_.getExtent()[A?1:0]));for(var E=void 0,N=void 0,z=1,F=0;F<k.length;F++){var q=k[F].coord,X=F===k.length-1?k[F-1].tickValue+z:k[F].tickValue;if(X===D){N=q;break}if(X<D)E=q;else if(null!=E&&X>D){N=(q+E)/2;break}1===F&&(z=X-k[0].tickValue)}null==N&&(E?E&&(N=k[k.length-1].coord):N=k[0].coord),c[S]=_.toGlobalCoord(N)}});else{var f=this.getData(),h=f.getLayout("offset"),m=f.getLayout("size"),y=a.getBaseAxis().isHorizontal()?0:1;c[y]+=h+m/2}return c}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(ga);ga.registerClass(f_);var tA=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.getInitialData=function(){return Ag(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),o=this.get("largeThreshold");return o>e&&(e=o),e},t.prototype.brushSelector=function(e,o,i){return i.rect(o.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=Xd(f_.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(f_),D2=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},Su=function(n){function t(e){var o=n.call(this,e)||this;return o.type="sausage",o}return yt(t,n),t.prototype.getDefaultShape=function(){return new D2},t.prototype.buildPath=function(e,o){var i=o.cx,a=o.cy,u=Math.max(o.r0||0,0),c=Math.max(o.r,0),f=.5*(c-u),h=u+f,m=o.startAngle,y=o.endAngle,_=o.clockwise,S=2*Math.PI,k=_?y-m<S:m-y<S;k||(m=y-(_?S:-S));var D=Math.cos(m),A=Math.sin(m),E=Math.cos(y),N=Math.sin(y);k?(e.moveTo(D*u+i,A*u+a),e.arc(D*h+i,A*h+a,f,-Math.PI+m,m,!_)):e.moveTo(D*c+i,A*c+a),e.arc(i,a,c,m,y,!_),e.arc(E*h+i,N*h+a,f,y-2*Math.PI,y-Math.PI,!_),0!==u&&e.arc(i,a,u,y,m,_)},t}(Do);function Qi(n,t,e){return t*Math.sin(n)*(e?-1:1)}function sk(n,t,e){return t*Math.cos(n)*(e?1:-1)}function oh(n,t,e){var o=n.get("borderRadius");if(null==o)return e?{cornerRadius:0}:null;tt(o)||(o=[o,o,o,o]);var i=Math.abs(t.r||0-t.r0||0);return{cornerRadius:It(o,function(a){return gl(a,i)})}}var uk=Math.max,lc=Math.min,k1=function(n){function t(){var e=n.call(this)||this;return e.type=t.type,e._isFirstFrame=!0,e}return yt(t,n),t.prototype.render=function(e,o,i,a){this._model=e,this._removeOnRenderedListener(i),this._updateDrawMode(e);var u=e.get("coordinateSystem");("cartesian2d"===u||"polar"===u)&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,o,i):this._renderNormal(e,o,i,a))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,o){this._progressiveEls=[],this._incrementalRenderLarge(e,o)},t.prototype.eachRendered=function(e){Vu(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var o=e.pipelineContext.large;null!=this._isLargeDraw&&o===this._isLargeDraw||(this._isLargeDraw=o,this._clear())},t.prototype._renderNormal=function(e,o,i,a){var u,c=this.group,f=e.getData(),h=this._data,m=e.coordinateSystem,y=m.getBaseAxis();"cartesian2d"===m.type?u=y.isHorizontal():"polar"===m.type&&(u="angle"===y.dim);var _=e.isAnimationEnabled()?e:null,S=function(Se,Ae){var Fe=Se.get("realtimeSort",!0),Xe=Ae.getBaseAxis();if(Fe&&"category"===Xe.type&&"cartesian2d"===Ae.type)return{baseAxis:Xe,otherAxis:Ae.getOtherAxis(Xe)}}(e,m);S&&this._enableRealtimeSort(S,f,i);var k=e.get("clip",!0)||S,D=function(Se,Ae){var Fe=Se.getArea&&Se.getArea();if(rb(Se,"cartesian2d")){var Xe=Se.getBaseAxis();if("category"!==Xe.type||!Xe.onBand){var nt=Ae.getLayout("bandWidth");Xe.isHorizontal()?(Fe.x-=nt,Fe.width+=2*nt):(Fe.y-=nt,Fe.height+=2*nt)}}return Fe}(m,f);c.removeClipPath();var A=e.get("roundCap",!0),E=e.get("showBackground",!0),N=e.getModel("backgroundStyle"),z=N.get("borderRadius")||0,F=[],q=this._backgroundEls,X=a&&a.isInitSort,ee=a&&"changeAxisOrder"===a.type;function ie(Se){var Xe,Ae=lk[m.type](f,Se),Fe=new("polar"===(Xe=m).type?Ll:oi)({shape:p_(u,Ae,Xe),silent:!0,z2:0});return Fe.useStyle(N.getItemStyle()),Fe.setShape("cartesian2d"===m.type?"r":"cornerRadius",z),F[Se]=Fe,Fe}f.diff(h).add(function(Se){var Ae=f.getItemModel(Se),Fe=lk[m.type](f,Se,Ae);if(E&&ie(Se),f.hasValue(Se)&&sS[m.type](Fe)){var Xe=!1;k&&(Xe=d_[m.type](D,Fe));var nt=Fg[m.type](e,f,Se,Fe,u,_,y.model,!1,A);S&&(nt.forceLabelAnimation=!0),T1(nt,f,Se,Ae,Fe,e,u,"polar"===m.type),X?nt.attr({shape:Fe}):S?KM(S,_,nt,Fe,Se,u,!1,!1):_a(nt,{shape:Fe},e,Se),f.setItemGraphicEl(Se,nt),c.add(nt),nt.ignore=Xe}}).update(function(Se,Ae){var Fe=f.getItemModel(Se),Xe=lk[m.type](f,Se,Fe);if(E){var nt=void 0;0===q.length?nt=ie(Ae):((nt=q[Ae]).useStyle(N.getItemStyle()),nt.setShape("cartesian2d"===m.type?"r":"cornerRadius",z),F[Se]=nt);var it=lk[m.type](f,Se);io(nt,{shape:p_(u,it,m)},_,Se)}var ut=h.getItemGraphicEl(Ae);if(f.hasValue(Se)&&sS[m.type](Xe)){var mt=!1;if(k&&(mt=d_[m.type](D,Xe))&&c.remove(ut),ut?Df(ut):ut=Fg[m.type](e,f,Se,Xe,u,_,y.model,!!ut,A),S&&(ut.forceLabelAnimation=!0),ee){var Ot=ut.getTextContent();if(Ot){var Pt=mp(Ot);null!=Pt.prevValue&&(Pt.prevValue=Pt.value)}}else T1(ut,f,Se,Fe,Xe,e,u,"polar"===m.type);X?ut.attr({shape:Xe}):S?KM(S,_,ut,Xe,Se,u,!0,ee):io(ut,{shape:Xe},e,Se,null),f.setItemGraphicEl(Se,ut),ut.ignore=mt,c.add(ut)}else c.remove(ut)}).remove(function(Se){var Ae=h.getItemGraphicEl(Se);Ae&&s0(Ae,e,Se)}).execute();var ye=this._backgroundGroup||(this._backgroundGroup=new lo);ye.removeAll();for(var _e=0;_e<F.length;++_e)ye.add(F[_e]);c.add(ye),this._backgroundEls=F,this._data=f},t.prototype._renderLarge=function(e,o,i){this._clear(),Ty(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,o){this._removeBackground(),Ty(o,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var o=e.get("clip",!0)&&C1(e.coordinateSystem,!1,e),i=this.group;o?i.setClipPath(o):i.removeClipPath()},t.prototype._enableRealtimeSort=function(e,o,i){var a=this;if(o.count()){var u=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(o,e,i),this._isFirstFrame=!1;else{var c=function(f){var h=o.getItemGraphicEl(f),m=h&&h.shape;return m&&Math.abs(u.isHorizontal()?m.height:m.width)||0};this._onRendered=function(){a._updateSortWithinSameData(o,c,u,i)},i.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,o,i){var a=[];return e.each(e.mapDimension(o.dim),function(u,c){var f=i(c);a.push({dataIndex:c,mappedValue:f=null==f?NaN:f,ordinalNumber:u})}),a.sort(function(u,c){return c.mappedValue-u.mappedValue}),{ordinalNumbers:It(a,function(u){return u.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(e,o,i){for(var a=i.scale,u=e.mapDimension(i.dim),c=Number.MAX_VALUE,f=0,h=a.getOrdinalMeta().categories.length;f<h;++f){var m=e.rawIndexOf(u,a.getRawOrdinalNumber(f)),y=m<0?Number.MIN_VALUE:o(e.indexOfRawIndex(m));if(y>c)return!0;c=y}return!1},t.prototype._isOrderDifferentInView=function(e,o){for(var i=o.scale,a=i.getExtent(),u=Math.max(0,a[0]),c=Math.min(a[1],i.getOrdinalMeta().categories.length-1);u<=c;++u)if(e.ordinalNumbers[u]!==i.getRawOrdinalNumber(u))return!0},t.prototype._updateSortWithinSameData=function(e,o,i,a){if(this._isOrderChangedWithinSameData(e,o,i)){var u=this._dataSort(e,i,o);this._isOrderDifferentInView(u,i)&&(this._removeOnRenderedListener(a),a.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:u}))}},t.prototype._dispatchInitSort=function(e,o,i){var a=o.baseAxis,u=this._dataSort(e,a,function(c){return e.get(e.mapDimension(o.otherAxis.dim),c)});i.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",isInitSort:!0,axisId:a.index,sortInfo:u})},t.prototype.remove=function(e,o){this._clear(this._model),this._removeOnRenderedListener(o)},t.prototype.dispose=function(e,o){this._removeOnRenderedListener(o)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var o=this.group,i=this._data;e&&e.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl(function(a){s0(a,e,fo(a).dataIndex)})):o.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(ma),d_={cartesian2d:function(n,t){var e=t.width<0?-1:1,o=t.height<0?-1:1;e<0&&(t.x+=t.width,t.width=-t.width),o<0&&(t.y+=t.height,t.height=-t.height);var i=n.x+n.width,a=n.y+n.height,u=uk(t.x,n.x),c=lc(t.x+t.width,i),f=uk(t.y,n.y),h=lc(t.y+t.height,a),m=c<u,y=h<f;return t.x=m&&u>i?c:u,t.y=y&&f>a?h:f,t.width=m?0:c-u,t.height=y?0:h-f,e<0&&(t.x+=t.width,t.width=-t.width),o<0&&(t.y+=t.height,t.height=-t.height),m||y},polar:function(n,t){var e=t.r0<=t.r?1:-1;if(e<0){var o=t.r;t.r=t.r0,t.r0=o}var i=lc(t.r,n.r),a=uk(t.r0,n.r0);t.r=i,t.r0=a;var u=i-a<0;return e<0&&(o=t.r,t.r=t.r0,t.r0=o),u}},Fg={cartesian2d:function(n,t,e,o,i,a,u,c,f){var h=new oi({shape:Pe({},o),z2:1});return h.__dataIndex=e,h.name="item",a&&(h.shape[i?"height":"width"]=0),h},polar:function(n,t,e,o,i,a,u,c,f){var h=!i&&f?Su:Ll,m=new h({shape:o,z2:1});m.name="item";var y,_,S=A2(i);if(m.calculateTextPosition=(y=S,_=h===Su,function(A,E,N){var z=E.position;if(!z||z instanceof Array)return Ad(A,E,N);var F=y(z),q=null!=E.distance?E.distance:5,X=this.shape,ee=X.cx,ie=X.cy,ye=X.r,_e=X.r0,Se=(ye+_e)/2,Ae=X.startAngle,Fe=X.endAngle,Xe=(Ae+Fe)/2,nt=_?Math.abs(ye-_e)/2:0,it=Math.cos,ut=Math.sin,mt=ee+ye*it(Ae),Ot=ie+ye*ut(Ae),Pt="left",Gt="top";switch(F){case"startArc":mt=ee+(_e-q)*it(Xe),Ot=ie+(_e-q)*ut(Xe),Pt="center",Gt="top";break;case"insideStartArc":mt=ee+(_e+q)*it(Xe),Ot=ie+(_e+q)*ut(Xe),Pt="center",Gt="bottom";break;case"startAngle":mt=ee+Se*it(Ae)+Qi(Ae,q+nt,!1),Ot=ie+Se*ut(Ae)+sk(Ae,q+nt,!1),Pt="right",Gt="middle";break;case"insideStartAngle":mt=ee+Se*it(Ae)+Qi(Ae,-q+nt,!1),Ot=ie+Se*ut(Ae)+sk(Ae,-q+nt,!1),Pt="left",Gt="middle";break;case"middle":mt=ee+Se*it(Xe),Ot=ie+Se*ut(Xe),Pt="center",Gt="middle";break;case"endArc":mt=ee+(ye+q)*it(Xe),Ot=ie+(ye+q)*ut(Xe),Pt="center",Gt="bottom";break;case"insideEndArc":mt=ee+(ye-q)*it(Xe),Ot=ie+(ye-q)*ut(Xe),Pt="center",Gt="top";break;case"endAngle":mt=ee+Se*it(Fe)+Qi(Fe,q+nt,!0),Ot=ie+Se*ut(Fe)+sk(Fe,q+nt,!0),Pt="left",Gt="middle";break;case"insideEndAngle":mt=ee+Se*it(Fe)+Qi(Fe,-q+nt,!0),Ot=ie+Se*ut(Fe)+sk(Fe,-q+nt,!0),Pt="right",Gt="middle";break;default:return Ad(A,E,N)}return(A=A||{}).x=mt,A.y=Ot,A.align=Pt,A.verticalAlign=Gt,A}),a){var k=i?"r":"endAngle",D={};m.shape[k]=i?o.r0:o.startAngle,D[k]=o[k],(c?io:_a)(m,{shape:D},a)}return m}};function KM(n,t,e,o,i,a,u,c){var f,h;a?(h={x:o.x,width:o.width},f={y:o.y,height:o.height}):(h={y:o.y,height:o.height},f={x:o.x,width:o.width}),c||(u?io:_a)(e,{shape:f},t,i,null),(u?io:_a)(e,{shape:h},t?n.baseAxis.model:null,i)}function M1(n,t){for(var e=0;e<t.length;e++)if(!isFinite(n[t[e]]))return!0;return!1}var $M=["x","y","width","height"],h_=["cx","cy","r","startAngle","endAngle"],sS={cartesian2d:function(n){return!M1(n,$M)},polar:function(n){return!M1(n,h_)}},lk={cartesian2d:function(n,t,e){var o=n.getItemLayout(t),i=e?function(c,f){var h=c.get(["itemStyle","borderColor"]);if(!h||"none"===h)return 0;var m=c.get(["itemStyle","borderWidth"])||0,y=isNaN(f.width)?Number.MAX_VALUE:Math.abs(f.width),_=isNaN(f.height)?Number.MAX_VALUE:Math.abs(f.height);return Math.min(m,y,_)}(e,o):0,a=o.width>0?1:-1,u=o.height>0?1:-1;return{x:o.x+a*i/2,y:o.y+u*i/2,width:o.width-a*i,height:o.height-u*i}},polar:function(n,t,e){var o=n.getItemLayout(t);return{cx:o.cx,cy:o.cy,r0:o.r0,r:o.r,startAngle:o.startAngle,endAngle:o.endAngle,clockwise:o.clockwise}}};function A2(n){return function(t){var e=t?"Arc":"Angle";return function(o){switch(o){case"start":case"insideStart":case"end":case"insideEnd":return o+e;default:return o}}}(n)}function T1(n,t,e,o,i,a,u,c){var f=t.getItemVisual(e,"style");if(c){if(!a.get("roundCap")){var h=n.shape;Pe(h,oh(o.getModel("itemStyle"),h,!0)),n.setShape(h)}}else{var m=o.get(["itemStyle","borderRadius"])||0;n.setShape("r",m)}n.useStyle(f);var y=o.getShallow("cursor");y&&n.attr("cursor",y);var _=c?u?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":u?i.height>=0?"bottom":"top":i.width>=0?"right":"left",S=Aa(o);Da(n,S,{labelFetcher:a,labelDataIndex:e,defaultText:sf(a.getData(),e),inheritColor:f.fill,defaultOpacity:f.opacity,defaultOutsidePosition:_});var k=n.getTextContent();if(c&&k){var D=o.get(["label","position"]);n.textConfig.inside="middle"===D||null,function(E,N,z,F){if(hr(F))E.setTextConfig({rotation:F});else if(tt(N))E.setTextConfig({rotation:0});else{var q,X=E.shape,ee=X.clockwise?X.startAngle:X.endAngle,ie=X.clockwise?X.endAngle:X.startAngle,ye=(ee+ie)/2,_e=z(N);switch(_e){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":q=ye;break;case"startAngle":case"insideStartAngle":q=ee;break;case"endAngle":case"insideEndAngle":q=ie;break;default:return void E.setTextConfig({rotation:0})}var Se=1.5*Math.PI-q;"middle"===_e&&Se>Math.PI/2&&Se<1.5*Math.PI&&(Se-=Math.PI),E.setTextConfig({rotation:Se})}}(n,"outside"===D?_:D,A2(u),o.get(["label","rotate"]))}nl(k,S,a.getRawValue(e),function(E){return nk(t,E)});var E,A=o.getModel(["emphasis"]);Ds(n,A.get("focus"),A.get("blurScope"),A.get("disabled")),Fu(n,o),null!=(E=i).startAngle&&null!=E.endAngle&&E.startAngle===E.endAngle&&(n.style.fill="none",n.style.stroke="none",Te(n.states,function(E){E.style&&(E.style.fill=E.style.stroke="none")}))}var nA=function(){},D1=function(n){function t(e){var o=n.call(this,e)||this;return o.type="largeBar",o}return yt(t,n),t.prototype.getDefaultShape=function(){return new nA},t.prototype.buildPath=function(e,o){for(var i=o.points,a=this.baseDimIdx,u=1-this.baseDimIdx,c=[],f=[],h=this.barWidth,m=0;m<i.length;m+=3)f[a]=h,f[u]=i[m+2],c[a]=i[m+a],c[u]=i[m+u],e.rect(c[0],c[1],f[0],f[1])},t}(Do);function Ty(n,t,e,o){var i=n.getData(),a=i.getLayout("valueAxisHorizontal")?1:0,u=i.getLayout("largeDataIndices"),c=i.getLayout("size"),f=n.getModel("backgroundStyle"),h=i.getLayout("largeBackgroundPoints");if(h){var m=new D1({shape:{points:h},incremental:!!o,silent:!0,z2:0});m.baseDimIdx=a,m.largeDataIndices=u,m.barWidth=c,m.useStyle(f.getItemStyle()),t.add(m),e&&e.push(m)}var y=new D1({shape:{points:i.getLayout("largePoints")},incremental:!!o,ignoreCoarsePointer:!0,z2:1});y.baseDimIdx=a,y.largeDataIndices=u,y.barWidth=c,t.add(y),y.useStyle(i.getVisual("style")),fo(y).seriesIndex=n.seriesIndex,n.get("silent")||(y.on("mousedown",A1),y.on("mousemove",A1)),e&&e.push(y)}var A1=lw(function(n){var t=function(e,o,i){for(var a=e.baseDimIdx,u=1-a,c=e.shape.points,f=e.largeDataIndices,h=[],m=[],y=e.barWidth,_=0,S=c.length/3;_<S;_++){var k=3*_;if(m[a]=y,m[u]=c[k+2],h[a]=c[k+a],h[u]=c[k+u],m[u]<0&&(h[u]+=m[u],m[u]=-m[u]),o>=h[0]&&o<=h[0]+m[0]&&i>=h[1]&&i<=h[1]+m[1])return f[_]}return-1}(this,n.offsetX,n.offsetY);fo(this).dataIndex=t>=0?t:null},30,!1);function p_(n,t,e){if(rb(e,"cartesian2d")){var o=t,i=e.getArea();return{x:n?o.x:i.x,y:n?i.y:o.y,width:n?o.width:i.width,height:n?i.height:o.height}}var a=t;return{cx:(i=e.getArea()).cx,cy:i.cy,r0:n?i.r0:a.r0,r:n?i.r:a.r,startAngle:n?a.startAngle:0,endAngle:n?a.endAngle:2*Math.PI}}var I1=2*Math.PI,lv=Math.PI/180;function uS(n,t){return au(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function ck(n,t){var e=uS(n,t),o=n.get("center"),i=n.get("radius");tt(i)||(i=[0,i]);var a,u,c=Qn(e.width,t.getWidth()),f=Qn(e.height,t.getHeight()),h=Math.min(c,f),m=Qn(i[0],h/2),y=Qn(i[1],h/2),_=n.coordinateSystem;if(_){var S=_.dataToPoint(o);a=S[0]||0,u=S[1]||0}else tt(o)||(o=[o,o]),a=Qn(o[0],c)+e.x,u=Qn(o[1],f)+e.y;return{cx:a,cy:u,r0:m,r:y}}function fk(n,t,e){t.eachSeriesByType(n,function(o){var i=o.getData(),a=i.mapDimension("value"),u=uS(o,e),c=ck(o,e),f=c.cx,h=c.cy,m=c.r,y=c.r0,_=-o.get("startAngle")*lv,S=o.get("minAngle")*lv,k=0;i.each(a,function(_e){!isNaN(_e)&&k++});var D=i.getSum(a),A=Math.PI/(D||k)*2,E=o.get("clockwise"),N=o.get("roseType"),z=o.get("stillShowZeroSum"),F=i.getDataExtent(a);F[0]=0;var q=I1,X=0,ee=_,ie=E?1:-1;if(i.setLayout({viewRect:u,r:m}),i.each(a,function(_e,Se){var Ae;if(isNaN(_e))i.setItemLayout(Se,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:E,cx:f,cy:h,r0:y,r:N?NaN:m});else{(Ae="area"!==N?0===D&&z?A:_e*A:I1/k)<S?(Ae=S,q-=S):X+=_e;var Fe=ee+ie*Ae;i.setItemLayout(Se,{angle:Ae,startAngle:ee,endAngle:Fe,clockwise:E,cx:f,cy:h,r0:y,r:N?zi(_e,F,[y,m]):m}),ee=Fe}}),q<I1&&k)if(q<=.001){var ye=I1/k;i.each(a,function(_e,Se){if(!isNaN(_e)){var Ae=i.getItemLayout(Se);Ae.angle=ye,Ae.startAngle=_+ie*Se*ye,Ae.endAngle=_+ie*(Se+1)*ye}})}else A=q/X,ee=_,i.each(a,function(_e,Se){if(!isNaN(_e)){var Ae=i.getItemLayout(Se),Fe=Ae.angle===S?S:_e*A;Ae.startAngle=ee,Ae.endAngle=ee+ie*Fe,ee+=ie*Fe}})})}function Ps(n){return{seriesType:n,reset:function(t,e){var o=e.findComponents({mainType:"legend"});if(o&&o.length){var i=t.getData();i.filterSelf(function(a){for(var u=i.getName(a),c=0;c<o.length;c++)if(!o[c].isSelected(u))return!1;return!0})}}}}var I2=Math.PI/180;function lS(n,t,e,o,i,a,u,c,f,h){if(!(n.length<2)){for(var m=n.length,y=0;y<m;y++)"outer"===n[y].position&&"labelLine"===n[y].labelAlignTo&&(n[y].linePoints[1][0]+=n[y].label.x-h,n[y].label.x=h);yd(n,f,f+u)&&function(k){for(var D={list:[],maxY:0},A={list:[],maxY:0},E=0;E<k.length;E++)if("none"===k[E].labelAlignTo){var N=k[E],z=N.label.y>e?A:D,F=Math.abs(N.label.y-e);if(F>=z.maxY){var q=N.label.x-t-N.len2*i,X=o+N.len,ee=Math.abs(q)<X?Math.sqrt(F*F/(1-q*q/X/X)):X;z.rB=ee,z.maxY=F}z.list.push(N)}S(D),S(A)}(n)}function S(k){for(var D=k.rB,A=D*D,E=0;E<k.list.length;E++){var N=k.list[E],z=Math.abs(N.label.y-e),F=o+N.len,q=F*F,X=Math.sqrt((1-Math.abs(z*z/A))*q),ee=t+(X+N.len2)*i;g_(N,N.targetTextWidth-(ee-N.label.x)*i,!0),N.label.x=ee}}}function g_(n,t,e){if(void 0===e&&(e=!1),null==n.labelStyleWidth){var o=n.label,i=o.style,a=n.rect,u=i.backgroundColor,c=i.padding,f=c?c[1]+c[3]:0,h=i.overflow,m=a.width+(u?0:f);if(t<m||e){var y=a.height;if(h&&h.match("break")){o.setStyle("backgroundColor",null),o.setStyle("width",t-f);var _=o.getBoundingRect();o.setStyle("width",Math.ceil(_.width)),o.setStyle("backgroundColor",u)}else{var S=t-f;o.setStyle("width",t<m?S:e?S>n.unconstrainedWidth?null:S:null)}var D=o.getBoundingRect();a.width=D.width,a.height=D.height+((o.style.margin||0)+2.1),a.y-=(a.height-y)/2}}}function m_(n){return"center"===n.position}var JM=function(n){function t(e,o,i){var a=n.call(this)||this;a.z2=2;var u=new li;return a.setTextContent(u),a.updateData(e,o,i,!0),a}return yt(t,n),t.prototype.updateData=function(e,o,i,a){var u=this,c=e.hostModel,f=e.getItemModel(o),h=f.getModel("emphasis"),m=e.getItemLayout(o),y=Pe(oh(f.getModel("itemStyle"),m,!0),m);if(isNaN(y.startAngle))u.setShape(y);else{if(a){u.setShape(y);var _=c.getShallow("animationType");c.ecModel.ssr?(_a(u,{scaleX:0,scaleY:0},c,{dataIndex:o,isFrom:!0}),u.originX=y.cx,u.originY=y.cy):"scale"===_?(u.shape.r=m.r0,_a(u,{shape:{r:m.r}},c,o)):null!=i?(u.setShape({startAngle:i,endAngle:i}),_a(u,{shape:{startAngle:m.startAngle,endAngle:m.endAngle}},c,o)):(u.shape.endAngle=m.startAngle,io(u,{shape:{endAngle:m.endAngle}},c,o))}else Df(u),io(u,{shape:y},c,o);u.useStyle(e.getItemVisual(o,"style")),Fu(u,f);var S=(m.startAngle+m.endAngle)/2,k=c.get("selectedOffset"),D=Math.cos(S)*k,A=Math.sin(S)*k,E=f.getShallow("cursor");E&&u.attr("cursor",E),this._updateLabel(c,e,o),u.ensureState("emphasis").shape=Pe({r:m.r+(h.get("scale")&&h.get("scaleSize")||0)},oh(h.getModel("itemStyle"),m)),Pe(u.ensureState("select"),{x:D,y:A,shape:oh(f.getModel(["select","itemStyle"]),m)}),Pe(u.ensureState("blur"),{shape:oh(f.getModel(["blur","itemStyle"]),m)});var N=u.getTextGuideLine(),z=u.getTextContent();N&&Pe(N.ensureState("select"),{x:D,y:A}),Pe(z.ensureState("select"),{x:D,y:A}),Ds(this,h.get("focus"),h.get("blurScope"),h.get("disabled"))}},t.prototype._updateLabel=function(e,o,i){var a=this,u=o.getItemModel(i),c=u.getModel("labelLine"),f=o.getItemVisual(i,"style"),h=f&&f.fill,m=f&&f.opacity;Da(a,Aa(u),{labelFetcher:o.hostModel,labelDataIndex:i,inheritColor:h,defaultOpacity:m,defaultText:e.getFormattedLabel(i,"normal")||o.getName(i)});var y=a.getTextContent();a.setTextConfig({position:null,rotation:null}),y.attr({z2:10});var _=e.get(["label","position"]);if("outside"!==_&&"outer"!==_)a.removeTextGuideLine();else{var S=this.getTextGuideLine();S||(S=new ou,this.setTextGuideLine(S)),g1(this,Kw(u),{stroke:h,opacity:vn(c.get(["lineStyle","opacity"]),m,1)})}},t}(Ll),QM=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}return yt(t,n),t.prototype.render=function(e,o,i,a){var u,c=e.getData(),f=this._data,h=this.group;if(!f&&c.count()>0){for(var m=c.getItemLayout(0),y=1;isNaN(m&&m.startAngle)&&y<c.count();++y)m=c.getItemLayout(y);m&&(u=m.startAngle)}if(this._emptyCircleSector&&h.remove(this._emptyCircleSector),0===c.count()&&e.get("showEmptyCircle")){var _=new Ll({shape:ck(e,i)});_.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=_,h.add(_)}c.diff(f).add(function(S){var k=new JM(c,S,u);c.setItemGraphicEl(S,k),h.add(k)}).update(function(S,k){var D=f.getItemGraphicEl(k);D.updateData(c,S,u),D.off("click"),h.add(D),c.setItemGraphicEl(S,D)}).remove(function(S){s0(f.getItemGraphicEl(S),e,S)}).execute(),function O2(n){var t,e,o=n.getData(),i=[],a=!1,u=(n.get("minShowLabelAngle")||0)*I2,c=o.getLayout("viewRect"),f=o.getLayout("r"),h=c.width,m=c.x,y=c.y,_=c.height;function S(q){q.ignore=!0}o.each(function(q){var X=o.getItemGraphicEl(q),ee=X.shape,ie=X.getTextContent(),ye=X.getTextGuideLine(),_e=o.getItemModel(q),Se=_e.getModel("label"),Ae=Se.get("position")||_e.get(["emphasis","label","position"]),Fe=Se.get("distanceToLabelLine"),Xe=Se.get("alignTo"),nt=Qn(Se.get("edgeDistance"),h),it=Se.get("bleedMargin"),ut=_e.getModel("labelLine"),mt=ut.get("length");mt=Qn(mt,h);var Ot=ut.get("length2");if(Ot=Qn(Ot,h),Math.abs(ee.endAngle-ee.startAngle)<u)return Te(ie.states,S),ie.ignore=!0,void(ye&&(Te(ye.states,S),ye.ignore=!0));if(function(su){if(!su.ignore)return!0;for(var gf in su.states)if(!1===su.states[gf].ignore)return!0;return!1}(ie)){var Pt,Gt,kn,tr,Xt=(ee.startAngle+ee.endAngle)/2,zn=Math.cos(Xt),gr=Math.sin(Xt);t=ee.cx,e=ee.cy;var dr="inside"===Ae||"inner"===Ae;if("center"===Ae)Pt=ee.cx,Gt=ee.cy,tr="center";else{var nr=(dr?(ee.r+ee.r0)/2*zn:ee.r*zn)+t,br=(dr?(ee.r+ee.r0)/2*gr:ee.r*gr)+e;if(Pt=nr+3*zn,Gt=br+3*gr,!dr){var ur=nr+zn*(mt+f-ee.r),kr=br+gr*(mt+f-ee.r),Br=ur+(zn<0?-1:1)*Ot;Pt="edge"===Xe?zn<0?m+nt:m+h-nt:Br+(zn<0?-Fe:Fe),Gt=kr,kn=[[nr,br],[ur,kr],[Br,kr]]}tr=dr?"center":"edge"===Xe?zn>0?"right":"left":zn>0?"left":"right"}var Ro=Math.PI,Zo=0,wa=Se.get("rotate");if(hr(wa))Zo=wa*(Ro/180);else if("center"===Ae)Zo=0;else if("radial"===wa||!0===wa)Zo=zn<0?-Xt+Ro:-Xt;else if("tangential"===wa&&"outside"!==Ae&&"outer"!==Ae){var Si=Math.atan2(zn,gr);Si<0&&(Si=2*Ro+Si),gr>0&&(Si=Ro+Si),Zo=Si-Ro}if(a=!!Zo,ie.x=Pt,ie.y=Gt,ie.rotation=Zo,ie.setStyle({verticalAlign:"middle"}),dr){ie.setStyle({align:tr});var Hi=ie.states.select;Hi&&(Hi.x+=ie.x,Hi.y+=ie.y)}else{var oa=ie.getBoundingRect().clone();oa.applyTransform(ie.getComputedTransform());var qs=(ie.style.margin||0)+2.1;oa.y-=qs/2,oa.height+=qs,i.push({label:ie,labelLine:ye,position:Ae,len:mt,len2:Ot,minTurnAngle:ut.get("minTurnAngle"),maxSurfaceAngle:ut.get("maxSurfaceAngle"),surfaceNormal:new mo(zn,gr),linePoints:kn,textAlign:tr,labelDistance:Fe,labelAlignTo:Xe,edgeDistance:nt,bleedMargin:it,rect:oa,unconstrainedWidth:oa.width,labelStyleWidth:ie.style.width})}X.setTextConfig({inside:dr})}}),!a&&n.get("avoidLabelOverlap")&&function(q,X,ee,ie,ye,_e,Se,Ae){for(var Fe=[],Xe=[],nt=Number.MAX_VALUE,it=-Number.MAX_VALUE,ut=0;ut<q.length;ut++){var mt=q[ut].label;m_(q[ut])||(mt.x<X?(nt=Math.min(nt,mt.x),Fe.push(q[ut])):(it=Math.max(it,mt.x),Xe.push(q[ut])))}for(ut=0;ut<q.length;ut++)if(!m_(Gt=q[ut])&&Gt.linePoints){if(null!=Gt.labelStyleWidth)continue;mt=Gt.label;var Pt,Ot=Gt.linePoints;Gt.targetTextWidth=Pt="edge"===Gt.labelAlignTo?mt.x<X?Ot[2][0]-Gt.labelDistance-Se-Gt.edgeDistance:Se+ye-Gt.edgeDistance-Ot[2][0]-Gt.labelDistance:"labelLine"===Gt.labelAlignTo?mt.x<X?nt-Se-Gt.bleedMargin:Se+ye-it-Gt.bleedMargin:mt.x<X?mt.x-Se-Gt.bleedMargin:Se+ye-mt.x-Gt.bleedMargin,g_(Gt,Pt)}for(lS(Xe,X,ee,ie,1,0,_e,0,Ae,it),lS(Fe,X,ee,ie,-1,0,_e,0,Ae,nt),ut=0;ut<q.length;ut++){var Gt;if(!m_(Gt=q[ut])&&Gt.linePoints){var tr=(mt=Gt.label).style.padding,gr=Gt.rect.width+(mt.style.backgroundColor?0:tr?tr[1]+tr[3]:0),dr=(Ot=Gt.linePoints)[1][0]-Ot[2][0];"edge"===Gt.labelAlignTo?Ot[2][0]=mt.x<X?Se+Gt.edgeDistance+gr+Gt.labelDistance:Se+ye-Gt.edgeDistance-gr-Gt.labelDistance:(Ot[2][0]=mt.x<X?mt.x+Gt.labelDistance:mt.x-Gt.labelDistance,Ot[1][0]=Ot[2][0]+dr),Ot[1][1]=Ot[2][1]=mt.y}}}(i,t,e,f,h,_,m,y);for(var k=0;k<i.length;k++){var D=i[k],A=D.label,E=D.labelLine,N=isNaN(A.x)||isNaN(A.y);if(A){A.setStyle({align:D.textAlign}),N&&(Te(A.states,S),A.ignore=!0);var z=A.states.select;z&&(z.x+=A.x,z.y+=A.y)}if(E){var F=D.linePoints;N||!F?(Te(E.states,S),E.ignore=!0):(Zw(F,D.minTurnAngle),X0(F,D.surfaceNormal,D.maxSurfaceAngle),E.setShape({points:F}),A.__hostTarget.textGuideLineConfig={anchor:new mo(F[0][0],F[0][1])})}}}(e),"expansion"!==e.get("animationTypeUpdate")&&(this._data=c)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,o){var i=o.getData().getItemLayout(0);if(i){var a=e[0]-i.cx,u=e[1]-i.cy,c=Math.sqrt(a*a+u*u);return c<=i.r&&c>=i.r0}},t.type="pie",t}(ma);function s(n,t,e){t=tt(t)&&{coordDimensions:t}||Pe({encodeDefine:n.getEncode()},t);var o=n.getSource(),i=Ym(o,t).dimensions,a=new uc(i,n);return a.initData(o,e),a}var d=function(){function n(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return n.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},n.prototype.containName=function(t){return this._getRawData().indexOfName(t)>=0},n.prototype.indexOfName=function(t){return this._getDataWithEncodedVisual().indexOfName(t)},n.prototype.getItemVisual=function(t,e){return this._getDataWithEncodedVisual().getItemVisual(t,e)},n}(),v=Qo(),w=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return yt(t,n),t.prototype.init=function(e){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new d(Bn(this.getData,this),Bn(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.mergeOption=function(){n.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return s(this,{coordDimensions:["value"],encodeDefaulter:cr(Lt,this)})},t.prototype.getDataParams=function(e){var o=this.getData(),i=v(o),a=i.seats;if(!a){var u=[];o.each(o.mapDimension("value"),function(f){u.push(f)}),a=i.seats=ml(u,o.hostModel.get("percentPrecision"))}var c=n.prototype.getDataParams.call(this,e);return c.percent=a[e]||0,c.$vars.push("percent"),c},t.prototype._defaultLabelLine=function(e){Ta(e,"labelLine",["show"]);var o=e.labelLine,i=e.emphasis.labelLine;o.show=o.show&&e.label.show,i.show=i.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(ga),M=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return yt(t,n),t.prototype.getInitialData=function(e,o){return Ag(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var e=this.option.progressive;return null==e?this.option.large?5e3:this.get("progressive"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?1e4:this.get("progressiveThreshold"):e},t.prototype.brushSelector=function(e,o,i){return i.point(o.getItemLayout(e))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},t}(ga),O=function(){},L=function(n){function t(e){var o=n.call(this,e)||this;return o._off=0,o.hoverDataIdx=-1,o}return yt(t,n),t.prototype.getDefaultShape=function(){return new O},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(e,o){var i,a=o.points,u=o.size,c=this.symbolProxy,f=c.shape,h=e.getContext?e.getContext():e,y=this.softClipShape;if(h&&u[0]<4)this._ctx=h;else{for(this._ctx=null,i=this._off;i<a.length;){var _=a[i++],S=a[i++];isNaN(_)||isNaN(S)||y&&!y.contain(_,S)||(f.x=_-u[0]/2,f.y=S-u[1]/2,f.width=u[0],f.height=u[1],c.buildPath(e,f,!0))}this.incremental&&(this._off=i,this.notClear=!0)}},t.prototype.afterBrush=function(){var e,o=this.shape,i=o.points,a=o.size,u=this._ctx,c=this.softClipShape;if(u){for(e=this._off;e<i.length;){var f=i[e++],h=i[e++];isNaN(f)||isNaN(h)||c&&!c.contain(f,h)||u.fillRect(f-a[0]/2,h-a[1]/2,a[0],a[1])}this.incremental&&(this._off=e,this.notClear=!0)}},t.prototype.findDataIndex=function(e,o){for(var i=this.shape,a=i.points,u=i.size,c=Math.max(u[0],4),f=Math.max(u[1],4),h=a.length/2-1;h>=0;h--){var m=2*h,y=a[m]-c/2,_=a[m+1]-f/2;if(e>=y&&o>=_&&e<=y+c&&o<=_+f)return h}return-1},t.prototype.contain=function(e,o){var i=this.transformCoordToLocal(e,o);return this.getBoundingRect().contain(e=i[0],o=i[1])?(this.hoverDataIdx=this.findDataIndex(e,o))>=0:(this.hoverDataIdx=-1,!1)},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var o=this.shape,i=o.points,a=o.size,u=a[0],c=a[1],f=1/0,h=1/0,m=-1/0,y=-1/0,_=0;_<i.length;){var S=i[_++],k=i[_++];f=Math.min(S,f),m=Math.max(S,m),h=Math.min(k,h),y=Math.max(k,y)}e=this._rect=new To(f-u/2,h-c/2,m-f+u,y-h+c)}return e},t}(Do),B=function(){function n(){this.group=new lo}return n.prototype.updateData=function(t,e){this._clear();var o=this._create();o.setShape({points:t.getLayout("points")}),this._setCommon(o,t,e)},n.prototype.updateLayout=function(t){var e=t.getLayout("points");this.group.eachChild(function(o){null!=o.startIndex&&(e=new Float32Array(e.buffer,4*o.startIndex*2,2*(o.endIndex-o.startIndex))),o.setShape("points",e),o.reset()})},n.prototype.incrementalPrepareUpdate=function(t){this._clear()},n.prototype.incrementalUpdate=function(t,e,o){var i=this._newAdded[0],a=e.getLayout("points"),u=i&&i.shape.points;if(u&&u.length<2e4){var c=u.length,f=new Float32Array(c+a.length);f.set(u),f.set(a,c),i.endIndex=t.end,i.setShape({points:f})}else{this._newAdded=[];var h=this._create();h.startIndex=t.start,h.endIndex=t.end,h.incremental=!0,h.setShape({points:a}),this._setCommon(h,e,o)}},n.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},n.prototype._create=function(){var t=new L({cursor:"default"});return t.ignoreCoarsePointer=!0,this.group.add(t),this._newAdded.push(t),t},n.prototype._setCommon=function(t,e,o){var i=e.hostModel;o=o||{};var a=e.getVisual("symbolSize");t.setShape("size",a instanceof Array?a:[a,a]),t.softClipShape=o.clipShape||null,t.symbolProxy=Hu(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var u=t.shape.size[0]<4;t.useStyle(i.getModel("itemStyle").getItemStyle(u?["color","shadowBlur","shadowColor"]:["color"]));var c=e.getVisual("style"),f=c&&c.fill;f&&t.setColor(f);var h=fo(t);h.seriesIndex=i.seriesIndex,t.on("mousemove",function(m){h.dataIndex=null;var y=t.hoverDataIdx;y>=0&&(h.dataIndex=y+(t.startIndex||0))})},n.prototype.remove=function(){this._clear()},n.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},n}(),G=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.render=function(e,o,i){var a=e.getData();this._updateSymbolDraw(a,e).updateData(a,{clipShape:this._getClipShape(e)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(e,o,i){var a=e.getData();this._updateSymbolDraw(a,e).incrementalPrepareUpdate(a),this._finished=!1},t.prototype.incrementalRender=function(e,o,i){this._symbolDraw.incrementalUpdate(e,o.getData(),{clipShape:this._getClipShape(o)}),this._finished=e.end===o.getData().count()},t.prototype.updateTransform=function(e,o,i){var a=e.getData();if(this.group.dirty(),!this._finished||a.count()>1e4)return{update:!0};var u=My("").reset(e,o,i);u.progress&&u.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout(a)},t.prototype.eachRendered=function(e){this._symbolDraw&&this._symbolDraw.eachRendered(e)},t.prototype._getClipShape=function(e){var o=e.coordinateSystem,i=o&&o.getArea&&o.getArea();return e.get("clip",!0)?i:null},t.prototype._updateSymbolDraw=function(e,o){var i=this._symbolDraw,a=o.pipelineContext.large;return i&&a===this._isLargeDraw||(i&&i.remove(),i=this._symbolDraw=a?new B:new tb,this._isLargeDraw=a,this.group.removeAll()),this.group.add(i.group),i},t.prototype.remove=function(e,o){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(ma),W=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return yt(t,n),t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(H),re=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return yt(t,n),t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",vu).models[0]},t.type="cartesian2dAxis",t}(H);_r(re,j0);var $={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},ue=Ve({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},$),pe=Ve({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},$),be={category:ue,value:pe,time:Ve({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},pe),log:ht({logBase:10},pe)},we={value:1,category:1,time:1,log:1};function Me(n,t,e,o){Te(we,function(i,a){var u=Ve(Ve({},be[a],!0),o,!0),c=function(f){function h(){var m=null!==f&&f.apply(this,arguments)||this;return m.type=t+"Axis."+a,m}return yt(h,f),h.prototype.mergeDefaultAndTheme=function(m,y){var _=Sp(this),S=_?_g(m):{};Ve(m,y.getTheme().get(a+"Axis")),Ve(m,this.getDefaultOption()),m.type=ke(m),_&&xg(m,S,_)},h.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=F0.createByAxisModel(this))},h.prototype.getCategories=function(m){var y=this.option;if("category"===y.type)return m?y.data:this.__ordinalMeta.categories},h.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},h.type=t+"Axis."+a,h.defaultOption=u,h}(e);n.registerComponentModel(c)}),n.registerSubTypeDefaulter(t+"Axis",ke)}function ke(n){return n.type||(n.data?"category":"value")}var Ne=function(){function n(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return n.prototype.getAxis=function(t){return this._axes[t]},n.prototype.getAxes=function(){return It(this._dimList,function(t){return this._axes[t]},this)},n.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),Lr(this.getAxes(),function(e){return e.scale.type===t})},n.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},n}(),je=["x","y"];function ct(n){return"interval"===n.type||"time"===n.type}var Dt=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=je,e}return yt(t,n),t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale,o=this.getAxis("y").scale;if(ct(e)&&ct(o)){var i=e.getExtent(),a=o.getExtent(),u=this.dataToPoint([i[0],a[0]]),c=this.dataToPoint([i[1],a[1]]),f=i[1]-i[0],h=a[1]-a[0];if(f&&h){var m=(c[0]-u[0])/f,y=(c[1]-u[1])/h,k=this._transform=[m,0,0,y,u[0]-i[0]*m,u[1]-a[0]*y];this._invTransform=Ut([],k)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(e){var o=this.getAxis("x"),i=this.getAxis("y");return o.contain(o.toLocalCoord(e[0]))&&i.contain(i.toLocalCoord(e[1]))},t.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},t.prototype.containZone=function(e,o){var i=this.dataToPoint(e),a=this.dataToPoint(o),u=this.getArea(),c=new To(i[0],i[1],a[0]-i[0],a[1]-i[1]);return u.intersect(c)},t.prototype.dataToPoint=function(e,o,i){i=i||[];var a=e[0],u=e[1];if(this._transform&&null!=a&&isFinite(a)&&null!=u&&isFinite(u))return En(i,e,this._transform);var c=this.getAxis("x"),f=this.getAxis("y");return i[0]=c.toGlobalCoord(c.dataToCoord(a,o)),i[1]=f.toGlobalCoord(f.dataToCoord(u,o)),i},t.prototype.clampData=function(e,o){var i=this.getAxis("x").scale,a=this.getAxis("y").scale,u=i.getExtent(),c=a.getExtent(),f=i.parse(e[0]),h=a.parse(e[1]);return(o=o||[])[0]=Math.min(Math.max(Math.min(u[0],u[1]),f),Math.max(u[0],u[1])),o[1]=Math.min(Math.max(Math.min(c[0],c[1]),h),Math.max(c[0],c[1])),o},t.prototype.pointToData=function(e,o){var i=[];if(this._invTransform)return En(i,e,this._invTransform);var a=this.getAxis("x"),u=this.getAxis("y");return i[0]=a.coordToData(a.toLocalCoord(e[0]),o),i[1]=u.coordToData(u.toLocalCoord(e[1]),o),i},t.prototype.getOtherAxis=function(e){return this.getAxis("x"===e.dim?"y":"x")},t.prototype.getArea=function(){var e=this.getAxis("x").getGlobalExtent(),o=this.getAxis("y").getGlobalExtent(),i=Math.min(e[0],e[1]),a=Math.min(o[0],o[1]),u=Math.max(e[0],e[1])-i,c=Math.max(o[0],o[1])-a;return new To(i,a,u,c)},t}(Ne),Ye=function(n){function t(e,o,i,a,u){var c=n.call(this,e,o,i)||this;return c.index=0,c.type=a||"value",c.position=u||"bottom",c}return yt(t,n),t.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},t.prototype.getGlobalExtent=function(e){var o=this.getExtent();return o[0]=this.toGlobalCoord(o[0]),o[1]=this.toGlobalCoord(o[1]),e&&o[0]>o[1]&&o.reverse(),o},t.prototype.pointToData=function(e,o){return this.coordToData(this.toLocalCoord(e["x"===this.dim?0:1]),o)},t.prototype.setCategorySortInfo=function(e){if("category"!==this.type)return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},t}(gd);function rt(n,t,e){e=e||{};var o=n.coordinateSystem,i=t.axis,a={},u=i.getAxesOnZeroOf()[0],c=i.position,f=u?"onZero":c,h=i.dim,m=o.getRect(),y=[m.x,m.x+m.width,m.y,m.y+m.height],_={left:0,right:1,top:0,bottom:1,onZero:2},S=t.get("offset")||0,k="x"===h?[y[2]-S,y[3]+S]:[y[0]-S,y[1]+S];if(u){var D=u.toGlobalCoord(u.dataToCoord(0));k[_.onZero]=Math.max(Math.min(D,k[1]),k[0])}a.position=["y"===h?k[_[f]]:y[0],"x"===h?k[_[f]]:y[3]],a.rotation=Math.PI/2*("x"===h?0:1),a.labelDirection=a.tickDirection=a.nameDirection={top:-1,bottom:1,left:-1,right:1}[c],a.labelOffset=u?k[_[c]]-k[_.onZero]:0,t.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),ar(e.labelInside,t.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var A=t.get(["axisLabel","rotate"]);return a.labelRotate="top"===f?-A:A,a.z2=1,a}function dt(n){return"cartesian2d"===n.get("coordinateSystem")}function Vt(n){var t={xAxisModel:null,yAxisModel:null};return Te(t,function(e,o){var i=o.replace(/Model$/,""),a=n.getReferringComponents(i,vu).models[0];t[o]=a}),t}var Zt=Math.log;function ln(n,t,e){var o=Km.prototype,i=o.getTicks.call(e),a=o.getTicks.call(e,!0),u=i.length-1,c=o.getInterval.call(e),f=Vw(n,t),h=f.extent,m=f.fixMin,y=f.fixMax;if("log"===n.type){var _=Zt(n.base);h=[Zt(h[0])/_,Zt(h[1])/_]}n.setExtent(h[0],h[1]),n.calcNiceExtent({splitNumber:u,fixMin:m,fixMax:y});var S=o.getExtent.call(n);m&&(h[0]=S[0]),y&&(h[1]=S[1]);var k=o.getInterval.call(n),D=h[0],A=h[1];if(m&&y)k=(A-D)/u;else if(m)for(A=h[0]+k*u;A<h[1]&&isFinite(A)&&isFinite(h[1]);)k=Xm(k),A=h[0]+k*u;else if(y)for(D=h[1]-k*u;D>h[0]&&isFinite(D)&&isFinite(h[0]);)k=Xm(k),D=h[1]-k*u;else{n.getTicks().length-1>u&&(k=Xm(k));var E=k*u;(D=ri((A=Math.ceil(h[1]/k)*k)-E))<0&&h[0]>=0?(D=0,A=ri(E)):A>0&&h[1]<=0&&(A=0,D=-ri(E))}var N=(i[0].value-a[0].value)/c,z=(i[u].value-a[u].value)/c;o.setExtent.call(n,D+k*N,A+k*z),o.setInterval.call(n,k),(N||z)&&o.setNiceExtent.call(n,D+k,A-k)}var on=function(){function n(t,e,o){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=je,this._initCartesian(t,e,o),this.model=t}return n.prototype.getRect=function(){return this._rect},n.prototype.update=function(t,e){var o=this._axesMap;function i(u){var c,f=Zn(u),h=f.length;if(h){for(var m=[],y=h-1;y>=0;y--){var _=u[+f[y]],S=_.model,k=_.scale;Dp(k)&&S.get("alignTicks")&&null==S.get("interval")?m.push(_):(Oh(k,S),Dp(k)&&(c=_))}m.length&&(c||Oh((c=m.pop()).scale,c.model),Te(m,function(D){ln(D.scale,D.model,c.scale)}))}}this._updateScale(t,this.model),i(o.x),i(o.y);var a={};Te(o.x,function(u){At(o,"y",u,a)}),Te(o.y,function(u){At(o,"x",u,a)}),this.resize(this.model,e)},n.prototype.resize=function(t,e,o){var i=t.getBoxLayoutParams(),a=!o&&t.get("containLabel"),u=au(i,{width:e.getWidth(),height:e.getHeight()});this._rect=u;var c=this._axesList;function f(){Te(c,function(h){var S,k,D,A,m=h.isHorizontal(),y=m?[0,u.width]:[0,u.height],_=h.inverse?1:0;h.setExtent(y[_],y[1-_]),k=m?u.x:u.y,D=(S=h).getExtent(),A=D[0]+D[1],S.toGlobalCoord="x"===S.dim?function(E){return E+k}:function(E){return A-E+k},S.toLocalCoord="x"===S.dim?function(E){return E-k}:function(E){return A-E+k}})}f(),a&&(Te(c,function(h){if(!h.model.get(["axisLabel","inside"])){var m=function(S){var D=S.scale;if(S.model.get(["axisLabel","show"])&&!D.isBlank()){var A,E,N=D.getExtent();E=D instanceof V0?D.count():(A=D.getTicks()).length;var z,F=S.getLabelModel(),q=rv(S),X=1;E>40&&(X=Math.ceil(E/40));for(var ee=0;ee<E;ee+=X){var ie=q(A?A[ee]:{value:N[0]+ee},ee),ye=xM(F.getTextRect(ie),F.get("rotate")||0);z?z.union(ye):z=ye}return z}}(h);if(m){var y=h.isHorizontal()?"height":"width",_=h.model.get(["axisLabel","margin"]);u[y]-=m[y]+_,"top"===h.position?u.y+=m.height+_:"left"===h.position&&(u.x+=m.width+_)}}}),f()),Te(this._coordsList,function(h){h.calcAffineTransform()})},n.prototype.getAxis=function(t,e){var o=this._axesMap[t];if(null!=o)return o[e||0]},n.prototype.getAxes=function(){return this._axesList.slice()},n.prototype.getCartesian=function(t,e){if(null!=t&&null!=e)return this._coordsMap["x"+t+"y"+e];fr(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var i=0,a=this._coordsList;i<a.length;i++)if(a[i].getAxis("x").index===t||a[i].getAxis("y").index===e)return a[i]},n.prototype.getCartesians=function(){return this._coordsList.slice()},n.prototype.convertToPixel=function(t,e,o){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.dataToPoint(o):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(o)):null},n.prototype.convertFromPixel=function(t,e,o){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.pointToData(o):i.axis?i.axis.coordToData(i.axis.toLocalCoord(o)):null},n.prototype._findConvertTarget=function(t){var e,o,i=t.seriesModel,a=t.xAxisModel||i&&i.getReferringComponents("xAxis",vu).models[0],u=t.yAxisModel||i&&i.getReferringComponents("yAxis",vu).models[0],c=t.gridModel;return i?jt(this._coordsList,e=i.coordinateSystem)<0&&(e=null):a&&u?e=this.getCartesian(a.componentIndex,u.componentIndex):a?o=this.getAxis("x",a.componentIndex):u?o=this.getAxis("y",u.componentIndex):c&&c.coordinateSystem===this&&(e=this._coordsList[0]),{cartesian:e,axis:o}},n.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},n.prototype._initCartesian=function(t,e,o){var i=this,a=this,u={left:!1,right:!1,top:!1,bottom:!1},c={x:{},y:{}},f={x:0,y:0};if(e.eachComponent("xAxis",h("x"),this),e.eachComponent("yAxis",h("y"),this),!f.x||!f.y)return this._axesMap={},void(this._axesList=[]);function h(m){return function(y,_){if(Mt(y,t)){var S=y.get("position");"x"===m?"top"!==S&&"bottom"!==S&&(S=u.bottom?"top":"bottom"):"left"!==S&&"right"!==S&&(S=u.left?"right":"left"),u[S]=!0;var k=new Ye(m,G0(y),[0,0],y.get("type"),S);k.onBand="category"===k.type&&y.get("boundaryGap"),k.inverse=y.get("inverse"),y.axis=k,k.model=y,k.grid=a,k.index=_,a._axesList.push(k),c[m][_]=k,f[m]++}}}this._axesMap=c,Te(c.x,function(m,y){Te(c.y,function(_,S){var k="x"+y+"y"+S,D=new Dt(k);D.master=i,D.model=t,i._coordsMap[k]=D,i._coordsList.push(D),D.addAxis(m),D.addAxis(_)})})},n.prototype._updateScale=function(t,e){function o(i,a){Te(e_(i,a.dim),function(u){a.scale.unionExtentFromData(i,u)})}Te(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),"category"===i.type){var a=i.model.get("categorySortInfo");i.scale.setSortInfo(a)}}),t.eachSeries(function(i){if(dt(i)){var a=Vt(i),u=a.xAxisModel,c=a.yAxisModel;if(!Mt(u,e)||!Mt(c,e))return;var f=this.getCartesian(u.componentIndex,c.componentIndex),h=i.getData(),m=f.getAxis("x"),y=f.getAxis("y");o(h,m),o(h,y)}},this)},n.prototype.getTooltipAxes=function(t){var e=[],o=[];return Te(this.getCartesians(),function(i){var a=null!=t&&"auto"!==t?i.getAxis(t):i.getBaseAxis(),u=i.getOtherAxis(a);jt(e,a)<0&&e.push(a),jt(o,u)<0&&o.push(u)}),{baseAxes:e,otherAxes:o}},n.create=function(t,e){var o=[];return t.eachComponent("grid",function(i,a){var u=new n(i,t,e);u.name="grid_"+a,u.resize(i,e,!0),i.coordinateSystem=u,o.push(u)}),t.eachSeries(function(i){if(dt(i)){var a=Vt(i),u=a.xAxisModel,c=a.yAxisModel,f=u.getCoordSysModel();i.coordinateSystem=f.coordinateSystem.getCartesian(u.componentIndex,c.componentIndex)}}),o},n.dimensions=je,n}();function Mt(n,t){return n.getCoordSysModel()===t}function At(n,t,e,o){e.getAxesOnZeroOf=function(){return i?[i]:[]};var i,a=n[t],u=e.model,c=u.get(["axisLine","onZero"]),f=u.get(["axisLine","onZeroAxisIndex"]);if(c){if(null!=f)zt(a[f])&&(i=a[f]);else for(var h in a)if(a.hasOwnProperty(h)&&zt(a[h])&&!o[m(a[h])]){i=a[h];break}i&&(o[m(i)]=!0)}function m(y){return y.dim+"_"+y.index}}function zt(n){return n&&"category"!==n.type&&"time"!==n.type&&function(t){var e=t.scale.getExtent(),o=e[0],i=e[1];return!(o>0&&i>0||o<0&&i<0)}(n)}var tn=Math.PI,On=function(){function n(t,e){this.group=new lo,this.opt=e,this.axisModel=t,ht(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var o=new lo({x:e.position[0],y:e.position[1],rotation:e.rotation});o.updateTransform(),this._transformGroup=o}return n.prototype.hasBuilder=function(t){return!!er[t]},n.prototype.add=function(t){er[t](this.opt,this.axisModel,this.group,this._transformGroup)},n.prototype.getGroup=function(){return this.group},n.innerTextLayout=function(t,e,o){var i,a,u=Ms(e-t);return Jh(u)?(a=o>0?"top":"bottom",i="center"):Jh(u-tn)?(a=o>0?"bottom":"top",i="center"):(a="middle",i=u>0&&u<tn?o>0?"right":"left":o>0?"left":"right"),{rotation:u,textAlign:i,textVerticalAlign:a}},n.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},n.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},n}(),er={axisLine:function(n,t,e,o){var i=t.get(["axisLine","show"]);if("auto"===i&&n.handleAutoShown&&(i=n.handleAutoShown("axisLine")),i){var a=t.axis.getExtent(),u=o.transform,c=[a[0],0],f=[a[1],0],h=c[0]>f[0];u&&(En(c,c,u),En(f,f,u));var m=Pe({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),y=new Ws({shape:{x1:c[0],y1:c[1],x2:f[0],y2:f[1]},style:m,strokeContainThreshold:n.strokeContainThreshold||5,silent:!0,z2:1});Af(y.shape,y.style.lineWidth),y.anid="line",e.add(y);var _=t.get(["axisLine","symbol"]);if(null!=_){var S=t.get(["axisLine","symbolSize"]);Un(_)&&(_=[_,_]),(Un(S)||hr(S))&&(S=[S,S]);var k=Zb(t.get(["axisLine","symbolOffset"])||0,S),D=S[0],A=S[1];Te([{rotate:n.rotation+Math.PI/2,offset:k[0],r:0},{rotate:n.rotation-Math.PI/2,offset:k[1],r:Math.sqrt((c[0]-f[0])*(c[0]-f[0])+(c[1]-f[1])*(c[1]-f[1]))}],function(E,N){if("none"!==_[N]&&null!=_[N]){var z=Hu(_[N],-D/2,-A/2,D,A,m.stroke,!0),F=E.r+E.offset,q=h?f:c;z.attr({rotation:E.rotate,x:q[0]+F*Math.cos(n.rotation),y:q[1]-F*Math.sin(n.rotation),silent:!0,z2:11}),e.add(z)}})}}},axisTickLabel:function(n,t,e,o){var i=function(u,c,f,h){var m=f.axis,y=f.getModel("axisTick"),_=y.get("show");if("auto"===_&&h.handleAutoShown&&(_=h.handleAutoShown("axisTick")),_&&!m.scale.isBlank()){for(var S=y.getModel("lineStyle"),k=h.tickDirection*y.get("length"),D=Yn(m.getTicksCoords(),c.transform,k,ht(S.getLineStyle(),{stroke:f.get(["axisLine","lineStyle","color"])}),"ticks"),A=0;A<D.length;A++)u.add(D[A]);return D}}(e,o,t,n),a=function(u,c,f,h){var m=f.axis;if(ar(h.axisLabelShow,f.get(["axisLabel","show"]))&&!m.scale.isBlank()){var _=f.getModel("axisLabel"),S=_.get("margin"),k=m.getViewLabels(),D=(ar(h.labelRotate,_.get("rotate"))||0)*tn/180,A=On.innerTextLayout(h.rotation,D,h.labelDirection),E=f.getCategories&&f.getCategories(!0),N=[],z=On.isLabelSilent(f),F=f.get("triggerEvent");return Te(k,function(q,X){var ee="ordinal"===m.scale.type?m.scale.getRawOrdinalNumber(q.tickValue):q.tickValue,ie=q.formattedLabel,ye=q.rawLabel,_e=_;if(E&&E[ee]){var Se=E[ee];fr(Se)&&Se.textStyle&&(_e=new Pi(Se.textStyle,_,f.ecModel))}var Ae=_e.getTextColor()||f.get(["axisLine","lineStyle","color"]),Fe=m.dataToCoord(ee),Xe=new li({x:Fe,y:h.labelOffset+h.labelDirection*S,rotation:A.rotation,silent:z,z2:10+(q.level||0),style:yi(_e,{text:ie,align:_e.getShallow("align",!0)||A.textAlign,verticalAlign:_e.getShallow("verticalAlign",!0)||_e.getShallow("baseline",!0)||A.textVerticalAlign,fill:hn(Ae)?Ae("category"===m.type?ye:"value"===m.type?ee+"":ee,X):Ae})});if(Xe.anid="label_"+ee,F){var nt=On.makeAxisEventDataBase(f);nt.targetType="axisLabel",nt.value=ye,nt.tickIndex=X,"category"===m.type&&(nt.dataIndex=ee),fo(Xe).eventData=nt}c.add(Xe),Xe.updateTransform(),N.push(Xe),u.add(Xe),Xe.decomposeTransform()}),N}}(e,o,t,n);(function(u,c,f){if(!U0(u.axis)){var h=u.get(["axisLabel","showMinLabel"]),m=u.get(["axisLabel","showMaxLabel"]),y=(c=c||[])[0],_=c[1],S=c[c.length-1],k=c[c.length-2],D=(f=f||[])[0],A=f[1],E=f[f.length-1],N=f[f.length-2];!1===h?(An(y),An(D)):Xn(y,_)&&(h?(An(_),An(A)):(An(y),An(D))),!1===m?(An(S),An(E)):Xn(k,S)&&(m?(An(k),An(N)):(An(S),An(E)))}})(t,a,i),function(u,c,f,h){var m=f.axis,y=f.getModel("minorTick");if(y.get("show")&&!m.scale.isBlank()){var _=m.getMinorTicksCoords();if(_.length)for(var S=y.getModel("lineStyle"),k=h*y.get("length"),D=ht(S.getLineStyle(),ht(f.getModel("axisTick").getLineStyle(),{stroke:f.get(["axisLine","lineStyle","color"])})),A=0;A<_.length;A++)for(var E=Yn(_[A],c.transform,k,D,"minorticks_"+A),N=0;N<E.length;N++)u.add(E[N])}}(e,o,t,n.tickDirection),t.get(["axisLabel","hideOverlap"])&&OM(K0(It(a,function(u){return{label:u,priority:u.z2,defaultAttr:{ignore:u.ignore}}})))},axisName:function(n,t,e,o){var X,ie,ye,_e,Se,Ae,Fe,i=ar(n.axisName,t.get("name"));if(i){var a,u,c=t.get("nameLocation"),f=n.nameDirection,h=t.getModel("nameTextStyle"),m=t.get("nameGap")||0,y=t.axis.getExtent(),_=y[0]>y[1]?-1:1,S=["start"===c?y[0]-_*m:"end"===c?y[1]+_*m:(y[0]+y[1])/2,Fn(c)?n.labelOffset+f*m:0],k=t.get("nameRotate");null!=k&&(k=k*tn/180),Fn(c)?a=On.innerTextLayout(n.rotation,null!=k?k:n.rotation,f):(X=c,ie=y,Se=Ms((k||0)-n.rotation),Ae=ie[0]>ie[1],Fe="start"===X&&!Ae||"start"!==X&&Ae,Jh(Se-tn/2)?(_e=Fe?"bottom":"top",ye="center"):Jh(Se-1.5*tn)?(_e=Fe?"top":"bottom",ye="center"):(_e="middle",ye=Se<1.5*tn&&Se>tn/2?Fe?"left":"right":Fe?"right":"left"),a={rotation:Se,textAlign:ye,textVerticalAlign:_e},null!=(u=n.axisNameAvailableWidth)&&(u=Math.abs(u/Math.sin(a.rotation)),!isFinite(u)&&(u=null)));var D=h.getFont(),A=t.get("nameTruncate",!0)||{},E=A.ellipsis,N=ar(n.nameTruncateMaxWidth,A.maxWidth,u),z=new li({x:S[0],y:S[1],rotation:a.rotation,silent:On.isLabelSilent(t),style:yi(h,{text:i,font:D,overflow:"truncate",width:N,ellipsis:E,fill:h.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:h.get("align")||a.textAlign,verticalAlign:h.get("verticalAlign")||a.textVerticalAlign}),z2:1});if(As({el:z,componentModel:t,itemName:i}),z.__fullText=i,z.anid="name",t.get("triggerEvent")){var F=On.makeAxisEventDataBase(t);F.targetType="axisName",F.name=i,fo(z).eventData=F}o.add(z),z.updateTransform(),e.add(z),z.decomposeTransform()}}};function An(n){n&&(n.ignore=!0)}function Xn(n,t){var e=n&&n.getBoundingRect().clone(),o=t&&t.getBoundingRect().clone();if(e&&o){var i=Ry([]);return Ul(i,i,-n.rotation),e.applyTransform(Wr([],i,n.getLocalTransform())),o.applyTransform(Wr([],i,t.getLocalTransform())),e.intersect(o)}}function Fn(n){return"middle"===n||"center"===n}function Yn(n,t,e,o,i){for(var a=[],u=[],c=[],f=0;f<n.length;f++){var h=n[f].coord;u[0]=h,u[1]=0,c[0]=h,c[1]=e,t&&(En(u,u,t),En(c,c,t));var m=new Ws({shape:{x1:u[0],y1:u[1],x2:c[0],y2:c[1]},style:o,z2:2,autoBatch:!0,silent:!0});Af(m.shape,m.style.lineWidth),m.anid=i+"_"+n[f].tickValue,a.push(m)}return a}function xr(n,t){return"all"===n||tt(n)&&jt(n,t)>=0||n===t}function Tn(n){var t=pr(n);if(t){var e=t.axisPointerModel,o=t.axis.scale,i=e.option,a=e.get("status"),u=e.get("value");null!=u&&(u=o.parse(u));var c=Hn(e);null==a&&(i.status=c?"show":"hide");var f=o.getExtent().slice();f[0]>f[1]&&f.reverse(),(null==u||u>f[1])&&(u=f[1]),u<f[0]&&(u=f[0]),i.value=u,c&&(i.status=t.axis.scale.isBlank()?"hide":"show")}}function pr(n){var t=(n.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[Tr(n)]}function Hn(n){return!!n.get(["handle","show"])}function Tr(n){return n.type+"||"+n.id}var Dr={},Ao=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.render=function(e,o,i,a){this.axisPointerClass&&Tn(e),n.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,i,!0)},t.prototype.updateAxisPointer=function(e,o,i,a){this._doUpdateAxisPointerClass(e,i,!1)},t.prototype.remove=function(e,o){var i=this._axisPointer;i&&i.remove(o)},t.prototype.dispose=function(e,o){this._disposeAxisPointer(o),n.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(e,o,i){var f,a=t.getAxisPointerClass(this.axisPointerClass);if(a){var u=(f=pr(e))&&f.axisPointerModel;u?(this._axisPointer||(this._axisPointer=new a)).render(e,u,o,i):this._disposeAxisPointer(o)}},t.prototype._disposeAxisPointer=function(e){this._axisPointer&&this._axisPointer.dispose(e),this._axisPointer=null},t.registerAxisPointerClass=function(e,o){Dr[e]=o},t.getAxisPointerClass=function(e){return e&&Dr[e]},t.type="axis",t}(Ga),gt=Qo();function Et(n,t,e,o){var i=e.axis;if(!i.scale.isBlank()){var a=e.getModel("splitArea"),u=a.getModel("areaStyle"),c=u.get("color"),f=o.coordinateSystem.getRect(),h=i.getTicksCoords({tickModel:a,clamp:!0});if(h.length){var m=c.length,y=gt(n).splitAreaColors,_=Ir(),S=0;if(y)for(var k=0;k<h.length;k++){var D=y.get(h[k].tickValue);if(null!=D){S=(D+(m-1)*k)%m;break}}var A=i.toGlobalCoord(h[0].coord),E=u.getAreaStyle();for(c=tt(c)?c:[c],k=1;k<h.length;k++){var N=i.toGlobalCoord(h[k].coord),z=void 0,F=void 0,q=void 0,X=void 0;i.isHorizontal()?(F=f.y,X=f.height,A=(z=A)+(q=N-z)):(z=f.x,q=f.width,A=(F=A)+(X=N-F));var ee=h[k-1].tickValue;null!=ee&&_.set(ee,S),t.add(new oi({anid:null!=ee?"area_"+ee:null,shape:{x:z,y:F,width:q,height:X},style:ht({fill:c[S]},E),autoBatch:!0,silent:!0})),S=(S+1)%m}gt(n).splitAreaColors=_}}}function mn(n){gt(n).splitAreaColors=null}var Nn=["axisLine","axisTickLabel","axisName"],wn=["splitArea","splitLine","minorSplitLine"],or=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="CartesianAxisPointer",e}return yt(t,n),t.prototype.render=function(e,o,i,a){this.group.removeAll();var u=this._axisGroup;if(this._axisGroup=new lo,this.group.add(this._axisGroup),e.get("show")){var c=e.getCoordSysModel(),f=rt(c,e),h=new On(e,Pe({handleAutoShown:function(m){for(var y=c.coordinateSystem.getCartesians(),_=0;_<y.length;_++)if(Dp(y[_].getOtherAxis(e.axis).scale))return!0;return!1}},f));Te(Nn,h.add,h),this._axisGroup.add(h.getGroup()),Te(wn,function(m){e.get([m,"show"])&&$r[m](this,this._axisGroup,e,c)},this),a&&"changeAxisOrder"===a.type&&a.isInitSort||ko(u,this._axisGroup,e),n.prototype.render.call(this,e,o,i,a)}},t.prototype.remove=function(){mn(this)},t.type="cartesianAxis",t}(Ao),$r={splitLine:function(n,t,e,o){var i=e.axis;if(!i.scale.isBlank()){var a=e.getModel("splitLine"),u=a.getModel("lineStyle"),c=u.get("color");c=tt(c)?c:[c];for(var f=o.coordinateSystem.getRect(),h=i.isHorizontal(),m=0,y=i.getTicksCoords({tickModel:a}),_=[],S=[],k=u.getLineStyle(),D=0;D<y.length;D++){var A=i.toGlobalCoord(y[D].coord);h?(_[0]=A,_[1]=f.y,S[0]=A,S[1]=f.y+f.height):(_[0]=f.x,_[1]=A,S[0]=f.x+f.width,S[1]=A);var E=m++%c.length,z=new Ws({anid:null!=y[D].tickValue?"line_"+y[D].tickValue:null,autoBatch:!0,shape:{x1:_[0],y1:_[1],x2:S[0],y2:S[1]},style:ht({stroke:c[E]},k),silent:!0});Af(z.shape,k.lineWidth),t.add(z)}}},minorSplitLine:function(n,t,e,o){var i=e.axis,a=e.getModel("minorSplitLine").getModel("lineStyle"),u=o.coordinateSystem.getRect(),c=i.isHorizontal(),f=i.getMinorTicksCoords();if(f.length)for(var h=[],m=[],y=a.getLineStyle(),_=0;_<f.length;_++)for(var S=0;S<f[_].length;S++){var k=i.toGlobalCoord(f[_][S].coord);c?(h[0]=k,h[1]=u.y,m[0]=k,m[1]=u.y+u.height):(h[0]=u.x,h[1]=k,m[0]=u.x+u.width,m[1]=k);var D=new Ws({anid:"minor_line_"+f[_][S].tickValue,autoBatch:!0,shape:{x1:h[0],y1:h[1],x2:m[0],y2:m[1]},style:y,silent:!0});Af(D.shape,y.lineWidth),t.add(D)}},splitArea:function(n,t,e,o){Et(n,t,e,o)}},ao=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.type="xAxis",t}(or),ea=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=ao.type,e}return yt(t,n),t.type="yAxis",t}(or),_o=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="grid",e}return yt(t,n),t.prototype.render=function(e,o){this.group.removeAll(),e.get("show")&&this.group.add(new oi({shape:e.coordinateSystem.getRect(),style:ht({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(Ga),ro={offset:0};function _i(n){n.registerComponentView(_o),n.registerComponentModel(W),n.registerCoordinateSystem("cartesian2d",on),Me(n,"x",re,ro),Me(n,"y",re,ro),n.registerComponentView(ao),n.registerComponentView(ea),n.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}function xs(n){n.eachSeriesByType("radar",function(t){var e=t.getData(),o=[],i=t.coordinateSystem;if(i){var a=i.getIndicatorAxes();Te(a,function(u,c){e.each(e.mapDimension(a[c].dim),function(f,h){o[h]=o[h]||[];var m=i.dataToPoint(f,c);o[h][c]=Wu(m)?m:Tl(i)})}),e.each(function(u){var c=Uo(o[u],function(f){return Wu(f)})||Tl(i);o[u].push(c.slice()),e.setItemLayout(u,o[u])})}})}function Wu(n){return!isNaN(n[0])&&!isNaN(n[1])}function Tl(n){return[n.cx,n.cy]}function Cu(n){var t=n.polar;if(t){tt(t)||(t=[t]);var e=[];Te(t,function(o,i){o.indicator?(o.type&&!o.shape&&(o.shape=o.type),n.radar=n.radar||[],tt(n.radar)||(n.radar=[n.radar]),n.radar.push(o)):e.push(o)}),n.polar=e}Te(n.series,function(o){o&&"radar"===o.type&&o.polarIndex&&(o.radarIndex=o.polarIndex)})}var Wl=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.render=function(e,o,i){var a=e.coordinateSystem,u=this.group,c=e.getData(),f=this._data;function h(_,S){var k=_.getItemVisual(S,"symbol")||"circle";if("none"!==k){var D=Xb(_.getItemVisual(S,"symbolSize")),A=Hu(k,-1,-1,2,2),E=_.getItemVisual(S,"symbolRotate")||0;return A.attr({style:{strokeNoScale:!0},z2:100,scaleX:D[0]/2,scaleY:D[1]/2,rotation:E*Math.PI/180||0}),A}}function m(_,S,k,D,A,E){k.removeAll();for(var N=0;N<S.length-1;N++){var z=h(D,A);z&&(z.__dimIdx=N,_[N]?(z.setPosition(_[N]),lg[E?"initProps":"updateProps"](z,{x:S[N][0],y:S[N][1]},e,A)):z.setPosition(S[N]),k.add(z))}}function y(_){return It(_,function(S){return[a.cx,a.cy]})}c.diff(f).add(function(_){var S=c.getItemLayout(_);if(S){var k=new ms,D=new ou,A={shape:{points:S}};k.shape.points=y(S),D.shape.points=y(S),_a(k,A,e,_),_a(D,A,e,_);var E=new lo,N=new lo;E.add(D),E.add(k),E.add(N),m(D.shape.points,S,N,c,_,!0),c.setItemGraphicEl(_,E)}}).update(function(_,S){var k=f.getItemGraphicEl(S),D=k.childAt(0),A=k.childAt(1),E=k.childAt(2),N={shape:{points:c.getItemLayout(_)}};N.shape.points&&(m(D.shape.points,N.shape.points,E,c,_,!1),Df(A),Df(D),io(D,N,e),io(A,N,e),c.setItemGraphicEl(_,k))}).remove(function(_){u.remove(f.getItemGraphicEl(_))}).execute(),c.eachItemGraphicEl(function(_,S){var k=c.getItemModel(S),D=_.childAt(0),A=_.childAt(1),E=_.childAt(2),N=c.getItemVisual(S,"style"),z=N.fill;u.add(_),D.useStyle(ht(k.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:z})),Fu(D,k,"lineStyle"),Fu(A,k,"areaStyle");var F=k.getModel("areaStyle"),q=F.isEmpty()&&F.parentModel.isEmpty();A.ignore=q,Te(["emphasis","select","blur"],function(ie){var ye=k.getModel([ie,"areaStyle"]),_e=ye.isEmpty()&&ye.parentModel.isEmpty();A.ensureState(ie).ignore=_e&&q}),A.useStyle(ht(F.getAreaStyle(),{fill:z,opacity:.7,decal:N.decal}));var X=k.getModel("emphasis"),ee=X.getModel("itemStyle").getItemStyle();E.eachChild(function(ie){if(ie instanceof bu){var ye=ie.style;ie.useStyle(Pe({image:ye.image,x:ye.x,y:ye.y,width:ye.width,height:ye.height},N))}else ie.useStyle(N),ie.setColor(z),ie.style.strokeNoScale=!0;ie.ensureState("emphasis").style=Re(ee);var _e=c.getStore().get(c.getDimensionIndex(ie.__dimIdx),S);(null==_e||isNaN(_e))&&(_e=""),Da(ie,Aa(k),{labelFetcher:c.hostModel,labelDataIndex:S,labelDimIndex:ie.__dimIdx,defaultText:_e,inheritColor:z,defaultOpacity:N.opacity})}),Ds(_,X.get("focus"),X.get("blurScope"),X.get("disabled"))}),this._data=c},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t}(ma),cv=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return yt(t,n),t.prototype.init=function(e){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new d(Bn(this.getData,this),Bn(this.getRawData,this))},t.prototype.getInitialData=function(e,o){return s(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(e,o,i){var a=this.getData(),u=this.coordinateSystem.getIndicatorAxes(),c=this.getData().getName(e),f=""===c?this.name:c,h=il(this,e);return Fl("section",{header:f,sortBlocks:!0,blocks:It(u,function(m){var y=a.get(a.mapDimension(m.dim),e);return Fl("nameValue",{markerType:"subItem",markerColor:h,name:m.name,value:y,sortParam:y})})})},t.prototype.getTooltipPosition=function(e){if(null!=e)for(var o=this.getData(),i=this.coordinateSystem,a=o.getValues(It(i.dimensions,function(h){return o.mapDimension(h)}),e),u=0,c=a.length;u<c;u++)if(!isNaN(a[u])){var f=i.getIndicatorAxes();return i.coordToPoint(f[u].dataToCoord(a[u]),u)}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t}(ga),xd=be.value;function Pp(n,t){return ht({show:t},n)}var Lh=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.optionUpdated=function(){var e=this.get("boundaryGap"),o=this.get("splitNumber"),i=this.get("scale"),a=this.get("axisLine"),u=this.get("axisTick"),c=this.get("axisLabel"),f=this.get("axisName"),h=this.get(["axisName","show"]),m=this.get(["axisName","formatter"]),y=this.get("axisNameGap"),_=this.get("triggerEvent"),S=It(this.get("indicator")||[],function(k){null!=k.max&&k.max>0&&!k.min?k.min=0:null!=k.min&&k.min<0&&!k.max&&(k.max=0);var D=f;null!=k.color&&(D=ht({color:k.color},f));var A=Ve(Re(k),{boundaryGap:e,splitNumber:o,scale:i,axisLine:a,axisTick:u,axisLabel:c,name:k.text,showName:h,nameLocation:"end",nameGap:y,nameTextStyle:D,triggerEvent:_},!1);if(Un(m)){var E=A.name;A.name=m.replace("{value}",null!=E?E:"")}else hn(m)&&(A.name=m(A.name,A));var N=new Pi(A,null,this.ecModel);return _r(N,j0.prototype),N.mainType="radar",N.componentIndex=this.componentIndex,N},this);this._indicatorModels=S},t.prototype.getIndicatorModels=function(){return this._indicatorModels},t.type="radar",t.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:Ve({lineStyle:{color:"#bbb"}},xd.axisLine),axisLabel:Pp(xd.axisLabel,!1),axisTick:Pp(xd.axisTick,!1),splitLine:Pp(xd.splitLine,!0),splitArea:Pp(xd.splitArea,!0),indicator:[]},t}(H),ib=["axisLine","axisTickLabel","axisName"],ab=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.render=function(e,o,i){this.group.removeAll(),this._buildAxes(e),this._buildSplitLineAndArea(e)},t.prototype._buildAxes=function(e){var o=e.coordinateSystem;Te(It(o.getIndicatorAxes(),function(i){var a=i.model.get("showName")?i.name:"";return new On(i.model,{axisName:a,position:[o.cx,o.cy],rotation:i.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}),function(i){Te(ib,i.add,i),this.group.add(i.getGroup())},this)},t.prototype._buildSplitLineAndArea=function(e){var o=e.coordinateSystem,i=o.getIndicatorAxes();if(i.length){var a=e.get("shape"),u=e.getModel("splitLine"),c=e.getModel("splitArea"),f=u.getModel("lineStyle"),h=c.getModel("areaStyle"),m=u.get("show"),y=c.get("show"),_=f.get("color"),S=h.get("color"),k=tt(_)?_:[_],D=tt(S)?S:[S],A=[],E=[];if("circle"===a)for(var N=i[0].getTicksCoords(),z=o.cx,F=o.cy,q=0;q<N.length;q++)m&&A[Fe(A,k,q)].push(new Kc({shape:{cx:z,cy:F,r:N[q].coord}})),y&&q<N.length-1&&E[Fe(E,D,q)].push(new wh({shape:{cx:z,cy:F,r0:N[q].coord,r:N[q+1].coord}}));else{var X,ee=It(i,function(Xe,nt){var it=Xe.getTicksCoords();return X=null==X?it.length-1:Math.min(it.length-1,X),It(it,function(ut){return o.coordToPoint(ut.coord,nt)})}),ie=[];for(q=0;q<=X;q++){for(var ye=[],_e=0;_e<i.length;_e++)ye.push(ee[_e][q]);ye[0]&&ye.push(ye[0].slice()),m&&A[Fe(A,k,q)].push(new ou({shape:{points:ye}})),y&&ie&&E[Fe(E,D,q-1)].push(new ms({shape:{points:ye.concat(ie)}})),ie=ye.slice().reverse()}}var Se=f.getLineStyle(),Ae=h.getAreaStyle();Te(E,function(Xe,nt){this.group.add(Cl(Xe,{style:ht({stroke:"none",fill:D[nt%D.length]},Ae),silent:!0}))},this),Te(A,function(Xe,nt){this.group.add(Cl(Xe,{style:ht({fill:"none",stroke:k[nt%k.length]},Se),silent:!0}))},this)}function Fe(Xe,nt,it){var ut=it%nt.length;return Xe[ut]=Xe[ut]||[],ut}},t.type="radar",t}(Ga),eT=function(n){function t(e,o,i){var a=n.call(this,e,o,i)||this;return a.type="value",a.angle=0,a.name="",a}return yt(t,n),t}(gd),E2=function(){function n(t,e,o){this.dimensions=[],this._model=t,this._indicatorAxes=It(t.getIndicatorModels(),function(i,a){var u="indicator_"+a,c=new eT(u,new Km);return c.name=i.get("name"),c.model=i,i.axis=c,this.dimensions.push(u),c},this),this.resize(t,o)}return n.prototype.getIndicatorAxes=function(){return this._indicatorAxes},n.prototype.dataToPoint=function(t,e){return this.coordToPoint(this._indicatorAxes[e].dataToCoord(t),e)},n.prototype.coordToPoint=function(t,e){var o=this._indicatorAxes[e].angle;return[this.cx+t*Math.cos(o),this.cy-t*Math.sin(o)]},n.prototype.pointToData=function(t){var e=t[0]-this.cx,o=t[1]-this.cy,i=Math.sqrt(e*e+o*o);e/=i,o/=i;for(var a,u=Math.atan2(-o,e),c=1/0,f=-1,h=0;h<this._indicatorAxes.length;h++){var m=this._indicatorAxes[h],y=Math.abs(u-m.angle);y<c&&(a=m,f=h,c=y)}return[f,+(a&&a.coordToData(i))]},n.prototype.resize=function(t,e){var o=t.get("center"),i=e.getWidth(),a=e.getHeight(),u=Math.min(i,a)/2;this.cx=Qn(o[0],i),this.cy=Qn(o[1],a),this.startAngle=t.get("startAngle")*Math.PI/180;var c=t.get("radius");(Un(c)||hr(c))&&(c=[0,c]),this.r0=Qn(c[0],u),this.r=Qn(c[1],u),Te(this._indicatorAxes,function(f,h){f.setExtent(this.r0,this.r);var m=this.startAngle+h*Math.PI*2/this._indicatorAxes.length;m=Math.atan2(Math.sin(m),Math.cos(m)),f.angle=m},this)},n.prototype.update=function(t,e){var o=this._indicatorAxes,i=this._model;Te(o,function(c){c.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(c,f){if("radar"===c.get("coordinateSystem")&&t.getComponent("radar",c.get("radarIndex"))===i){var h=c.getData();Te(o,function(m){m.scale.unionExtentFromData(h,h.mapDimension(m.dim))})}},this);var a=i.get("splitNumber"),u=new Km;u.setExtent(0,a),u.setInterval(1),Te(o,function(c,f){ln(c.scale,c.model,u)})},n.prototype.convertToPixel=function(t,e,o){return console.warn("Not implemented."),null},n.prototype.convertFromPixel=function(t,e,o){return console.warn("Not implemented."),null},n.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},n.create=function(t,e){var o=[];return t.eachComponent("radar",function(i){var a=new n(i,t,e);o.push(a),i.coordinateSystem=a}),t.eachSeriesByType("radar",function(i){"radar"===i.get("coordinateSystem")&&(i.coordinateSystem=o[i.get("radarIndex")||0])}),o},n.dimensions=[],n}();function tT(n){n.registerCoordinateSystem("radar",E2),n.registerComponentModel(Lh),n.registerComponentView(ab),n.registerVisual({seriesType:"radar",reset:function(t){var e=t.getData();e.each(function(o){e.setItemVisual(o,"legendIcon","roundRect")}),e.setVisual("legendIcon","roundRect")}})}var dk="\0_ec_interaction_mutex";function nT(n,t){return!!v_(n)[t]}function v_(n){return n[dk]||(n[dk]={})}Vl({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},Io);var y_=function(n){function t(e){var o=n.call(this)||this;o._zr=e;var i=Bn(o._mousedownHandler,o),a=Bn(o._mousemoveHandler,o),u=Bn(o._mouseupHandler,o),c=Bn(o._mousewheelHandler,o),f=Bn(o._pinchHandler,o);return o.enable=function(h,m){this.disable(),this._opt=ht(Re(m)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==h&&(h=!0),!0!==h&&"move"!==h&&"pan"!==h||(e.on("mousedown",i),e.on("mousemove",a),e.on("mouseup",u)),!0!==h&&"scale"!==h&&"zoom"!==h||(e.on("mousewheel",c),e.on("pinch",f))},o.disable=function(){e.off("mousedown",i),e.off("mousemove",a),e.off("mouseup",u),e.off("mousewheel",c),e.off("pinch",f)},o}return yt(t,n),t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(e){this.pointerChecker=e},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(e){if(!Ns(e)){for(var o=e.target;o;){if(o.draggable)return;o=o.__hostTarget||o.parent}var i=e.offsetX,a=e.offsetY;this.pointerChecker&&this.pointerChecker(e,i,a)&&(this._x=i,this._y=a,this._dragging=!0)}},t.prototype._mousemoveHandler=function(e){if(this._dragging&&O1("moveOnMouseMove",e,this._opt)&&"pinch"!==e.gestureEvent&&!nT(this._zr,"globalPan")){var o=e.offsetX,i=e.offsetY,a=this._x,u=this._y,c=o-a,f=i-u;this._x=o,this._y=i,this._opt.preventDefaultMouseMove&&Eu(e.event),Rp(this,"pan","moveOnMouseMove",e,{dx:c,dy:f,oldX:a,oldY:u,newX:o,newY:i,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(e){Ns(e)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(e){var o=O1("zoomOnMouseWheel",e,this._opt),i=O1("moveOnMouseWheel",e,this._opt),a=e.wheelDelta,u=Math.abs(a),c=e.offsetX,f=e.offsetY;if(0!==a&&(o||i)){if(o){var h=u>3?1.4:u>1?1.2:1.1;P2(this,"zoom","zoomOnMouseWheel",e,{scale:a>0?h:1/h,originX:c,originY:f,isAvailableBehavior:null})}if(i){var m=Math.abs(a);P2(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:(a>0?1:-1)*(m>3?.4:m>1?.15:.05),originX:c,originY:f,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(e){nT(this._zr,"globalPan")||P2(this,"zoom",null,e,{scale:e.pinchScale>1?1.1:1/1.1,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})},t}(ho);function P2(n,t,e,o,i){n.pointerChecker&&n.pointerChecker(o,i.originX,i.originY)&&(Eu(o.event),Rp(n,t,e,o,i))}function Rp(n,t,e,o,i){i.isAvailableBehavior=Bn(O1,null,e,o),n.trigger(t,i)}function O1(n,t,e){var o=e[n];return!n||o&&(!Un(o)||t.event[o+"Key"])}function cS(n,t,e){var o=n.target;o.x+=t,o.y+=e,o.dirty()}function R2(n,t,e,o){var i=n.target,a=n.zoomLimit,u=n.zoom=n.zoom||1;if(u*=t,a){var c=a.min||0;u=Math.max(Math.min(a.max||1/0,u),c)}var h=u/n.zoom;n.zoom=u,i.x-=(e-i.x)*(h-1),i.y-=(o-i.y)*(h-1),i.scaleX*=h,i.scaleY*=h,i.dirty()}var rA,oA={axisPointer:1,tooltip:1,brush:1};function rT(n,t,e){var o=t.getComponentByElement(n.topTarget),i=o&&o.coordinateSystem;return o&&o!==e&&!oA.hasOwnProperty(o.mainType)&&i&&i.model!==e}function fS(n){Un(n)&&(n=(new DOMParser).parseFromString(n,"text/xml"));var t=n;for(9===t.nodeType&&(t=t.firstChild);"svg"!==t.nodeName.toLowerCase()||1!==t.nodeType;)t=t.nextSibling;return t}var dS={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},iA=Zn(dS),oT={"alignment-baseline":"textBaseline","stop-color":"stopColor"},aA=Zn(oT),RP=function(){function n(){this._defs={},this._root=null}return n.prototype.parse=function(t,e){e=e||{};var o=fS(t);this._defsUsePending=[];var i=new lo;this._root=i;var a=[],u=o.getAttribute("viewBox")||"",c=parseFloat(o.getAttribute("width")||e.width),f=parseFloat(o.getAttribute("height")||e.height);isNaN(c)&&(c=null),isNaN(f)&&(f=null),Hg(o,i,null,!0,!1);for(var h,m,y=o.firstChild;y;)this._parseNode(y,i,a,null,!1,!1),y=y.nextSibling;if(function(k,D){for(var A=0;A<D.length;A++){var E=D[A];E[0].style[E[1]]=k[E[2]]}}(this._defs,this._defsUsePending),this._defsUsePending=[],u){var _=N2(u);_.length>=4&&(h={x:parseFloat(_[0]||0),y:parseFloat(_[1]||0),width:parseFloat(_[2]),height:parseFloat(_[3])})}if(h&&null!=c&&null!=f&&(m=z2(h,{x:0,y:0,width:c,height:f}),!e.ignoreViewBox)){var S=i;(i=new lo).add(S),S.scaleX=S.scaleY=m.scale,S.x=m.x,S.y=m.y}return e.ignoreRootClip||null==c||null==f||i.setClipPath(new oi({shape:{x:0,y:0,width:c,height:f}})),{root:i,width:c,height:f,viewBoxRect:h,viewBoxTransform:m,named:a}},n.prototype._parseNode=function(t,e,o,i,a,u){var c,f=t.nodeName.toLowerCase(),h=i;if("defs"===f&&(a=!0),"text"===f&&(u=!0),"defs"===f||"switch"===f)c=e;else{if(!a){var m=rA[f];if(m&&Mr(rA,f)){c=m.call(this,t,e);var y=t.getAttribute("name");if(y){var _={name:y,namedFrom:null,svgNodeTagLower:f,el:c};o.push(_),"g"===f&&(h=_)}else i&&o.push({name:i.name,namedFrom:i,svgNodeTagLower:f,el:c});e.add(c)}}var S=fO[f];if(S&&Mr(fO,f)){var k=S.call(this,t),D=t.getAttribute("id");D&&(this._defs[D]=k)}}if(c&&c.isGroup)for(var A=t.firstChild;A;)1===A.nodeType?this._parseNode(A,c,o,h,a,u):3===A.nodeType&&u&&this._parseText(A,c),A=A.nextSibling},n.prototype._parseText=function(t,e){var o=new $p({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});Vg(e,o),Hg(t,o,this._defsUsePending,!1,!1),function(f,h){var m=h.__selfStyle;if(m){var y=m.textBaseline,_=y;y&&"auto"!==y?"baseline"===y?_="alphabetic":"before-edge"===y||"text-before-edge"===y?_="top":"after-edge"===y||"text-after-edge"===y?_="bottom":"central"!==y&&"mathematical"!==y||(_="middle"):_="alphabetic",f.style.textBaseline=_}var S=h.__inheritedStyle;if(S){var k=S.textAlign,D=k;k&&("middle"===k&&(D="center"),f.style.textAlign=D)}}(o,e);var i=o.style,a=i.fontSize;a&&a<9&&(i.fontSize=9,o.scaleX*=a/9,o.scaleY*=a/9);var u=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+"px",i.fontFamily||"sans-serif"].join(" ");i.font=u;var c=o.getBoundingRect();return this._textX+=c.width,e.add(o),o},n.internalField=void(rA={g:function(t,e){var o=new lo;return Vg(e,o),Hg(t,o,this._defsUsePending,!1,!1),o},rect:function(t,e){var o=new oi;return Vg(e,o),Hg(t,o,this._defsUsePending,!1,!1),o.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),o.silent=!0,o},circle:function(t,e){var o=new Kc;return Vg(e,o),Hg(t,o,this._defsUsePending,!1,!1),o.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),o.silent=!0,o},line:function(t,e){var o=new Ws;return Vg(e,o),Hg(t,o,this._defsUsePending,!1,!1),o.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),o.silent=!0,o},ellipse:function(t,e){var o=new gs;return Vg(e,o),Hg(t,o,this._defsUsePending,!1,!1),o.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),o.silent=!0,o},polygon:function(t,e){var o,i=t.getAttribute("points");i&&(o=L2(i));var a=new ms({shape:{points:o||[]},silent:!0});return Vg(e,a),Hg(t,a,this._defsUsePending,!1,!1),a},polyline:function(t,e){var o,i=t.getAttribute("points");i&&(o=L2(i));var a=new ou({shape:{points:o||[]},silent:!0});return Vg(e,a),Hg(t,a,this._defsUsePending,!1,!1),a},image:function(t,e){var o=new bu;return Vg(e,o),Hg(t,o,this._defsUsePending,!1,!1),o.setStyle({image:t.getAttribute("xlink:href")||t.getAttribute("href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),o.silent=!0,o},text:function(t,e){var o=t.getAttribute("x")||"0",i=t.getAttribute("y")||"0",a=t.getAttribute("dx")||"0",u=t.getAttribute("dy")||"0";this._textX=parseFloat(o)+parseFloat(a),this._textY=parseFloat(i)+parseFloat(u);var c=new lo;return Vg(e,c),Hg(t,c,this._defsUsePending,!1,!0),c},tspan:function(t,e){var o=t.getAttribute("x"),i=t.getAttribute("y");null!=o&&(this._textX=parseFloat(o)),null!=i&&(this._textY=parseFloat(i));var a=t.getAttribute("dx")||"0",u=t.getAttribute("dy")||"0",c=new lo;return Vg(e,c),Hg(t,c,this._defsUsePending,!1,!0),this._textX+=parseFloat(a),this._textY+=parseFloat(u),c},path:function(t,e){var o=el(t.getAttribute("d")||"");return Vg(e,o),Hg(t,o,this._defsUsePending,!1,!1),o.silent=!0,o}}),n}(),fO={lineargradient:function(n){var t=parseInt(n.getAttribute("x1")||"0",10),e=parseInt(n.getAttribute("y1")||"0",10),o=parseInt(n.getAttribute("x2")||"10",10),i=parseInt(n.getAttribute("y2")||"0",10),a=new pp(t,e,o,i);return dO(n,a),sA(n,a),a},radialgradient:function(n){var t=parseInt(n.getAttribute("cx")||"0",10),e=parseInt(n.getAttribute("cy")||"0",10),o=parseInt(n.getAttribute("r")||"0",10),i=new i0(t,e,o);return dO(n,i),sA(n,i),i}};function dO(n,t){"userSpaceOnUse"===n.getAttribute("gradientUnits")&&(t.global=!0)}function sA(n,t){for(var e=n.firstChild;e;){if(1===e.nodeType&&"stop"===e.nodeName.toLocaleLowerCase()){var i,o=e.getAttribute("offset");i=o&&o.indexOf("%")>0?parseInt(o,10)/100:o?parseFloat(o):0;var a={};gO(e,a,a);var u=a.stopColor||e.getAttribute("stop-color")||"#000000";t.colorStops.push({offset:i,color:u})}e=e.nextSibling}}function Vg(n,t){n&&n.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),ht(t.__inheritedStyle,n.__inheritedStyle))}function L2(n){for(var t=N2(n),e=[],o=0;o<t.length;o+=2){var i=parseFloat(t[o]),a=parseFloat(t[o+1]);e.push([i,a])}return e}function Hg(n,t,e,o,i){var a=t,u=a.__inheritedStyle=a.__inheritedStyle||{},c={};1===n.nodeType&&(function(f,h){var m=f.getAttribute("transform");if(m){m=m.replace(/,/g," ");var y=[],_=null;m.replace(NP,function(E,N,z){return y.push(N,z),""});for(var S=y.length-1;S>0;S-=2){var D=y[S-1],A=N2(y[S]);switch(_=_||[1,0,0,1,0,0],D){case"translate":zc(_,_,[parseFloat(A[0]),parseFloat(A[1]||"0")]);break;case"scale":gn(_,_,[parseFloat(A[0]),parseFloat(A[1]||A[0])]);break;case"rotate":Ul(_,_,-parseFloat(A[0])*B2);break;case"skewX":Wr(_,[1,0,Math.tan(parseFloat(A[0])*B2),1,0,0],_);break;case"skewY":Wr(_,[1,Math.tan(parseFloat(A[0])*B2),0,1,0,0],_);break;case"matrix":_[0]=parseFloat(A[0]),_[1]=parseFloat(A[1]),_[2]=parseFloat(A[2]),_[3]=parseFloat(A[3]),_[4]=parseFloat(A[4]),_[5]=parseFloat(A[5])}}h.setLocalTransform(_)}}(n,t),gO(n,u,c),o||function(f,h,m){for(var y=0;y<iA.length;y++){var _=iA[y];null!=(S=f.getAttribute(_))&&(h[dS[_]]=S)}for(y=0;y<aA.length;y++){var S;null!=(S=f.getAttribute(_=aA[y]))&&(m[oT[_]]=S)}}(n,u,c)),a.style=a.style||{},null!=u.fill&&(a.style.fill=hO(a,"fill",u.fill,e)),null!=u.stroke&&(a.style.stroke=hO(a,"stroke",u.stroke,e)),Te(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(f){null!=u[f]&&(a.style[f]=parseFloat(u[f]))}),Te(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(f){null!=u[f]&&(a.style[f]=u[f])}),i&&(a.__selfStyle=c),u.lineDash&&(a.style.lineDash=It(N2(u.lineDash),function(f){return parseFloat(f)})),"hidden"!==u.visibility&&"collapse"!==u.visibility||(a.invisible=!0),"none"===u.display&&(a.ignore=!0)}var LP=/^url\(\s*#(.*?)\)/;function hO(n,t,e,o){var i=e&&e.match(LP);if(!i)return"none"===e&&(e=null),e;var a=ni(i[1]);o.push([n,t,a])}var hS=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function N2(n){return n.match(hS)||[]}var NP=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,B2=Math.PI/180,pO=/([^\s:;]+)\s*:\s*([^:;]+)/g;function gO(n,t,e){var o,i=n.getAttribute("style");if(i)for(pO.lastIndex=0;null!=(o=pO.exec(i));){var a=o[1],u=Mr(dS,a)?dS[a]:null;u&&(t[u]=o[2]);var c=Mr(oT,a)?oT[a]:null;c&&(e[c]=o[2])}}function z2(n,t){var i=Math.min(t.width/n.width,t.height/n.height);return{scale:i,x:-(n.x+n.width/2)*i+(t.x+t.width/2),y:-(n.y+n.height/2)*i+(t.y+t.height/2)}}for(var mO=Ir(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),vO=function(){function n(t,e){this.type="geoSVG",this._usedGraphicMap=Ir(),this._freedGraphics=[],this._mapName=t,this._parsedXML=fS(e)}return n.prototype.load=function(){var a,u,c,t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone();var e=(a=t.named,u=[],c=Ir(),Te(a,function(f){if(null==f.namedFrom){var h=new SM(f.name,f.el);u.push(h),c.set(f.name,h)}}),{regions:u,regionsMap:c}),i=e.regionsMap;this._regions=e.regions,this._regionsMap=i}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},n.prototype._buildGraphic=function(t){var e,o,i,a;try{go(null!=(o=(e=t&&(i=t,a={ignoreViewBox:!0,ignoreRootClip:!0},(new RP).parse(i,a))||{}).root))}catch(N){throw new Error("Invalid svg format\n"+N.message)}var u=new lo;u.add(o),u.isGeoSVGGraphicRoot=!0;var c=e.width,f=e.height,h=e.viewBoxRect,m=this._boundingRect;if(!m){var y=void 0,_=void 0,S=void 0,k=void 0;if(null!=c?(y=0,S=c):h&&(y=h.x,S=h.width),null!=f?(_=0,k=f):h&&(_=h.y,k=h.height),null==y||null==_){var D=o.getBoundingRect();null==y&&(y=D.x,S=D.width),null==_&&(_=D.y,k=D.height)}m=this._boundingRect=new To(y,_,S,k)}if(h){var A=z2(h,m);o.scaleX=o.scaleY=A.scale,o.x=A.x,o.y=A.y}u.setClipPath(new oi({shape:m.plain()}));var E=[];return Te(e.named,function(N){var z;null!=mO.get(N.svgNodeTagLower)&&(E.push(N),(z=N.el).silent=!1,z.isGroup&&z.traverse(function(F){F.silent=!1}))}),{root:u,boundingRect:m,named:E}},n.prototype.useGraphic=function(t){var e=this._usedGraphicMap,o=e.get(t);return o||(o=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),e.set(t,o),o)},n.prototype.freeGraphic=function(t){var e=this._usedGraphicMap,o=e.get(t);o&&(e.removeKey(t),this._freedGraphics.push(o))},n}(),F2=[126,25],pS=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],gS=0;gS<pS.length;gS++)for(var hk=0;hk<pS[gS].length;hk++)pS[gS][hk][0]/=10.5,pS[gS][hk][1]/=-14,pS[gS][hk][0]+=F2[0],pS[gS][hk][1]+=F2[1];var V2={\u5357\u6d77\u8bf8\u5c9b:[32,80],\u5e7f\u4e1c:[0,-10],\u9999\u6e2f:[10,5],\u6fb3\u95e8:[-10,10],\u5929\u6d25:[5,5]},ih=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],mS=function(){function n(t,e,o){var i;this.type="geoJSON",this._parsedMap=Ir(),this._mapName=t,this._specialAreas=o,this._geoJSON=Un(i=e)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(i):new Function("return ("+i+");")():i}return n.prototype.load=function(t,e){var o=this._parsedMap.get(e=e||"name");if(!o){var i=this._parseToRegions(e);o=this._parsedMap.set(e,{regions:i,boundingRect:BP(i)})}var a=Ir(),u=[];return Te(o.regions,function(c){var f=c.name;t&&Mr(t,f)&&(c=c.cloneShallow(f=t[f])),u.push(c),a.set(f,c)}),{regions:u,boundingRect:o.boundingRect||new To(0,0,0,0),regionsMap:a}},n.prototype._parseToRegions=function(t){var e,o=this._mapName,i=this._geoJSON;try{e=i?Eh(i,t):[]}catch(a){throw new Error("Invalid geoJson format\n"+a.message)}return function(a,u){if("china"===a){for(var c=0;c<u.length;c++)if("\u5357\u6d77\u8bf8\u5c9b"===u[c].name)return;u.push(new RC("\u5357\u6d77\u8bf8\u5c9b",It(pS,function(f){return{type:"polygon",exterior:f}}),F2))}}(o,e),Te(e,function(a){var h,u=a.name;(function(f,h){if("china"===f){var m=V2[h.name];if(m){var y=h.getCenter();y[0]+=m[0]/10.5,y[1]+=-m[1]/14,h.setCenter(y)}}})(o,a),h=a,"china"===o&&"\u53f0\u6e7e"===h.name&&h.geometries.push({type:"polygon",exterior:ih[0]});var c=this._specialAreas&&this._specialAreas[u];c&&a.transformTo(c.left,c.top,c.width,c.height)},this),e},n.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},n}();function BP(n){for(var t,e=0;e<n.length;e++){var o=n[e].getBoundingRect();(t=t||o.clone()).union(o)}return t}var iT=Ir(),E1=function(n){return iT.get(n)},Wg=function(n,t,e){var o=iT.get(n);if(o)return o.load(t,e)},H2=["rect","circle","line","ellipse","polygon","polyline","path"],FP=Ir(H2),uA=Ir(H2.concat(["g"])),lA=Ir(H2.concat(["g"])),xO=Qo();function W2(n){var t=n.getItemStyle(),e=n.get("areaColor");return null!=e&&(t.fill=e),t}function lf(n){var t=n.style;t&&(t.stroke=t.stroke||t.fill,t.fill=null)}var G2=function(){function n(t){var e=new lo;this.uid=Im("ec_map_draw"),this._controller=new y_(t.getZr()),this._controllerHost={target:e},this.group=e,e.add(this._regionsGroup=new lo),e.add(this._svgGroup=new lo)}return n.prototype.draw=function(t,e,o,i,a){var u="geo"===t.mainType,c=t.getData&&t.getData();u&&e.eachComponent({mainType:"series",subType:"map"},function(A){c||A.getHostGeoModel()!==t||(c=A.getData())});var f=t.coordinateSystem,h=this._regionsGroup,m=this.group,y=f.getTransformInfo(),_=y.raw,S=y.roam;!h.childAt(0)||a?(m.x=S.x,m.y=S.y,m.scaleX=S.scaleX,m.scaleY=S.scaleY,m.dirty()):io(m,S,t);var k=c&&c.getVisual("visualMeta")&&c.getVisual("visualMeta").length>0,D={api:o,geo:f,mapOrGeoModel:t,data:c,isVisualEncodedByVisualMap:k,isGeo:u,transformInfoRaw:_};"geoJSON"===f.resourceType?this._buildGeoJSON(D):"geoSVG"===f.resourceType&&this._buildSVG(D),this._updateController(t,e,o),this._updateMapSelectHandler(t,h,o,i)},n.prototype._buildGeoJSON=function(t){var e=this._regionsGroupByName=Ir(),o=Ir(),i=this._regionsGroup,a=t.transformInfoRaw,u=t.mapOrGeoModel,c=t.data,f=t.geo.projection,h=f&&f.stream;function m(S,k){return k&&(S=k(S)),S&&[S[0]*a.scaleX+a.x,S[1]*a.scaleY+a.y]}function y(S){for(var k=[],D=!h&&f&&f.project,A=0;A<S.length;++A){var E=m(S[A],D);E&&k.push(E)}return k}function _(S){return{shape:{points:y(S)}}}i.removeAll(),Te(t.geo.regions,function(S){var k=S.name,D=e.get(k),A=o.get(k)||{},E=A.dataIdx,N=A.regionModel;D||(D=e.set(k,new lo),i.add(D),E=c?c.indexOfName(k):null,N=t.isGeo?u.getRegionModel(k):c?c.getItemModel(E):null,o.set(k,{dataIdx:E,regionModel:N}));var z=[],F=[];Te(S.geometries,function(ee){if("polygon"===ee.type){var ie=[ee.exterior].concat(ee.interiors||[]);h&&(ie=SO(ie,h)),Te(ie,function(_e){z.push(new ms(_(_e)))})}else{var ye=ee.points;h&&(ye=SO(ye,h,!0)),Te(ye,function(_e){F.push(new ou(_(_e)))})}});var q=m(S.getCenter(),f&&f.project);function X(ee,ie){if(ee.length){var ye=new Sh({culling:!0,segmentIgnoreThreshold:1,shape:{paths:ee}});D.add(ye),Dy(t,ye,E,N),cA(t,ye,k,N,u,E,q),ie&&(lf(ye),Te(ye.states,lf))}}X(z),X(F,!0)}),e.each(function(S,k){var D=o.get(k),E=D.regionModel;fA(t,S,k,E,u,D.dataIdx),_O(t,S,k,E,u),wO(t,S,k,E,u)},this)},n.prototype._buildSVG=function(t){var e=t.geo.map,o=t.transformInfoRaw;this._svgGroup.x=o.x,this._svgGroup.y=o.y,this._svgGroup.scaleX=o.scaleX,this._svgGroup.scaleY=o.scaleY,this._svgResourceChanged(e)&&(this._freeSVG(),this._useSVG(e));var i=this._svgDispatcherMap=Ir(),a=!1;Te(this._svgGraphicRecord.named,function(u){var c=u.name,f=t.mapOrGeoModel,h=t.data,m=u.svgNodeTagLower,y=u.el,_=h?h.indexOfName(c):null,S=f.getRegionModel(c);null!=FP.get(m)&&y instanceof zu&&Dy(t,y,_,S),y instanceof zu&&(y.culling=!0),y.z2EmphasisLift=0,u.namedFrom||(null!=lA.get(m)&&cA(t,y,c,S,f,_,null),fA(t,y,c,S,f,_),_O(t,y,c,S,f),null!=uA.get(m)&&("self"===wO(t,y,c,S,f)&&(a=!0),(i.get(c)||i.set(c,[])).push(y)))},this),this._enableBlurEntireSVG(a,t)},n.prototype._enableBlurEntireSVG=function(t,e){if(t&&e.isGeo){var o=e.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse(function(i){if(!i.isGroup){ng(i);var a=i.ensureState("blur").style||{};null==a.opacity&&null!=o&&(a.opacity=o),i.ensureState("emphasis")}})}},n.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},n.prototype.findHighDownDispatchers=function(t,e){if(null==t)return[];var o=e.coordinateSystem;if("geoJSON"===o.resourceType){var i=this._regionsGroupByName;if(i){var a=i.get(t);return a?[a]:[]}}else if("geoSVG"===o.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]},n.prototype._svgResourceChanged=function(t){return this._svgMapName!==t},n.prototype._useSVG=function(t){var e=E1(t);if(e&&"geoSVG"===e.type){var o=e.useGraphic(this.uid);this._svgGroup.add(o.root),this._svgGraphicRecord=o,this._svgMapName=t}},n.prototype._freeSVG=function(){var t=this._svgMapName;if(null!=t){var e=E1(t);e&&"geoSVG"===e.type&&e.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},n.prototype._updateController=function(t,e,o){var i=t.coordinateSystem,a=this._controller,u=this._controllerHost;u.zoomLimit=t.get("scaleLimit"),u.zoom=i.getZoom(),a.enable(t.get("roam")||!1);var c=t.mainType;function f(){var h={type:"geoRoam",componentType:c};return h[c+"Id"]=t.id,h}a.off("pan").on("pan",function(h){this._mouseDownFlag=!1,cS(u,h.dx,h.dy),o.dispatchAction(Pe(f(),{dx:h.dx,dy:h.dy,animation:{duration:0}}))},this),a.off("zoom").on("zoom",function(h){this._mouseDownFlag=!1,R2(u,h.scale,h.originX,h.originY),o.dispatchAction(Pe(f(),{zoom:h.scale,originX:h.originX,originY:h.originY,animation:{duration:0}}))},this),a.setPointerChecker(function(h,m,y){return i.containPoint([m,y])&&!rT(h,o,t)})},n.prototype.resetForLabelLayout=function(){this.group.traverse(function(t){var e=t.getTextContent();e&&(e.ignore=xO(e).ignore)})},n.prototype._updateMapSelectHandler=function(t,e,o,i){var a=this;e.off("mousedown"),e.off("click"),t.get("selectedMode")&&(e.on("mousedown",function(){a._mouseDownFlag=!0}),e.on("click",function(u){a._mouseDownFlag&&(a._mouseDownFlag=!1)}))},n}();function Dy(n,t,e,o){var i=o.getModel("itemStyle"),a=o.getModel(["emphasis","itemStyle"]),u=o.getModel(["blur","itemStyle"]),c=o.getModel(["select","itemStyle"]),f=W2(i),h=W2(a),m=W2(c),y=W2(u),_=n.data;if(_){var S=_.getItemVisual(e,"style"),k=_.getItemVisual(e,"decal");n.isVisualEncodedByVisualMap&&S.fill&&(f.fill=S.fill),k&&(f.decal=$a(k,n.api))}t.setStyle(f),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=h,t.ensureState("select").style=m,t.ensureState("blur").style=y,ng(t)}function cA(n,t,e,o,i,a,u){var c=n.data,f=n.isGeo,h=c&&isNaN(c.get(c.mapDimension("value"),a)),m=c&&c.getItemLayout(a);if(f||h||m&&m.showLabel){var y=f?e:a,_=void 0;(!c||a>=0)&&(_=i);var S=u?{normal:{align:"center",verticalAlign:"middle"}}:null;Da(t,Aa(o),{labelFetcher:_,labelDataIndex:y,defaultText:e},S);var k=t.getTextContent();if(k&&(xO(k).ignore=k.ignore,t.textConfig&&u)){var D=t.getBoundingRect().clone();t.textConfig.layoutRect=D,t.textConfig.position=[(u[0]-D.x)/D.width*100+"%",(u[1]-D.y)/D.height*100+"%"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function fA(n,t,e,o,i,a){n.data?n.data.setItemGraphicEl(a,t):fo(t).eventData={componentType:"geo",componentIndex:i.componentIndex,geoIndex:i.componentIndex,name:e,region:o&&o.option||{}}}function _O(n,t,e,o,i){n.data||As({el:t,componentModel:i,itemName:e,itemTooltipOption:o.get("tooltip")})}function wO(n,t,e,o,i){t.highDownSilentOnTouch=!!i.get("selectedMode");var f,h,m,a=o.getModel("emphasis"),u=a.get("focus");return Ds(t,u,a.get("blurScope"),a.get("disabled")),n.isGeo&&(f=i,h=e,(m=fo(t)).componentMainType=f.mainType,m.componentIndex=f.componentIndex,m.componentHighDownName=h),u}function SO(n,t,e){var o,i=[];function a(){o=[]}function u(){o.length&&(i.push(o),o=[])}var c=t({polygonStart:a,polygonEnd:u,lineStart:a,lineEnd:u,point:function(f,h){isFinite(f)&&isFinite(h)&&o.push([f,h])},sphere:function(){}});return!e&&c.polygonStart(),Te(n,function(f){c.lineStart();for(var h=0;h<f.length;h++)c.point(f[h][0],f[h][1]);c.lineEnd()}),!e&&c.polygonEnd(),i}var VP=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.render=function(e,o,i,a){if(!a||"mapToggleSelect"!==a.type||a.from!==this.uid){var u=this.group;if(u.removeAll(),!e.getHostGeoModel()){if(this._mapDraw&&a&&"geoRoam"===a.type&&this._mapDraw.resetForLabelLayout(),a&&"geoRoam"===a.type&&"series"===a.componentType&&a.seriesId===e.id)(c=this._mapDraw)&&u.add(c.group);else if(e.needsDrawMap){var c=this._mapDraw||new G2(i);u.add(c.group),c.draw(e,o,i,this,a),this._mapDraw=c}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&o.getComponent("legend")&&this._renderSymbols(e,o,i)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(e,o,i){var a=e.originalData,u=this.group;a.each(a.mapDimension("value"),function(c,f){if(!isNaN(c)){var h=a.getItemLayout(f);if(h&&h.point){var m=h.point,y=h.offset,_=new Kc({style:{fill:e.getData().getVisual("style").fill},shape:{cx:m[0]+9*y,cy:m[1],r:3},silent:!0,z2:8+(y?0:11)});if(!y){var S=e.mainSeries.getData(),k=a.getName(f),D=S.indexOfName(k),A=a.getItemModel(f),E=A.getModel("label"),N=S.getItemGraphicEl(D);Da(_,Aa(A),{labelFetcher:{getFormattedLabel:function(z,F){return e.getFormattedLabel(D,F)}},defaultText:k}),_.disableLabelAnimation=!0,E.get("position")||_.setTextConfig({position:"bottom"}),N.onHoverStateChange=function(z){pa(_,z)}}u.add(_)}}})},t.type="map",t}(ma),HP=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.needsDrawMap=!1,e.seriesGroup=[],e.getTooltipPosition=function(o){if(null!=o){var i=this.getData().getName(o),a=this.coordinateSystem,u=a.getRegion(i);return u&&a.dataToPoint(u.getCenter())}},e}return yt(t,n),t.prototype.getInitialData=function(e){for(var o=s(this,{coordDimensions:["value"],encodeDefaulter:cr(Lt,this)}),i=Ir(),a=[],u=0,c=o.count();u<c;u++){var f=o.getName(u);i.set(f,!0)}return Te(Wg(this.getMapType(),this.option.nameMap,this.option.nameProperty).regions,function(h){var m=h.name;i.get(m)||a.push(m)}),o.appendValues([],a),o},t.prototype.getHostGeoModel=function(){var e=this.option.geoIndex;return null!=e?this.ecModel.getComponent("geo",e):null},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(e){var o=this.getData();return o.get(o.mapDimension("value"),e)},t.prototype.getRegionModel=function(e){var o=this.getData();return o.getItemModel(o.indexOfName(e))},t.prototype.formatTooltip=function(e,o,i){for(var a=this.getData(),u=this.getRawValue(e),c=a.getName(e),f=this.seriesGroup,h=[],m=0;m<f.length;m++){var y=f[m].originalData.indexOfName(c),_=a.mapDimension("value");isNaN(f[m].originalData.get(_,y))||h.push(f[m].name)}return Fl("section",{header:h.join(", "),noHeader:!h.length,blocks:[Fl("nameValue",{name:c,value:u})]})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.getLegendIcon=function(e){var o=e.icon||"roundRect",i=Hu(o,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return i.setStyle(e.itemStyle),i.style.stroke="none",o.indexOf("empty")>-1&&(i.style.stroke=i.style.fill,i.style.fill="#fff",i.style.lineWidth=2),i},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},t}(ga);function dA(n){var t={};n.eachSeriesByType("map",function(e){var o=e.getHostGeoModel(),i=o?"o"+o.id:"i"+e.getMapType();(t[i]=t[i]||[]).push(e)}),Te(t,function(e,o){for(var i,a,u,c=(i=It(e,function(h){return h.getData()}),a=e[0].get("mapValueCalculation"),u={},Te(i,function(h){h.each(h.mapDimension("value"),function(m,y){var _="ec-"+h.getName(y);u[_]=u[_]||[],isNaN(m)||u[_].push(m)})}),i[0].map(i[0].mapDimension("value"),function(h,m){for(var y="ec-"+i[0].getName(m),_=0,S=1/0,k=-1/0,D=u[y].length,A=0;A<D;A++)S=Math.min(S,u[y][A]),k=Math.max(k,u[y][A]),_+=u[y][A];return 0===D?NaN:"min"===a?S:"max"===a?k:"average"===a?_/D:_})),f=0;f<e.length;f++)e[f].originalData=e[f].getData();for(f=0;f<e.length;f++)e[f].seriesGroup=e,e[f].needsDrawMap=0===f&&!e[f].getHostGeoModel(),e[f].setData(c.cloneShallow()),e[f].mainSeries=e[0]})}function WP(n){var t={};n.eachSeriesByType("map",function(e){var o=e.getMapType();if(!e.getHostGeoModel()&&!t[o]){var i={};Te(e.seriesGroup,function(u){var c=u.coordinateSystem,f=u.originalData;u.get("showLegendSymbol")&&n.getComponent("legend")&&f.each(f.mapDimension("value"),function(h,m){var y=f.getName(m),_=c.getRegion(y);if(_&&!isNaN(h)){var S=i[y]||0,k=c.dataToPoint(_.getCenter());i[y]=S+1,f.setItemLayout(m,{point:k,offset:S})}})});var a=e.getData();a.each(function(u){var c=a.getName(u),f=a.getItemLayout(u)||{};f.showLabel=!i[c],a.setItemLayout(u,f)}),t[o]=!0}})}var CO=En,Nh=function(n){function t(e){var o=n.call(this)||this;return o.type="view",o.dimensions=["x","y"],o._roamTransformable=new Bi,o._rawTransformable=new Bi,o.name=e,o}return yt(t,n),t.prototype.setBoundingRect=function(e,o,i,a){return this._rect=new To(e,o,i,a),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(e,o,i,a){this._transformTo(e,o,i,a),this._viewRect=new To(e,o,i,a)},t.prototype._transformTo=function(e,o,i,a){var u=this.getBoundingRect(),c=this._rawTransformable;c.transform=u.calculateTransform(new To(e,o,i,a));var f=c.parent;c.parent=null,c.decomposeTransform(),c.parent=f,this._updateTransform()},t.prototype.setCenter=function(e,o){e&&(this._center=[Qn(e[0],o.getWidth()),Qn(e[1],o.getHeight())],this._updateCenterAndZoom())},t.prototype.setZoom=function(e){e=e||1;var o=this.zoomLimit;o&&(null!=o.max&&(e=Math.min(o.max,e)),null!=o.min&&(e=Math.max(o.min,e))),this._zoom=e,this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var e=this.getBoundingRect();return[e.x+e.width/2,e.y+e.height/2]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var e=this._rawTransformable.getLocalTransform(),o=this._roamTransformable,i=this.getDefaultCenter(),a=this.getCenter(),u=this.getZoom();a=En([],a,e),i=En([],i,e),o.originX=a[0],o.originY=a[1],o.x=i[0]-a[0],o.y=i[1]-a[1],o.scaleX=o.scaleY=u,this._updateTransform()},t.prototype._updateTransform=function(){var e=this._roamTransformable,o=this._rawTransformable;o.parent=e,e.updateTransform(),o.updateTransform(),Pu(this.transform||(this.transform=[]),o.transform||[1,0,0,1,0,0]),this._rawTransform=o.getLocalTransform(),this.invTransform=this.invTransform||[],Ut(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var e=this._rawTransformable,o=this._roamTransformable,i=new Bi;return i.transform=o.transform,i.decomposeTransform(),{roam:{x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY},raw:{x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},t.prototype.dataToPoint=function(e,o,i){var a=o?this._rawTransform:this.transform;return i=i||[],a?CO(i,e,a):so(i,e)},t.prototype.pointToData=function(e){var o=this.invTransform;return o?CO([],e,o):[e[0],e[1]]},t.prototype.convertToPixel=function(e,o,i){var a=hA(o);return a===this?a.dataToPoint(i):null},t.prototype.convertFromPixel=function(e,o,i){var a=hA(o);return a===this?a.pointToData(i):null},t.prototype.containPoint=function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])},t.dimensions=["x","y"],t}(Bi);function hA(n){var t=n.seriesModel;return t?t.coordinateSystem:null}var GP={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},kO=["lng","lat"],fv=function(n){function t(e,o,i){var a=n.call(this,e)||this;a.dimensions=kO,a.type="geo",a._nameCoordMap=Ir(),a.map=o;var u,c=i.projection,f=Wg(o,i.nameMap,i.nameProperty),h=E1(o),m=(a.resourceType=h?h.type:null,a.regions=f.regions),y=GP[h.type];if(a._regionsMap=f.regionsMap,a.regions=f.regions,a.projection=c,c)for(var _=0;_<m.length;_++){var S=m[_].getBoundingRect(c);(u=u||S.clone()).union(S)}else u=f.boundingRect;return a.setBoundingRect(u.x,u.y,u.width,u.height),a.aspectScale=c?1:_n(i.aspectScale,y.aspectScale),a._invertLongitute=!c&&y.invertLongitute,a}return yt(t,n),t.prototype._transformTo=function(e,o,i,a){var u=this.getBoundingRect(),c=this._invertLongitute;u=u.clone(),c&&(u.y=-u.y-u.height);var f=this._rawTransformable;f.transform=u.calculateTransform(new To(e,o,i,a));var h=f.parent;f.parent=null,f.decomposeTransform(),f.parent=h,c&&(f.scaleY=-f.scaleY),this._updateTransform()},t.prototype.getRegion=function(e){return this._regionsMap.get(e)},t.prototype.getRegionByCoord=function(e){for(var o=this.regions,i=0;i<o.length;i++){var a=o[i];if("geoJSON"===a.type&&a.contain(e))return o[i]}},t.prototype.addGeoCoord=function(e,o){this._nameCoordMap.set(e,o)},t.prototype.getGeoCoord=function(e){var o=this._regionsMap.get(e);return this._nameCoordMap.get(e)||o&&o.getCenter()},t.prototype.dataToPoint=function(e,o,i){if(Un(e)&&(e=this.getGeoCoord(e)),e){var a=this.projection;return a&&(e=a.project(e)),e&&this.projectedToPoint(e,o,i)}},t.prototype.pointToData=function(e){var o=this.projection;return o&&(e=o.unproject(e)),e&&this.pointToProjected(e)},t.prototype.pointToProjected=function(e){return n.prototype.pointToData.call(this,e)},t.prototype.projectedToPoint=function(e,o,i){return n.prototype.dataToPoint.call(this,e,o,i)},t.prototype.convertToPixel=function(e,o,i){var a=MO(o);return a===this?a.dataToPoint(i):null},t.prototype.convertFromPixel=function(e,o,i){var a=MO(o);return a===this?a.pointToData(i):null},t}(Nh);function MO(n){var t=n.geoModel,e=n.seriesModel;return t?t.coordinateSystem:e?e.coordinateSystem||(e.getReferringComponents("geo",vu).models[0]||{}).coordinateSystem:null}function U2(n,t){var e=n.get("boundingCoords");if(null!=e){var o=e[0],i=e[1];if(isFinite(o[0])&&isFinite(o[1])&&isFinite(i[0])&&isFinite(i[1])){var a=this.projection;if(a){var u=o[0],c=o[1],f=i[0],h=i[1];o=[1/0,1/0],i=[-1/0,-1/0];var m=function(X,ee,ie,ye){for(var _e=ie-X,Se=ye-ee,Ae=0;Ae<=100;Ae++){var Fe=Ae/100,Xe=a.project([X+_e*Fe,ee+Se*Fe]);Wt(o,o,Xe),eo(i,i,Xe)}};m(u,c,f,c),m(f,c,f,h),m(f,h,u,h),m(u,h,f,c)}this.setBoundingRect(o[0],o[1],i[0]-o[0],i[1]-o[1])}}var y,_,S,k=this.getBoundingRect(),D=n.get("layoutCenter"),A=n.get("layoutSize"),E=t.getWidth(),N=t.getHeight(),z=k.width/k.height*this.aspectScale,F=!1;if(D&&A&&(y=[Qn(D[0],E),Qn(D[1],N)],_=Qn(A,Math.min(E,N)),isNaN(y[0])||isNaN(y[1])||isNaN(_)||(F=!0)),F)S={},z>1?(S.width=_,S.height=_/z):(S.height=_,S.width=_*z),S.y=y[1]-S.height/2,S.x=y[0]-S.width/2;else{var q=n.getBoxLayoutParams();q.aspect=z,S=au(q,{width:E,height:N})}this.setViewRect(S.x,S.y,S.width,S.height),this.setCenter(n.get("center"),t),this.setZoom(n.get("zoom"))}_r(fv,Nh);var pA=function(){function n(){this.dimensions=kO}return n.prototype.create=function(t,e){var o=[];function i(u){return{nameProperty:u.get("nameProperty"),aspectScale:u.get("aspectScale"),projection:u.get("projection")}}t.eachComponent("geo",function(u,c){var f=u.get("map"),h=new fv(f+c,f,Pe({nameMap:u.get("nameMap")},i(u)));h.zoomLimit=u.get("scaleLimit"),o.push(h),u.coordinateSystem=h,h.model=u,h.resize=U2,h.resize(u,e)}),t.eachSeries(function(u){if("geo"===u.get("coordinateSystem")){var c=u.get("geoIndex")||0;u.coordinateSystem=o[c]}});var a={};return t.eachSeriesByType("map",function(u){if(!u.getHostGeoModel()){var c=u.getMapType();a[c]=a[c]||[],a[c].push(u)}}),Te(a,function(u,c){var f=It(u,function(m){return m.get("nameMap")}),h=new fv(c,c,Pe({nameMap:vt(f)},i(u[0])));h.zoomLimit=ar.apply(null,It(u,function(m){return m.get("scaleLimit")})),o.push(h),h.resize=U2,h.resize(u[0],e),Te(u,function(m){var y;m.coordinateSystem=h,y=h,Te(m.get("geoCoord"),function(S,k){y.addGeoCoord(k,S)})})}),o},n.prototype.getFilledRegions=function(t,e,o,i){for(var a=(t||[]).slice(),u=Ir(),c=0;c<a.length;c++)u.set(a[c].name,a[c]);return Te(Wg(e,o,i).regions,function(f){var h=f.name;!u.get(h)&&a.push({name:h})}),a},n}(),TO=new pA,P1=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.init=function(e,o,i){var a=E1(e.map);if(a&&"geoJSON"===a.type){var u=e.itemStyle=e.itemStyle||{};"color"in u||(u.color="#eee")}this.mergeDefaultAndTheme(e,i),Ta(e,"label",["show"])},t.prototype.optionUpdated=function(){var e=this,o=this.option;o.regions=TO.getFilledRegions(o.regions,o.map,o.nameMap,o.nameProperty);var i={};this._optionModelMap=Sn(o.regions||[],function(a,u){var c=u.name;return c&&(a.set(c,new Pi(u,e,e.ecModel)),u.selected&&(i[c]=!0)),a},Ir()),o.selectedMap||(o.selectedMap=i)},t.prototype.getRegionModel=function(e){return this._optionModelMap.get(e)||new Pi(null,this,this.ecModel)},t.prototype.getFormattedLabel=function(e,o){var a=this.getRegionModel(e).get("normal"===o?["label","formatter"]:["emphasis","label","formatter"]),u={name:e};return hn(a)?(u.status=o,a(u)):Un(a)?a.replace("{a}",null!=e?e:""):void 0},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.select=function(e){var o=this.option,i=o.selectedMode;i&&("multiple"!==i&&(o.selectedMap=null),(o.selectedMap||(o.selectedMap={}))[e]=!0)},t.prototype.unSelect=function(e){var o=this.option.selectedMap;o&&(o[e]=!1)},t.prototype.toggleSelected=function(e){this[this.isSelected(e)?"unSelect":"select"](e)},t.prototype.isSelected=function(e){var o=this.option.selectedMap;return!(!o||!o[e])},t.type="geo",t.layoutMode="box",t.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},t}(H);function gA(n,t){return n.pointToProjected?n.pointToProjected(t):n.pointToData(t)}function mA(n,t,e,o){var i=n.getZoom(),a=n.getCenter(),u=t.zoom,c=n.projectedToPoint?n.projectedToPoint(a):n.dataToPoint(a);if(null!=t.dx&&null!=t.dy&&(c[0]-=t.dx,c[1]-=t.dy,n.setCenter(gA(n,c),o)),null!=u){if(e){var f=e.min||0;u=Math.max(Math.min(i*u,e.max||1/0),f)/i}n.scaleX*=u,n.scaleY*=u;var y=(t.originY-n.y)*(u-1);n.x-=(t.originX-n.x)*(u-1),n.y-=y,n.updateTransform(),n.setCenter(gA(n,c),o),n.setZoom(u*i)}return{center:n.getCenter(),zoom:n.getZoom()}}var UP=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.focusBlurEnabled=!0,e}return yt(t,n),t.prototype.init=function(e,o){this._api=o},t.prototype.render=function(e,o,i,a){if(this._model=e,!e.get("show"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new G2(i));var u=this._mapDraw;u.draw(e,o,i,this,a),u.group.on("click",this._handleRegionClick,this),u.group.silent=e.get("silent"),this.group.add(u.group),this.updateSelectStatus(e,o,i)},t.prototype._handleRegionClick=function(e){var o;fy(e.target,function(i){return null!=(o=fo(i).eventData)},!0),o&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:o.name})},t.prototype.updateSelectStatus=function(e,o,i){var a=this;this._mapDraw.group.traverse(function(u){var c=fo(u).eventData;if(c)return a._model.isSelected(c.name)?i.enterSelect(u):i.leaveSelect(u),!0})},t.prototype.findHighDownDispatchers=function(e){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(e,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t}(Ga);function vA(n,t,e){!function(n,t,e){if(t.svg){var o=new vO(n,t.svg);iT.set(n,o)}else{var i=t.geoJson||t.geoJSON;i&&!t.features?e=t.specialAreas:i=t,o=new mS(n,i,e),iT.set(n,o)}}(n,t,e)}function DO(n){function t(e,o){o.update="geo:updateSelectStatus",n.registerAction(o,function(i,a){var u={},c=[];return a.eachComponent({mainType:"geo",query:i},function(f){f[e](i.name),Te(f.coordinateSystem.regions,function(m){u[m.name]=f.isSelected(m.name)||!1});var h=[];Te(u,function(m,y){u[y]&&h.push(y)}),c.push({geoIndex:f.componentIndex,name:h})}),{selected:u,allSelected:c,name:i.name}})}n.registerCoordinateSystem("geo",TO),n.registerComponentModel(P1),n.registerComponentView(UP),n.registerImpl("registerMap",vA),n.registerImpl("getMap",function(e){return function(n){var t=iT.get(n);return t&&"geoJSON"===t.type&&t.getMapForUser()}(e)}),t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),n.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(e,o,i){var a=e.componentType||"series";o.eachComponent({mainType:a,query:e},function(u){var c=u.coordinateSystem;if("geo"===c.type){var f=mA(c,e,u.get("scaleLimit"),i);u.setCenter&&u.setCenter(f.center),u.setZoom&&u.setZoom(f.zoom),"series"===a&&Te(u.seriesGroup,function(h){h.setCenter(f.center),h.setZoom(f.zoom)})}})})}function jP(n,t){var e=n.isExpand?n.children:[],o=n.parentNode.children,i=n.hierNode.i?o[n.hierNode.i-1]:null;if(e.length){!function(u){for(var c=u.children,f=c.length,h=0,m=0;--f>=0;){var y=c[f];y.hierNode.prelim+=h,y.hierNode.modifier+=h,h+=y.hierNode.shift+(m+=y.hierNode.change)}}(n);var a=(e[0].hierNode.prelim+e[e.length-1].hierNode.prelim)/2;i?(n.hierNode.prelim=i.hierNode.prelim+t(n,i),n.hierNode.modifier=n.hierNode.prelim-a):n.hierNode.prelim=a}else i&&(n.hierNode.prelim=i.hierNode.prelim+t(n,i));n.parentNode.hierNode.defaultAncestor=function(u,c,f,h){if(c){for(var m=u,y=u,_=y.parentNode.children[0],S=c,k=m.hierNode.modifier,D=y.hierNode.modifier,A=_.hierNode.modifier,E=S.hierNode.modifier;S=pk(S),y=j2(y),S&&y;){m=pk(m),_=j2(_),m.hierNode.ancestor=u;var N=S.hierNode.prelim+E-y.hierNode.prelim-D+h(S,y);N>0&&(YP(qP(S,u,f),u,N),D+=N,k+=N),E+=S.hierNode.modifier,D+=y.hierNode.modifier,k+=m.hierNode.modifier,A+=_.hierNode.modifier}S&&!pk(m)&&(m.hierNode.thread=S,m.hierNode.modifier+=E-k),y&&!j2(_)&&(_.hierNode.thread=y,_.hierNode.modifier+=D-A,f=u)}return f}(n,i,n.parentNode.hierNode.defaultAncestor||o[0],t)}function vS(n){n.setLayout({x:n.hierNode.prelim+n.parentNode.hierNode.modifier},!0),n.hierNode.modifier+=n.parentNode.hierNode.modifier}function AO(n){return arguments.length?n:yA}function aT(n,t){return n-=Math.PI/2,{x:t*Math.cos(n),y:t*Math.sin(n)}}function pk(n){var t=n.children;return t.length&&n.isExpand?t[t.length-1]:n.hierNode.thread}function j2(n){var t=n.children;return t.length&&n.isExpand?t[0]:n.hierNode.thread}function qP(n,t,e){return n.hierNode.ancestor.parentNode===t.parentNode?n.hierNode.ancestor:e}function YP(n,t,e){var o=e/(t.hierNode.i-n.hierNode.i);t.hierNode.change-=o,t.hierNode.shift+=e,t.hierNode.modifier+=e,t.hierNode.prelim+=e,n.hierNode.change+=o}function yA(n,t){return n.parentNode===t.parentNode?1:2}var XP=function(){this.parentPoint=[],this.childPoints=[]},ZP=function(n){function t(e){return n.call(this,e)||this}return yt(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new XP},t.prototype.buildPath=function(e,o){var i=o.childPoints,a=i.length,u=o.parentPoint,c=i[0],f=i[a-1];if(1===a)return e.moveTo(u[0],u[1]),void e.lineTo(c[0],c[1]);var h=o.orient,m="TB"===h||"BT"===h?0:1,y=1-m,_=Qn(o.forkPosition,1),S=[];S[m]=u[m],S[y]=u[y]+(f[y]-u[y])*_,e.moveTo(u[0],u[1]),e.lineTo(S[0],S[1]),e.moveTo(c[0],c[1]),S[m]=c[m],e.lineTo(S[0],S[1]),S[m]=f[m],e.lineTo(S[0],S[1]),e.lineTo(f[0],f[1]);for(var k=1;k<a-1;k++){var D=i[k];e.moveTo(D[0],D[1]),S[m]=D[m],e.lineTo(S[0],S[1])}},t}(Do),KP=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._mainGroup=new lo,e}return yt(t,n),t.prototype.init=function(e,o){this._controller=new y_(o.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,o,i){var a=e.getData(),u=e.layoutInfo,c=this._mainGroup;"radial"===e.get("layout")?(c.x=u.x+u.width/2,c.y=u.y+u.height/2):(c.x=u.x,c.y=u.y),this._updateViewCoordSys(e,i),this._updateController(e,o,i);var f=this._data;a.diff(f).add(function(h){IO(a,h)&&OO(a,h,null,c,e)}).update(function(h,m){var y=f.getItemGraphicEl(m);IO(a,h)?OO(a,h,y,c,e):y&&Rs(f,m,y,c,e)}).remove(function(h){var m=f.getItemGraphicEl(h);m&&Rs(f,h,m,c,e)}).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),!0===e.get("expandAndCollapse")&&a.eachItemGraphicEl(function(h,m){h.off("click").on("click",function(){i.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:m})})}),this._data=a},t.prototype._updateViewCoordSys=function(e,o){var i=e.getData(),a=[];i.each(function(y){var _=i.getItemLayout(y);!_||isNaN(_.x)||isNaN(_.y)||a.push([+_.x,+_.y])});var u=[],c=[];fa(a,u,c);var f=this._min,h=this._max;c[0]-u[0]==0&&(u[0]=f?f[0]:u[0]-1,c[0]=h?h[0]:c[0]+1),c[1]-u[1]==0&&(u[1]=f?f[1]:u[1]-1,c[1]=h?h[1]:c[1]+1);var m=e.coordinateSystem=new Nh;m.zoomLimit=e.get("scaleLimit"),m.setBoundingRect(u[0],u[1],c[0]-u[0],c[1]-u[1]),m.setCenter(e.get("center"),o),m.setZoom(e.get("zoom")),this.group.attr({x:m.x,y:m.y,scaleX:m.scaleX,scaleY:m.scaleY}),this._min=u,this._max=c},t.prototype._updateController=function(e,o,i){var a=this,u=this._controller,c=this._controllerHost,f=this.group;u.setPointerChecker(function(h,m,y){var _=f.getBoundingRect();return _.applyTransform(f.transform),_.contain(m,y)&&!rT(h,i,e)}),u.enable(e.get("roam")),c.zoomLimit=e.get("scaleLimit"),c.zoom=e.coordinateSystem.getZoom(),u.off("pan").off("zoom").on("pan",function(h){cS(c,h.dx,h.dy),i.dispatchAction({seriesId:e.id,type:"treeRoam",dx:h.dx,dy:h.dy})}).on("zoom",function(h){R2(c,h.scale,h.originX,h.originY),i.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:h.scale,originX:h.originX,originY:h.originY}),a._updateNodeAndLinkScale(e),i.updateLabelLayout()})},t.prototype._updateNodeAndLinkScale=function(e){var o=e.getData(),i=this._getNodeGlobalScale(e);o.eachItemGraphicEl(function(a,u){a.setSymbolScale(i)})},t.prototype._getNodeGlobalScale=function(e){var o=e.coordinateSystem;if("view"!==o.type)return 1;var i=this._nodeScaleRatio,a=o.scaleX||1;return((o.getZoom()-1)*i+1)/a},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t}(ma);function IO(n,t){var e=n.getItemLayout(t);return e&&!isNaN(e.x)&&!isNaN(e.y)}function OO(n,t,e,o,i){var a=!e,u=n.tree.getNodeByDataIndex(t),c=u.getModel(),f=u.getVisual("style").fill,h=!1===u.isExpand&&0!==u.children.length?f:"#fff",m=n.tree.root,y=u.parentNode===m?u:u.parentNode||u,_=n.getItemGraphicEl(y.dataIndex),S=y.getLayout(),k=_?{x:_.__oldX,y:_.__oldY,rawX:_.__radialOldRawX,rawY:_.__radialOldRawY}:S,D=u.getLayout();a?((e=new Op(n,t,null,{symbolInnerColor:h,useNameLabel:!0})).x=k.x,e.y=k.y):e.updateData(n,t,null,{symbolInnerColor:h,useNameLabel:!0}),e.__radialOldRawX=e.__radialRawX,e.__radialOldRawY=e.__radialRawY,e.__radialRawX=D.rawX,e.__radialRawY=D.rawY,o.add(e),n.setItemGraphicEl(t,e),e.__oldX=e.x,e.__oldY=e.y,io(e,{x:D.x,y:D.y},i);var A=e.getSymbolPath();if("radial"===i.get("layout")){var E=m.children[0],N=E.getLayout(),z=E.children.length,F=void 0,q=void 0;if(D.x===N.x&&!0===u.isExpand&&E.children.length){var X={x:(E.children[0].getLayout().x+E.children[z-1].getLayout().x)/2,y:(E.children[0].getLayout().y+E.children[z-1].getLayout().y)/2};(F=Math.atan2(X.y-N.y,X.x-N.x))<0&&(F=2*Math.PI+F),(q=X.x<N.x)&&(F-=Math.PI)}else(F=Math.atan2(D.y-N.y,D.x-N.x))<0&&(F=2*Math.PI+F),0===u.children.length||0!==u.children.length&&!1===u.isExpand?(q=D.x<N.x)&&(F-=Math.PI):(q=D.x>N.x)||(F-=Math.PI);var ee=q?"left":"right",ie=c.getModel("label"),ye=ie.get("rotate"),_e=ye*(Math.PI/180),Se=A.getTextContent();Se&&(A.setTextConfig({position:ie.get("position")||ee,rotation:null==ye?-F:_e,origin:"center"}),Se.setStyle("verticalAlign","middle"))}var Ae=c.get(["emphasis","focus"]),Fe="relative"===Ae?J(u.getAncestorsIndices(),u.getDescendantIndices()):"ancestor"===Ae?u.getAncestorsIndices():"descendant"===Ae?u.getDescendantIndices():null;Fe&&(fo(e).focus=Fe),function(Xe,nt,it,ut,mt,Ot,Pt,Gt){var kn=nt.getModel(),tr=Xe.get("edgeShape"),Xt=Xe.get("layout"),zn=Xe.getOrient(),gr=Xe.get(["lineStyle","curveness"]),dr=Xe.get("edgeForkPosition"),nr=kn.getModel("lineStyle").getLineStyle(),br=ut.__edge;if("curve"===tr)nt.parentNode&&nt.parentNode!==it&&(br||(br=ut.__edge=new Sl({shape:q2(Xt,zn,gr,mt,mt)})),io(br,{shape:q2(Xt,zn,gr,Ot,Pt)},Xe));else if("polyline"===tr&&"orthogonal"===Xt&&nt!==it&&nt.children&&0!==nt.children.length&&!0===nt.isExpand){for(var ur=nt.children,kr=[],Br=0;Br<ur.length;Br++){var Ro=ur[Br].getLayout();kr.push([Ro.x,Ro.y])}br||(br=ut.__edge=new ZP({shape:{parentPoint:[Pt.x,Pt.y],childPoints:[[Pt.x,Pt.y]],orient:zn,forkPosition:dr}})),io(br,{shape:{parentPoint:[Pt.x,Pt.y],childPoints:kr}},Xe)}br&&("polyline"!==tr||nt.isExpand)&&(br.useStyle(ht({strokeNoScale:!0,fill:null},nr)),Fu(br,kn,"lineStyle"),ng(br),Gt.add(br))}(i,u,m,e,k,S,D,o),e.__edge&&(e.onHoverStateChange=function(Xe){if("blur"!==Xe){var nt=u.parentNode&&n.getItemGraphicEl(u.parentNode.dataIndex);nt&&1===nt.hoverState||pa(e.__edge,Xe)}})}function EO(n,t,e,o,i){var a=PO(t.tree.root,n),u=a.source,c=a.sourceLayout,f=t.getItemGraphicEl(n.dataIndex);if(f){var h=t.getItemGraphicEl(u.dataIndex).__edge,m=f.__edge||(!1===u.isExpand||1===u.children.length?h:void 0),y=o.get("edgeShape"),_=o.get("layout"),S=o.get("orient"),k=o.get(["lineStyle","curveness"]);m&&("curve"===y?gp(m,{shape:q2(_,S,k,c,c),style:{opacity:0}},o,{cb:function(){e.remove(m)},removeOpt:i}):"polyline"===y&&"orthogonal"===o.get("layout")&&gp(m,{shape:{parentPoint:[c.x,c.y],childPoints:[[c.x,c.y]]},style:{opacity:0}},o,{cb:function(){e.remove(m)},removeOpt:i}))}}function PO(n,t){for(var e,o=t.parentNode===n?t:t.parentNode||t;null==(e=o.getLayout());)o=o.parentNode===n?o:o.parentNode||o;return{source:o,sourceLayout:e}}function Rs(n,t,e,o,i){var a=n.tree.getNodeByDataIndex(t),u=PO(n.tree.root,a).sourceLayout,c={duration:i.get("animationDurationUpdate"),easing:i.get("animationEasingUpdate")};gp(e,{x:u.x+1,y:u.y+1},i,{cb:function(){o.remove(e),n.setItemGraphicEl(t,null)},removeOpt:c}),e.fadeOut(null,n.hostModel,{fadeLabel:!0,animation:c}),a.children.forEach(function(f){EO(f,n,o,i,c)}),EO(a,n,o,i,c)}function q2(n,t,e,o,i){var a,u,c,f,h,m,y,_;if("radial"===n){m=i.rawX,_=i.rawY;var S=aT(h=o.rawX,y=o.rawY),k=aT(h,y+(_-y)*e),D=aT(m,_+(y-_)*e),A=aT(m,_);return{x1:S.x||0,y1:S.y||0,x2:A.x||0,y2:A.y||0,cpx1:k.x||0,cpy1:k.y||0,cpx2:D.x||0,cpy2:D.y||0}}return h=o.x,y=o.y,m=i.x,_=i.y,"LR"!==t&&"RL"!==t||(a=h+(m-h)*e,u=y,c=m+(h-m)*e,f=_),"TB"!==t&&"BT"!==t||(a=h,u=y+(_-y)*e,c=m,f=_+(y-_)*e),{x1:h,y1:y,x2:m,y2:_,cpx1:a,cpy1:u,cpx2:c,cpy2:f}}var dv=Qo();function RO(n){var t=n.mainData,e=n.datas;e||(e={main:t},n.datasAttr={main:"data"}),n.datas=n.mainData=null,xA(t,e,n),Te(e,function(o){Te(t.TRANSFERABLE_METHODS,function(i){o.wrapMethod(i,cr(bA,n))})}),t.wrapMethod("cloneShallow",cr(NO,n)),Te(t.CHANGABLE_METHODS,function(o){t.wrapMethod(o,cr(LO,n))}),go(e[t.dataType]===t)}function bA(n,t){if(dv(this).mainData===this){var e=Pe({},dv(this).datas);e[this.dataType]=t,xA(t,e,n)}else Y2(t,this.dataType,dv(this).mainData,n);return t}function LO(n,t){return n.struct&&n.struct.update(),t}function NO(n,t){return Te(dv(t).datas,function(e,o){e!==t&&Y2(e.cloneShallow(),o,t,n)}),t}function BO(n){var t=dv(this).mainData;return null==n||null==t?t:dv(t).datas[n]}function zO(){var n=dv(this).mainData;return null==n?[{data:n}]:It(Zn(dv(n).datas),function(t){return{type:t,data:dv(n).datas[t]}})}function xA(n,t,e){dv(n).datas={},Te(t,function(o,i){Y2(o,i,n,e)})}function Y2(n,t,e,o){dv(e).datas[t]=n,dv(n).mainData=e,n.dataType=t,o.struct&&(n[o.structAttr]=o.struct,o.struct[o.datasAttr[t]]=n),n.getLinkedData=BO,n.getLinkedDataAll=zO}var FO=function(){function n(t,e){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=e}return n.prototype.isRemoved=function(){return this.dataIndex<0},n.prototype.eachNode=function(t,e,o){hn(t)&&(o=e,e=t,t=null),Un(t=t||{})&&(t={order:t});var i,a=t.order||"preorder",u=this[t.attr||"children"];"preorder"===a&&(i=e.call(o,this));for(var c=0;!i&&c<u.length;c++)u[c].eachNode(t,e,o);"postorder"===a&&e.call(o,this)},n.prototype.updateDepthAndHeight=function(t){var e=0;this.depth=t;for(var o=0;o<this.children.length;o++){var i=this.children[o];i.updateDepthAndHeight(t+1),i.height>e&&(e=i.height)}this.height=e+1},n.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var e=0,o=this.children,i=o.length;e<i;e++){var a=o[e].getNodeById(t);if(a)return a}},n.prototype.contains=function(t){if(t===this)return!0;for(var e=0,o=this.children,i=o.length;e<i;e++){var a=o[e].contains(t);if(a)return a}},n.prototype.getAncestors=function(t){for(var e=[],o=t?this:this.parentNode;o;)e.push(o),o=o.parentNode;return e.reverse(),e},n.prototype.getAncestorsIndices=function(){for(var t=[],e=this;e;)t.push(e.dataIndex),e=e.parentNode;return t.reverse(),t},n.prototype.getDescendantIndices=function(){var t=[];return this.eachNode(function(e){t.push(e.dataIndex)}),t},n.prototype.getValue=function(t){var e=this.hostTree.data;return e.getStore().get(e.getDimensionIndex(t||"value"),this.dataIndex)},n.prototype.setLayout=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},n.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},n.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(t)},n.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},n.prototype.setVisual=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},n.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},n.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},n.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},n.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,e=0;e<t.length;++e)if(t[e]===this)return e;return-1}return-1},n.prototype.isAncestorOf=function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},n.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},n}(),_A=function(){function n(t){this.type="tree",this._nodes=[],this.hostModel=t}return n.prototype.eachNode=function(t,e,o){this.root.eachNode(t,e,o)},n.prototype.getNodeByDataIndex=function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},n.prototype.getNodeById=function(t){return this.root.getNodeById(t)},n.prototype.update=function(){for(var t=this.data,e=this._nodes,o=0,i=e.length;o<i;o++)e[o].dataIndex=-1;for(o=0,i=t.count();o<i;o++)e[t.getRawIndex(o)].dataIndex=o},n.prototype.clearLayouts=function(){this.data.clearItemLayouts()},n.createTree=function(t,e,o){var i=new n(e),a=[],u=1;(function h(m,y){var _=m.value;u=Math.max(u,tt(_)?_.length:1),a.push(m);var A,E,S=new FO(xa(m.name,""),i);y?(A=S).parentNode!==(E=y)&&(E.children.push(A),A.parentNode=E):i.root=S,i._nodes.push(S);var k=m.children;if(k)for(var D=0;D<k.length;D++)h(k[D],S)})(t),i.root.updateDepthAndHeight(0);var c=Ym(a,{coordDimensions:["value"],dimensionsCount:u}).dimensions,f=new uc(c,e);return f.initData(a),o&&o(f),RO({mainData:f,struct:i,structAttr:"tree"}),i.update(),i},n}();function sT(n,t,e){if(n&&jt(t,n.type)>=0){var o=e.getData().tree.root,i=n.targetNode;if(Un(i)&&(i=o.getNodeById(i)),i&&o.contains(i))return{node:i};var a=n.targetNodeId;if(null!=a&&(i=o.getNodeById(a)))return{node:i}}}function wA(n){for(var t=[];n;)(n=n.parentNode)&&t.push(n);return t.reverse()}function uT(n,t){return jt(wA(n),t)>=0}function lT(n,t){for(var e=[];n;){var o=n.dataIndex;e.push({name:n.name,dataIndex:o,value:t.getRawValue(o)}),n=n.parentNode}return e.reverse(),e}var cT=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.hasSymbolVisual=!0,e.ignoreStyleOnData=!0,e}return yt(t,n),t.prototype.getInitialData=function(e){var o={name:e.name,children:e.data},a=new Pi(e.leaves||{},this,this.ecModel),u=_A.createTree(o,this,function(h){h.wrapMethod("getItemModel",function(m,y){var _=u.getNodeByDataIndex(y);return _&&_.children.length&&_.isExpand||(m.parentModel=a),m})}),c=0;u.eachNode("preorder",function(h){h.depth>c&&(c=h.depth)});var f=e.expandAndCollapse&&e.initialTreeDepth>=0?e.initialTreeDepth:c;return u.root.eachNode("preorder",function(h){var m=h.hostTree.data.getRawDataItem(h.dataIndex);h.isExpand=m&&null!=m.collapsed?!m.collapsed:h.depth<=f}),u.data},t.prototype.getOrient=function(){var e=this.get("orient");return"horizontal"===e?e="LR":"vertical"===e&&(e="TB"),e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.formatTooltip=function(e,o,i){for(var a=this.getData().tree,u=a.root.children[0],c=a.getNodeByDataIndex(e),f=c.getValue(),h=c.name;c&&c!==u;)h=c.parentNode.name+"."+h,c=c.parentNode;return Fl("nameValue",{name:h,value:f,noValue:isNaN(f)||null==f})},t.prototype.getDataParams=function(e){var o=n.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return o.treeAncestors=lT(i,this),o.collapsed=!i.isExpand,o},t.type="series.tree",t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t}(ga);function gk(n,t){for(var e,o=[n];e=o.pop();)if(t(e),e.isExpand){var i=e.children;if(i.length)for(var a=i.length-1;a>=0;a--)o.push(i[a])}}function SA(n,t){n.eachSeriesByType("tree",function(e){!function(o,i){var ee,a=(ee=i,au(o.getBoxLayoutParams(),{width:ee.getWidth(),height:ee.getHeight()}));o.layoutInfo=a;var u=o.get("layout"),c=0,f=0,h=null;"radial"===u?(c=2*Math.PI,f=Math.min(a.height,a.width)/2,h=AO(function(X,ee){return(X.parentNode===ee.parentNode?1:2)/X.depth})):(c=a.width,f=a.height,h=AO());var m=o.getData().tree.root,y=m.children[0];if(y){(function(X){var ee=X;ee.hierNode={defaultAncestor:null,ancestor:ee,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var ie,ye,_e=[ee];ie=_e.pop();)if(ye=ie.children,ie.isExpand&&ye.length)for(var Se=ye.length-1;Se>=0;Se--){var Ae=ye[Se];Ae.hierNode={defaultAncestor:null,ancestor:Ae,prelim:0,modifier:0,change:0,shift:0,i:Se,thread:null},_e.push(Ae)}})(m),function(X,ee,ie){for(var ye,_e=[X],Se=[];ye=_e.pop();)if(Se.push(ye),ye.isExpand){var Ae=ye.children;if(Ae.length)for(var Fe=0;Fe<Ae.length;Fe++)_e.push(Ae[Fe])}for(;ye=Se.pop();)ee(ye,ie)}(y,jP,h),m.hierNode.modifier=-y.hierNode.prelim,gk(y,vS);var _=y,S=y,k=y;gk(y,function(X){var ee=X.getLayout().x;ee<_.getLayout().x&&(_=X),ee>S.getLayout().x&&(S=X),X.depth>k.depth&&(k=X)});var D=_===S?1:h(_,S)/2,A=D-_.getLayout().x,E=0,N=0,z=0,F=0;if("radial"===u)E=c/(S.getLayout().x+D+A),N=f/(k.depth-1||1),gk(y,function(X){var ee=aT(z=(X.getLayout().x+A)*E,F=(X.depth-1)*N);X.setLayout({x:ee.x,y:ee.y,rawX:z,rawY:F},!0)});else{var q=o.getOrient();"RL"===q||"LR"===q?(N=f/(S.getLayout().x+D+A),E=c/(k.depth-1||1),gk(y,function(X){F=(X.getLayout().x+A)*N,X.setLayout({x:z="LR"===q?(X.depth-1)*E:c-(X.depth-1)*E,y:F},!0)})):"TB"!==q&&"BT"!==q||(E=c/(S.getLayout().x+D+A),N=f/(k.depth-1||1),gk(y,function(X){z=(X.getLayout().x+A)*E,X.setLayout({x:z,y:F="TB"===q?(X.depth-1)*N:f-(X.depth-1)*N},!0)}))}}}(e,t)})}function CA(n){n.eachSeriesByType("tree",function(t){var e=t.getData();e.tree.eachNode(function(o){var i=o.getModel().getModel("itemStyle").getItemStyle();Pe(e.ensureUniqueItemVisual(o.dataIndex,"style"),i)})})}var fT=["treemapZoomToNode","treemapRender","treemapMove"];function kA(n){var t=n.getData().tree,e={};t.eachNode(function(o){for(var i=o;i&&i.depth>1;)i=i.parentNode;var a=Yo(n.ecModel,i.name||i.dataIndex+"",e);o.setVisual("decal",a)})}var $P=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.preventUsingHoverLayer=!0,e}return yt(t,n),t.prototype.getInitialData=function(e,o){var i={name:e.name,children:e.data};MA(i);var a=e.levels||[],u=this.designatedVisualItemStyle={},c=new Pi({itemStyle:u},this,o),f=It((a=e.levels=function(m,y){var _,S,k=Ko(y.get("color")),D=Ko(y.get(["aria","decal","decals"]));if(k){Te(m=m||[],function(E){var N=new Pi(E),z=N.get("color"),F=N.get("decal");(N.get(["itemStyle","color"])||z&&"none"!==z)&&(_=!0),(N.get(["itemStyle","decal"])||F&&"none"!==F)&&(S=!0)});var A=m[0]||(m[0]={});return _||(A.color=k.slice()),!S&&D&&(A.decal=D.slice()),m}}(a,o))||[],function(m){return new Pi(m,c,o)},this),h=_A.createTree(i,this,function(m){m.wrapMethod("getItemModel",function(y,_){var S=h.getNodeByDataIndex(_);return y.parentModel=(S?f[S.depth]:null)||c,y})});return h.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(e,o,i){var a=this.getData(),u=this.getRawValue(e);return Fl("nameValue",{name:a.getName(e),value:u})},t.prototype.getDataParams=function(e){var o=n.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return o.treeAncestors=lT(i,this),o.treePathInfo=o.treeAncestors,o},t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},Pe(this.layoutInfo,e)},t.prototype.mapIdToIndex=function(e){var o=this._idIndexMap;o||(o=this._idIndexMap=Ir(),this._idIndexMapCount=0);var i=o.get(e);return null==i&&o.set(e,i=this._idIndexMapCount++),i},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var o=this.getRawData().tree.root;e&&(e===o||o.contains(e))||(this._viewRoot=o)},t.prototype.enableAriaDecal=function(){kA(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25b6",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(ga);function MA(n){var t=0;Te(n.children,function(o){MA(o);var i=o.value;tt(i)&&(i=i[0]),t+=i});var e=n.value;tt(e)&&(e=e[0]),(null==e||isNaN(e))&&(e=t),e<0&&(e=0),tt(n.value)?n.value[0]=e:n.value=e}var VO=function(){function n(t){this.group=new lo,t.add(this.group)}return n.prototype.render=function(t,e,o,i){var a=t.getModel("breadcrumb"),u=this.group;if(u.removeAll(),a.get("show")&&o){var c=a.getModel("itemStyle"),f=a.getModel("emphasis"),h=c.getModel("textStyle"),m=f.getModel(["itemStyle","textStyle"]),y={pos:{left:a.get("left"),right:a.get("right"),top:a.get("top"),bottom:a.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:a.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(o,y,h),this._renderContent(t,y,c,f,h,m,i),Fm(u,y.pos,y.box)}},n.prototype._prepare=function(t,e,o){for(var i=t;i;i=i.parentNode){var a=xa(i.getModel().get("name"),""),u=o.getTextRect(a),c=Math.max(u.width+16,e.emptyItemWidth);e.totalWidth+=c+8,e.renderList.push({node:i,text:a,width:c})}},n.prototype._renderContent=function(t,e,o,i,a,u,c){for(var f,h,m,y,_,S,k,D,A,E=0,N=e.emptyItemWidth,z=t.get(["breadcrumb","height"]),F=(_=(h=e.box).height,S=Qn((f=e.pos).left,y=h.width),k=Qn(f.top,_),D=Qn(f.right,y),A=Qn(f.bottom,_),(isNaN(S)||isNaN(parseFloat(f.left)))&&(S=0),(isNaN(D)||isNaN(parseFloat(f.right)))&&(D=y),(isNaN(k)||isNaN(parseFloat(f.top)))&&(k=0),(isNaN(A)||isNaN(parseFloat(f.bottom)))&&(A=_),m=vg(m||0),{width:Math.max(D-S-m[1]-m[3],0),height:Math.max(A-k-m[0]-m[2],0)}),q=e.totalWidth,X=e.renderList,ee=i.getModel("itemStyle").getItemStyle(),ie=X.length-1;ie>=0;ie--){var ye=X[ie],_e=ye.node,Se=ye.width,Ae=ye.text;q>F.width&&(q-=Se-N,Se=N,Ae=null);var Fe=new ms({shape:{points:HO(E,0,Se,z,ie===X.length-1,0===ie)},style:ht(o.getItemStyle(),{lineJoin:"bevel"}),textContent:new li({style:yi(a,{text:Ae})}),textConfig:{position:"inside"},z2:1e5,onclick:cr(c,_e)});Fe.disableLabelAnimation=!0,Fe.getTextContent().ensureState("emphasis").style=yi(u,{text:Ae}),Fe.ensureState("emphasis").style=ee,Ds(Fe,i.get("focus"),i.get("blurScope"),i.get("disabled")),this.group.add(Fe),TA(Fe,t,_e),E+=Se+8}},n.prototype.remove=function(){this.group.removeAll()},n}();function HO(n,t,e,o,i,a){var u=[[i?n:n-5,t],[n+e,t],[n+e,t+o],[i?n:n-5,t+o]];return!a&&u.splice(2,0,[n+e+5,t+o/2]),!i&&u.push([n,t+o/2]),u}function TA(n,t,e){fo(n).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:e&&e.dataIndex,name:e&&e.name},treePathInfo:e&&lT(e,t)}}var WO=function(){function n(){this._storage=[],this._elExistsMap={}}return n.prototype.add=function(t,e,o,i,a){return!this._elExistsMap[t.id]&&(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:e,duration:o,delay:i,easing:a}),!0)},n.prototype.finished=function(t){return this._finishedCallback=t,this},n.prototype.start=function(){for(var t=this,e=this._storage.length,o=function(){--e<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},i=0,a=this._storage.length;i<a;i++){var u=this._storage[i];u.el.animateTo(u.target,{duration:u.duration,delay:u.delay,easing:u.easing,setToFinal:!0,done:o,aborted:o})}return this},n}(),X2=lo,GO=oi,UO="upperLabel",yS=op([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),jO=function(n){var t=yS(n);return t.stroke=t.fill=t.lineWidth=null,t},bS=Qo(),DA=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._state="ready",e._storage={nodeGroup:[],background:[],content:[]},e}return yt(t,n),t.prototype.render=function(e,o,i,a){if(!(jt(o.findComponents({mainType:"series",subType:"treemap",query:a}),e)<0)){this.seriesModel=e,this.api=i,this.ecModel=o;var u=sT(a,["treemapZoomToNode","treemapRootToNode"],e),c=a&&a.type,f=e.layoutInfo,h=!this._oldTree,m=this._storage,y="treemapRootToNode"===c&&u&&m?{rootNodeGroup:m.nodeGroup[u.node.getRawIndex()],direction:a.direction}:null,_=this._giveContainerGroup(f),S=e.get("animation"),k=this._doRender(_,e,y);!S||h||c&&"treemapZoomToNode"!==c&&"treemapRootToNode"!==c?k.renderFinally():this._doAnimation(_,k,e,y),this._resetController(i),this._renderBreadcrumb(e,i,u)}},t.prototype._giveContainerGroup=function(e){var o=this._containerGroup;return o||(o=this._containerGroup=new X2,this._initEvents(o),this.group.add(o)),o.x=e.x,o.y=e.y,o},t.prototype._doRender=function(e,o,i){var a=o.getData().tree,u=this._oldTree,c={nodeGroup:[],background:[],content:[]},f={nodeGroup:[],background:[],content:[]},h=this._storage,m=[];!function S(k,D,A,E,N){function z(q){return q.getId()}function F(q,X){var ee=null!=q?k[q]:null,ie=null!=X?D[X]:null,ye=function y(S,k,D,A){return function(E,N,z,F,q,X,ee,ie,ye,_e){if(ee){var Se=ee.getLayout(),Ae=E.getData(),Fe=ee.getModel();if(Ae.setItemGraphicEl(ee.dataIndex,null),Se&&Se.isInView){var Xe=Se.width,nt=Se.height,it=Se.borderWidth,ut=Se.invisible,mt=ee.getRawIndex(),Ot=ie&&ie.getRawIndex(),Pt=ee.viewChildren,Gt=Se.upperHeight,kn=Pt&&Pt.length,tr=Fe.getModel("itemStyle"),Xt=Fe.getModel(["emphasis","itemStyle"]),zn=Fe.getModel(["blur","itemStyle"]),gr=Fe.getModel(["select","itemStyle"]),dr=tr.get("borderRadius")||0,nr=gf("nodeGroup",X2);if(nr){if(ye.add(nr),nr.x=Se.x||0,nr.y=Se.y||0,nr.markRedraw(),bS(nr).nodeWidth=Xe,bS(nr).nodeHeight=nt,Se.isAboveViewRoot)return nr;var br=gf("background",GO,_e,20);br&&function Si(ia,pi,Lo){var Ys=fo(pi);if(Ys.dataIndex=ee.dataIndex,Ys.seriesIndex=E.seriesIndex,pi.setShape({x:0,y:0,width:Xe,height:nt,r:dr}),ut)oa(pi);else{pi.invisible=!1;var ll=ee.getVisual("style"),Rc=ll.stroke,Lc=jO(tr);Lc.fill=Rc;var Nc=yS(Xt);Nc.fill=Xt.get("borderColor");var F1=yS(zn);F1.fill=zn.get("borderColor");var PS=yS(gr);PS.fill=gr.get("borderColor"),Lo?qs(pi,Rc,ll.opacity,{x:it,y:0,width:Xe-2*it,height:Gt}):pi.removeTextContent(),pi.setStyle(Lc),pi.ensureState("emphasis").style=Nc,pi.ensureState("blur").style=F1,pi.ensureState("select").style=PS,ng(pi)}ia.add(pi)}(nr,br,kn&&Se.upperLabelHeight);var ur=Fe.getModel("emphasis"),kr=ur.get("focus"),Br=ur.get("blurScope"),Ro=ur.get("disabled"),Zo="ancestor"===kr?ee.getAncestorsIndices():"descendant"===kr?ee.getDescendantIndices():kr;if(kn)Xc(nr)&&xl(nr,!1),br&&(xl(br,!Ro),Ae.setItemGraphicEl(ee.dataIndex,br),W_(br,Zo,Br));else{var wa=gf("content",GO,_e,30);wa&&function Hi(ia,pi){var Lo=fo(pi);Lo.dataIndex=ee.dataIndex,Lo.seriesIndex=E.seriesIndex;var Ys=Math.max(Xe-2*it,0),ll=Math.max(nt-2*it,0);if(pi.culling=!0,pi.setShape({x:it,y:it,width:Ys,height:ll,r:dr}),ut)oa(pi);else{pi.invisible=!1;var Rc=ee.getVisual("style"),Lc=Rc.fill,Nc=jO(tr);Nc.fill=Lc,Nc.decal=Rc.decal;var F1=yS(Xt),PS=yS(zn),GD=yS(gr);qs(pi,Lc,Rc.opacity,null),pi.setStyle(Nc),pi.ensureState("emphasis").style=F1,pi.ensureState("blur").style=PS,pi.ensureState("select").style=GD,ng(pi)}ia.add(pi)}(nr,wa),br.disableMorphing=!0,br&&Xc(br)&&xl(br,!1),xl(nr,!Ro),Ae.setItemGraphicEl(ee.dataIndex,nr),W_(nr,Zo,Br)}return nr}}}function oa(ia){!ia.invisible&&X.push(ia)}function qs(ia,pi,Lo,Ys){var ll=Fe.getModel(Ys?UO:"label"),Rc=xa(Fe.get("name"),null),Lc=ll.getShallow("show");Da(ia,Aa(Fe,Ys?UO:"label"),{defaultText:Lc?Rc:null,inheritColor:pi,defaultOpacity:Lo,labelFetcher:E,labelDataIndex:ee.dataIndex});var Nc=ia.getTextContent();if(Nc){var F1=Nc.style,PS=wr(F1.padding||0);Ys&&(ia.setTextConfig({layoutRect:Ys}),Nc.disableLabelLayout=!0),Nc.beforeUpdate=function(){var JB=Math.max((Ys?Ys.width:ia.shape.width)-PS[1]-PS[3],0),QB=Math.max((Ys?Ys.height:ia.shape.height)-PS[0]-PS[2],0);F1.width===JB&&F1.height===QB||Nc.setStyle({width:JB,height:QB})},F1.truncateMinChar=2,F1.lineOverflow="truncate",su(F1,Ys,Se);var GD=Nc.getState("emphasis");su(GD?GD.style:null,Ys,Se)}}function su(ia,pi,Lo){var Ys=ia?ia.text:null;if(!pi&&Lo.isLeafRoot&&null!=Ys){var ll=E.get("drillDownIcon",!0);ia.text=ll?ll+" "+Ys:Ys}}function gf(ia,pi,Lo,Ys){var ll=null!=Ot&&z[ia][Ot],Rc=q[ia];return ll?(z[ia][Ot]=null,function yv(ia,pi){var Lo=ia[mt]={};pi instanceof X2?(Lo.oldX=pi.x,Lo.oldY=pi.y):Lo.oldShape=Pe({},pi.shape)}(Rc,ll)):ut||((ll=new pi)instanceof zu&&(ll.z2=100*Lo+Ys),function I_(ia,pi){var Lo=ia[mt]={},Ys=ee.parentNode,ll=pi instanceof lo;if(Ys&&(!F||"drillDown"===F.direction)){var Rc=0,Lc=0,Nc=q.background[Ys.getRawIndex()];!F&&Nc&&Nc.oldShape&&(Rc=Nc.oldShape.width,Lc=Nc.oldShape.height),ll?(Lo.oldX=0,Lo.oldY=Lc):Lo.oldShape={x:Rc,y:Lc,width:0,height:0}}Lo.fadein=!ll}(Rc,ll)),N[ia][mt]=ll}}(o,f,h,i,c,m,S,k,D,A)}(ee,ie,A,N);ye&&S(ee&&ee.viewChildren||[],ie&&ie.viewChildren||[],ye,E,N+1)}E?(D=k,Te(k,function(q,X){!q.isRemoved()&&F(X,X)})):new Tp(D,k,z,z).add(F).update(F).remove(cr(F,null)).execute()}(a.root?[a.root]:[],u&&u.root?[u.root]:[],e,a===u||!u,0);var S,k,_=(k={nodeGroup:[],background:[],content:[]},(S=h)&&Te(S,function(D,A){var E=k[A];Te(D,function(N){N&&(E.push(N),bS(N).willDelete=!0)})}),k);return this._oldTree=a,this._storage=f,{lastsForAnimation:c,willDeleteEls:_,renderFinally:function(){Te(_,function(S){Te(S,function(k){k.parent&&k.parent.remove(k)})}),Te(m,function(S){S.invisible=!0,S.dirty()})}}},t.prototype._doAnimation=function(e,o,i,a){var u=i.get("animationDurationUpdate"),c=i.get("animationEasing"),f=(hn(u)?0:u)||0,h=(hn(c)?null:c)||"cubicOut",m=new WO;Te(o.willDeleteEls,function(y,_){Te(y,function(S,k){if(!S.invisible){var D,A=S.parent,E=bS(A);if(a&&"drillDown"===a.direction)D=A===a.rootNodeGroup?{shape:{x:0,y:0,width:E.nodeWidth,height:E.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var N=0,z=0;E.willDelete||(N=E.nodeWidth/2,z=E.nodeHeight/2),D="nodeGroup"===_?{x:N,y:z,style:{opacity:0}}:{shape:{x:N,y:z,width:0,height:0},style:{opacity:0}}}D&&m.add(S,D,f,0,h)}})}),Te(this._storage,function(y,_){Te(y,function(S,k){var D=o.lastsForAnimation[_][k],A={};D&&(S instanceof lo?null!=D.oldX&&(A.x=S.x,A.y=S.y,S.x=D.oldX,S.y=D.oldY):(D.oldShape&&(A.shape=Pe({},S.shape),S.setShape(D.oldShape)),D.fadein?(S.setStyle("opacity",0),A.style={opacity:1}):1!==S.style.opacity&&(A.style={opacity:1})),m.add(S,A,f,0,h))})},this),this._state="animating",m.finished(Bn(function(){this._state="ready",o.renderFinally()},this)).start()},t.prototype._resetController=function(e){var o=this._controller;o||((o=this._controller=new y_(e.getZr())).enable(this.seriesModel.get("roam")),o.on("pan",Bn(this._onPan,this)),o.on("zoom",Bn(this._onZoom,this)));var i=new To(0,0,e.getWidth(),e.getHeight());o.setPointerChecker(function(a,u,c){return i.contain(u,c)})},t.prototype._clearController=function(){var e=this._controller;e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if("animating"!==this._state&&(Math.abs(e.dx)>3||Math.abs(e.dy)>3)){var o=this.seriesModel.getData().tree.root;if(!o)return;var i=o.getLayout();if(!i)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+e.dx,y:i.y+e.dy,width:i.width,height:i.height}})}},t.prototype._onZoom=function(e){var o=e.originX,i=e.originY;if("animating"!==this._state){var a=this.seriesModel.getData().tree.root;if(!a)return;var u=a.getLayout();if(!u)return;var c=new To(u.x,u.y,u.width,u.height),f=this.seriesModel.layoutInfo,h=[1,0,0,1,0,0];zc(h,h,[-(o-=f.x),-(i-=f.y)]),gn(h,h,[e.scale,e.scale]),zc(h,h,[o,i]),c.applyTransform(h),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:c.x,y:c.y,width:c.width,height:c.height}})}},t.prototype._initEvents=function(e){var o=this;e.on("click",function(i){if("ready"===o._state){var a=o.seriesModel.get("nodeClick",!0);if(a){var u=o.findTarget(i.offsetX,i.offsetY);if(u){var c=u.node;if(c.getLayout().isLeafRoot)o._rootToNode(u);else if("zoomToNode"===a)o._zoomToNode(u);else if("link"===a){var f=c.hostTree.data.getItemModel(c.dataIndex),h=f.get("link",!0),m=f.get("target",!0)||"blank";h&&yg(h,m)}}}}},this)},t.prototype._renderBreadcrumb=function(e,o,i){var a=this;i||(i=null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(o.getWidth()/2,o.getHeight()/2))||(i={node:e.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new VO(this.group))).render(e,o,i.node,function(u){"animating"!==a._state&&(uT(e.getViewRoot(),u)?a._rootToNode({node:u}):a._zoomToNode({node:u}))})},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype.findTarget=function(e,o){var i;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(a){var u=this._storage.background[a.getRawIndex()];if(u){var c=u.transformCoordToLocal(e,o),f=u.shape;if(!(f.x<=c[0]&&c[0]<=f.x+f.width&&f.y<=c[1]&&c[1]<=f.y+f.height))return!1;i={node:a,offsetX:c[0],offsetY:c[1]}}},this),i},t.type="treemap",t}(ma),mk=Te,AA=fr,cf=function(){function n(t){var e=t.mappingMethod,o=t.type,i=this.option=Re(t);this.type=o,this.mappingMethod=e,this._normalizeData=YO[e];var u,c,a=n.visualHandlers[o];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._normalizedToVisual=a._normalizedToVisual[e],"piecewise"===e?(OA(i),c=(u=i).pieceList,u.hasSpecialVisual=!1,Te(c,function(f,h){f.originIndex=h,null!=f.visual&&(u.hasSpecialVisual=!0)})):"category"===e?i.categories?function(u){var c=u.categories,f=u.categoryMap={},h=u.visual;if(mk(c,function(_,S){f[_]=S}),!tt(h)){var m=[];fr(h)?mk(h,function(_,S){var k=f[S];m[null!=k?k:-1]=_}):m[-1]=h,h=EA(u,m)}for(var y=c.length-1;y>=0;y--)null==h[y]&&(delete f[c[y]],c.pop())}(i):OA(i,!0):(go("linear"!==e||i.dataExtent),OA(i))}return n.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)},n.prototype.getNormalizer=function(){return Bn(this._normalizeData,this)},n.listVisualTypes=function(){return Zn(n.visualHandlers)},n.isValidType=function(t){return n.visualHandlers.hasOwnProperty(t)},n.eachVisual=function(t,e,o){fr(t)?Te(t,e,o):e.call(o,t)},n.mapVisual=function(t,e,o){var i,a=tt(t)?[]:fr(t)?{}:(i=!0,null);return n.eachVisual(t,function(u,c){var f=e.call(o,u,c);i?a=f:a[c]=f}),a},n.retrieveVisuals=function(t){var e,o={};return t&&mk(n.visualHandlers,function(i,a){t.hasOwnProperty(a)&&(o[a]=t[a],e=!0)}),e?o:null},n.prepareVisualTypes=function(t){if(tt(t))t=t.slice();else{if(!AA(t))return[];var e=[];mk(t,function(o,i){e.push(i)}),t=e}return t.sort(function(o,i){return"color"===i&&"color"!==o&&0===o.indexOf("color")?1:-1}),t},n.dependsOn=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e},n.findPieceIndex=function(t,e,o){for(var i,a=1/0,u=0,c=e.length;u<c;u++){var f=e[u].value;if(null!=f){if(f===t||Un(f)&&f===t+"")return u;o&&_(f,u)}}for(u=0,c=e.length;u<c;u++){var h=e[u],m=h.interval,y=h.close;if(m){if(m[0]===-1/0){if(J2(y[1],t,m[1]))return u}else if(m[1]===1/0){if(J2(y[0],m[0],t))return u}else if(J2(y[0],m[0],t)&&J2(y[1],t,m[1]))return u;o&&_(m[0],u),o&&_(m[1],u)}}if(o)return t===1/0?e.length-1:t===-1/0?0:i;function _(S,k){var D=Math.abs(S-t);D<a&&(a=D,i=k)}},n.visualHandlers={color:{applyVisual:ff("color"),getColorMapper:function(){var t=this.option;return Bn("category"===t.mappingMethod?function(e,o){return!o&&(e=this._normalizeData(e)),dT.call(this,e)}:function(e,o,i){var a=!!i;return!o&&(e=this._normalizeData(e)),i=Hy(e,t.parsedVisual,i),a?i:hu(i,"rgba")},this)},_normalizedToVisual:{linear:function(t){return hu(Hy(t,this.option.parsedVisual),"rgba")},category:dT,piecewise:function(t,e){var o=$2.call(this,e);return null==o&&(o=hu(Hy(t,this.option.parsedVisual),"rgba")),o},fixed:xS}},colorHue:K2(function(t,e){return Wh(t,e)}),colorSaturation:K2(function(t,e){return Wh(t,null,e)}),colorLightness:K2(function(t,e){return Wh(t,null,null,e)}),colorAlpha:K2(function(t,e){return ch(t,e)}),decal:{applyVisual:ff("decal"),_normalizedToVisual:{linear:null,category:dT,piecewise:null,fixed:null}},opacity:{applyVisual:ff("opacity"),_normalizedToVisual:vk([0,1])},liftZ:{applyVisual:ff("liftZ"),_normalizedToVisual:{linear:xS,category:xS,piecewise:xS,fixed:xS}},symbol:{applyVisual:function(t,e,o){o("symbol",this.mapValueToVisual(t))},_normalizedToVisual:{linear:qO,category:dT,piecewise:function(t,e){var o=$2.call(this,e);return null==o&&(o=qO.call(this,t)),o},fixed:xS}},symbolSize:{applyVisual:ff("symbolSize"),_normalizedToVisual:vk([0,1])}},n}();function OA(n,t){var e=n.visual,o=[];fr(e)?mk(e,function(i){o.push(i)}):null!=e&&o.push(e),t||1!==o.length||{color:1,symbol:1}.hasOwnProperty(n.type)||(o[1]=o[0]),EA(n,o)}function K2(n){return{applyVisual:function(t,e,o){var i=this.mapValueToVisual(t);o("color",n(e("color"),i))},_normalizedToVisual:vk([0,1])}}function qO(n){var t=this.option.visual;return t[Math.round(zi(n,[0,1],[0,t.length-1],!0))]||{}}function ff(n){return function(t,e,o){o(n,this.mapValueToVisual(t))}}function dT(n){var t=this.option.visual;return t[this.option.loop&&-1!==n?n%t.length:n]}function xS(){return this.option.visual[0]}function vk(n){return{linear:function(t){return zi(t,n,this.option.visual,!0)},category:dT,piecewise:function(t,e){var o=$2.call(this,e);return null==o&&(o=zi(t,n,this.option.visual,!0)),o},fixed:xS}}function $2(n){var t=this.option,e=t.pieceList;if(t.hasSpecialVisual){var o=e[cf.findPieceIndex(n,e)];if(o&&o.visual)return o.visual[this.type]}}function EA(n,t){return n.visual=t,"color"===n.type&&(n.parsedVisual=It(t,function(e){return to(e)||[0,0,0,1]})),t}var YO={linear:function(n){return zi(n,this.option.dataExtent,[0,1],!0)},piecewise:function(n){var t=this.option.pieceList,e=cf.findPieceIndex(n,t,!0);if(null!=e)return zi(e,[0,t.length-1],[0,1],!0)},category:function(n){var t=this.option.categories?this.option.categoryMap[n]:n;return null==t?-1:t},fixed:Io};function J2(n,t,e){return n?t<=e:t<e}var _S=Qo(),XO={seriesType:"treemap",reset:function(n){var t=n.getData().tree.root;t.isRemoved()||hT(t,{},n.getViewRoot().getAncestors(),n)}};function hT(n,t,e,o){var D,A,E,N,z,i=n.getModel(),a=n.getLayout(),u=n.hostTree.data;if(a&&!a.invisible&&a.isInView){var c,f=i.getModel("itemStyle"),h=(D=f,E=o,N=Pe({},A=t),z=E.designatedVisualItemStyle,Te(["color","colorAlpha","colorSaturation"],function(F){z[F]=A[F];var q=D.get(F);z[F]=null,null!=q&&(N[F]=q)}),N),m=u.ensureUniqueItemVisual(n.dataIndex,"style"),y=f.get("borderColor"),_=f.get("borderColorSaturation");null!=_&&(y=function(D,A){return null!=A?Wh(A,null,null,D):null}(_,c=PA(h))),m.stroke=y;var S=n.viewChildren;if(S&&S.length){var k=function(D,A,E,N,z,F){if(F&&F.length){var q=LA(A,"color")||null!=z.color&&"none"!==z.color&&(LA(A,"colorAlpha")||LA(A,"colorSaturation"));if(q){var X=A.get("visualMin"),ee=A.get("visualMax"),ie=E.dataExtent.slice();null!=X&&X<ie[0]&&(ie[0]=X),null!=ee&&ee>ie[1]&&(ie[1]=ee);var ye=A.get("colorMappingBy"),_e={type:q.name,dataExtent:ie,visual:q.range};"color"!==_e.type||"index"!==ye&&"id"!==ye?_e.mappingMethod="linear":(_e.mappingMethod="category",_e.loop=!0);var Se=new cf(_e);return _S(Se).drColorMappingBy=ye,Se}}}(0,i,a,0,h,S);Te(S,function(D,A){if(D.depth>=e.length||D===e[D.depth]){var E=function(N,z,F,q,X,ee){var ie=Pe({},z);if(X){var ye=X.type,_e="color"===ye&&_S(X).drColorMappingBy,Se="index"===_e?q:"id"===_e?ee.mapIdToIndex(F.getId()):F.getValue(N.get("visualDimension"));ie[ye]=X.mapValueToVisual(Se)}return ie}(i,h,D,A,k,o);hT(D,E,e,o)}})}else c=PA(h),m.fill=c}}function PA(n){var t=RA(n,"color");if(t){var e=RA(n,"colorAlpha"),o=RA(n,"colorSaturation");return o&&(t=Wh(t,null,null,o)),e&&(t=ch(t,e)),t}}function RA(n,t){var e=n[t];if(null!=e&&"none"!==e)return e}function LA(n,t){var e=n.get(t);return tt(e)&&e.length?{name:t,range:e}:null}var pT=Math.max,gT=Math.min,ZO=ar,Q2=Te,NA=["itemStyle","borderWidth"],KO=["itemStyle","gapWidth"],$O=["upperLabel","show"],BA=["upperLabel","height"],zA={seriesType:"treemap",reset:function(n,t,e,o){var i=e.getWidth(),a=e.getHeight(),u=n.option,c=au(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),f=u.size||[],h=Qn(ZO(c.width,f[0]),i),m=Qn(ZO(c.height,f[1]),a),y=o&&o.type,_=sT(o,["treemapZoomToNode","treemapRootToNode"],n),S="treemapRender"===y||"treemapMove"===y?o.rootRect:null,k=n.getViewRoot(),D=wA(k);if("treemapMove"!==y){var A="treemapZoomToNode"===y?function(q,X,ee,ie,ye){var _e,Se=(X||{}).node,Ae=[ie,ye];if(!Se||Se===ee)return Ae;for(var Fe=ie*ye,Xe=Fe*q.option.zoomToNodeRatio;_e=Se.parentNode;){for(var nt=0,it=_e.children,ut=0,mt=it.length;ut<mt;ut++)nt+=it[ut].getValue();var Ot=Se.getValue();if(0===Ot)return Ae;Xe*=nt/Ot;var Pt=_e.getModel(),Gt=Pt.get(NA);(Xe+=4*Gt*Gt+(3*Gt+Math.max(Gt,FA(Pt)))*Math.pow(Xe,.5))>_f&&(Xe=_f),Se=_e}Xe<Fe&&(Xe=Fe);var kn=Math.pow(Xe/Fe,.5);return[ie*kn,ye*kn]}(n,_,k,h,m):S?[S.width,S.height]:[h,m],E=u.sort;E&&"asc"!==E&&"desc"!==E&&(E="desc");var N={squareRatio:u.squareRatio,sort:E,leafDepth:u.leafDepth};k.hostTree.clearLayouts();var z={x:0,y:0,width:A[0],height:A[1],area:A[0]*A[1]};k.setLayout(z),eD(k,N,!1,0),z=k.getLayout(),Q2(D,function(q,X){var ee=(D[X+1]||k).getValue();q.setLayout(Pe({dataExtent:[ee,ee],borderWidth:0,upperHeight:0},z))})}var F=n.getData().tree.root;F.setLayout(function(q,X,ee){if(X)return{x:X.x,y:X.y};var ie={x:0,y:0};if(!ee)return ie;var ye=ee.node,_e=ye.getLayout();if(!_e)return ie;for(var Se=[_e.width/2,_e.height/2],Ae=ye;Ae;){var Fe=Ae.getLayout();Se[0]+=Fe.x,Se[1]+=Fe.y,Ae=Ae.parentNode}return{x:q.width/2-Se[0],y:q.height/2-Se[1]}}(c,S,_),!0),n.setLayoutInfo(c),mT(F,new To(-c.x,-c.y,i,a),D,k,0)}};function eD(n,t,e,o){var i,a;if(!n.isRemoved()){var u=n.getLayout();i=u.width,a=u.height;var c=n.getModel(),f=c.get(NA),h=c.get(KO)/2,m=FA(c),y=Math.max(f,m),_=f-h,S=y-h;n.setLayout({borderWidth:f,upperHeight:y,upperLabelHeight:m},!0);var k=(i=pT(i-2*_,0))*(a=pT(a-_-S,0)),D=function(ye,_e,Se,Ae,Fe,Xe){var nt=ye.children||[],it=Ae.sort;"asc"!==it&&"desc"!==it&&(it=null);var tr,ut=null!=Ae.leafDepth&&Ae.leafDepth<=Xe;if(Fe&&!ut)return ye.viewChildren=[];nt=Lr(nt,function(kn){return!kn.isRemoved()}),(tr=it)&&nt.sort(function(Xt,zn){var gr="asc"===tr?Xt.getValue()-zn.getValue():zn.getValue()-Xt.getValue();return 0===gr?"asc"===tr?Xt.dataIndex-zn.dataIndex:zn.dataIndex-Xt.dataIndex:gr});var mt=function(kn,tr,Xt){for(var zn=0,gr=0,dr=tr.length;gr<dr;gr++)zn+=tr[gr].getValue();var nr,br=kn.get("visualDimension");return tr&&tr.length?"value"===br&&Xt?(nr=[tr[tr.length-1].getValue(),tr[0].getValue()],"asc"===Xt&&nr.reverse()):(nr=[1/0,-1/0],Q2(tr,function(ur){var kr=ur.getValue(br);kr<nr[0]&&(nr[0]=kr),kr>nr[1]&&(nr[1]=kr)})):nr=[NaN,NaN],{sum:zn,dataExtent:nr}}(_e,nt,it);if(0===mt.sum)return ye.viewChildren=[];if(mt.sum=function(kn,tr,Xt,zn,gr){if(!zn)return Xt;for(var dr=kn.get("visibleMin"),nr=gr.length,br=nr,ur=nr-1;ur>=0;ur--){var kr=gr["asc"===zn?nr-ur-1:ur].getValue();kr/Xt*tr<dr&&(br=ur,Xt-=kr)}return gr.splice("asc"===zn?0:br,nr-br),Xt}(_e,Se,mt.sum,it,nt),0===mt.sum)return ye.viewChildren=[];for(var Ot=0,Pt=nt.length;Ot<Pt;Ot++){var Gt=nt[Ot].getValue()/mt.sum*Se;nt[Ot].setLayout({area:Gt})}return ut&&(nt.length&&ye.setLayout({isLeafRoot:!0},!0),nt.length=0),ye.viewChildren=nt,ye.setLayout({dataExtent:mt.dataExtent},!0),nt}(n,c,k,t,e,o);if(D.length){var A={x:_,y:S,width:i,height:a},E=gT(i,a),N=1/0,z=[];z.area=0;for(var F=0,q=D.length;F<q;){var X=D[F];z.push(X),z.area+=X.getLayout().area;var ee=JP(z,E,t.squareRatio);ee<=N?(F++,N=ee):(z.area-=z.pop().getLayout().area,JO(z,E,A,h,!1),E=gT(A.width,A.height),z.length=z.area=0,N=1/0)}if(z.length&&JO(z,E,A,h,!0),!e){var ie=c.get("childrenVisibleMin");null!=ie&&k<ie&&(e=!0)}for(F=0,q=D.length;F<q;F++)eD(D[F],t,e,o+1)}}}function JP(n,t,e){for(var o=0,i=1/0,a=0,u=void 0,c=n.length;a<c;a++)(u=n[a].getLayout().area)&&(u<i&&(i=u),u>o&&(o=u));var f=n.area*n.area,h=t*t*e;return f?pT(h*o/f,f/(h*i)):1/0}function JO(n,t,e,o,i){var a=t===e.width?0:1,u=1-a,c=["x","y"],f=["width","height"],h=e[c[a]],m=t?n.area/t:0;(i||m>e[f[u]])&&(m=e[f[u]]);for(var y=0,_=n.length;y<_;y++){var S=n[y],k={},D=m?S.getLayout().area/m:0,A=k[f[u]]=pT(m-2*o,0),E=e[c[a]]+e[f[a]]-h,N=y===_-1||E<D?E:D,z=k[f[a]]=pT(N-2*o,0);k[c[u]]=e[c[u]]+gT(o,A/2),k[c[a]]=h+gT(o,z/2),h+=N,S.setLayout(k,!0)}e[c[u]]+=m,e[f[u]]-=m}function mT(n,t,e,o,i){var a=n.getLayout(),u=e[i],c=u&&u===n;if(!(u&&!c||i===e.length&&n!==o)){n.setLayout({isInView:!0,invisible:!c&&!t.intersect(a),isAboveViewRoot:c},!0);var f=new To(t.x-a.x,t.y-a.y,t.width,t.height);Q2(n.viewChildren||[],function(h){mT(h,f,e,o,i+1)})}}function FA(n){return n.get($O)?n.get(BA):0}function VA(n){var t=n.findComponents({mainType:"legend"});t&&t.length&&n.eachSeriesByType("graph",function(e){var o=e.getCategoriesData(),i=e.getGraph().data,a=o.mapArray(o.getName);i.filterSelf(function(u){var c=i.getItemModel(u).getShallow("category");if(null!=c){hr(c)&&(c=a[c]);for(var f=0;f<t.length;f++)if(!t[f].isSelected(c))return!1}return!0})})}function QP(n){var t={};n.eachSeriesByType("graph",function(e){var o=e.getCategoriesData(),i=e.getData(),a={};o.each(function(u){var c=o.getName(u);a["ec-"+c]=u;var f=o.getItemModel(u),h=f.getModel("itemStyle").getItemStyle();h.fill||(h.fill=e.getColorFromPalette(c,t)),o.setItemVisual(u,"style",h);for(var m=["symbol","symbolSize","symbolKeepAspect"],y=0;y<m.length;y++){var _=f.getShallow(m[y],!0);null!=_&&o.setItemVisual(u,m[y],_)}}),o.count()&&i.each(function(u){var c=i.getItemModel(u).getShallow("category");if(null!=c){Un(c)&&(c=a["ec-"+c]);var f=o.getItemVisual(c,"style");Pe(i.ensureUniqueItemVisual(u,"style"),f);for(var h=["symbol","symbolSize","symbolKeepAspect"],m=0;m<h.length;m++)i.setItemVisual(u,h[m],o.getItemVisual(c,h[m]))}})})}function wS(n){return n instanceof Array||(n=[n,n]),n}function eR(n){n.eachSeriesByType("graph",function(t){var e=t.getGraph(),o=t.getEdgeData(),i=wS(t.get("edgeSymbol")),a=wS(t.get("edgeSymbolSize"));o.setVisual("fromSymbol",i&&i[0]),o.setVisual("toSymbol",i&&i[1]),o.setVisual("fromSymbolSize",a&&a[0]),o.setVisual("toSymbolSize",a&&a[1]),o.setVisual("style",t.getModel("lineStyle").getLineStyle()),o.each(function(u){var c=o.getItemModel(u),f=e.getEdgeByIndex(u),h=wS(c.getShallow("symbol",!0)),m=wS(c.getShallow("symbolSize",!0)),y=c.getModel("lineStyle").getLineStyle(),_=o.ensureUniqueItemVisual(u,"style");switch(Pe(_,y),_.stroke){case"source":var S=f.node1.getVisual("style");_.stroke=S&&S.fill;break;case"target":S=f.node2.getVisual("style"),_.stroke=S&&S.fill}h[0]&&f.setVisual("fromSymbol",h[0]),h[1]&&f.setVisual("toSymbol",h[1]),m[0]&&f.setVisual("fromSymbolSize",m[0]),m[1]&&f.setVisual("toSymbolSize",m[1])})})}var b_=function(n){return n.get("autoCurveness")||null},WA=function(n,t){var e=b_(n),o=20,i=[];if(hr(e))o=e;else if(tt(e))return void(n.__curvenessList=e);t>o&&(o=t);var a=o%2?o+2:o+3;i=[];for(var u=0;u<a;u++)i.push((u%2?u+1:u)/10*(u%2?-1:1));n.__curvenessList=i},vT=function(n,t,e){var o=[n.id,n.dataIndex].join("."),i=[t.id,t.dataIndex].join(".");return[e.uid,o,i].join("--\x3e")},GA=function(n){var t=n.split("--\x3e");return[t[0],t[2],t[1]].join("--\x3e")},UA=function(n,t){var e=t.__edgeMap;return e[n]?e[n].length:0};function tD(n,t,e,o){var i=b_(t),a=tt(i);if(!i)return null;var A,E,N,u=(N=vT((A=n).node1,A.node2,E=t),E.__edgeMap[N]);if(!u)return null;for(var c=-1,f=0;f<u.length;f++)if(u[f]===e){c=f;break}var h=function(A,E){return UA(vT(A.node1,A.node2,E),E)+UA(vT(A.node2,A.node1,E),E)}(n,t);WA(t,h),n.lineStyle=n.lineStyle||{};var m=vT(n.node1,n.node2,t),y=t.__curvenessList,_=a||h%2?0:1;if(u.isForward)return y[_+c];var S=GA(m),k=UA(S,t),D=y[c+k+_];return o?a?i&&0===i[0]?(k+_)%2?D:-D:((k%2?0:1)+_)%2?D:-D:(k+_)%2?D:-D:y[c+k+_]}function jA(n){var t=n.coordinateSystem;if(!t||"view"===t.type){var e=n.getGraph();e.eachNode(function(o){var i=o.getModel();o.setLayout([+i.get("x"),+i.get("y")])}),nD(e,n)}}function nD(n,t){n.eachEdge(function(e,o){var i=vn(e.getModel().get(["lineStyle","curveness"]),-tD(e,t,o,!0),0),a=Iu(e.node1.getLayout()),u=Iu(e.node2.getLayout()),c=[a,u];+i&&c.push([(a[0]+u[0])/2-(a[1]-u[1])*i,(a[1]+u[1])/2-(u[0]-a[0])*i]),e.setLayout(c)})}function QO(n,t){n.eachSeriesByType("graph",function(e){var o=e.get("layout"),i=e.coordinateSystem;if(i&&"view"!==i.type){var a=e.getData(),u=[];Te(i.dimensions,function(_){u=u.concat(a.mapDimensionsAll(_))});for(var c=0;c<a.count();c++){for(var f=[],h=!1,m=0;m<u.length;m++){var y=a.get(u[m],c);isNaN(y)||(h=!0),f.push(y)}a.setItemLayout(c,h?i.dataToPoint(f):[NaN,NaN])}nD(a.graph,e)}else o&&"none"!==o||jA(e)})}function yk(n){var t=n.coordinateSystem;if("view"!==t.type)return 1;var e=n.option.nodeScaleRatio,o=t.scaleX;return((t.getZoom()-1)*e+1)/o}function bk(n){var t=n.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var eE=Math.PI,xk=[];function _k(n,t,e,o){var i=n.coordinateSystem;if(!i||"view"===i.type){var a=i.getBoundingRect(),u=n.getData(),c=u.graph,f=a.width/2+a.x,h=a.height/2+a.y,m=Math.min(a.width,a.height)/2,y=u.count();if(u.setLayout({cx:f,cy:h}),y){if(e){var _=i.pointToData(o),D=[_[0]-f,_[1]-h];mr(D,D),dn(D,D,m),e.setLayout([f+D[0],h+D[1]],!0),yT(e,n.get(["circular","rotateLabel"]),f,h)}R1[t](n,c,u,m,f,h,y),c.eachEdge(function(A,E){var N,z=vn(A.getModel().get(["lineStyle","curveness"]),tD(A,n,E),0),F=Iu(A.node1.getLayout()),q=Iu(A.node2.getLayout());+z&&(N=[f*(z*=3)+(F[0]+q[0])/2*(1-z),h*z+(F[1]+q[1])/2*(1-z)]),A.setLayout([F,q,N])})}}}var R1={value:function(n,t,e,o,i,a,u){var c=0,f=e.getSum("value"),h=2*Math.PI/(f||u);t.eachNode(function(m){var y=m.getValue("value"),_=h*(f?y:1)/2;c+=_,m.setLayout([o*Math.cos(c)+i,o*Math.sin(c)+a]),c+=_})},symbolSize:function(n,t,e,o,i,a,u){var c=0;xk.length=u;var f=yk(n);t.eachNode(function(y){var _=bk(y);isNaN(_)&&(_=2),_<0&&(_=0),_*=f;var S=Math.asin(_/2/o);isNaN(S)&&(S=eE/2),xk[y.dataIndex]=S,c+=2*S});var h=(2*eE-c)/u/2,m=0;t.eachNode(function(y){var _=h+xk[y.dataIndex];m+=_,(!y.getLayout()||!y.getLayout().fixed)&&y.setLayout([o*Math.cos(m)+i,o*Math.sin(m)+a]),m+=_})}};function yT(n,t,e,o){var i=n.getGraphicEl();if(i){var a=n.getModel().get(["label","rotate"])||0,u=i.getSymbolPath();if(t){var c=n.getLayout(),f=Math.atan2(c[1]-o,c[0]-e);f<0&&(f=2*Math.PI+f);var h=c[0]<e;h&&(f-=Math.PI);var m=h?"left":"right";u.setTextConfig({rotation:-f,position:m,origin:"center"});var y=u.ensureState("emphasis");Pe(y.textConfig||(y.textConfig={}),{position:m})}else u.setTextConfig({rotation:a*=Math.PI/180})}}function wk(n){n.eachSeriesByType("graph",function(t){"circular"===t.get("layout")&&_k(t,"symbolSize")})}var SS=Wn;function tE(n){n.eachSeriesByType("graph",function(t){var e=t.coordinateSystem;if(!e||"view"===e.type)if("force"===t.get("layout")){var o=t.preservedPoints||{},i=t.getGraph(),a=i.data,u=i.edgeData,c=t.getModel("force"),f=c.get("initLayout");t.preservedPoints?a.each(function(z){var F=a.getId(z);a.setItemLayout(z,o[F]||[NaN,NaN])}):f&&"none"!==f?"circular"===f&&_k(t,"value"):jA(t);var h=a.getDataExtent("value"),m=u.getDataExtent("value"),y=c.get("repulsion"),_=c.get("edgeLength"),S=tt(y)?y:[y,y],k=tt(_)?_:[_,_];k=[k[1],k[0]];var D=a.mapArray("value",function(z,F){var q=a.getItemLayout(F),X=zi(z,h,S);return isNaN(X)&&(X=(S[0]+S[1])/2),{w:X,rep:X,fixed:a.getItemModel(F).get("fixed"),p:!q||isNaN(q[0])||isNaN(q[1])?null:q}}),A=u.mapArray("value",function(z,F){var q=i.getEdgeByIndex(F),X=zi(z,m,k);isNaN(X)&&(X=(k[0]+k[1])/2);var ee=q.getModel(),ie=vn(q.getModel().get(["lineStyle","curveness"]),-tD(q,t,F,!0),0);return{n1:D[q.node1.dataIndex],n2:D[q.node2.dataIndex],d:X,curveness:ie,ignoreForceLayout:ee.get("ignoreForceLayout")}}),E=e.getBoundingRect(),N=function(z,F,q){for(var X=z,ee=F,ie=q.rect,ye=ie.width,_e=ie.height,Se=[ie.x+ye/2,ie.y+_e/2],Ae=null==q.gravity?.1:q.gravity,Fe=0;Fe<X.length;Fe++){var Xe=X[Fe];Xe.p||(Xe.p=Ni(ye*(Math.random()-.5)+Se[0],_e*(Math.random()-.5)+Se[1])),Xe.pp=Iu(Xe.p),Xe.edges=null}var nt,it,ut=null==q.friction?.6:q.friction,mt=ut;return{warmUp:function(){mt=.8*ut},setFixed:function(Ot){X[Ot].fixed=!0},setUnfixed:function(Ot){X[Ot].fixed=!1},beforeStep:function(Ot){nt=Ot},afterStep:function(Ot){it=Ot},step:function(Ot){nt&&nt(X,ee);for(var Pt=[],Gt=X.length,kn=0;kn<ee.length;kn++){var tr=ee[kn];if(!tr.ignoreForceLayout){var Xt=tr.n1;lt(Pt,(nr=tr.n2).p,Xt.p);var zn=Rt(Pt)-tr.d,gr=nr.w/(Xt.w+nr.w);isNaN(gr)&&(gr=0),mr(Pt,Pt),!Xt.fixed&&SS(Xt.p,Xt.p,Pt,gr*zn*mt),!nr.fixed&&SS(nr.p,nr.p,Pt,-(1-gr)*zn*mt)}}for(kn=0;kn<Gt;kn++)(kr=X[kn]).fixed||(lt(Pt,Se,kr.p),SS(kr.p,kr.p,Pt,Ae*mt));for(kn=0;kn<Gt;kn++){Xt=X[kn];for(var dr=kn+1;dr<Gt;dr++){var nr;lt(Pt,(nr=X[dr]).p,Xt.p),0===(zn=Rt(Pt))&&(Sr(Pt,Math.random()-.5,Math.random()-.5),zn=1);var br=(Xt.rep+nr.rep)/zn/zn;!Xt.fixed&&SS(Xt.pp,Xt.pp,Pt,br),!nr.fixed&&SS(nr.pp,nr.pp,Pt,-br)}}var ur=[];for(kn=0;kn<Gt;kn++){var kr;(kr=X[kn]).fixed||(lt(ur,kr.p,kr.pp),SS(kr.p,kr.p,ur,mt),so(kr.pp,kr.p))}var Br=(mt*=.992)<.01;it&&it(X,ee,Br),Ot&&Ot(Br)}}}(D,A,{rect:E,gravity:c.get("gravity"),friction:c.get("friction")});N.beforeStep(function(z,F){for(var q=0,X=z.length;q<X;q++)z[q].fixed&&so(z[q].p,i.getNodeByIndex(q).getLayout())}),N.afterStep(function(z,F,q){for(var X=0,ee=z.length;X<ee;X++)z[X].fixed||i.getNodeByIndex(X).setLayout(z[X].p),o[a.getId(X)]=z[X].p;for(X=0,ee=F.length;X<ee;X++){var ie=F[X],ye=i.getEdgeByIndex(X),_e=ie.n1.p,Se=ie.n2.p,Ae=ye.getLayout();(Ae=Ae?Ae.slice():[])[0]=Ae[0]||[],Ae[1]=Ae[1]||[],so(Ae[0],_e),so(Ae[1],Se),+ie.curveness&&(Ae[2]=[(_e[0]+Se[0])/2-(_e[1]-Se[1])*ie.curveness,(_e[1]+Se[1])/2-(Se[0]-_e[0])*ie.curveness]),ye.setLayout(Ae)}}),t.forceLayout=N,t.preservedPoints=o,N.step()}else t.forceLayout=null})}function qA(n,t){var e=[];return n.eachSeriesByType("graph",function(o){var A,E,i=o.get("coordinateSystem");if(!i||"view"===i){var a=o.getData(),u=[],c=[];fa(a.mapArray(function(D){var A=a.getItemModel(D);return[+A.get("x"),+A.get("y")]}),u,c),c[0]-u[0]==0&&(c[0]+=1,u[0]-=1),c[1]-u[1]==0&&(c[1]+=1,u[1]-=1);var f=(c[0]-u[0])/(c[1]-u[1]),h=(A=t,E=f,au(Pe(o.getBoxLayoutParams(),{aspect:E}),{width:A.getWidth(),height:A.getHeight()}));isNaN(f)&&(u=[h.x,h.y],c=[h.x+h.width,h.y+h.height]);var m=c[0]-u[0],y=c[1]-u[1],_=h.width,S=h.height,k=o.coordinateSystem=new Nh;k.zoomLimit=o.get("scaleLimit"),k.setBoundingRect(u[0],u[1],m,y),k.setViewRect(h.x,h.y,_,S),k.setCenter(o.get("center"),t),k.setZoom(o.get("zoom")),e.push(k)}}),e}var YA=Ws.prototype,XA=Sl.prototype,ZA=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};function rD(n){return isNaN(+n.cpx1)||isNaN(+n.cpy1)}!function(n){yt(function t(){return null!==n&&n.apply(this,arguments)||this},n)}(ZA);var tR=function(n){function t(e){var o=n.call(this,e)||this;return o.type="ec-line",o}return yt(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new ZA},t.prototype.buildPath=function(e,o){rD(o)?YA.buildPath.call(this,e,o):XA.buildPath.call(this,e,o)},t.prototype.pointAt=function(e){return rD(this.shape)?YA.pointAt.call(this,e):XA.pointAt.call(this,e)},t.prototype.tangentAt=function(e){var o=this.shape,i=rD(o)?[o.x2-o.x1,o.y2-o.y1]:XA.tangentAt.call(this,e);return mr(i,i)},t}(Do),oD=["fromSymbol","toSymbol"];function KA(n){return"_"+n+"Type"}function iD(n,t,e){var o=t.getItemVisual(e,n);if(o&&"none"!==o){var i=t.getItemVisual(e,n+"Size"),a=t.getItemVisual(e,n+"Rotate"),u=t.getItemVisual(e,n+"Offset"),c=t.getItemVisual(e,n+"KeepAspect"),f=Xb(i),h=Zb(u||0,f),m=Hu(o,-f[0]/2+h[0],-f[1]/2+h[1],f[0],f[1],null,c);return m.__specifiedRotation=null==a||isNaN(a)?void 0:+a*Math.PI/180||0,m.name=n,m}}function aD(n,t){n.x1=t[0][0],n.y1=t[0][1],n.x2=t[1][0],n.y2=t[1][1],n.percent=1;var e=t[2];e?(n.cpx1=e[0],n.cpy1=e[1]):(n.cpx1=NaN,n.cpy1=NaN)}var bT=function(n){function t(e,o,i){var a=n.call(this)||this;return a._createLine(e,o,i),a}return yt(t,n),t.prototype._createLine=function(e,o,i){var c,f,a=e.hostModel,u=(c=e.getItemLayout(o),aD((f=new tR({name:"line",subPixelOptimize:!0})).shape,c),f);u.shape.percent=0,_a(u,{shape:{percent:1}},a,o),this.add(u),Te(oD,function(c){var f=iD(c,e,o);this.add(f),this[KA(c)]=e.getItemVisual(o,c)},this),this._updateCommonStl(e,o,i)},t.prototype.updateData=function(e,o,i){var a=e.hostModel,u=this.childOfName("line"),c=e.getItemLayout(o),f={shape:{}};aD(f.shape,c),io(u,f,a,o),Te(oD,function(h){var m=e.getItemVisual(o,h),y=KA(h);if(this[y]!==m){this.remove(this.childOfName(h));var _=iD(h,e,o);this.add(_)}this[y]=m},this),this._updateCommonStl(e,o,i)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(e,o,i){var a=e.hostModel,u=this.childOfName("line"),c=i&&i.emphasisLineStyle,f=i&&i.blurLineStyle,h=i&&i.selectLineStyle,m=i&&i.labelStatesModels,y=i&&i.emphasisDisabled,_=i&&i.focus,S=i&&i.blurScope;if(!i||e.hasItemOption){var k=e.getItemModel(o),D=k.getModel("emphasis");c=D.getModel("lineStyle").getLineStyle(),f=k.getModel(["blur","lineStyle"]).getLineStyle(),h=k.getModel(["select","lineStyle"]).getLineStyle(),y=D.get("disabled"),_=D.get("focus"),S=D.get("blurScope"),m=Aa(k)}var A=e.getItemVisual(o,"style"),E=A.stroke;u.useStyle(A),u.style.fill=null,u.style.strokeNoScale=!0,u.ensureState("emphasis").style=c,u.ensureState("blur").style=f,u.ensureState("select").style=h,Te(oD,function(X){var ee=this.childOfName(X);if(ee){ee.setColor(E),ee.style.opacity=A.opacity;for(var ie=0;ie<Va.length;ie++){var ye=Va[ie],_e=u.getState(ye);if(_e){var Se=_e.style||{},Ae=ee.ensureState(ye),Fe=Ae.style||(Ae.style={});null!=Se.stroke&&(Fe[ee.__isEmptyBrush?"stroke":"fill"]=Se.stroke),null!=Se.opacity&&(Fe.opacity=Se.opacity)}}ee.markRedraw()}},this);var N=a.getRawValue(o);Da(this,m,{labelDataIndex:o,labelFetcher:{getFormattedLabel:function(X,ee){return a.getFormattedLabel(X,ee,e.dataType)}},inheritColor:E||"#000",defaultOpacity:A.opacity,defaultText:(null==N?e.getName(o):isFinite(N)?ri(N):N)+""});var z=this.getTextContent();if(z){var F=m.normal;z.__align=z.style.align,z.__verticalAlign=z.style.verticalAlign,z.__position=F.get("position")||"middle";var q=F.get("distance");tt(q)||(q=[q,q]),z.__labelDistance=q}this.setTextConfig({position:null,local:!0,inside:!1}),Ds(this,_,S,y)},t.prototype.highlight=function(){Mf(this)},t.prototype.downplay=function(){qd(this)},t.prototype.updateLayout=function(e,o){this.setLinePoints(e.getItemLayout(o))},t.prototype.setLinePoints=function(e){var o=this.childOfName("line");aD(o.shape,e),o.dirty()},t.prototype.beforeUpdate=function(){var e=this,o=e.childOfName("fromSymbol"),i=e.childOfName("toSymbol"),a=e.getTextContent();if(o||i||a&&!a.ignore){for(var u=1,c=this.parent;c;)c.scaleX&&(u/=c.scaleX),c=c.parent;var f=e.childOfName("line");if(this.__dirty||f.__dirty){var h=f.shape.percent,m=f.pointAt(0),y=f.pointAt(h),_=lt([],y,m);if(mr(_,_),o&&(o.setPosition(m),ye(o,0),o.scaleX=o.scaleY=u*h,o.markRedraw()),i&&(i.setPosition(y),ye(i,1),i.scaleX=i.scaleY=u*h,i.markRedraw()),a&&!a.ignore){a.x=a.y=0,a.originX=a.originY=0;var S=void 0,k=void 0,D=a.__labelDistance,A=D[0]*u,E=D[1]*u,N=h/2,z=f.tangentAt(N),F=[z[1],-z[0]],q=f.pointAt(N);F[1]>0&&(F[0]=-F[0],F[1]=-F[1]);var X=z[0]<0?-1:1;if("start"!==a.__position&&"end"!==a.__position){var ee=-Math.atan2(z[1],z[0]);y[0]<m[0]&&(ee=Math.PI+ee),a.rotation=ee}var ie=void 0;switch(a.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":ie=-E,k="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":ie=E,k="top";break;default:ie=0,k="middle"}switch(a.__position){case"end":a.x=_[0]*A+y[0],a.y=_[1]*E+y[1],S=_[0]>.8?"left":_[0]<-.8?"right":"center",k=_[1]>.8?"top":_[1]<-.8?"bottom":"middle";break;case"start":a.x=-_[0]*A+m[0],a.y=-_[1]*E+m[1],S=_[0]>.8?"right":_[0]<-.8?"left":"center",k=_[1]>.8?"bottom":_[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":a.x=A*X+m[0],a.y=m[1]+ie,S=z[0]<0?"right":"left",a.originX=-A*X,a.originY=-ie;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":a.x=q[0],a.y=q[1]+ie,S="center",a.originY=-ie;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":a.x=-A*X+y[0],a.y=y[1]+ie,S=z[0]>=0?"right":"left",a.originX=A*X,a.originY=-ie}a.scaleX=a.scaleY=u,a.setStyle({verticalAlign:a.__verticalAlign||k,align:a.__align||S})}}}function ye(_e,Se){var Ae=_e.__specifiedRotation;if(null==Ae){var Fe=f.tangentAt(Se);_e.attr("rotation",(1===Se?-1:1)*Math.PI/2-Math.atan2(Fe[1],Fe[0]))}else _e.attr("rotation",Ae)}},t}(lo),sD=function(){function n(t){this.group=new lo,this._LineCtor=t||bT}return n.prototype.updateData=function(t){var e=this;this._progressiveEls=null;var o=this,i=o.group,a=o._lineData;o._lineData=t,a||i.removeAll();var u=$A(t);t.diff(a).add(function(c){e._doAdd(t,c,u)}).update(function(c,f){e._doUpdate(a,t,f,c,u)}).remove(function(c){i.remove(a.getItemGraphicEl(c))}).execute()},n.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl(function(e,o){e.updateLayout(t,o)},this)},n.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=$A(t),this._lineData=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(t,e){function o(u){var c;u.isGroup||(c=u).animators&&c.animators.length>0||(u.incremental=!0,u.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var i=t.start;i<t.end;i++)if(uD(e.getItemLayout(i))){var a=new this._LineCtor(e,i,this._seriesScope);a.traverse(o),this.group.add(a),e.setItemGraphicEl(i,a),this._progressiveEls.push(a)}},n.prototype.remove=function(){this.group.removeAll()},n.prototype.eachRendered=function(t){Vu(this._progressiveEls||this.group,t)},n.prototype._doAdd=function(t,e,o){if(uD(t.getItemLayout(e))){var i=new this._LineCtor(t,e,o);t.setItemGraphicEl(e,i),this.group.add(i)}},n.prototype._doUpdate=function(t,e,o,i,a){var u=t.getItemGraphicEl(o);uD(e.getItemLayout(i))?(u?u.updateData(e,i,a):u=new this._LineCtor(e,i,a),e.setItemGraphicEl(i,u),this.group.add(u)):this.group.remove(u)},n}();function $A(n){var t=n.hostModel,e=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:e.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:e.get("disabled"),blurScope:e.get("blurScope"),focus:e.get("focus"),labelStatesModels:Aa(t)}}function JA(n){return isNaN(n[0])||isNaN(n[1])}function uD(n){return n&&!JA(n[0])&&!JA(n[1])}var lD=[],QA=[],L1=[],Ay=ns,eI=rr,tI=Math.abs;function nE(n,t,e){for(var o,i=n[0],a=n[1],u=n[2],c=1/0,f=e*e,h=.1,m=.1;m<=.9;m+=.1)lD[0]=Ay(i[0],a[0],u[0],m),lD[1]=Ay(i[1],a[1],u[1],m),(S=tI(eI(lD,t)-f))<c&&(c=S,o=m);for(var y=0;y<32;y++){var _=o+h;QA[0]=Ay(i[0],a[0],u[0],o),QA[1]=Ay(i[1],a[1],u[1],o),L1[0]=Ay(i[0],a[0],u[0],_),L1[1]=Ay(i[1],a[1],u[1],_);var S=eI(QA,t)-f;if(tI(S)<.01)break;var k=eI(L1,t)-f;h/=2,S<0?k>=0?o+=h:o-=h:k>=0?o-=h:o+=h}return o}function nI(n,t){var e=[],o=mf,i=[[],[],[]],a=[[],[]],u=[];t/=2,n.eachEdge(function(c,f){var h=c.getLayout(),m=c.getVisual("fromSymbol"),y=c.getVisual("toSymbol");h.__original||(h.__original=[Iu(h[0]),Iu(h[1])],h[2]&&h.__original.push(Iu(h[2])));var _=h.__original;if(null!=h[2]){if(so(i[0],_[0]),so(i[1],_[2]),so(i[2],_[1]),m&&"none"!==m){var S=bk(c.node1),k=nE(i,_[0],S*t);o(i[0][0],i[1][0],i[2][0],k,e),i[0][0]=e[3],i[1][0]=e[4],o(i[0][1],i[1][1],i[2][1],k,e),i[0][1]=e[3],i[1][1]=e[4]}y&&"none"!==y&&(S=bk(c.node2),k=nE(i,_[1],S*t),o(i[0][0],i[1][0],i[2][0],k,e),i[1][0]=e[1],i[2][0]=e[2],o(i[0][1],i[1][1],i[2][1],k,e),i[1][1]=e[1],i[2][1]=e[2]),so(h[0],i[0]),so(h[1],i[2]),so(h[2],i[1])}else so(a[0],_[0]),so(a[1],_[1]),lt(u,a[1],a[0]),mr(u,u),m&&"none"!==m&&(S=bk(c.node1),Wn(a[0],a[0],u,S*t)),y&&"none"!==y&&(S=bk(c.node2),Wn(a[1],a[1],u,-S*t)),so(h[0],a[0]),so(h[1],a[1])})}function cD(n){return"view"===n.type}var rE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.init=function(e,o){var i=new tb,a=new sD,u=this.group;this._controller=new y_(o.getZr()),this._controllerHost={target:u},u.add(i.group),u.add(a.group),this._symbolDraw=i,this._lineDraw=a,this._firstRender=!0},t.prototype.render=function(e,o,i){var a=this,u=e.coordinateSystem;this._model=e;var c=this._symbolDraw,f=this._lineDraw,h=this.group;if(cD(u)){var m={x:u.x,y:u.y,scaleX:u.scaleX,scaleY:u.scaleY};this._firstRender?h.attr(m):io(h,m,e)}nI(e.getGraph(),yk(e));var y=e.getData();c.updateData(y);var _=e.getEdgeData();f.updateData(_),this._updateNodeAndLinkScale(),this._updateController(e,o,i),clearTimeout(this._layoutTimeout);var S=e.forceLayout,k=e.get(["force","layoutAnimation"]);S&&this._startForceLayoutIteration(S,k);var D=e.get("layout");y.graph.eachNode(function(z){var F=z.dataIndex,q=z.getGraphicEl(),X=z.getModel();if(q){q.off("drag").off("dragend");var ee=X.get("draggable");ee&&q.on("drag",function(ie){switch(D){case"force":S.warmUp(),!a._layouting&&a._startForceLayoutIteration(S,k),S.setFixed(F),y.setItemLayout(F,[q.x,q.y]);break;case"circular":y.setItemLayout(F,[q.x,q.y]),z.setLayout({fixed:!0},!0),_k(e,"symbolSize",z,[ie.offsetX,ie.offsetY]),a.updateLayout(e);break;default:y.setItemLayout(F,[q.x,q.y]),nD(e.getGraph(),e),a.updateLayout(e)}}).on("dragend",function(){S&&S.setUnfixed(F)}),q.setDraggable(ee,!!X.get("cursor")),"adjacency"===X.get(["emphasis","focus"])&&(fo(q).focus=z.getAdjacentDataIndices())}}),y.graph.eachEdge(function(z){var F=z.getGraphicEl(),q=z.getModel().get(["emphasis","focus"]);F&&"adjacency"===q&&(fo(F).focus={edge:[z.dataIndex],node:[z.node1.dataIndex,z.node2.dataIndex]})});var A="circular"===e.get("layout")&&e.get(["circular","rotateLabel"]),E=y.getLayout("cx"),N=y.getLayout("cy");y.graph.eachNode(function(z){yT(z,A,E,N)}),this._firstRender=!1},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(e,o){var i=this;!function a(){e.step(function(u){i.updateLayout(i._model),(i._layouting=!u)&&(o?i._layoutTimeout=setTimeout(a,16):a())})}()},t.prototype._updateController=function(e,o,i){var a=this,u=this._controller,c=this._controllerHost,f=this.group;u.setPointerChecker(function(h,m,y){var _=f.getBoundingRect();return _.applyTransform(f.transform),_.contain(m,y)&&!rT(h,i,e)}),cD(e.coordinateSystem)?(u.enable(e.get("roam")),c.zoomLimit=e.get("scaleLimit"),c.zoom=e.coordinateSystem.getZoom(),u.off("pan").off("zoom").on("pan",function(h){cS(c,h.dx,h.dy),i.dispatchAction({seriesId:e.id,type:"graphRoam",dx:h.dx,dy:h.dy})}).on("zoom",function(h){R2(c,h.scale,h.originX,h.originY),i.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:h.scale,originX:h.originX,originY:h.originY}),a._updateNodeAndLinkScale(),nI(e.getGraph(),yk(e)),a._lineDraw.updateLayout(),i.updateLabelLayout()})):u.disable()},t.prototype._updateNodeAndLinkScale=function(){var e=this._model,o=e.getData(),i=yk(e);o.eachItemGraphicEl(function(a,u){a&&a.setSymbolScale(i)})},t.prototype.updateLayout=function(e){nI(e.getGraph(),yk(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},t.prototype.remove=function(e,o){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},t.type="graph",t}(ma);function x_(n){return"_EC_"+n}var fD=function(){function n(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return n.prototype.isDirected=function(){return this._directed},n.prototype.addNode=function(t,e){var o=this._nodesMap;if(!o[x_(t=null==t?""+e:""+t)]){var i=new Lp(t,e);return i.hostGraph=this,this.nodes.push(i),o[x_(t)]=i,i}},n.prototype.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},n.prototype.getNodeById=function(t){return this._nodesMap[x_(t)]},n.prototype.addEdge=function(t,e,o){var i=this._nodesMap,a=this._edgesMap;if(hr(t)&&(t=this.nodes[t]),hr(e)&&(e=this.nodes[e]),t instanceof Lp||(t=i[x_(t)]),e instanceof Lp||(e=i[x_(e)]),t&&e){var u=t.id+"-"+e.id,c=new __(t,e,o);return c.hostGraph=this,this._directed&&(t.outEdges.push(c),e.inEdges.push(c)),t.edges.push(c),t!==e&&e.edges.push(c),this.edges.push(c),a[u]=c,c}},n.prototype.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},n.prototype.getEdge=function(t,e){t instanceof Lp&&(t=t.id),e instanceof Lp&&(e=e.id);var o=this._edgesMap;return this._directed?o[t+"-"+e]:o[t+"-"+e]||o[e+"-"+t]},n.prototype.eachNode=function(t,e){for(var o=this.nodes,i=o.length,a=0;a<i;a++)o[a].dataIndex>=0&&t.call(e,o[a],a)},n.prototype.eachEdge=function(t,e){for(var o=this.edges,i=o.length,a=0;a<i;a++)o[a].dataIndex>=0&&o[a].node1.dataIndex>=0&&o[a].node2.dataIndex>=0&&t.call(e,o[a],a)},n.prototype.breadthFirstTraverse=function(t,e,o,i){if(e instanceof Lp||(e=this._nodesMap[x_(e)]),e){for(var a="out"===o?"outEdges":"in"===o?"inEdges":"edges",u=0;u<this.nodes.length;u++)this.nodes[u].__visited=!1;if(!t.call(i,e,null))for(var c=[e];c.length;){var f=c.shift(),h=f[a];for(u=0;u<h.length;u++){var m=h[u],y=m.node1===f?m.node2:m.node1;if(!y.__visited){if(t.call(i,y,f))return;c.push(y),y.__visited=!0}}}}},n.prototype.update=function(){for(var t=this.data,e=this.edgeData,o=this.nodes,i=this.edges,a=0,u=o.length;a<u;a++)o[a].dataIndex=-1;for(a=0,u=t.count();a<u;a++)o[t.getRawIndex(a)].dataIndex=a;for(e.filterSelf(function(c){var f=i[e.getRawIndex(c)];return f.node1.dataIndex>=0&&f.node2.dataIndex>=0}),a=0,u=i.length;a<u;a++)i[a].dataIndex=-1;for(a=0,u=e.count();a<u;a++)i[e.getRawIndex(a)].dataIndex=a},n.prototype.clone=function(){for(var t=new n(this._directed),e=this.nodes,o=this.edges,i=0;i<e.length;i++)t.addNode(e[i].id,e[i].dataIndex);for(i=0;i<o.length;i++){var a=o[i];t.addEdge(a.node1.id,a.node2.id,a.dataIndex)}return t},n}(),Lp=function(){function n(t,e){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==t?"":t,this.dataIndex=null==e?-1:e}return n.prototype.degree=function(){return this.edges.length},n.prototype.inDegree=function(){return this.inEdges.length},n.prototype.outDegree=function(){return this.outEdges.length},n.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t)},n.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},e=0;e<this.edges.length;e++){var o=this.edges[e];o.dataIndex<0||(t.edge.push(o.dataIndex),t.node.push(o.node1.dataIndex,o.node2.dataIndex))}return t},n}(),__=function(){function n(t,e,o){this.dataIndex=-1,this.node1=t,this.node2=e,this.dataIndex=null==o?-1:o}return n.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t)},n.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},n}();function oE(n,t){return{getValue:function(e){var o=this[n][t];return o.getStore().get(o.getDimensionIndex(e||"value"),this.dataIndex)},setVisual:function(e,o){this.dataIndex>=0&&this[n][t].setItemVisual(this.dataIndex,e,o)},getVisual:function(e){return this[n][t].getItemVisual(this.dataIndex,e)},setLayout:function(e,o){this.dataIndex>=0&&this[n][t].setItemLayout(this.dataIndex,e,o)},getLayout:function(){return this[n][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[n][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[n][t].getRawIndex(this.dataIndex)}}}function iE(n,t,e,o,i){for(var a=new fD(o),u=0;u<n.length;u++)a.addNode(ar(n[u].id,n[u].name,u),u);var c=[],f=[],h=0;for(u=0;u<t.length;u++){var m=t[u],y=m.source,_=m.target;a.addEdge(y,_,h)&&(f.push(m),c.push(ar(xa(m.id,null),y+" > "+_)),h++)}var S,k=e.get("coordinateSystem");if("cartesian2d"===k||"polar"===k)S=Ag(n,e);else{var D=Wa.get(k),A=D&&D.dimensions||[];jt(A,"value")<0&&A.concat(["value"]);var E=Ym(n,{coordDimensions:A,encodeDefine:e.getEncode()}).dimensions;(S=new uc(E,e)).initData(n)}var N=new uc(["value"],e);return N.initData(f,c),i&&i(S,N),RO({mainData:S,struct:a,structAttr:"graph",datas:{node:S,edge:N},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a}_r(Lp,oE("hostGraph","data")),_r(__,oE("hostGraph","edgeData"));var nR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return yt(t,n),t.prototype.init=function(e){n.prototype.init.apply(this,arguments);var o=this;function i(){return o._categoriesData}this.legendVisualProvider=new d(i,i),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeOption=function(e){n.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(e){n.prototype.mergeDefaultAndTheme.apply(this,arguments),Ta(e,"edgeLabel",["show"])},t.prototype.getInitialData=function(e,o){var i,a=e.edges||e.links||[],u=e.data||e.nodes||[],c=this;if(u&&a){b_(i=this)&&(i.__curvenessList=[],i.__edgeMap={},WA(i));var f=iE(u,a,this,!0,function(h,m){h.wrapMethod("getItemModel",function(k){var D=c._categoriesModels[k.getShallow("category")];return D&&(D.parentModel=k.parentModel,k.parentModel=D),k});var y=Pi.prototype.getModel;function _(k,D){var A=y.call(this,k,D);return A.resolveParentPath=S,A}function S(k){if(k&&("label"===k[0]||"label"===k[1])){var D=k.slice();return"label"===k[0]?D[0]="edgeLabel":"label"===k[1]&&(D[1]="edgeLabel"),D}return k}m.wrapMethod("getItemModel",function(k){return k.resolveParentPath=S,k.getModel=_,k})});return Te(f.edges,function(h){!function(m,y,_,S){if(b_(_)){var k=vT(m,y,_),D=_.__edgeMap,A=D[GA(k)];D[k]&&!A?D[k].isForward=!0:A&&D[k]&&(A.isForward=!0,D[k].isForward=!1),D[k]=D[k]||[],D[k].push(S)}}(h.node1,h.node2,this,h.dataIndex)},this),f.data}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(e,o,i){if("edge"===i){var a=this.getData(),u=this.getDataParams(e,i),c=a.graph.getEdgeByIndex(e),f=a.getName(c.node1.dataIndex),h=a.getName(c.node2.dataIndex),m=[];return null!=f&&m.push(f),null!=h&&m.push(h),Fl("nameValue",{name:m.join(" > "),value:u.value,noValue:null==u.value})}return aw({series:this,dataIndex:e,multipleSeries:o})},t.prototype._updateCategoriesData=function(){var e=It(this.option.categories||[],function(i){return null!=i.value?i:Pe({value:0},i)}),o=new uc(["value"],this);o.initData(e),this._categoriesData=o,this._categoriesModels=o.mapArray(function(i){return o.getItemModel(i)})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.isAnimationEnabled=function(){return n.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(ga),rI={type:"graphRoam",event:"graphRoam",update:"none"},rR=function(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0},oI=function(n){function t(e){var o=n.call(this,e)||this;return o.type="pointer",o}return yt(t,n),t.prototype.getDefaultShape=function(){return new rR},t.prototype.buildPath=function(e,o){var i=Math.cos,a=Math.sin,u=o.r,c=o.width,f=o.angle,h=o.x-i(f)*c*(c>=u/3?1:2),m=o.y-a(f)*c*(c>=u/3?1:2);f=o.angle-Math.PI/2,e.moveTo(h,m),e.lineTo(o.x+i(f)*c,o.y+a(f)*c),e.lineTo(o.x+i(o.angle)*u,o.y+a(o.angle)*u),e.lineTo(o.x-i(f)*c,o.y-a(f)*c),e.lineTo(h,m)},t}(Do);function dD(n,t){var e=null==n?"":n+"";return t&&(Un(t)?e=t.replace("{value}",e):hn(t)&&(e=t(n))),e}var oR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.render=function(e,o,i){this.group.removeAll();var c,f,h,m,y,_,a=e.get(["axisLine","lineStyle","color"]),u=(f=i,h=(c=e).get("center"),m=f.getWidth(),y=f.getHeight(),_=Math.min(m,y),{cx:Qn(h[0],f.getWidth()),cy:Qn(h[1],f.getHeight()),r:Qn(c.get("radius"),_/2)});this._renderMain(e,o,i,a,u),this._data=e.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(e,o,i,a,u){var c=this.group,f=e.get("clockwise"),h=-e.get("startAngle")/180*Math.PI,m=-e.get("endAngle")/180*Math.PI,y=e.getModel("axisLine"),_=y.get("roundCap")?Su:Ll,S=y.get("show"),k=y.getModel("lineStyle"),D=k.get("width"),A=[h,m];ha(A,!f);for(var E=(m=A[1])-(h=A[0]),N=h,z=[],F=0;S&&F<a.length;F++){var q=new _({shape:{startAngle:N,endAngle:m=h+E*Math.min(Math.max(a[F][0],0),1),cx:u.cx,cy:u.cy,clockwise:f,r0:u.r-D,r:u.r},silent:!0});q.setStyle({fill:a[F][1]}),q.setStyle(k.getLineStyle(["color","width"])),z.push(q),N=m}z.reverse(),Te(z,function(ee){return c.add(ee)});var X=function(ee){if(ee<=0)return a[0][1];var ie;for(ie=0;ie<a.length;ie++)if(a[ie][0]>=ee&&(0===ie?0:a[ie-1][0])<ee)return a[ie][1];return a[ie-1][1]};this._renderTicks(e,o,i,X,u,h,m,f,D),this._renderTitleAndDetail(e,o,i,X,u),this._renderAnchor(e,u),this._renderPointer(e,o,i,X,u,h,m,f,D)},t.prototype._renderTicks=function(e,o,i,a,u,c,f,h,m){for(var y,_,S=this.group,k=u.cx,D=u.cy,A=u.r,E=+e.get("min"),N=+e.get("max"),z=e.getModel("splitLine"),F=e.getModel("axisTick"),q=e.getModel("axisLabel"),X=e.get("splitNumber"),ee=F.get("splitNumber"),ie=Qn(z.get("length"),A),ye=Qn(F.get("length"),A),_e=c,Se=(f-c)/X,Ae=Se/ee,Fe=z.getModel("lineStyle").getLineStyle(),Xe=F.getModel("lineStyle").getLineStyle(),nt=z.get("distance"),it=0;it<=X;it++){if(y=Math.cos(_e),_=Math.sin(_e),z.get("show")){var ut=new Ws({shape:{x1:y*(A-(mt=nt?nt+m:m))+k,y1:_*(A-mt)+D,x2:y*(A-ie-mt)+k,y2:_*(A-ie-mt)+D},style:Fe,silent:!0});"auto"===Fe.stroke&&ut.setStyle({stroke:a(it/X)}),S.add(ut)}if(q.get("show")){var mt=q.get("distance")+nt,Ot=dD(ri(it/X*(N-E)+E),q.get("formatter")),Pt=a(it/X),Gt=y*(A-ie-mt)+k,kn=_*(A-ie-mt)+D,tr=q.get("rotate"),Xt=0;"radial"===tr?(Xt=-_e+2*Math.PI)>Math.PI/2&&(Xt+=Math.PI):"tangential"===tr?Xt=-_e-Math.PI/2:hr(tr)&&(Xt=tr*Math.PI/180),S.add(new li(0===Xt?{style:yi(q,{text:Ot,x:Gt,y:kn,verticalAlign:_<-.8?"top":_>.8?"bottom":"middle",align:y<-.4?"left":y>.4?"right":"center"},{inheritColor:Pt}),silent:!0}:{style:yi(q,{text:Ot,x:Gt,y:kn,verticalAlign:"middle",align:"center"},{inheritColor:Pt}),silent:!0,originX:Gt,originY:kn,rotation:Xt}))}if(F.get("show")&&it!==X){mt=(mt=F.get("distance"))?mt+m:m;for(var zn=0;zn<=ee;zn++){y=Math.cos(_e),_=Math.sin(_e);var gr=new Ws({shape:{x1:y*(A-mt)+k,y1:_*(A-mt)+D,x2:y*(A-ye-mt)+k,y2:_*(A-ye-mt)+D},silent:!0,style:Xe});"auto"===Xe.stroke&&gr.setStyle({stroke:a((it+zn/ee)/X)}),S.add(gr),_e+=Ae}_e-=Ae}else _e+=Se}},t.prototype._renderPointer=function(e,o,i,a,u,c,f,h,m){var y=this.group,_=this._data,S=this._progressEls,k=[],D=e.get(["pointer","show"]),A=e.getModel("progress"),E=A.get("show"),N=e.getData(),z=N.mapDimension("value"),F=+e.get("min"),q=+e.get("max"),X=[F,q],ee=[c,f];function ie(_e,Se){var Ae,Fe=N.getItemModel(_e).getModel("pointer"),Xe=Qn(Fe.get("width"),u.r),nt=Qn(Fe.get("length"),u.r),it=e.get(["pointer","icon"]),ut=Fe.get("offsetCenter"),mt=Qn(ut[0],u.r),Ot=Qn(ut[1],u.r),Pt=Fe.get("keepAspect");return(Ae=it?Hu(it,mt-Xe/2,Ot-nt,Xe,nt,null,Pt):new oI({shape:{angle:-Math.PI/2,width:Xe,r:nt,x:mt,y:Ot}})).rotation=-(Se+Math.PI/2),Ae.x=u.cx,Ae.y=u.cy,Ae}function ye(_e,Se){var Ae=A.get("roundCap")?Su:Ll,Fe=A.get("overlap"),Xe=Fe?A.get("width"):m/N.count(),ut=new Ae({shape:{startAngle:c,endAngle:Se,cx:u.cx,cy:u.cy,clockwise:h,r0:Fe?u.r-Xe:u.r-(_e+1)*Xe,r:Fe?u.r:u.r-_e*Xe}});return Fe&&(ut.z2=q-N.get(z,_e)%q),ut}(E||D)&&(N.diff(_).add(function(_e){var Se=N.get(z,_e);if(D){var Ae=ie(_e,c);_a(Ae,{rotation:-((isNaN(+Se)?ee[0]:zi(Se,X,ee,!0))+Math.PI/2)},e),y.add(Ae),N.setItemGraphicEl(_e,Ae)}if(E){var Fe=ye(_e,c),Xe=A.get("clip");_a(Fe,{shape:{endAngle:zi(Se,X,ee,Xe)}},e),y.add(Fe),sm(e.seriesIndex,N.dataType,_e,Fe),k[_e]=Fe}}).update(function(_e,Se){var Ae=N.get(z,_e);if(D){var Fe=_.getItemGraphicEl(Se),Xe=Fe?Fe.rotation:c,nt=ie(_e,Xe);nt.rotation=Xe,io(nt,{rotation:-((isNaN(+Ae)?ee[0]:zi(Ae,X,ee,!0))+Math.PI/2)},e),y.add(nt),N.setItemGraphicEl(_e,nt)}if(E){var it=S[Se],ut=ye(_e,it?it.shape.endAngle:c),mt=A.get("clip");io(ut,{shape:{endAngle:zi(Ae,X,ee,mt)}},e),y.add(ut),sm(e.seriesIndex,N.dataType,_e,ut),k[_e]=ut}}).execute(),N.each(function(_e){var Se=N.getItemModel(_e),Ae=Se.getModel("emphasis"),Fe=Ae.get("focus"),Xe=Ae.get("blurScope"),nt=Ae.get("disabled");if(D){var it=N.getItemGraphicEl(_e),ut=N.getItemVisual(_e,"style"),mt=ut.fill;if(it instanceof bu){var Ot=it.style;it.useStyle(Pe({image:Ot.image,x:Ot.x,y:Ot.y,width:Ot.width,height:Ot.height},ut))}else it.useStyle(ut),"pointer"!==it.type&&it.setColor(mt);it.setStyle(Se.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===it.style.fill&&it.setStyle("fill",a(zi(N.get(z,_e),X,[0,1],!0))),it.z2EmphasisLift=0,Fu(it,Se),Ds(it,Fe,Xe,nt)}if(E){var Pt=k[_e];Pt.useStyle(N.getItemVisual(_e,"style")),Pt.setStyle(Se.getModel(["progress","itemStyle"]).getItemStyle()),Pt.z2EmphasisLift=0,Fu(Pt,Se),Ds(Pt,Fe,Xe,nt)}}),this._progressEls=k)},t.prototype._renderAnchor=function(e,o){var i=e.getModel("anchor");if(i.get("show")){var a=i.get("size"),u=i.get("icon"),c=i.get("offsetCenter"),f=i.get("keepAspect"),h=Hu(u,o.cx-a/2+Qn(c[0],o.r),o.cy-a/2+Qn(c[1],o.r),a,a,null,f);h.z2=i.get("showAbove")?1:0,h.setStyle(i.getModel("itemStyle").getItemStyle()),this.group.add(h)}},t.prototype._renderTitleAndDetail=function(e,o,i,a,u){var c=this,f=e.getData(),h=f.mapDimension("value"),m=+e.get("min"),y=+e.get("max"),_=new lo,S=[],k=[],D=e.isAnimationEnabled(),A=e.get(["pointer","showAbove"]);f.diff(this._data).add(function(E){S[E]=new li({silent:!0}),k[E]=new li({silent:!0})}).update(function(E,N){S[E]=c._titleEls[N],k[E]=c._detailEls[N]}).execute(),f.each(function(E){var N=f.getItemModel(E),z=f.get(h,E),F=new lo,q=a(zi(z,[m,y],[0,1],!0)),X=N.getModel("title");if(X.get("show")){var ee=X.get("offsetCenter"),ie=u.cx+Qn(ee[0],u.r),ye=u.cy+Qn(ee[1],u.r);(ut=S[E]).attr({z2:A?0:2,style:yi(X,{x:ie,y:ye,text:f.getName(E),align:"center",verticalAlign:"middle"},{inheritColor:q})}),F.add(ut)}var _e=N.getModel("detail");if(_e.get("show")){var Se=_e.get("offsetCenter"),Ae=u.cx+Qn(Se[0],u.r),Fe=u.cy+Qn(Se[1],u.r),Xe=Qn(_e.get("width"),u.r),nt=Qn(_e.get("height"),u.r),it=e.get(["progress","show"])?f.getItemVisual(E,"style").fill:q,ut=k[E],mt=_e.get("formatter");ut.attr({z2:A?0:2,style:yi(_e,{x:Ae,y:Fe,text:dD(z,mt),width:isNaN(Xe)?null:Xe,height:isNaN(nt)?null:nt,align:"center",verticalAlign:"middle"},{inheritColor:it})}),nl(ut,{normal:_e},z,function(Ot){return dD(Ot,mt)}),D&&f0(ut,E,f,e,{getFormattedLabel:function(Ot,Pt,Gt,kn,tr,Xt){return dD(Xt?Xt.interpolatedValue:z,mt)}}),F.add(ut)}_.add(F)}),this.group.add(_),this._titleEls=S,this._detailEls=k},t.type="gauge",t}(ma),aE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="itemStyle",e}return yt(t,n),t.prototype.getInitialData=function(e,o){return s(this,["value"])},t.type="series.gauge",t.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t}(ga),iR=["itemStyle","opacity"],aR=function(n){function t(e,o){var i=n.call(this)||this,a=i,u=new ou,c=new li;return a.setTextContent(c),i.setTextGuideLine(u),i.updateData(e,o,!0),i}return yt(t,n),t.prototype.updateData=function(e,o,i){var a=this,u=e.hostModel,c=e.getItemModel(o),f=e.getItemLayout(o),h=c.getModel("emphasis"),m=c.get(iR);m=null==m?1:m,i||Df(a),a.useStyle(e.getItemVisual(o,"style")),a.style.lineJoin="round",i?(a.setShape({points:f.points}),a.style.opacity=0,_a(a,{style:{opacity:m}},u,o)):io(a,{style:{opacity:m},shape:{points:f.points}},u,o),Fu(a,c),this._updateLabel(e,o),Ds(this,h.get("focus"),h.get("blurScope"),h.get("disabled"))},t.prototype._updateLabel=function(e,o){var i=this,a=this.getTextGuideLine(),u=i.getTextContent(),c=e.hostModel,f=e.getItemModel(o),h=e.getItemLayout(o).label,m=e.getItemVisual(o,"style"),y=m.fill;Da(u,Aa(f),{labelFetcher:e.hostModel,labelDataIndex:o,defaultOpacity:m.opacity,defaultText:e.getName(o)},{normal:{align:h.textAlign,verticalAlign:h.verticalAlign}}),i.setTextConfig({local:!0,inside:!!h.inside,insideStroke:y,outsideFill:y});var _=h.linePoints;a.setShape({points:_}),i.textGuideLineConfig={anchor:_?new mo(_[0][0],_[0][1]):null},io(u,{style:{x:h.x,y:h.y}},c,o),u.attr({rotation:h.rotation,originX:h.x,originY:h.y,z2:10}),g1(i,Kw(f),{stroke:y})},t}(ms),CS=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.ignoreLabelLineUpdate=!0,e}return yt(t,n),t.prototype.render=function(e,o,i){var a=e.getData(),u=this._data,c=this.group;a.diff(u).add(function(f){var h=new aR(a,f);a.setItemGraphicEl(f,h),c.add(h)}).update(function(f,h){var m=u.getItemGraphicEl(h);m.updateData(a,f),c.add(m),a.setItemGraphicEl(f,m)}).remove(function(f){s0(u.getItemGraphicEl(f),e,f)}).execute(),this._data=a},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t}(ma),sE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.init=function(e){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new d(Bn(this.getData,this),Bn(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.getInitialData=function(e,o){return s(this,{coordDimensions:["value"],encodeDefaulter:cr(Lt,this)})},t.prototype._defaultLabelLine=function(e){Ta(e,"labelLine",["show"]);var o=e.labelLine,i=e.emphasis.labelLine;o.show=o.show&&e.label.show,i.show=i.show&&e.emphasis.label.show},t.prototype.getDataParams=function(e){var o=this.getData(),i=n.prototype.getDataParams.call(this,e),a=o.mapDimension("value"),u=o.getSum(a);return i.percent=u?+(o.get(a,e)/u*100).toFixed(2):0,i.$vars.push("percent"),i},t.type="series.funnel",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(ga);function hD(n,t){n.eachSeriesByType("funnel",function(e){var Xe,o=e.getData(),i=o.mapDimension("value"),a=e.get("sort"),u=(Xe=t,au(e.getBoxLayoutParams(),{width:Xe.getWidth(),height:Xe.getHeight()})),c=e.get("orient"),f=u.width,h=u.height,m=function(Fe,Xe){for(var nt=Fe.mapDimension("value"),it=Fe.mapArray(nt,function(Gt){return Gt}),ut=[],mt="ascending"===Xe,Ot=0,Pt=Fe.count();Ot<Pt;Ot++)ut[Ot]=Ot;return hn(Xe)?ut.sort(Xe):"none"!==Xe&&ut.sort(function(Gt,kn){return mt?it[Gt]-it[kn]:it[kn]-it[Gt]}),ut}(o,a),y=u.x,_=u.y,S="horizontal"===c?[Qn(e.get("minSize"),h),Qn(e.get("maxSize"),h)]:[Qn(e.get("minSize"),f),Qn(e.get("maxSize"),f)],k=o.getDataExtent(i),D=e.get("min"),A=e.get("max");null==D&&(D=Math.min(k[0],0)),null==A&&(A=k[1]);var E=e.get("funnelAlign"),N=e.get("gap"),z=(("horizontal"===c?f:h)-N*(o.count()-1))/o.count(),F=function(Fe,Xe){if("horizontal"===c){var nt=zi(o.get(i,Fe)||0,[D,A],S,!0),it=void 0;switch(E){case"top":it=_;break;case"center":it=_+(h-nt)/2;break;case"bottom":it=_+(h-nt)}return[[Xe,it],[Xe,it+nt]]}var ut,mt=zi(o.get(i,Fe)||0,[D,A],S,!0);switch(E){case"left":ut=y;break;case"center":ut=y+(f-mt)/2;break;case"right":ut=y+f-mt}return[[ut,Xe],[ut+mt,Xe]]};"ascending"===a&&(z=-z,N=-N,"horizontal"===c?y+=f:_+=h,m=m.reverse());for(var q=0;q<m.length;q++){var X=m[q],ee=m[q+1],ie=o.getItemModel(X);if("horizontal"===c){var ye=ie.get(["itemStyle","width"]);null==ye?ye=z:(ye=Qn(ye,f),"ascending"===a&&(ye=-ye));var _e=F(X,y),Se=F(ee,y+ye);y+=ye+N,o.setItemLayout(X,{points:_e.concat(Se.slice().reverse())})}else{var Ae=ie.get(["itemStyle","height"]);null==Ae?Ae=z:(Ae=Qn(Ae,h),"ascending"===a&&(Ae=-Ae)),_e=F(X,_),Se=F(ee,_+Ae),_+=Ae+N,o.setItemLayout(X,{points:_e.concat(Se.slice().reverse())})}}!function(Fe){var Xe=Fe.hostModel.get("orient");Fe.each(function(nt){var it,ut,mt,Ot,Pt=Fe.getItemModel(nt),Gt=Pt.getModel("label").get("position"),kn=Pt.getModel("labelLine"),tr=Fe.getItemLayout(nt),Xt=tr.points,zn="inner"===Gt||"inside"===Gt||"center"===Gt||"insideLeft"===Gt||"insideRight"===Gt;if(zn)"insideLeft"===Gt?(ut=(Xt[0][0]+Xt[3][0])/2+5,mt=(Xt[0][1]+Xt[3][1])/2,it="left"):"insideRight"===Gt?(ut=(Xt[1][0]+Xt[2][0])/2-5,mt=(Xt[1][1]+Xt[2][1])/2,it="right"):(ut=(Xt[0][0]+Xt[1][0]+Xt[2][0]+Xt[3][0])/4,mt=(Xt[0][1]+Xt[1][1]+Xt[2][1]+Xt[3][1])/4,it="center"),Ot=[[ut,mt],[ut,mt]];else{var gr=void 0,dr=void 0,nr=void 0,br=void 0,ur=kn.get("length");"left"===Gt?(dr=(Xt[3][1]+Xt[0][1])/2,ut=(nr=(gr=(Xt[3][0]+Xt[0][0])/2)-ur)-5,it="right"):"right"===Gt?(dr=(Xt[1][1]+Xt[2][1])/2,ut=(nr=(gr=(Xt[1][0]+Xt[2][0])/2)+ur)+5,it="left"):"top"===Gt?(gr=(Xt[3][0]+Xt[0][0])/2,mt=(br=(dr=(Xt[3][1]+Xt[0][1])/2)-ur)-5,it="center"):"bottom"===Gt?(gr=(Xt[1][0]+Xt[2][0])/2,mt=(br=(dr=(Xt[1][1]+Xt[2][1])/2)+ur)+5,it="center"):"rightTop"===Gt?(gr="horizontal"===Xe?Xt[3][0]:Xt[1][0],dr="horizontal"===Xe?Xt[3][1]:Xt[1][1],"horizontal"===Xe?(mt=(br=dr-ur)-5,it="center"):(ut=(nr=gr+ur)+5,it="top")):"rightBottom"===Gt?(gr=Xt[2][0],dr=Xt[2][1],"horizontal"===Xe?(mt=(br=dr+ur)+5,it="center"):(ut=(nr=gr+ur)+5,it="bottom")):"leftTop"===Gt?(gr=Xt[0][0],dr="horizontal"===Xe?Xt[0][1]:Xt[1][1],"horizontal"===Xe?(mt=(br=dr-ur)-5,it="center"):(ut=(nr=gr-ur)-5,it="right")):"leftBottom"===Gt?(gr="horizontal"===Xe?Xt[1][0]:Xt[3][0],dr="horizontal"===Xe?Xt[1][1]:Xt[2][1],"horizontal"===Xe?(mt=(br=dr+ur)+5,it="center"):(ut=(nr=gr-ur)-5,it="right")):(gr=(Xt[1][0]+Xt[2][0])/2,dr=(Xt[1][1]+Xt[2][1])/2,"horizontal"===Xe?(mt=(br=dr+ur)+5,it="center"):(ut=(nr=gr+ur)+5,it="left")),"horizontal"===Xe?ut=nr=gr:mt=br=dr,Ot=[[gr,dr],[nr,br]]}tr.label={linePoints:Ot,x:ut,y:mt,verticalAlign:"middle",textAlign:it,inside:zn}})}(o)})}var sR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._dataGroup=new lo,e._initialized=!1,e}return yt(t,n),t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(e,o,i,a){this._progressiveEls=null;var S,k,A,E,N,z,u=this._dataGroup,c=e.getData(),f=this._data,h=e.coordinateSystem,m=h.dimensions,y=lE(e);if(c.diff(f).add(function(S){gD(pD(c,u,S,m,h),c,S,y)}).update(function(S,k){var D=f.getItemGraphicEl(k),A=uE(c,S,m,h);c.setItemGraphicEl(S,D),io(D,{shape:{points:A}},e,S),Df(D),gD(D,c,S,y)}).remove(function(S){var k=f.getItemGraphicEl(S);u.remove(k)}).execute(),!this._initialized){this._initialized=!0;var _=(k=e,A=(S=h).model,E=S.getRect(),N=new oi({shape:{x:E.x,y:E.y,width:E.width,height:E.height}}),z="horizontal"===A.get("layout")?"width":"height",N.setShape(z,0),_a(N,{shape:{width:E.width,height:E.height}},k,function(){setTimeout(function(){u.removeClipPath()})}),N);u.setClipPath(_)}this._data=c},t.prototype.incrementalPrepareRender=function(e,o,i){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(e,o,i){for(var a=o.getData(),u=o.coordinateSystem,c=u.dimensions,f=lE(o),h=this._progressiveEls=[],m=e.start;m<e.end;m++){var y=pD(a,this._dataGroup,m,c,u);y.incremental=!0,gD(y,a,m,f),h.push(y)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t}(ma);function uE(n,t,e,o){for(var i,a=[],u=0;u<e.length;u++){var c=e[u],f=n.get(n.mapDimension(c),t);i=f,("category"===o.getAxis(c).type?null==i:null==i||isNaN(i))||a.push(o.dataToPoint(f,c))}return a}function pD(n,t,e,o,i){var a=uE(n,e,o,i),u=new ou({shape:{points:a},z2:10});return t.add(u),n.setItemGraphicEl(e,u),u}function lE(n){var t=n.get("smooth",!0);return!0===t&&(t=.3),Rn(t=$i(t))&&(t=0),{smooth:t}}function gD(n,t,e,o){n.useStyle(t.getItemVisual(e,"style")),n.style.fill=null,n.setShape("smooth",o.smooth);var i=t.getItemModel(e),a=i.getModel("emphasis");Fu(n,i,"lineStyle"),Ds(n,a.get("focus"),a.get("blurScope"),a.get("disabled"))}var cE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return yt(t,n),t.prototype.getInitialData=function(e,o){return Ag(null,this,{useEncodeDefaulter:Bn(fE,null,this)})},t.prototype.getRawIndicesByActiveState=function(e){var o=this.coordinateSystem,i=this.getData(),a=[];return o.eachActiveState(i,function(u,c){e===u&&a.push(i.getRawIndex(c))}),a},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t}(ga);function fE(n){var t=n.ecModel.getComponent("parallel",n.get("parallelIndex"));if(t){var e={};return Te(t.dimensions,function(o){var i=+o.replace("dim","");e[o]=i}),e}}var mD=["lineStyle","opacity"],iI={seriesType:"parallel",reset:function(n,t){var e=n.coordinateSystem,o={normal:n.get(["lineStyle","opacity"]),active:n.get("activeOpacity"),inactive:n.get("inactiveOpacity")};return{progress:function(i,a){e.eachActiveState(a,function(u,c){var f=o[u];if("normal"===u&&a.hasItemOption){var h=a.getItemModel(c).get(mD,!0);null!=h&&(f=h)}a.ensureUniqueItemVisual(c,"style").opacity=f},i.start,i.end)}}}};function uR(n){(function(t){if(!t.parallel){var e=!1;Te(t.series,function(o){o&&"parallel"===o.type&&(e=!0)}),e&&(t.parallel=[{}])}})(n),function(t){Te(Ko(t.parallelAxis),function(o){if(fr(o)){var i=o.parallelIndex||0,a=Ko(t.parallel)[i];a&&a.parallelAxisDefault&&Ve(o,a.parallelAxisDefault,!1)}})}(n)}var dE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.render=function(e,o,i){this._model=e,this._api=i,this._handlers||(this._handlers={},Te(aI,function(a,u){i.getZr().on(u,this._handlers[u]=Bn(a,this))},this)),C0(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},t.prototype.dispose=function(e,o){Dx(this,"_throttledDispatchExpand"),Te(this._handlers,function(i,a){o.getZr().off(a,i)}),this._handlers=null},t.prototype._throttledDispatchExpand=function(e){this._dispatchExpand(e)},t.prototype._dispatchExpand=function(e){e&&this._api.dispatchAction(Pe({type:"parallelAxisExpand"},e))},t.type="parallel",t}(Ga),aI={mousedown:function(n){sI(this,"click")&&(this._mouseDownPoint=[n.offsetX,n.offsetY])},mouseup:function(n){var t=this._mouseDownPoint;if(sI(this,"click")&&t){var e=[n.offsetX,n.offsetY];if(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)>5)return;var o=this._model.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]);"none"!==o.behavior&&this._dispatchExpand({axisExpandWindow:o.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(n){if(!this._mouseDownPoint&&sI(this,"mousemove")){var t=this._model,e=t.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]),o=e.behavior;"jump"===o&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===o?null:{axisExpandWindow:e.axisExpandWindow,animation:"jump"===o?null:{duration:0}})}}};function sI(n,t){var e=n._model;return e.get("axisExpandable")&&e.get("axisExpandTriggerOn")===t}var uI=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.init=function(){n.prototype.init.apply(this,arguments),this.mergeOption({})},t.prototype.mergeOption=function(e){e&&Ve(this.option,e,!0),this._initDimensions()},t.prototype.contains=function(e,o){var i=e.get("parallelIndex");return null!=i&&o.getComponent("parallel",i)===this},t.prototype.setAxisExpand=function(e){Te(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(o){e.hasOwnProperty(o)&&(this.option[o]=e[o])},this)},t.prototype._initDimensions=function(){var e=this.dimensions=[],o=this.parallelAxisIndex=[];Te(Lr(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(i){return(i.get("parallelIndex")||0)===this.componentIndex},this),function(i){e.push("dim"+i.get("dim")),o.push(i.componentIndex)})},t.type="parallel",t.dependencies=["parallelAxis"],t.layoutMode="box",t.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},t}(H),lR=function(n){function t(e,o,i,a,u){var c=n.call(this,e,o,i)||this;return c.type=a||"value",c.axisIndex=u,c}return yt(t,n),t.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},t}(gd);function _s(n,t,e,o,i,a){n=n||0;var u=e[1]-e[0];if(null!=i&&(i=Sk(i,[0,u])),null!=a&&(a=Math.max(a,null!=i?i:0)),"all"===o){var c=Math.abs(t[1]-t[0]);c=Sk(c,[0,u]),i=a=Sk(c,[i,a]),o=0}t[0]=Sk(t[0],e),t[1]=Sk(t[1],e);var f=lI(t,o);t[o]+=n;var h,m=i||0,y=e.slice();return f.sign<0?y[0]+=m:y[1]-=m,t[o]=Sk(t[o],y),h=lI(t,o),null!=i&&(h.sign!==f.sign||h.span<i)&&(t[1-o]=t[o]+f.sign*i),h=lI(t,o),null!=a&&h.span>a&&(t[1-o]=t[o]+h.sign*a),t}function lI(n,t){var e=n[t]-n[1-t];return{span:Math.abs(e),sign:e>0?-1:e<0?1:t?-1:1}}function Sk(n,t){return Math.min(null!=t[1]?t[1]:1/0,Math.max(null!=t[0]?t[0]:-1/0,n))}var vD=Te,cI=Math.min,yD=Math.max,hE=Math.floor,cR=Math.ceil,pE=ri,fR=Math.PI,dR=function(){function n(t,e,o){this.type="parallel",this._axesMap=Ir(),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,e,o)}return n.prototype._init=function(t,e,o){var a=t.parallelAxisIndex;vD(t.dimensions,function(u,c){var f=a[c],h=e.getComponent("parallelAxis",f),m=this._axesMap.set(u,new lR(u,G0(h),[0,0],h.get("type"),f));m.onBand="category"===m.type&&h.get("boundaryGap"),m.inverse=h.get("inverse"),h.axis=m,m.model=h,m.coordinateSystem=h.coordinateSystem=this},this)},n.prototype.update=function(t,e){this._updateAxesFromSeries(this._model,t)},n.prototype.containPoint=function(t){var e=this._makeLayoutInfo(),o=e.axisBase,i=e.layoutBase,a=e.pixelDimIndex,u=t[1-a],c=t[a];return u>=o&&u<=o+e.axisLength&&c>=i&&c<=i+e.layoutLength},n.prototype.getModel=function(){return this._model},n.prototype._updateAxesFromSeries=function(t,e){e.eachSeries(function(o){if(t.contains(o,e)){var i=o.getData();vD(this.dimensions,function(a){var u=this._axesMap.get(a);u.scale.unionExtentFromData(i,i.mapDimension(a)),Oh(u.scale,u.model)},this)}},this)},n.prototype.resize=function(t,e){this._rect=au(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes()},n.prototype.getRect=function(){return this._rect},n.prototype._makeLayoutInfo=function(){var t,e=this._model,o=this._rect,i=["x","y"],a=["width","height"],u=e.get("layout"),c="horizontal"===u?0:1,f=o[a[c]],h=[0,f],m=this.dimensions.length,y=bD(e.get("axisExpandWidth"),h),_=bD(e.get("axisExpandCount")||0,[0,m]),S=e.get("axisExpandable")&&m>3&&m>_&&_>1&&y>0&&f>0,k=e.get("axisExpandWindow");k?(t=bD(k[1]-k[0],h),k[1]=k[0]+t):(t=bD(y*(_-1),h),(k=[y*(e.get("axisExpandCenter")||hE(m/2))-t/2])[1]=k[0]+t);var D=(f-t)/(m-_);D<3&&(D=0);var A=[hE(pE(k[0]/y,1))+1,cR(pE(k[1]/y,1))-1];return{layout:u,pixelDimIndex:c,layoutBase:o[i[c]],layoutLength:f,axisBase:o[i[1-c]],axisLength:o[a[1-c]],axisExpandable:S,axisExpandWidth:y,axisCollapseWidth:D,axisExpandWindow:k,axisCount:m,winInnerIndices:A,axisExpandWindow0Pos:D/y*k[0]}},n.prototype._layoutAxes=function(){var t=this._rect,e=this._axesMap,o=this.dimensions,i=this._makeLayoutInfo(),a=i.layout;e.each(function(u){var c=[0,i.axisLength],f=u.inverse?1:0;u.setExtent(c[f],c[1-f])}),vD(o,function(u,c){var f=(i.axisExpandable?pR:hR)(c,i),h={horizontal:{x:f.position,y:i.axisLength},vertical:{x:0,y:f.position}},y=[h[a].x+t.x,h[a].y+t.y],_={horizontal:fR/2,vertical:0}[a],S=[1,0,0,1,0,0];Ul(S,S,_),zc(S,S,y),this._axesLayout[u]={position:y,rotation:_,transform:S,axisNameAvailableWidth:f.axisNameAvailableWidth,axisLabelShow:f.axisLabelShow,nameTruncateMaxWidth:f.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},n.prototype.getAxis=function(t){return this._axesMap.get(t)},n.prototype.dataToPoint=function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},n.prototype.eachActiveState=function(t,e,o,i){null==o&&(o=0),null==i&&(i=t.count());var a=this._axesMap,u=this.dimensions,c=[],f=[];Te(u,function(D){c.push(t.mapDimension(D)),f.push(a.get(D).model)});for(var h=this.hasAxisBrushed(),m=o;m<i;m++){var y=void 0;if(h){y="active";for(var _=t.getValues(c,m),S=0,k=u.length;S<k;S++)if("inactive"===f[S].getActiveState(_[S])){y="inactive";break}}else y="normal";e(y,m)}},n.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,e=this._axesMap,o=!1,i=0,a=t.length;i<a;i++)"normal"!==e.get(t[i]).model.getActiveState()&&(o=!0);return o},n.prototype.axisCoordToPoint=function(t,e){return _u([t,0],this._axesLayout[e].transform)},n.prototype.getAxisLayout=function(t){return Re(this._axesLayout[t])},n.prototype.getSlidedAxisExpandWindow=function(t){var e=this._makeLayoutInfo(),o=e.pixelDimIndex,i=e.axisExpandWindow.slice(),a=i[1]-i[0],u=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:i};var c,f=t[o]-e.layoutBase-e.axisExpandWindow0Pos,h="slide",m=e.axisCollapseWidth,y=this._model.get("axisExpandSlideTriggerArea"),_=null!=y[0];if(m)_&&m&&f<a*y[0]?(h="jump",c=f-a*y[2]):_&&m&&f>a*(1-y[0])?(h="jump",c=f-a*(1-y[2])):(c=f-a*y[1])>=0&&(c=f-a*(1-y[1]))<=0&&(c=0),(c*=e.axisExpandWidth/m)?_s(c,i,u,"all"):h="none";else{var S=i[1]-i[0];(i=[yD(0,u[1]*f/S-S/2)])[1]=cI(u[1],i[0]+S),i[0]=i[1]-S}return{axisExpandWindow:i,behavior:h}},n}();function bD(n,t){return cI(yD(n,t[0]),t[1])}function hR(n,t){var e=t.layoutLength/(t.axisCount-1);return{position:e*n,axisNameAvailableWidth:e,axisLabelShow:!0}}function pR(n,t){var e,o,a=t.axisExpandWidth,c=t.axisCollapseWidth,f=t.winInnerIndices,h=c,m=!1;return n<f[0]?(e=n*c,o=c):n<=f[1]?(e=t.axisExpandWindow0Pos+n*a-t.axisExpandWindow[0],h=a,m=!0):(e=t.layoutLength-(t.axisCount-1-n)*c,o=c),{position:e,axisNameAvailableWidth:h,axisLabelShow:m,nameTruncateMaxWidth:o}}var fI={create:function(n,t){var e=[];return n.eachComponent("parallel",function(o,i){var a=new dR(o,n,t);a.name="parallel_"+i,a.resize(o,t),o.coordinateSystem=a,a.model=o,e.push(a)}),n.eachSeries(function(o){if("parallel"===o.get("coordinateSystem")){var i=o.getReferringComponents("parallel",vu).models[0];o.coordinateSystem=i.coordinateSystem}}),e}},Np=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.activeIntervals=[],e}return yt(t,n),t.prototype.getAreaSelectStyle=function(){return op([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},t.prototype.setActiveIntervals=function(e){var o=this.activeIntervals=Re(e);if(o)for(var i=o.length-1;i>=0;i--)la(o[i])},t.prototype.getActiveState=function(e){var o=this.activeIntervals;if(!o.length)return"normal";if(null==e||isNaN(+e))return"inactive";if(1===o.length){var i=o[0];if(i[0]<=e&&e<=i[1])return"active"}else for(var a=0,u=o.length;a<u;a++)if(o[a][0]<=e&&e<=o[a][1])return"active";return"inactive"},t}(H);_r(Np,j0);var kS=!0,xT=Math.min,Ck=Math.max,gR=Math.pow,mR={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},vR={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},mE={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},yR=0,dI=function(n){function t(e){var o=n.call(this)||this;return o._track=[],o._covers=[],o._handlers={},o._zr=e,o.group=new lo,o._uid="brushController_"+yR++,Te(xR,function(i,a){this._handlers[a]=Bn(i,this)},o),o}return yt(t,n),t.prototype.enableBrush=function(e){return this._brushType&&this._doDisableBrush(),e.brushType&&this._doEnableBrush(e),this},t.prototype._doEnableBrush=function(e){var u,o=this._zr;this._enableGlobalPan||(u=this._uid,v_(o).globalPan=u),Te(this._handlers,function(i,a){o.on(a,i)}),this._brushType=e.brushType,this._brushOption=Ve(Re(mE),e,!0)},t.prototype._doDisableBrush=function(){var i,a,u,e=this._zr;i="globalPan",a=this._uid,(u=v_(e))[i]===a&&(u[i]=null),Te(this._handlers,function(o,i){e.off(i,o)}),this._brushType=this._brushOption=null},t.prototype.setPanels=function(e){if(e&&e.length){var o=this._panels={};Te(e,function(i){o[i.panelId]=Re(i)})}else this._panels=null;return this},t.prototype.mount=function(e){this._enableGlobalPan=(e=e||{}).enableGlobalPan;var o=this.group;return this._zr.add(o),o.attr({x:e.x||0,y:e.y||0,rotation:e.rotation||0,scaleX:e.scaleX||1,scaleY:e.scaleY||1}),this._transform=o.getLocalTransform(),this},t.prototype.updateCovers=function(e){e=It(e,function(h){return Ve(Re(mE),h,!0)});var o=this._covers,i=this._covers=[],a=this,u=this._creatingCover;return new Tp(o,e,function(h,m){return c(h.__brushOption,m)},c).add(f).update(f).remove(function(h){o[h]!==u&&a.group.remove(o[h])}).execute(),this;function c(h,m){return(null!=h.id?h.id:"\0-brush-index-"+m)+"-"+h.brushType}function f(h,m){var y=e[h];if(null!=m&&o[m]===u)i[h]=o[m];else{var _=i[h]=null!=m?(o[m].__brushOption=y,o[m]):yE(a,vE(a,y));hI(a,_)}}},t.prototype.unmount=function(){return this.enableBrush(!1),mI(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t}(ho);function vE(n,t){var e=_D[t.brushType].createCover(n,t);return e.__brushOption=t,xE(e,t),n.group.add(e),e}function yE(n,t){var e=pI(t);return e.endCreating&&(e.endCreating(n,t),xE(t,t.__brushOption)),t}function bE(n,t){var e=t.__brushOption;pI(t).updateCoverShape(n,t,e.range,e)}function xE(n,t){var e=t.z;null==e&&(e=1e4),n.traverse(function(o){o.z=e,o.z2=e})}function hI(n,t){pI(t).updateCommon(n,t),bE(n,t)}function pI(n){return _D[n.__brushOption.brushType]}function gI(n,t,e){var o,i=n._panels;if(!i)return kS;var a=n._transform;return Te(i,function(u){u.isTargetByCursor(t,e,a)&&(o=u)}),o}function _E(n,t){var e=n._panels;if(!e)return kS;var o=t.__brushOption.panelId;return null!=o?e[o]:kS}function mI(n){var t=n._covers,e=t.length;return Te(t,function(o){n.group.remove(o)},n),t.length=0,!!e}function MS(n,t){var e=It(n._covers,function(o){var i=o.__brushOption,a=Re(i.range);return{brushType:i.brushType,panelId:i.panelId,range:a}});n.trigger("brush",{areas:e,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function wE(n){var t=n.length-1;return t<0&&(t=0),[n[0],n[t]]}function SE(n,t,e,o){var i=new lo;return i.add(new oi({name:"main",style:xD(e),silent:!0,draggable:!0,cursor:"move",drift:cr(ME,n,t,i,["n","s","w","e"]),ondragend:cr(MS,t,{isEnd:!0})})),Te(o,function(a){i.add(new oi({name:a.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:cr(ME,n,t,i,a),ondragend:cr(MS,t,{isEnd:!0})}))}),i}function CE(n,t,e,o){var i=o.brushStyle.lineWidth||0,a=Ck(i,6),u=e[0][0],c=e[1][0],f=u-i/2,h=c-i/2,m=e[0][1],y=e[1][1],_=m-a+i/2,S=y-a+i/2,k=m-u,D=y-c,A=k+i,E=D+i;N1(n,t,"main",u,c,k,D),o.transformable&&(N1(n,t,"w",f,h,a,E),N1(n,t,"e",_,h,a,E),N1(n,t,"n",f,h,A,a),N1(n,t,"s",f,S,A,a),N1(n,t,"nw",f,h,a,a),N1(n,t,"ne",_,h,a,a),N1(n,t,"sw",f,S,a,a),N1(n,t,"se",_,S,a,a))}function vI(n,t){var e=t.__brushOption,o=e.transformable,i=t.childAt(0);i.useStyle(xD(e)),i.attr({silent:!o,cursor:o?"move":"default"}),Te([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(a){var f,h,m,u=t.childOfName(a.join("")),c=1===a.length?yI(n,a[0]):(("e"===(m=[yI(f=n,(h=a)[0]),yI(f,h[1])])[0]||"w"===m[0])&&m.reverse(),m.join(""));u&&u.attr({silent:!o,invisible:!o,cursor:o?vR[c]+"-resize":null})})}function N1(n,t,e,o,i,a,u){var f,h,m,c=t.childOfName(e);c&&c.setShape((f=bI(n,t,[[o,i],[o+a,i+u]]),{x:h=xT(f[0][0],f[1][0]),y:m=xT(f[0][1],f[1][1]),width:Ck(f[0][0],f[1][0])-h,height:Ck(f[0][1],f[1][1])-m}))}function xD(n){return ht({strokeNoScale:!0},n.brushStyle)}function kE(n,t,e,o){var i=[xT(n,e),xT(t,o)],a=[Ck(n,e),Ck(t,o)];return[[i[0],a[0]],[i[1],a[1]]]}function yI(n,t){return{left:"w",right:"e",top:"n",bottom:"s"}[Mh({w:"left",e:"right",n:"top",s:"bottom"}[t],Eo(n.group))]}function ME(n,t,e,o,i,a){var u=e.__brushOption,c=n.toRectRange(u.range),f=TE(t,i,a);Te(o,function(h){var m=mR[h];c[m[0]][m[1]]+=f[m[0]]}),u.range=n.fromRectRange(kE(c[0][0],c[1][0],c[0][1],c[1][1])),hI(t,e),MS(t,{isEnd:!1})}function bR(n,t,e,o){var i=t.__brushOption.range,a=TE(n,e,o);Te(i,function(u){u[0]+=a[0],u[1]+=a[1]}),hI(n,t),MS(n,{isEnd:!1})}function TE(n,t,e){var o=n.group,i=o.transformCoordToLocal(t,e),a=o.transformCoordToLocal(0,0);return[i[0]-a[0],i[1]-a[1]]}function bI(n,t,e){var o=_E(n,t);return o&&o!==kS?o.clipPath(e,n._transform):Re(e)}function xI(n){var t=n.event;t.preventDefault&&t.preventDefault()}function _I(n,t,e){return n.childOfName("main").contain(t,e)}function wI(n,t,e,o){var i,a=n._creatingCover,u=n._creatingPanel,c=n._brushOption;if(n._track.push(e.slice()),function(m){var y=m._track;if(!y.length)return!1;var _=y[y.length-1],S=y[0],k=_[0]-S[0],D=_[1]-S[1];return gR(k*k+D*D,.5)>6}(n)||a){if(u&&!a){"single"===c.brushMode&&mI(n);var f=Re(c);f.brushType=DE(f.brushType,u),f.panelId=u===kS?null:u.panelId,a=n._creatingCover=vE(n,f),n._covers.push(a)}if(a){var h=_D[DE(n._brushType,u)];a.__brushOption.range=h.getCreatingRange(bI(n,a,n._track)),o&&(yE(n,a),h.updateCommon(n,a)),bE(n,a),i={isEnd:o}}}else o&&"single"===c.brushMode&&c.removeOnClick&&gI(n,t,e)&&mI(n)&&(i={isEnd:o,removeOnClick:!0});return i}function DE(n,t){return"auto"===n?t.defaultBrushType:n}var xR={mousedown:function(n){if(this._dragging)AE(this,n);else if(!n.target||!n.target.draggable){xI(n);var t=this.group.transformCoordToLocal(n.offsetX,n.offsetY);this._creatingCover=null,(this._creatingPanel=gI(this,n,t))&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(n){var o=this.group.transformCoordToLocal(n.offsetX,n.offsetY);if(function(a,u,c){if(a._brushType&&(D=u.offsetY,A=a._zr,!((k=u.offsetX)<0||k>A.getWidth()||D<0||D>A.getHeight()))){var f=a._zr,h=a._covers,m=gI(a,u,c);if(!a._dragging)for(var y=0;y<h.length;y++){var _=h[y].__brushOption;if(m&&(m===kS||_.panelId===m.panelId)&&_D[_.brushType].contain(h[y],c[0],c[1]))return}m&&f.setCursorStyle("crosshair")}var k,D,A}(this,n,o),this._dragging){xI(n);var i=wI(this,n,o,!1);i&&MS(this,i)}},mouseup:function(n){AE(this,n)}};function AE(n,t){if(n._dragging){xI(t);var i=n.group.transformCoordToLocal(t.offsetX,t.offsetY),a=wI(n,t,i,!0);n._dragging=!1,n._track=[],n._creatingCover=null,a&&MS(n,a)}}var _D={lineX:IE(0),lineY:IE(1),rect:{createCover:function(n,t){function e(o){return o}return SE({toRectRange:e,fromRectRange:e},n,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(n){var t=wE(n);return kE(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(n,t,e,o){CE(n,t,e,o)},updateCommon:vI,contain:_I},polygon:{createCover:function(n,t){var e=new lo;return e.add(new ou({name:"main",style:xD(t),silent:!0})),e},getCreatingRange:function(n){return n},endCreating:function(n,t){t.remove(t.childAt(0)),t.add(new ms({name:"main",draggable:!0,drift:cr(bR,n,t),ondragend:cr(MS,n,{isEnd:!0})}))},updateCoverShape:function(n,t,e,o){t.childAt(0).setShape({points:bI(n,t,e)})},updateCommon:vI,contain:_I}};function IE(n){return{createCover:function(t,e){return SE({toRectRange:function(o){var i=[o,[0,100]];return n&&i.reverse(),i},fromRectRange:function(o){return o[n]}},t,e,[[["w"],["e"]],[["n"],["s"]]][n])},getCreatingRange:function(t){var e=wE(t);return[xT(e[0][n],e[1][n]),Ck(e[0][n],e[1][n])]},updateCoverShape:function(t,e,o,i){var a,u=_E(t,e);if(u!==kS&&u.getLinearBrushOtherExtent)a=u.getLinearBrushOtherExtent(n);else{var c=t._zr;a=[0,[c.getWidth(),c.getHeight()][1-n]]}var f=[o,a];n&&f.reverse(),CE(t,e,f,i)},updateCommon:vI,contain:_I}}function OE(n){return n=_T(n),function(t){return Pb(t,n)}}function EE(n,t){return n=_T(n),function(e){var o=null!=t?t:e,a=o?n.x:n.y;return[a,a+((o?n.width:n.height)||0)]}}function PE(n,t,e){var o=_T(n);return function(i,a){return o.contain(a[0],a[1])&&!rT(i,t,e)}}function _T(n){return To.create(n)}var _R=["axisLine","axisTickLabel","axisName"],RE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.init=function(e,o){n.prototype.init.apply(this,arguments),(this._brushController=new dI(o.getZr())).on("brush",Bn(this._onBrush,this))},t.prototype.render=function(e,o,i,a){if(k=e,!(A=a)||"axisAreaSelect"!==A.type||o.findComponents({mainType:"parallelAxis",query:A})[0]!==k){this.axisModel=e,this.api=i,this.group.removeAll();var u=this._axisGroup;if(this._axisGroup=new lo,this.group.add(this._axisGroup),e.get("show")){var c=function(k,D){return D.getComponent("parallel",k.get("parallelIndex"))}(e,o),f=c.coordinateSystem,h=e.getAreaSelectStyle(),m=h.width,_=Pe({strokeContainThreshold:m},f.getAxisLayout(e.axis.dim)),S=new On(e,_);Te(_R,S.add,S),this._axisGroup.add(S.getGroup()),this._refreshBrushController(_,h,e,c,m,i),ko(u,this._axisGroup,e)}}var k,A},t.prototype._refreshBrushController=function(e,o,i,a,u,c){var _,S,f=i.axis.getExtent(),h=f[1]-f[0],m=Math.min(30,.1*Math.abs(h)),y=To.create({x:f[0],y:-u/2,width:h,height:u});y.x-=m,y.width+=2*m,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,x:e.position[0],y:e.position[1]}).setPanels([{panelId:"pl",clipPath:OE(y),isTargetByCursor:PE(y,c,a),getLinearBrushOtherExtent:EE(y,0)}]).enableBrush({brushType:"lineX",brushStyle:o,removeOnClick:!0}).updateCovers((S=(_=i).axis,It(_.activeIntervals,function(k){return{brushType:"lineX",panelId:"pl",range:[S.dataToCoord(k[0],!0),S.dataToCoord(k[1],!0)]}})))},t.prototype._onBrush=function(e){var i=this.axisModel,a=i.axis,u=It(e.areas,function(c){return[a.coordToData(c.range[0],!0),a.coordToData(c.range[1],!0)]});(!i.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:u})},t.prototype.dispose=function(){this._brushController.dispose()},t.type="parallelAxis",t}(Ga),wR={type:"axisAreaSelect",event:"axisAreaSelected"},SR={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function LE(n){n.registerComponentView(dE),n.registerComponentModel(uI),n.registerCoordinateSystem("parallel",fI),n.registerPreprocessor(uR),n.registerComponentModel(Np),n.registerComponentView(RE),Me(n,"parallel",Np,SR),function(t){t.registerAction(wR,function(e,o){o.eachComponent({mainType:"parallelAxis",query:e},function(i){i.axis.model.setActiveIntervals(e.intervals)})}),t.registerAction("parallelAxisExpand",function(e,o){o.eachComponent({mainType:"parallel",query:e},function(i){i.setAxisExpand(e)})})}(n)}var CR=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},kR=function(n){function t(e){return n.call(this,e)||this}return yt(t,n),t.prototype.getDefaultShape=function(){return new CR},t.prototype.buildPath=function(e,o){var i=o.extent;e.moveTo(o.x1,o.y1),e.bezierCurveTo(o.cpx1,o.cpy1,o.cpx2,o.cpy2,o.x2,o.y2),"vertical"===o.orient?(e.lineTo(o.x2+i,o.y2),e.bezierCurveTo(o.cpx2+i,o.cpy2,o.cpx1+i,o.cpy1,o.x1+i,o.y1)):(e.lineTo(o.x2,o.y2+i),e.bezierCurveTo(o.cpx2,o.cpy2+i,o.cpx1,o.cpy1+i,o.x1,o.y1+i)),e.closePath()},t.prototype.highlight=function(){Mf(this)},t.prototype.downplay=function(){qd(this)},t}(Do),MR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._focusAdjacencyDisabled=!1,e}return yt(t,n),t.prototype.render=function(e,o,i){var k,D,E,a=this,u=e.getGraph(),c=this.group,f=e.layoutInfo,h=f.width,m=f.height,y=e.getData(),_=e.getData("edge"),S=e.get("orient");this._model=e,c.removeAll(),c.x=f.x,c.y=f.y,u.eachEdge(function(k){var D=new kR,A=fo(D);A.dataIndex=k.dataIndex,A.seriesIndex=e.seriesIndex,A.dataType="edge";var E,N,z,F,q,X,ee,ie,ye=k.getModel(),_e=ye.getModel("lineStyle"),Se=_e.get("curveness"),Ae=k.node1.getLayout(),Fe=k.node1.getModel(),Xe=Fe.get("localX"),nt=Fe.get("localY"),it=k.node2.getLayout(),ut=k.node2.getModel(),mt=ut.get("localX"),Ot=ut.get("localY"),Pt=k.getLayout();switch(D.shape.extent=Math.max(1,Pt.dy),D.shape.orient=S,"vertical"===S?(q=E=(null!=Xe?Xe*h:Ae.x)+Pt.sy,X=(N=(null!=nt?nt*m:Ae.y)+Ae.dy)*(1-Se)+(F=null!=Ot?Ot*m:it.y)*Se,ee=z=(null!=mt?mt*h:it.x)+Pt.ty,ie=N*Se+F*(1-Se)):(q=(E=(null!=Xe?Xe*h:Ae.x)+Ae.dx)*(1-Se)+(z=null!=mt?mt*h:it.x)*Se,X=N=(null!=nt?nt*m:Ae.y)+Pt.sy,ee=E*Se+z*(1-Se),ie=F=(null!=Ot?Ot*m:it.y)+Pt.ty),D.setShape({x1:E,y1:N,x2:z,y2:F,cpx1:q,cpy1:X,cpx2:ee,cpy2:ie}),D.useStyle(_e.getItemStyle()),D.style.fill){case"source":D.style.fill=k.node1.getVisual("color"),D.style.decal=k.node1.getVisual("style").decal;break;case"target":D.style.fill=k.node2.getVisual("color"),D.style.decal=k.node2.getVisual("style").decal;break;case"gradient":var Gt=k.node1.getVisual("color"),kn=k.node2.getVisual("color");Un(Gt)&&Un(kn)&&(D.style.fill=new pp(0,0,+("horizontal"===S),+("vertical"===S),[{color:Gt,offset:0},{color:kn,offset:1}]))}Da(D,Aa(ye,"edgeLabel"),{labelFetcher:e,labelDataIndex:k.dataIndex,defaultText:""+ye.get("value")}),D.setTextConfig({position:"inside"});var tr=ye.getModel("emphasis");Fu(D,ye,"lineStyle",function(zn){return zn.getItemStyle()}),c.add(D),_.setItemGraphicEl(k.dataIndex,D);var Xt=tr.get("focus");Ds(D,"adjacency"===Xt?k.getAdjacentDataIndices():Xt,tr.get("blurScope"),tr.get("disabled")),fo(D).dataType="edge"}),u.eachNode(function(k){var D=k.getLayout(),A=k.getModel(),E=A.get("localX"),N=A.get("localY"),z=A.getModel("emphasis"),F=new oi({shape:{x:null!=E?E*h:D.x,y:null!=N?N*m:D.y,width:D.dx,height:D.dy},style:A.getModel("itemStyle").getItemStyle(),z2:10});Da(F,Aa(A),{labelFetcher:e,labelDataIndex:k.dataIndex,defaultText:k.id}),F.disableLabelAnimation=!0,F.setStyle("fill",k.getVisual("color")),F.setStyle("decal",k.getVisual("style").decal),Fu(F,A),c.add(F),y.setItemGraphicEl(k.dataIndex,F),fo(F).dataType="node";var q=z.get("focus");Ds(F,"adjacency"===q?k.getAdjacentDataIndices():q,z.get("blurScope"),z.get("disabled"))}),y.eachItemGraphicEl(function(k,D){y.getItemModel(D).get("draggable")&&(k.drift=function(A,E){a._focusAdjacencyDisabled=!0,this.shape.x+=A,this.shape.y+=E,this.dirty(),i.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:y.getRawIndex(D),localX:this.shape.x/h,localY:this.shape.y/m})},k.ondragend=function(){a._focusAdjacencyDisabled=!1},k.draggable=!0,k.cursor="move")}),!this._data&&e.isAnimationEnabled()&&c.setClipPath((k=c.getBoundingRect(),D=e,_a(E=new oi({shape:{x:k.x-10,y:k.y-10,width:0,height:k.height+20}}),{shape:{width:k.width+20}},D,function(){c.removeClipPath()}),E)),this._data=e.getData()},t.prototype.dispose=function(){},t.type="sankey",t}(ma),TR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.getInitialData=function(e,o){var i=e.edges||e.links,a=e.data||e.nodes,u=e.levels;this.levelModels=[];for(var c=this.levelModels,f=0;f<u.length;f++)null!=u[f].depth&&u[f].depth>=0&&(c[u[f].depth]=new Pi(u[f],this,o));if(a&&i)return iE(a,i,this,!0,function(m,y){m.wrapMethod("getItemModel",function(_,S){var k=_.parentModel,D=k.getData().getItemLayout(S);if(D){var E=k.levelModels[D.depth];E&&(_.parentModel=E)}return _}),y.wrapMethod("getItemModel",function(_,S){var k=_.parentModel,D=k.getGraph().getEdgeByIndex(S).node1.getLayout();if(D){var E=k.levelModels[D.depth];E&&(_.parentModel=E)}return _})}).data},t.prototype.setNodePosition=function(e,o){var i=(this.option.data||this.option.nodes)[e];i.localX=o[0],i.localY=o[1]},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,o,i){function a(y){return isNaN(y)||null==y}if("edge"===i){var u=this.getDataParams(e,i),c=u.data,f=u.value;return Fl("nameValue",{name:c.source+" -- "+c.target,value:f,noValue:a(f)})}var h=this.getGraph().getNodeByIndex(e).getLayout().value,m=this.getDataParams(e,i).data.name;return Fl("nameValue",{name:null!=m?m+"":null,value:h,noValue:a(h)})},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(e,o){var i=n.prototype.getDataParams.call(this,e,o);if(null==i.value&&"node"===o){var a=this.getGraph().getNodeByIndex(e).getLayout().value;i.value=a}return i},t.type="series.sankey",t.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},t}(ga);function DR(n,t){n.eachSeriesByType("sankey",function(e){var _,o=e.get("nodeWidth"),i=e.get("nodeGap"),a=(_=t,au(e.getBoxLayoutParams(),{width:_.getWidth(),height:_.getHeight()}));e.layoutInfo=a;var u=a.width,c=a.height,f=e.getGraph(),h=f.nodes,m=f.edges;Te(h,function(_){var S=S_(_.outEdges,SD),k=S_(_.inEdges,SD),D=_.getValue()||0,A=Math.max(S,k,D);_.setLayout({value:A},!0)}),function(y,_,S,k,D,A,E,N,z){var F,X;(function(F,q,X,ee,ie,ye,_e){for(var Se=[],Ae=[],Fe=[],Xe=[],nt=0,it=0;it<q.length;it++)Se[it]=1;for(it=0;it<F.length;it++)Ae[it]=F[it].inEdges.length,0===Ae[it]&&Fe.push(F[it]);for(var ut=-1;Fe.length;){for(var mt=0;mt<Fe.length;mt++){var Ot=Fe[mt],Pt=Ot.hostGraph.data.getRawDataItem(Ot.dataIndex),Gt=null!=Pt.depth&&Pt.depth>=0;Gt&&Pt.depth>ut&&(ut=Pt.depth),Ot.setLayout({depth:Gt?Pt.depth:nt},!0),Ot.setLayout("vertical"===ye?{dy:X}:{dx:X},!0);for(var kn=0;kn<Ot.outEdges.length;kn++){var tr=Ot.outEdges[kn];Se[q.indexOf(tr)]=0;var Xt=tr.node2;0==--Ae[F.indexOf(Xt)]&&Xe.indexOf(Xt)<0&&Xe.push(Xt)}}++nt,Fe=Xe,Xe=[]}for(it=0;it<Se.length;it++)if(1===Se[it])throw new Error("Sankey is a DAG, the original data has cycle!");var nr,br,zn=ut>nt-1?ut:nt-1;_e&&"left"!==_e&&function(dr,nr,br,ur){if("right"===nr){for(var kr=[],Br=dr,Ro=0;Br.length;){for(var Zo=0;Zo<Br.length;Zo++){var wa=Br[Zo];wa.setLayout({skNodeHeight:Ro},!0);for(var Si=0;Si<wa.inEdges.length;Si++){var Hi=wa.inEdges[Si];kr.indexOf(Hi.node1)<0&&kr.push(Hi.node1)}}Br=kr,kr=[],++Ro}Te(dr,function(oa){wD(oa)||oa.setLayout({depth:Math.max(0,ur-oa.getLayout().skNodeHeight)},!0)})}else"justify"===nr&&(qs=ur,Te(dr,function(su){wD(su)||su.outEdges.length||su.setLayout({depth:qs},!0)}));var qs}(F,_e,0,zn),nr="vertical"===ye?(ie-X)/zn:(ee-X)/zn,br=ye,Te(F,function(ur){var kr=ur.getLayout().depth*nr;ur.setLayout("vertical"===br?{y:kr}:{x:kr},!0)})})(y,_,S,D,A,N,z),function(F,q,X,ee,ie,ye,_e){var nt,it,ut,Se=(nt=[],it="vertical"===_e?"y":"x",(ut=np(F,function(mt){return mt.getLayout()[it]})).keys.sort(function(mt,Ot){return mt-Ot}),Te(ut.keys,function(mt){nt.push(ut.buckets.get(mt))}),nt);(function(Fe,Xe,nt,it,ut,mt){var Ot=1/0;Te(Fe,function(Pt){var Gt=Pt.length,kn=0;Te(Pt,function(Xt){kn+=Xt.getLayout().value});var tr="vertical"===mt?(it-(Gt-1)*ut)/kn:(nt-(Gt-1)*ut)/kn;tr<Ot&&(Ot=tr)}),Te(Fe,function(Pt){Te(Pt,function(Gt,kn){var tr=Gt.getLayout().value*Ot;"vertical"===mt?(Gt.setLayout({x:kn},!0),Gt.setLayout({dx:tr},!0)):(Gt.setLayout({y:kn},!0),Gt.setLayout({dy:tr},!0))})}),Te(Xe,function(Pt){var Gt=+Pt.getValue()*Ot;Pt.setLayout({dy:Gt},!0)})})(Se,q,X,ee,ie,_e),SI(Se,ie,X,ee,_e);for(var Ae=1;ye>0;ye--)wT(Se,Ae*=.99,_e),SI(Se,ie,X,ee,_e),kk(Se,Ae,_e),SI(Se,ie,X,ee,_e)}(y,_,A,D,k,E,N),X="vertical"===N?"x":"y",Te(F=y,function(ee){ee.outEdges.sort(function(ie,ye){return ie.node2.getLayout()[X]-ye.node2.getLayout()[X]}),ee.inEdges.sort(function(ie,ye){return ie.node1.getLayout()[X]-ye.node1.getLayout()[X]})}),Te(F,function(ee){var ie=0,ye=0;Te(ee.outEdges,function(_e){_e.setLayout({sy:ie},!0),ie+=_e.getLayout().dy}),Te(ee.inEdges,function(_e){_e.setLayout({ty:ye},!0),ye+=_e.getLayout().dy})})}(h,m,o,i,u,c,0!==Lr(h,function(y){return 0===y.getLayout().value}).length?0:e.get("layoutIterations"),e.get("orient"),e.get("nodeAlign"))})}function wD(n){var t=n.hostGraph.data.getRawDataItem(n.dataIndex);return null!=t.depth&&t.depth>=0}function SI(n,t,e,o,i){var a="vertical"===i?"x":"y";Te(n,function(u){var c,f,h;u.sort(function(k,D){return k.getLayout()[a]-D.getLayout()[a]});for(var m=0,y=u.length,_="vertical"===i?"dx":"dy",S=0;S<y;S++)(h=m-(f=u[S]).getLayout()[a])>0&&(c=f.getLayout()[a]+h,f.setLayout("vertical"===i?{x:c}:{y:c},!0)),m=f.getLayout()[a]+f.getLayout()[_]+t;if((h=m-t-("vertical"===i?o:e))>0)for(c=f.getLayout()[a]-h,f.setLayout("vertical"===i?{x:c}:{y:c},!0),m=c,S=y-2;S>=0;--S)(h=(f=u[S]).getLayout()[a]+f.getLayout()[_]+t-m)>0&&(c=f.getLayout()[a]-h,f.setLayout("vertical"===i?{x:c}:{y:c},!0)),m=f.getLayout()[a]})}function wT(n,t,e){Te(n.slice().reverse(),function(o){Te(o,function(i){if(i.outEdges.length){var a=S_(i.outEdges,AR,e)/S_(i.outEdges,SD);if(isNaN(a)){var u=i.outEdges.length;a=u?S_(i.outEdges,IR,e)/u:0}if("vertical"===e){var c=i.getLayout().x+(a-w_(i,e))*t;i.setLayout({x:c},!0)}else{var f=i.getLayout().y+(a-w_(i,e))*t;i.setLayout({y:f},!0)}}})})}function AR(n,t){return w_(n.node2,t)*n.getValue()}function IR(n,t){return w_(n.node2,t)}function OR(n,t){return w_(n.node1,t)*n.getValue()}function NE(n,t){return w_(n.node1,t)}function w_(n,t){return"vertical"===t?n.getLayout().x+n.getLayout().dx/2:n.getLayout().y+n.getLayout().dy/2}function SD(n){return n.getValue()}function S_(n,t,e){for(var o=0,i=n.length,a=-1;++a<i;){var u=+t(n[a],e);isNaN(u)||(o+=u)}return o}function kk(n,t,e){Te(n,function(o){Te(o,function(i){if(i.inEdges.length){var a=S_(i.inEdges,OR,e)/S_(i.inEdges,SD);if(isNaN(a)){var u=i.inEdges.length;a=u?S_(i.inEdges,NE,e)/u:0}if("vertical"===e){var c=i.getLayout().x+(a-w_(i,e))*t;i.setLayout({x:c},!0)}else{var f=i.getLayout().y+(a-w_(i,e))*t;i.setLayout({y:f},!0)}}})})}function BE(n){n.eachSeriesByType("sankey",function(t){var e=t.getGraph(),o=e.nodes,i=e.edges;if(o.length){var a=1/0,u=-1/0;Te(o,function(c){var f=c.getLayout().value;f<a&&(a=f),f>u&&(u=f)}),Te(o,function(c){var f=new cf({type:"color",mappingMethod:"linear",dataExtent:[a,u],visual:t.get("color")}).mapValueToVisual(c.getLayout().value),h=c.getModel().get(["itemStyle","color"]);null!=h?(c.setVisual("color",h),c.setVisual("style",{fill:h})):(c.setVisual("color",f),c.setVisual("style",{fill:f}))})}i.length&&Te(i,function(c){var f=c.getModel().get("lineStyle");c.setVisual("style",f)})})}var CI=function(){function n(){}return n.prototype.getInitialData=function(t,e){var o,i,a=e.getComponent("xAxis",this.get("xAxisIndex")),u=e.getComponent("yAxis",this.get("yAxisIndex")),c=a.get("type"),f=u.get("type");"category"===c?(t.layout="horizontal",o=a.getOrdinalMeta(),i=!0):"category"===f?(t.layout="vertical",o=u.getOrdinalMeta(),i=!0):t.layout=t.layout||"horizontal";var h=["x","y"],m="horizontal"===t.layout?0:1,y=this._baseAxisDim=h[m],_=h[1-m],S=[a,u],k=S[m].get("type"),D=S[1-m].get("type"),A=t.data;if(A&&i){var E=[];Te(A,function(F,q){var X;tt(F)?(X=F.slice(),F.unshift(q)):tt(F.value)?((X=Pe({},F)).value=X.value.slice(),F.value.unshift(q)):X=F,E.push(X)}),t.data=E}var N=this.defaultValueDimensions,z=[{name:y,type:Iw(k),ordinalMeta:o,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:_,type:Iw(D),dimsDef:N.slice()}];return s(this,{coordDimensions:z,dimensionsCount:N.length+1,encodeDefaulter:cr(Pn,z,this)})},n.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},n}(),CD=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],e.visualDrawType="stroke",e}return yt(t,n),t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},t}(ga);_r(CD,CI,!0);var zE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.render=function(e,o,i){var a=e.getData(),u=this.group,c=this._data;this._data||u.removeAll();var f="horizontal"===e.get("layout")?1:0;a.diff(c).add(function(h){if(a.hasValue(h)){var m=kI(a.getItemLayout(h),a,h,f,!0);a.setItemGraphicEl(h,m),u.add(m)}}).update(function(h,m){var y=c.getItemGraphicEl(m);if(a.hasValue(h)){var _=a.getItemLayout(h);y?(Df(y),TS(_,y,a,h)):y=kI(_,a,h,f),u.add(y),a.setItemGraphicEl(h,y)}else u.remove(y)}).remove(function(h){var m=c.getItemGraphicEl(h);m&&u.remove(m)}).execute(),this._data=a},t.prototype.remove=function(e){var o=this.group,i=this._data;this._data=null,i&&i.eachItemGraphicEl(function(a){a&&o.remove(a)})},t.type="boxplot",t}(ma),FE=function(){},VE=function(n){function t(e){var o=n.call(this,e)||this;return o.type="boxplotBoxPath",o}return yt(t,n),t.prototype.getDefaultShape=function(){return new FE},t.prototype.buildPath=function(e,o){var i=o.points,a=0;for(e.moveTo(i[a][0],i[a][1]),a++;a<4;a++)e.lineTo(i[a][0],i[a][1]);for(e.closePath();a<i.length;a++)e.moveTo(i[a][0],i[a][1]),a++,e.lineTo(i[a][0],i[a][1])},t}(Do);function kI(n,t,e,o,i){var a=n.ends,u=new VE({shape:{points:i?HE(a,o,n):a}});return TS(n,u,t,e,i),u}function TS(n,t,e,o,i){(0,lg[i?"initProps":"updateProps"])(t,{shape:{points:n.ends}},e.hostModel,o),t.useStyle(e.getItemVisual(o,"style")),t.style.strokeNoScale=!0,t.z2=100;var u=e.getItemModel(o),c=u.getModel("emphasis");Fu(t,u),Ds(t,c.get("focus"),c.get("blurScope"),c.get("disabled"))}function HE(n,t,e){return It(n,function(o){return(o=o.slice())[t]=e.initBaseline,o})}var Mk=Te;function Iy(n){var o,i,t=(o=[],i=[],n.eachSeriesByType("boxplot",function(a){var u=a.getBaseAxis(),c=jt(i,u);c<0&&(i[c=i.length]=u,o[c]={axis:u,seriesModels:[]}),o[c].seriesModels.push(a)}),o);Mk(t,function(e){var o=e.seriesModels;o.length&&(function(i){var a,u=i.axis,c=i.seriesModels,f=c.length,h=i.boxWidthList=[],m=i.boxOffsetList=[],y=[];if("category"===u.type)a=u.getBandWidth();else{var _=0;Mk(c,function(N){_=Math.max(_,N.getData().count())});var S=u.getExtent();a=Math.abs(S[1]-S[0])/_}Mk(c,function(N){var z=N.get("boxWidth");tt(z)||(z=[z,z]),y.push([Qn(z[0],a)||0,Qn(z[1],a)||0])});var k=.8*a-2,D=k/f*.3,A=(k-D*(f-1))/f,E=A/2-k/2;Mk(c,function(N,z){m.push(E),E+=D+A,h.push(Math.min(Math.max(A,y[z][0]),y[z][1]))})}(e),Mk(o,function(i,a){!function(u,c,f){var h=u.coordinateSystem,m=u.getData(),y=f/2,_="horizontal"===u.get("layout")?0:1,S=1-_,k=["x","y"],D=m.mapDimension(k[_]),A=m.mapDimensionsAll(k[S]);if(!(null==D||A.length<5))for(var E=0;E<m.count();E++){var N=m.get(D,E),z=ye(N,A[2],E),F=ye(N,A[0],E),q=ye(N,A[1],E),X=ye(N,A[3],E),ee=ye(N,A[4],E),ie=[];_e(ie,q,!1),_e(ie,X,!0),ie.push(F,q,ee,X),Se(ie,F),Se(ie,ee),Se(ie,z),m.setItemLayout(E,{initBaseline:z[S],ends:ie})}function ye(Ae,Fe,Xe){var nt,it=m.get(Fe,Xe),ut=[];return ut[_]=Ae,ut[S]=it,isNaN(Ae)||isNaN(it)?nt=[NaN,NaN]:(nt=h.dataToPoint(ut))[_]+=c,nt}function _e(Ae,Fe,Xe){var nt=Fe.slice(),it=Fe.slice();nt[_]+=y,it[_]-=y,Xe?Ae.push(nt,it):Ae.push(it,nt)}function Se(Ae,Fe){var Xe=Fe.slice(),nt=Fe.slice();Xe[_]-=y,nt[_]+=y,Ae.push(Xe,nt)}}(i,e.boxOffsetList[a],e.boxWidthList[a])}))})}var MI={type:"echarts:boxplot",transform:function(n){var t=n.upstream;t.sourceFormat!==$e&&fi("");var o=function(i,a){for(var u=[],c=[],f=(a=a||{}).boundIQR,h="none"===f||0===f,m=0;m<i.length;m++){var y=la(i[m].slice()),_=mu(y,.25),S=mu(y,.5),k=mu(y,.75),D=y[0],A=y[y.length-1],E=(null==f?1.5:f)*(k-_),N=h?D:Math.max(D,_-E),z=h?A:Math.min(A,k+E),F=a.itemNameFormatter,q=hn(F)?F({value:m}):Un(F)?F.replace("{value}",m+""):m+"";u.push([q,N,_,S,k,z]);for(var X=0;X<y.length;X++){var ee=y[X];(ee<N||ee>z)&&c.push([q,ee])}}return{boxData:u,outliers:c}}(t.getRawData(),n.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:o.boxData},{data:o.outliers}]}},WE=["color","borderColor"],ER=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.render=function(e,o,i){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},t.prototype.incrementalPrepareRender=function(e,o,i){this._clear(),this._updateDrawMode(e)},t.prototype.incrementalRender=function(e,o,i,a){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(e,o):this._incrementalRenderNormal(e,o)},t.prototype.eachRendered=function(e){Vu(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var o=e.pipelineContext.large;null!=this._isLargeDraw&&o===this._isLargeDraw||(this._isLargeDraw=o,this._clear())},t.prototype._renderNormal=function(e){var o=e.getData(),i=this._data,a=this.group,u=o.getLayout("isSimpleBox"),c=e.get("clip",!0),f=e.coordinateSystem,h=f.getArea&&f.getArea();this._data||a.removeAll(),o.diff(i).add(function(m){if(o.hasValue(m)){var y=o.getItemLayout(m);if(c&&UE(h,y))return;var _=TI(y,0,!0);_a(_,{shape:{points:y.ends}},e,m),DI(_,o,m,u),a.add(_),o.setItemGraphicEl(m,_)}}).update(function(m,y){var _=i.getItemGraphicEl(y);if(o.hasValue(m)){var S=o.getItemLayout(m);c&&UE(h,S)?a.remove(_):(_?(io(_,{shape:{points:S.ends}},e,m),Df(_)):_=TI(S),DI(_,o,m,u),a.add(_),o.setItemGraphicEl(m,_))}else a.remove(_)}).remove(function(m){var y=i.getItemGraphicEl(m);y&&a.remove(y)}).execute(),this._data=o},t.prototype._renderLarge=function(e){this._clear(),Oy(e,this.group);var o=e.get("clip",!0)?C1(e.coordinateSystem,!1,e):null;o?this.group.setClipPath(o):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(e,o){for(var i,a=o.getData(),u=a.getLayout("isSimpleBox");null!=(i=e.next());){var c=TI(a.getItemLayout(i));DI(c,a,i,u),c.incremental=!0,this.group.add(c),this._progressiveEls.push(c)}},t.prototype._incrementalRenderLarge=function(e,o){Oy(o,this.group,this._progressiveEls,!0)},t.prototype.remove=function(e){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t}(ma),GE=function(){},PR=function(n){function t(e){var o=n.call(this,e)||this;return o.type="normalCandlestickBox",o}return yt(t,n),t.prototype.getDefaultShape=function(){return new GE},t.prototype.buildPath=function(e,o){var i=o.points;this.__simpleBox?(e.moveTo(i[4][0],i[4][1]),e.lineTo(i[6][0],i[6][1])):(e.moveTo(i[0][0],i[0][1]),e.lineTo(i[1][0],i[1][1]),e.lineTo(i[2][0],i[2][1]),e.lineTo(i[3][0],i[3][1]),e.closePath(),e.moveTo(i[4][0],i[4][1]),e.lineTo(i[5][0],i[5][1]),e.moveTo(i[6][0],i[6][1]),e.lineTo(i[7][0],i[7][1]))},t}(Do);function TI(n,t,e){var o=n.ends;return new PR({shape:{points:e?jE(o,n):o},z2:100})}function UE(n,t){for(var e=!0,o=0;o<t.ends.length;o++)if(n.contain(t.ends[o][0],t.ends[o][1])){e=!1;break}return e}function DI(n,t,e,o){var i=t.getItemModel(e);n.useStyle(t.getItemVisual(e,"style")),n.style.strokeNoScale=!0,n.__simpleBox=o,Fu(n,i)}function jE(n,t){return It(n,function(e){return(e=e.slice())[1]=t.initBaseline,e})}var qE=function(){},_d=function(n){function t(e){var o=n.call(this,e)||this;return o.type="largeCandlestickBox",o}return yt(t,n),t.prototype.getDefaultShape=function(){return new qE},t.prototype.buildPath=function(e,o){for(var i=o.points,a=0;a<i.length;)if(this.__sign===i[a++]){var u=i[a++];e.moveTo(u,i[a++]),e.lineTo(u,i[a++])}else a+=3},t}(Do);function Oy(n,t,e,o){var i=n.getData().getLayout("largePoints"),a=new _d({shape:{points:i},__sign:1,ignoreCoarsePointer:!0});t.add(a);var u=new _d({shape:{points:i},__sign:-1,ignoreCoarsePointer:!0});t.add(u);var c=new _d({shape:{points:i},__sign:0,ignoreCoarsePointer:!0});t.add(c),AI(1,a,n),AI(-1,u,n),AI(0,c,n),o&&(a.incremental=!0,u.incremental=!0),e&&e.push(a,u)}function AI(n,t,e,o){var i=e.get(["itemStyle",n>0?"borderColor":"borderColor0"])||e.get(["itemStyle",n>0?"color":"color0"]);0===n&&(i=e.get(["itemStyle","borderColorDoji"]));var a=e.getModel("itemStyle").getItemStyle(WE);t.useStyle(a),t.style.fill=null,t.style.stroke=i}var YE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],e}return yt(t,n),t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(e,o,i){var a=o.getItemLayout(e);return a&&i.rect(a.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t}(ga);function XE(n){n&&tt(n.series)&&Te(n.series,function(t){fr(t)&&"k"===t.type&&(t.type="candlestick")})}_r(YE,CI,!0);var ST=["itemStyle","borderColor"],kD=["itemStyle","borderColor0"],RR=["itemStyle","borderColorDoji"],C_=["itemStyle","color"],LR=["itemStyle","color0"],NR={seriesType:"candlestick",plan:S0(),performRawSeries:!0,reset:function(n,t){function e(i,a){return a.get(i>0?C_:LR)}function o(i,a){return a.get(0===i?RR:i>0?ST:kD)}if(!t.isSeriesFiltered(n))return!n.pipelineContext.large&&{progress:function(i,a){for(var u;null!=(u=i.next());){var c=a.getItemModel(u),f=a.getItemLayout(u).sign,h=c.getItemStyle();h.fill=e(f,c),h.stroke=o(f,c)||h.fill,Pe(a.ensureUniqueItemVisual(u,"style"),h)}}}}},Bh={seriesType:"candlestick",plan:S0(),reset:function(n){var y,_,S,k,D,A,E,N,t=n.coordinateSystem,e=n.getData(),o=(_=e,D="category"===(k=(y=n).getBaseAxis()).type?k.getBandWidth():(S=k.getExtent(),Math.abs(S[1]-S[0])/_.count()),A=Qn(_n(y.get("barMaxWidth"),D),D),E=Qn(_n(y.get("barMinWidth"),1),D),null!=(N=y.get("barWidth"))?Qn(N,D):Math.max(Math.min(D/2,A),E)),i=["x","y"],a=e.getDimensionIndex(e.mapDimension(i[0])),u=It(e.mapDimensionsAll(i[1]),e.getDimensionIndex,e),c=u[0],f=u[1],h=u[2],m=u[3];if(e.setLayout({candleWidth:o,isSimpleBox:o<=1.3}),!(a<0||u.length<4))return{progress:n.pipelineContext.large?function(y,_){for(var S,k,D=Og(4*y.count),A=0,E=[],N=[],z=_.getStore(),F=!!n.get(["itemStyle","borderColorDoji"]);null!=(k=y.next());){var q=z.get(a,k),X=z.get(c,k),ee=z.get(f,k),ie=z.get(h,k),ye=z.get(m,k);isNaN(q)||isNaN(ie)||isNaN(ye)?(D[A++]=NaN,A+=3):(D[A++]=MD(z,k,X,ee,f,F),E[0]=q,E[1]=ie,S=t.dataToPoint(E,null,N),D[A++]=S?S[0]:NaN,D[A++]=S?S[1]:NaN,E[1]=ye,S=t.dataToPoint(E,null,N),D[A++]=S?S[1]:NaN)}_.setLayout("largePoints",D)}:function(y,_){for(var S,k=_.getStore();null!=(S=y.next());){var D=k.get(a,S),A=k.get(c,S),E=k.get(f,S),N=k.get(h,S),z=k.get(m,S),F=Math.min(A,E),q=Math.max(A,E),X=Ae(F,D),ee=Ae(q,D),ie=Ae(N,D),ye=Ae(z,D),_e=[];Fe(_e,ee,0),Fe(_e,X,1),_e.push(nt(ye),nt(ee),nt(ie),nt(X));var Se=!!_.getItemModel(S).get(["itemStyle","borderColorDoji"]);_.setItemLayout(S,{sign:MD(k,S,A,E,f,Se),initBaseline:A>E?ee[1]:X[1],ends:_e,brushRect:(it=N,ut=z,mt=D,Ot=void 0,Pt=void 0,Ot=Ae(it,mt),Pt=Ae(ut,mt),Ot[0]-=o/2,Pt[0]-=o/2,{x:Ot[0],y:Ot[1],width:o,height:Pt[1]-Ot[1]})})}var it,ut,mt,Ot,Pt;function Ae(it,ut){var mt=[];return mt[0]=ut,mt[1]=it,isNaN(ut)||isNaN(it)?[NaN,NaN]:t.dataToPoint(mt)}function Fe(it,ut,mt){var Ot=ut.slice(),Pt=ut.slice();Ot[0]=km(Ot[0]+o/2,1,!1),Pt[0]=km(Pt[0]-o/2,1,!0),mt?it.push(Ot,Pt):it.push(Pt,Ot)}function nt(it){return it[0]=km(it[0],1),it}}}}};function MD(n,t,e,o,i,a){return e>o?-1:e<o?1:a?0:t>0?n.get(i,t-1)<=o?1:-1:1}function hv(n,t){var e=t.rippleEffectColor||t.color;n.eachChild(function(o){o.attr({z:t.z,zlevel:t.zlevel,style:{stroke:"stroke"===t.brushType?e:null,fill:"fill"===t.brushType?e:null}})})}var ta=function(n){function t(e,o){var i=n.call(this)||this,a=new Op(e,o),u=new lo;return i.add(a),i.add(u),i.updateData(e,o),i}return yt(t,n),t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(e){for(var o=e.symbolType,i=e.color,a=e.rippleNumber,u=this.childAt(1),c=0;c<a;c++){var f=Hu(o,-1,-1,2,2,i);f.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var h=-c/a*e.period+e.effectOffset;f.animate("",!0).when(e.period,{scaleX:e.rippleScale/2,scaleY:e.rippleScale/2}).delay(h).start(),f.animateStyle(!0).when(e.period,{opacity:0}).delay(h).start(),u.add(f)}hv(u,e)},t.prototype.updateEffectAnimation=function(e){for(var o=this._effectCfg,i=this.childAt(1),a=["symbolType","period","rippleScale","rippleNumber"],u=0;u<a.length;u++){var c=a[u];if(o[c]!==e[c])return this.stopEffectAnimation(),void this.startEffectAnimation(e)}hv(i,e)},t.prototype.highlight=function(){Mf(this)},t.prototype.downplay=function(){qd(this)},t.prototype.getSymbolType=function(){var e=this.childAt(0);return e&&e.getSymbolType()},t.prototype.updateData=function(e,o){var i=this,a=e.hostModel;this.childAt(0).updateData(e,o);var u=this.childAt(1),c=e.getItemModel(o),f=e.getItemVisual(o,"symbol"),h=Xb(e.getItemVisual(o,"symbolSize")),m=e.getItemVisual(o,"style"),y=m&&m.fill,_=c.getModel("emphasis");u.setScale(h),u.traverse(function(A){A.setStyle("fill",y)});var S=Zb(e.getItemVisual(o,"symbolOffset"),h);S&&(u.x=S[0],u.y=S[1]);var k=e.getItemVisual(o,"symbolRotate");u.rotation=(k||0)*Math.PI/180||0;var D={};D.showEffectOn=a.get("showEffectOn"),D.rippleScale=c.get(["rippleEffect","scale"]),D.brushType=c.get(["rippleEffect","brushType"]),D.period=1e3*c.get(["rippleEffect","period"]),D.effectOffset=o/e.count(),D.z=a.getShallow("z")||0,D.zlevel=a.getShallow("zlevel")||0,D.symbolType=f,D.color=y,D.rippleEffectColor=c.get(["rippleEffect","color"]),D.rippleNumber=c.get(["rippleEffect","number"]),"render"===D.showEffectOn?(this._effectCfg?this.updateEffectAnimation(D):this.startEffectAnimation(D),this._effectCfg=D):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(A){"emphasis"===A?"render"!==D.showEffectOn&&i.startEffectAnimation(D):"normal"===A&&"render"!==D.showEffectOn&&i.stopEffectAnimation()}),this._effectCfg=D,Ds(this,_.get("focus"),_.get("blurScope"),_.get("disabled"))},t.prototype.fadeOut=function(e){e&&e()},t}(lo),DS=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.init=function(){this._symbolDraw=new tb(ta)},t.prototype.render=function(e,o,i){var a=e.getData(),u=this._symbolDraw;u.updateData(a,{clipShape:this._getClipShape(e)}),this.group.add(u.group)},t.prototype._getClipShape=function(e){var o=e.coordinateSystem,i=o&&o.getArea&&o.getArea();return e.get("clip",!0)?i:null},t.prototype.updateTransform=function(e,o,i){var a=e.getData();this.group.dirty();var u=My("").reset(e,o,i);u.progress&&u.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(e){var o=e.coordinateSystem;o&&o.getRoamTransform&&(this.group.transform=Pa(o.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(e,o){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t}(ma),TD=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return yt(t,n),t.prototype.getInitialData=function(e,o){return Ag(null,this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(e,o,i){return i.point(o.getItemLayout(e))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},t}(ga),II=function(n){function t(e,o,i){var a=n.call(this)||this;return a.add(a.createLine(e,o,i)),a._updateEffectSymbol(e,o),a}return yt(t,n),t.prototype.createLine=function(e,o,i){return new bT(e,o,i)},t.prototype._updateEffectSymbol=function(e,o){var i=e.getItemModel(o).getModel("effect"),a=i.get("symbolSize"),u=i.get("symbol");tt(a)||(a=[a,a]);var c=e.getItemVisual(o,"style"),f=i.get("color")||c&&c.stroke,h=this.childAt(1);this._symbolType!==u&&(this.remove(h),(h=Hu(u,-.5,-.5,1,1,f)).z2=100,h.culling=!0,this.add(h)),h&&(h.setStyle("shadowColor",f),h.setStyle(i.getItemStyle(["color"])),h.scaleX=a[0],h.scaleY=a[1],h.setColor(f),this._symbolType=u,this._symbolScale=a,this._updateEffectAnimation(e,i,o))},t.prototype._updateEffectAnimation=function(e,o,i){var a=this.childAt(1);if(a){var u=e.getItemLayout(i),c=1e3*o.get("period"),f=o.get("loop"),h=o.get("roundTrip"),m=o.get("constantSpeed"),y=ar(o.get("delay"),function(S){return S/e.count()*c/3});if(a.ignore=!0,this._updateAnimationPoints(a,u),m>0&&(c=this._getLineLength(a)/m*1e3),c!==this._period||f!==this._loop||h!==this._roundTrip){a.stopAnimation();var _=void 0;_=hn(y)?y(i):y,a.__t>0&&(_=-c*a.__t),this._animateSymbol(a,c,_,f,h)}this._period=c,this._loop=f,this._roundTrip=h}},t.prototype._animateSymbol=function(e,o,i,a,u){if(o>0){e.__t=0;var c=this,f=e.animate("",a).when(u?2*o:o,{__t:u?2:1}).delay(i).during(function(){c._updateSymbolPosition(e)});a||f.done(function(){c.remove(e)}),f.start()}},t.prototype._getLineLength=function(e){return Kn(e.__p1,e.__cp1)+Kn(e.__cp1,e.__p2)},t.prototype._updateAnimationPoints=function(e,o){e.__p1=o[0],e.__p2=o[1],e.__cp1=o[2]||[(o[0][0]+o[1][0])/2,(o[0][1]+o[1][1])/2]},t.prototype.updateData=function(e,o,i){this.childAt(0).updateData(e,o,i),this._updateEffectSymbol(e,o)},t.prototype._updateSymbolPosition=function(e){var o=e.__p1,i=e.__p2,a=e.__cp1,u=e.__t<1?e.__t:2-e.__t,c=[e.x,e.y],f=c.slice(),h=ns,m=mc;c[0]=h(o[0],a[0],i[0],u),c[1]=h(o[1],a[1],i[1],u);var y=e.__t<1?m(o[0],a[0],i[0],u):m(i[0],a[0],o[0],1-u),_=e.__t<1?m(o[1],a[1],i[1],u):m(i[1],a[1],o[1],1-u);e.rotation=-Math.atan2(_,y)-Math.PI/2,"line"!==this._symbolType&&"rect"!==this._symbolType&&"roundRect"!==this._symbolType||(void 0!==e.__lastT&&e.__lastT<e.__t?(e.scaleY=1.05*Kn(f,c),1===u&&(c[0]=f[0]+(c[0]-f[0])/2,c[1]=f[1]+(c[1]-f[1])/2)):e.scaleY=1===e.__lastT?2*Kn(o,c):this._symbolScale[1]),e.__lastT=e.__t,e.ignore=!1,e.x=c[0],e.y=c[1]},t.prototype.updateLayout=function(e,o){this.childAt(0).updateLayout(e,o);var i=e.getItemModel(o).getModel("effect");this._updateEffectAnimation(e,i,o)},t}(lo),DD=function(n){function t(e,o,i){var a=n.call(this)||this;return a._createPolyline(e,o,i),a}return yt(t,n),t.prototype._createPolyline=function(e,o,i){var a=e.getItemLayout(o),u=new ou({shape:{points:a}});this.add(u),this._updateCommonStl(e,o,i)},t.prototype.updateData=function(e,o,i){var a=e.hostModel;io(this.childAt(0),{shape:{points:e.getItemLayout(o)}},a,o),this._updateCommonStl(e,o,i)},t.prototype._updateCommonStl=function(e,o,i){var a=this.childAt(0),u=e.getItemModel(o),c=i&&i.emphasisLineStyle,f=i&&i.focus,h=i&&i.blurScope,m=i&&i.emphasisDisabled;if(!i||e.hasItemOption){var y=u.getModel("emphasis");c=y.getModel("lineStyle").getLineStyle(),m=y.get("disabled"),f=y.get("focus"),h=y.get("blurScope")}a.useStyle(e.getItemVisual(o,"style")),a.style.fill=null,a.style.strokeNoScale=!0,a.ensureState("emphasis").style=c,Ds(this,f,h,m)},t.prototype.updateLayout=function(e,o){this.childAt(0).setShape("points",e.getItemLayout(o))},t}(lo),OI=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e._lastFrame=0,e._lastFramePercent=0,e}return yt(t,n),t.prototype.createLine=function(e,o,i){return new DD(e,o,i)},t.prototype._updateAnimationPoints=function(e,o){this._points=o;for(var i=[0],a=0,u=1;u<o.length;u++)a+=Kn(o[u-1],o[u]),i.push(a);if(0!==a){for(u=0;u<i.length;u++)i[u]/=a;this._offsets=i,this._length=a}else this._length=0},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(e){var o=e.__t<1?e.__t:2-e.__t,i=this._points,a=this._offsets,u=i.length;if(a){var c,f=this._lastFrame;if(o<this._lastFramePercent){for(c=Math.min(f+1,u-1);c>=0&&!(a[c]<=o);c--);c=Math.min(c,u-2)}else{for(c=f;c<u&&!(a[c]>o);c++);c=Math.min(c-1,u-2)}var h=(o-a[c])/(a[c+1]-a[c]),m=i[c],y=i[c+1];e.x=m[0]*(1-h)+h*y[0],e.y=m[1]*(1-h)+h*y[1],e.rotation=-Math.atan2(e.__t<1?y[1]-m[1]:m[1]-y[1],e.__t<1?y[0]-m[0]:m[0]-y[0])-Math.PI/2,this._lastFrame=c,this._lastFramePercent=o,e.ignore=!1}},t}(II),BR=function(){this.polyline=!1,this.curveness=0,this.segs=[]},EI=function(n){function t(e){var o=n.call(this,e)||this;return o._off=0,o.hoverDataIdx=-1,o}return yt(t,n),t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new BR},t.prototype.buildPath=function(e,o){var i,a=o.segs,u=o.curveness;if(o.polyline)for(i=this._off;i<a.length;){var c=a[i++];if(c>0){e.moveTo(a[i++],a[i++]);for(var f=1;f<c;f++)e.lineTo(a[i++],a[i++])}}else for(i=this._off;i<a.length;){var h=a[i++],m=a[i++],y=a[i++],_=a[i++];e.moveTo(h,m),u>0?e.quadraticCurveTo((h+y)/2-(m-_)*u,(m+_)/2-(y-h)*u,y,_):e.lineTo(y,_)}this.incremental&&(this._off=i,this.notClear=!0)},t.prototype.findDataIndex=function(e,o){var i=this.shape,a=i.segs,u=i.curveness,c=this.style.lineWidth;if(i.polyline)for(var f=0,h=0;h<a.length;){var m=a[h++];if(m>0)for(var y=a[h++],_=a[h++],S=1;S<m;S++)if(Hd(y,_,k=a[h++],D=a[h++],c,e,o))return f;f++}else for(f=0,h=0;h<a.length;){y=a[h++],_=a[h++];var k=a[h++],D=a[h++];if(u>0){if(Rv(y,_,(y+k)/2-(_-D)*u,(_+D)/2-(k-y)*u,k,D,c,e,o))return f}else if(Hd(y,_,k,D,c,e,o))return f;f++}return-1},t.prototype.contain=function(e,o){var i=this.transformCoordToLocal(e,o);return this.getBoundingRect().contain(e=i[0],o=i[1])?(this.hoverDataIdx=this.findDataIndex(e,o))>=0:(this.hoverDataIdx=-1,!1)},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var o=this.shape.segs,i=1/0,a=1/0,u=-1/0,c=-1/0,f=0;f<o.length;){var h=o[f++],m=o[f++];i=Math.min(h,i),u=Math.max(h,u),a=Math.min(m,a),c=Math.max(m,c)}e=this._rect=new To(i,a,u,c)}return e},t}(Do),zR=function(){function n(){this.group=new lo}return n.prototype.updateData=function(t){this._clear();var e=this._create();e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t)},n.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clear()},n.prototype.incrementalUpdate=function(t,e){var o=this._newAdded[0],i=e.getLayout("linesPoints"),a=o&&o.shape.segs;if(a&&a.length<2e4){var u=a.length,c=new Float32Array(u+i.length);c.set(a),c.set(i,u),o.setShape({segs:c})}else{this._newAdded=[];var f=this._create();f.incremental=!0,f.setShape({segs:i}),this._setCommon(f,e),f.__startIndex=t.start}},n.prototype.remove=function(){this._clear()},n.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},n.prototype._create=function(){var t=new EI({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(t),this.group.add(t),t},n.prototype._setCommon=function(t,e,o){var i=e.hostModel;t.setShape({polyline:i.get("polyline"),curveness:i.get(["lineStyle","curveness"])}),t.useStyle(i.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var a=e.getVisual("style");a&&a.stroke&&t.setStyle("stroke",a.stroke),t.setStyle("fill",null);var u=fo(t);u.seriesIndex=i.seriesIndex,t.on("mousemove",function(c){u.dataIndex=null;var f=t.hoverDataIdx;f>0&&(u.dataIndex=f+t.__startIndex)})},n.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},n}(),PI={seriesType:"lines",plan:S0(),reset:function(n){var t=n.coordinateSystem;if(t){var e=n.get("polyline"),o=n.pipelineContext.large;return{progress:function(i,a){var u=[];if(o){var c=void 0,f=i.end-i.start;if(e){for(var h=0,m=i.start;m<i.end;m++)h+=n.getLineCoordsCount(m);c=new Float32Array(f+2*h)}else c=new Float32Array(4*f);var y=0,_=[];for(m=i.start;m<i.end;m++){var S=n.getLineCoords(m,u);e&&(c[y++]=S);for(var k=0;k<S;k++)_=t.dataToPoint(u[k],!1,_),c[y++]=_[0],c[y++]=_[1]}a.setLayout("linesPoints",c)}else for(m=i.start;m<i.end;m++){var D=a.getItemModel(m),A=(S=n.getLineCoords(m,u),[]);if(e)for(var E=0;E<S;E++)A.push(t.dataToPoint(u[E]));else{A[0]=t.dataToPoint(u[0]),A[1]=t.dataToPoint(u[1]);var N=D.get(["lineStyle","curveness"]);+N&&(A[2]=[(A[0][0]+A[1][0])/2-(A[0][1]-A[1][1])*N,(A[0][1]+A[1][1])/2-(A[1][0]-A[0][0])*N])}a.setItemLayout(m,A)}}}}}},ZE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.render=function(e,o,i){var a=e.getData(),u=this._updateLineDraw(a,e),c=e.get("zlevel"),f=e.get(["effect","trailLength"]),h=i.getZr(),m="svg"===h.painter.getType();m||h.painter.getLayer(c).clear(!0),null==this._lastZlevel||m||h.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&f>0&&(m||h.configLayer(c,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(f/10+.9,1),0)})),u.updateData(a);var y=e.get("clip",!0)&&C1(e.coordinateSystem,!1,e);y?this.group.setClipPath(y):this.group.removeClipPath(),this._lastZlevel=c,this._finished=!0},t.prototype.incrementalPrepareRender=function(e,o,i){var a=e.getData();this._updateLineDraw(a,e).incrementalPrepareUpdate(a),this._clearLayer(i),this._finished=!1},t.prototype.incrementalRender=function(e,o,i){this._lineDraw.incrementalUpdate(e,o.getData()),this._finished=e.end===o.getData().count()},t.prototype.eachRendered=function(e){this._lineDraw&&this._lineDraw.eachRendered(e)},t.prototype.updateTransform=function(e,o,i){var a=e.getData(),u=e.pipelineContext;if(!this._finished||u.large||u.progressiveRender)return{update:!0};var c=PI.reset(e,o,i);c.progress&&c.progress({start:0,end:a.count(),count:a.count()},a),this._lineDraw.updateLayout(),this._clearLayer(i)},t.prototype._updateLineDraw=function(e,o){var i=this._lineDraw,a=this._showEffect(o),u=!!o.get("polyline"),c=o.pipelineContext.large;return i&&a===this._hasEffet&&u===this._isPolyline&&c===this._isLargeDraw||(i&&i.remove(),i=this._lineDraw=c?new zR:new sD(u?a?OI:DD:a?II:bT),this._hasEffet=a,this._isPolyline=u,this._isLargeDraw=c),this.group.add(i.group),i},t.prototype._showEffect=function(e){return!!e.get(["effect","show"])},t.prototype._clearLayer=function(e){var o=e.getZr();"svg"===o.painter.getType()||null==this._lastZlevel||o.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(e,o){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(o)},t.prototype.dispose=function(e,o){this.remove(e,o)},t.type="lines",t}(ma),RI="undefined"==typeof Uint32Array?Array:Uint32Array,KE="undefined"==typeof Float64Array?Array:Float64Array;function CT(n){var t=n.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(n.data=It(t,function(e){var o={coords:[e[0].coord,e[1].coord]};return e[0].name&&(o.fromName=e[0].name),e[1].name&&(o.toName=e[1].name),vt([o,e[0],e[1]])}))}var FR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return yt(t,n),t.prototype.init=function(e){e.data=e.data||[],CT(e);var o=this._processFlatCoordsArray(e.data);this._flatCoords=o.flatCoords,this._flatCoordsOffset=o.flatCoordsOffset,o.flatCoords&&(e.data=new Float32Array(o.count)),n.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(e){if(CT(e),e.data){var o=this._processFlatCoordsArray(e.data);this._flatCoords=o.flatCoords,this._flatCoordsOffset=o.flatCoordsOffset,o.flatCoords&&(e.data=new Float32Array(o.count))}n.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(e){var o=this._processFlatCoordsArray(e.data);o.flatCoords&&(this._flatCoords?(this._flatCoords=J(this._flatCoords,o.flatCoords),this._flatCoordsOffset=J(this._flatCoordsOffset,o.flatCoordsOffset)):(this._flatCoords=o.flatCoords,this._flatCoordsOffset=o.flatCoordsOffset),e.data=new Float32Array(o.count)),this.getRawData().appendData(e.data)},t.prototype._getCoordsFromItemModel=function(e){var o=this.getData().getItemModel(e);return o.option instanceof Array?o.option:o.getShallow("coords")},t.prototype.getLineCoordsCount=function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},t.prototype.getLineCoords=function(e,o){if(this._flatCoordsOffset){for(var i=this._flatCoordsOffset[2*e],a=this._flatCoordsOffset[2*e+1],u=0;u<a;u++)o[u]=o[u]||[],o[u][0]=this._flatCoords[i+2*u],o[u][1]=this._flatCoords[i+2*u+1];return a}var c=this._getCoordsFromItemModel(e);for(u=0;u<c.length;u++)o[u]=o[u]||[],o[u][0]=c[u][0],o[u][1]=c[u][1];return c.length},t.prototype._processFlatCoordsArray=function(e){var o=0;if(this._flatCoords&&(o=this._flatCoords.length),hr(e[0])){for(var i=e.length,a=new RI(i),u=new KE(i),c=0,f=0,h=0,m=0;m<i;){h++;var y=e[m++];a[f++]=c+o,a[f++]=y;for(var _=0;_<y;_++){var S=e[m++],k=e[m++];u[c++]=S,u[c++]=k}}return{flatCoordsOffset:new Uint32Array(a.buffer,0,f),flatCoords:u,count:h}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},t.prototype.getInitialData=function(e,o){var i=new uc(["value"],this);return i.hasItemOption=!1,i.initData(e.data,[],function(a,u,c,f){if(a instanceof Array)return NaN;i.hasItemOption=!0;var h=a.value;return null!=h?h instanceof Array?h[f]:h:void 0}),i},t.prototype.formatTooltip=function(e,o,i){var a=this.getData().getItemModel(e),u=a.get("name");if(u)return u;var c=a.get("fromName"),f=a.get("toName"),h=[];return null!=c&&h.push(c),null!=f&&h.push(f),Fl("nameValue",{name:h.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){var e=this.option.progressive;return null==e?this.option.large?1e4:this.get("progressive"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?2e4:this.get("progressiveThreshold"):e},t.prototype.getZLevelKey=function(){var e=this.getModel("effect"),o=e.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:e.get("show")&&o>0?o+"":""},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t}(ga);function AD(n){return n instanceof Array||(n=[n,n]),n}var VR={seriesType:"lines",reset:function(n){var t=AD(n.get("symbol")),e=AD(n.get("symbolSize")),o=n.getData();return o.setVisual("fromSymbol",t&&t[0]),o.setVisual("toSymbol",t&&t[1]),o.setVisual("fromSymbolSize",e&&e[0]),o.setVisual("toSymbolSize",e&&e[1]),{dataEach:o.hasItemOption?function(i,a){var u=i.getItemModel(a),c=AD(u.getShallow("symbol",!0)),f=AD(u.getShallow("symbolSize",!0));c[0]&&i.setItemVisual(a,"fromSymbol",c[0]),c[1]&&i.setItemVisual(a,"toSymbol",c[1]),f[0]&&i.setItemVisual(a,"fromSymbolSize",f[0]),f[1]&&i.setItemVisual(a,"toSymbolSize",f[1])}:null}}},HR=function(){function n(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=ne.createCanvas();this.canvas=t}return n.prototype.update=function(t,e,o,i,a,u){var c=this._getBrush(),f=this._getGradient(a,"inRange"),h=this._getGradient(a,"outOfRange"),m=this.pointSize+this.blurSize,y=this.canvas,_=y.getContext("2d"),S=t.length;y.width=e,y.height=o;for(var k=0;k<S;++k){var D=t[k],A=D[0],E=D[1],N=i(D[2]);_.globalAlpha=N,_.drawImage(c,A-m,E-m)}if(!y.width||!y.height)return y;for(var z=_.getImageData(0,0,y.width,y.height),F=z.data,q=0,X=F.length,ee=this.minOpacity,ie=this.maxOpacity-ee;q<X;){N=F[q+3]/256;var ye=4*Math.floor(255*N);if(N>0){var _e=u(N)?f:h;N>0&&(N=N*ie+ee),F[q++]=_e[ye],F[q++]=_e[ye+1],F[q++]=_e[ye+2],F[q++]=_e[ye+3]*N*256}else q+=4}return _.putImageData(z,0,0),y},n.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=ne.createCanvas()),e=this.pointSize+this.blurSize,o=2*e;t.width=o,t.height=o;var i=t.getContext("2d");return i.clearRect(0,0,o,o),i.shadowOffsetX=o,i.shadowBlur=this.blurSize,i.shadowColor="#000",i.beginPath(),i.arc(-e,e,this.pointSize,0,2*Math.PI,!0),i.closePath(),i.fill(),t},n.prototype._getGradient=function(t,e){for(var o=this._gradientPixels,i=o[e]||(o[e]=new Uint8ClampedArray(1024)),a=[0,0,0,0],u=0,c=0;c<256;c++)t[e](c/255,!0,a),i[u++]=a[0],i[u++]=a[1],i[u++]=a[2],i[u++]=a[3];return i},n}();function $E(n){var t=n.dimensions;return"lng"===t[0]&&"lat"===t[1]}var WR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.render=function(e,o,i){var a;o.eachComponent("visualMap",function(c){c.eachTargetSeries(function(f){f===e&&(a=c)})}),this._progressiveEls=null,this.group.removeAll();var u=e.coordinateSystem;"cartesian2d"===u.type||"calendar"===u.type?this._renderOnCartesianAndCalendar(e,i,0,e.getData().count()):$E(u)&&this._renderOnGeo(u,e,a,i)},t.prototype.incrementalPrepareRender=function(e,o,i){this.group.removeAll()},t.prototype.incrementalRender=function(e,o,i,a){var u=o.coordinateSystem;u&&($E(u)?this.render(o,i,a):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(o,a,e.start,e.end,!0)))},t.prototype.eachRendered=function(e){Vu(this._progressiveEls||this.group,e)},t.prototype._renderOnCartesianAndCalendar=function(e,o,i,a,u){var c,f,h,m,y=e.coordinateSystem,_=rb(y,"cartesian2d");if(_){var S=y.getAxis("x"),k=y.getAxis("y");c=S.getBandWidth()+.5,f=k.getBandWidth()+.5,h=S.scale.getExtent(),m=k.scale.getExtent()}for(var D=this.group,A=e.getData(),E=e.getModel(["emphasis","itemStyle"]).getItemStyle(),N=e.getModel(["blur","itemStyle"]).getItemStyle(),z=e.getModel(["select","itemStyle"]).getItemStyle(),F=e.get(["itemStyle","borderRadius"]),q=Aa(e),X=e.getModel("emphasis"),ee=X.get("focus"),ie=X.get("blurScope"),ye=X.get("disabled"),_e=_?[A.mapDimension("x"),A.mapDimension("y"),A.mapDimension("value")]:[A.mapDimension("time"),A.mapDimension("value")],Se=i;Se<a;Se++){var Ae=void 0,Fe=A.getItemVisual(Se,"style");if(_){var Xe=A.get(_e[0],Se),nt=A.get(_e[1],Se);if(isNaN(A.get(_e[2],Se))||isNaN(Xe)||isNaN(nt)||Xe<h[0]||Xe>h[1]||nt<m[0]||nt>m[1])continue;var it=y.dataToPoint([Xe,nt]);Ae=new oi({shape:{x:it[0]-c/2,y:it[1]-f/2,width:c,height:f},style:Fe})}else{if(isNaN(A.get(_e[1],Se)))continue;Ae=new oi({z2:1,shape:y.dataToRect([A.get(_e[0],Se)]).contentShape,style:Fe})}if(A.hasItemOption){var ut=A.getItemModel(Se),mt=ut.getModel("emphasis");E=mt.getModel("itemStyle").getItemStyle(),N=ut.getModel(["blur","itemStyle"]).getItemStyle(),z=ut.getModel(["select","itemStyle"]).getItemStyle(),F=ut.get(["itemStyle","borderRadius"]),ee=mt.get("focus"),ie=mt.get("blurScope"),ye=mt.get("disabled"),q=Aa(ut)}Ae.shape.r=F;var Ot=e.getRawValue(Se),Pt="-";Ot&&null!=Ot[2]&&(Pt=Ot[2]+""),Da(Ae,q,{labelFetcher:e,labelDataIndex:Se,defaultOpacity:Fe.opacity,defaultText:Pt}),Ae.ensureState("emphasis").style=E,Ae.ensureState("blur").style=N,Ae.ensureState("select").style=z,Ds(Ae,ee,ie,ye),Ae.incremental=u,u&&(Ae.states.emphasis.hoverLayer=!0),D.add(Ae),A.setItemGraphicEl(Se,Ae),this._progressiveEls&&this._progressiveEls.push(Ae)}},t.prototype._renderOnGeo=function(e,o,i,a){var u=i.targetVisuals.inRange,c=i.targetVisuals.outOfRange,f=o.getData(),h=this._hmLayer||this._hmLayer||new HR;h.blurSize=o.get("blurSize"),h.pointSize=o.get("pointSize"),h.minOpacity=o.get("minOpacity"),h.maxOpacity=o.get("maxOpacity");var m=e.getViewRect().clone(),y=e.getRoamTransform();m.applyTransform(y);var ee,ie,ye,_=Math.max(m.x,0),S=Math.max(m.y,0),k=Math.min(m.width+m.x,a.getWidth()),D=Math.min(m.height+m.y,a.getHeight()),A=k-_,E=D-S,N=[f.mapDimension("lng"),f.mapDimension("lat"),f.mapDimension("value")],z=f.mapArray(N,function(ee,ie,ye){var _e=e.dataToPoint([ee,ie]);return _e[0]-=_,_e[1]-=S,_e.push(ye),_e}),F=i.getExtent(),q="visualMap.continuous"===i.type?(ie=[((ie=i.option.range)[0]-(ee=F)[0])/(ye=ee[1]-ee[0]),(ie[1]-ee[0])/ye],function(_e){return _e>=ie[0]&&_e<=ie[1]}):function(ee,ie,ye){var _e=ee[1]-ee[0],Se=(ie=It(ie,function(Fe){return{interval:[(Fe.interval[0]-ee[0])/_e,(Fe.interval[1]-ee[0])/_e]}})).length,Ae=0;return function(Fe){var Xe;for(Xe=Ae;Xe<Se;Xe++)if((nt=ie[Xe].interval)[0]<=Fe&&Fe<=nt[1]){Ae=Xe;break}if(Xe===Se)for(Xe=Ae-1;Xe>=0;Xe--){var nt;if((nt=ie[Xe].interval)[0]<=Fe&&Fe<=nt[1]){Ae=Xe;break}}return Xe>=0&&Xe<Se&&ye[Xe]}}(F,i.getPieceList(),i.option.selected);h.update(z,A,E,u.color.getNormalizer(),{inRange:u.color.getColorMapper(),outOfRange:c.color.getColorMapper()},q);var X=new bu({style:{width:A,height:E,x:_,y:S,image:h.canvas},silent:!0});this.group.add(X)},t.type="heatmap",t}(ma),GR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.getInitialData=function(e,o){return Ag(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var e=Wa.get(this.get("coordinateSystem"));if(e&&e.dimensions)return"lng"===e.dimensions[0]&&"lat"===e.dimensions[1]},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}(ga),UR=["itemStyle","borderWidth"],LI=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],ID=new Kc,JE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.render=function(e,o,i){var a=this.group,u=e.getData(),c=this._data,f=e.coordinateSystem,h=f.getBaseAxis().isHorizontal(),m=f.master.getRect(),y={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:e,coordSys:f,coordSysExtent:[[m.x,m.x+m.width],[m.y,m.y+m.height]],isHorizontal:h,valueDim:LI[+h],categoryDim:LI[1-+h]};return u.diff(c).add(function(_){if(u.hasValue(_)){var S=HI(u,_),k=NI(u,_,S,y),D=WI(u,y,k);u.setItemGraphicEl(_,D),a.add(D),jI(D,y,k)}}).update(function(_,S){var N,z,F,k=c.getItemGraphicEl(S);if(u.hasValue(_)){var D=HI(u,_),A=NI(u,_,D,y),E=UI(u,A);k&&E!==k.__pictorialShapeStr&&(a.remove(k),u.setItemGraphicEl(_,null),k=null),k?(z=y,io((N=k).__pictorialBundle,{x:(F=A).bundlePosition[0],y:F.bundlePosition[1]},F.animationModel,F.dataIndex),F.symbolRepeat?ED(N,z,F,!0):zI(N,0,F,!0),FI(N,F,!0),VI(N,z,F,!0)):k=WI(u,y,A,!0),u.setItemGraphicEl(_,k),k.__pictorialSymbolMeta=A,a.add(k),jI(k,y,A)}else a.remove(k)}).remove(function(_){var S=c.getItemGraphicEl(_);S&&GI(c,_,S.__pictorialSymbolMeta.animationModel,S)}).execute(),this._data=u,this.group},t.prototype.remove=function(e,o){var i=this.group,a=this._data;e.get("animation")?a&&a.eachItemGraphicEl(function(u){GI(a,fo(u).dataIndex,e,u)}):i.removeAll()},t.type="pictorialBar",t}(ma);function NI(n,t,e,o){var k,D,E,z,F,q,X,ee,ie,ye,_e,Se,Ae,i=n.getItemLayout(t),a=e.get("symbolRepeat"),u=e.get("symbolClip"),c=e.get("symbolPosition")||"start",f=(e.get("symbolRotate")||0)*Math.PI/180||0,h=e.get("symbolPatternSize")||2,m=e.isAnimationEnabled(),y={dataIndex:t,layout:i,itemModel:e,symbolType:n.getItemVisual(t,"symbol")||"circle",style:n.getItemVisual(t,"style"),symbolClip:u,symbolRepeat:a,symbolRepeatDirection:e.get("symbolRepeatDirection"),symbolPatternSize:h,rotation:f,animationModel:m?e:null,hoverScale:m&&e.get(["emphasis","scale"]),z2:e.getShallow("z",!0)||0};(function(k,D,A,E,N){var z,F=E.valueDim,q=k.get("symbolBoundingData"),X=E.coordSys.getOtherAxis(E.coordSys.getBaseAxis()),ee=X.toGlobalCoord(X.dataToCoord(0)),ie=1-+(A[F.wh]<=0);if(tt(q)){var ye=[OD(X,q[0])-ee,OD(X,q[1])-ee];ye[1]<ye[0]&&ye.reverse(),z=ye[ie]}else z=null!=q?OD(X,q)-ee:D?E.coordSysExtent[F.index][ie]-ee:A[F.wh];N.boundingLength=z,D&&(N.repeatCutLength=A[F.wh]),N.pxSign=z>0?1:-1})(e,a,i,o,y),k=n,D=t,E=a,z=y.boundingLength,F=y.pxSign,q=h,ee=y,ye=(X=o).valueDim,_e=X.categoryDim,Se=Math.abs(i[_e.wh]),(ie=tt(Ae=k.getItemVisual(D,"symbolSize"))?Ae.slice():null==Ae?["100%","100%"]:[Ae,Ae])[_e.index]=Qn(ie[_e.index],Se),ie[ye.index]=Qn(ie[ye.index],E?Se:Math.abs(z)),ee.symbolSize=ie,(ee.symbolScale=[ie[0]/q,ie[1]/q])[ye.index]*=(X.isHorizontal?-1:1)*F,function(k,D,A,E,N){var z=k.get(UR)||0;z&&(ID.attr({scaleX:D[0],scaleY:D[1],rotation:A}),ID.updateTransform(),z/=ID.getLineScale(),z*=D[E.valueDim.index]),N.valueLineWidth=z||0}(e,y.symbolScale,f,o,y);var _=y.symbolSize,S=Zb(e.get("symbolOffset"),_);return function(k,D,A,E,N,z,F,q,X,ee,ie,ye){var _e=ie.categoryDim,Se=ie.valueDim,Ae=ye.pxSign,Fe=Math.max(D[Se.index]+q,0),Xe=Fe;if(E){var nt=Math.abs(X),it=ar(k.get("symbolMargin"),"15%")+"",ut=!1;it.lastIndexOf("!")===it.length-1&&(ut=!0,it=it.slice(0,it.length-1));var mt=Qn(it,D[Se.index]),Ot=Math.max(Fe+2*mt,0),Pt=ut?0:2*mt,Gt=qi(E),kn=Gt?E:qI((nt+Pt)/Ot);Ot=Fe+2*(mt=(nt-kn*Fe)/2/(ut?kn:Math.max(kn-1,1))),Pt=ut?0:2*mt,Gt||"fixed"===E||(kn=ee?qI((Math.abs(ee)+Pt)/Ot):0),Xe=kn*Ot-Pt,ye.repeatTimes=kn,ye.symbolMargin=mt}var tr=Ae*(Xe/2),Xt=ye.pathPosition=[];Xt[_e.index]=A[_e.wh]/2,Xt[Se.index]="start"===F?tr:"end"===F?X-tr:X/2,z&&(Xt[0]+=z[0],Xt[1]+=z[1]);var zn=ye.bundlePosition=[];zn[_e.index]=A[_e.xy],zn[Se.index]=A[Se.xy];var gr=ye.barRectShape=Pe({},A);gr[Se.wh]=Ae*Math.max(Math.abs(A[Se.wh]),Math.abs(Xt[Se.index]+tr)),gr[_e.wh]=A[_e.wh];var dr=ye.clipShape={};dr[_e.xy]=-A[_e.xy],dr[_e.wh]=ie.ecSize[_e.wh],dr[Se.xy]=0,dr[Se.wh]=A[Se.wh]}(e,_,i,a,0,S,c,y.valueLineWidth,y.boundingLength,y.repeatCutLength,o,y),y}function OD(n,t){return n.toGlobalCoord(n.dataToCoord(n.scale.parse(t)))}function BI(n){var t=n.symbolPatternSize,e=Hu(n.symbolType,-t/2,-t/2,t,t);return e.attr({culling:!0}),"image"!==e.type&&e.setStyle({strokeNoScale:!0}),e}function ED(n,t,e,o){var i=n.__pictorialBundle,c=e.pathPosition,f=t.valueDim,h=e.repeatTimes||0,m=0,y=e.symbolSize[t.valueDim.index]+e.valueLineWidth+2*e.symbolMargin;for(PD(n,function(D){D.__pictorialAnimationIndex=m,D.__pictorialRepeatTimes=h,m<h?Tk(D,null,k(m),e,o):Tk(D,null,{scaleX:0,scaleY:0},e,o,function(){i.remove(D)}),m++});m<h;m++){var _=BI(e);_.__pictorialAnimationIndex=m,_.__pictorialRepeatTimes=h,i.add(_);var S=k(m);Tk(_,{x:S.x,y:S.y,scaleX:0,scaleY:0},{scaleX:S.scaleX,scaleY:S.scaleY,rotation:S.rotation},e,o)}function k(D){var A=c.slice(),E=e.pxSign,N=D;return("start"===e.symbolRepeatDirection?E>0:E<0)&&(N=h-1-D),A[f.index]=y*(N-h/2+.5)+c[f.index],{x:A[0],y:A[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation}}}function zI(n,t,e,o){var i=n.__pictorialBundle,a=n.__pictorialMainPath;a?Tk(a,null,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation},e,o):(a=n.__pictorialMainPath=BI(e),i.add(a),Tk(a,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:0,scaleY:0,rotation:e.rotation},{scaleX:e.symbolScale[0],scaleY:e.symbolScale[1]},e,o))}function FI(n,t,e){var o=Pe({},t.barRectShape),i=n.__pictorialBarRect;i?Tk(i,null,{shape:o},t,e):((i=n.__pictorialBarRect=new oi({z2:2,shape:o,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,n.add(i))}function VI(n,t,e,o){if(e.symbolClip){var i=n.__pictorialClipPath,a=Pe({},e.clipShape),u=t.valueDim,c=e.animationModel,f=e.dataIndex;if(i)io(i,{shape:a},c,f);else{a[u.wh]=0,i=new oi({shape:a}),n.__pictorialBundle.setClipPath(i),n.__pictorialClipPath=i;var h={};h[u.wh]=e.clipShape[u.wh],lg[o?"updateProps":"initProps"](i,{shape:h},c,f)}}}function HI(n,t){var e=n.getItemModel(t);return e.getAnimationDelayParams=QE,e.isAnimationEnabled=eP,e}function QE(n){return{index:n.__pictorialAnimationIndex,count:n.__pictorialRepeatTimes}}function eP(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function WI(n,t,e,o){var i=new lo,a=new lo;return i.add(a),i.__pictorialBundle=a,a.x=e.bundlePosition[0],a.y=e.bundlePosition[1],e.symbolRepeat?ED(i,t,e):zI(i,0,e),FI(i,e,o),VI(i,t,e,o),i.__pictorialShapeStr=UI(n,e),i.__pictorialSymbolMeta=e,i}function GI(n,t,e,o){var i=o.__pictorialBarRect;i&&i.removeTextContent();var a=[];PD(o,function(u){a.push(u)}),o.__pictorialMainPath&&a.push(o.__pictorialMainPath),o.__pictorialClipPath&&(e=null),Te(a,function(u){gp(u,{scaleX:0,scaleY:0},e,t,function(){o.parent&&o.parent.remove(o)})}),n.setItemGraphicEl(t,null)}function UI(n,t){return[n.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function PD(n,t,e){Te(n.__pictorialBundle.children(),function(o){o!==n.__pictorialBarRect&&t.call(e,o)})}function Tk(n,t,e,o,i,a){t&&n.attr(t),o.symbolClip&&!i?e&&n.attr(e):e&&lg[i?"updateProps":"initProps"](n,e,o.animationModel,o.dataIndex,a)}function jI(n,t,e){var o=e.dataIndex,i=e.itemModel,a=i.getModel("emphasis"),u=a.getModel("itemStyle").getItemStyle(),c=i.getModel(["blur","itemStyle"]).getItemStyle(),f=i.getModel(["select","itemStyle"]).getItemStyle(),h=i.getShallow("cursor"),m=a.get("focus"),y=a.get("blurScope"),_=a.get("scale");PD(n,function(k){if(k instanceof bu){var D=k.style;k.useStyle(Pe({image:D.image,x:D.x,y:D.y,width:D.width,height:D.height},e.style))}else k.useStyle(e.style);var A=k.ensureState("emphasis");A.style=u,_&&(A.scaleX=1.1*k.scaleX,A.scaleY=1.1*k.scaleY),k.ensureState("blur").style=c,k.ensureState("select").style=f,h&&(k.cursor=h),k.z2=e.z2});var S=t.valueDim.posDesc[+(e.boundingLength>0)];Da(n.__pictorialBarRect,Aa(i),{labelFetcher:t.seriesModel,labelDataIndex:o,defaultText:sf(t.seriesModel.getData(),o),inheritColor:e.style.fill,defaultOpacity:e.style.opacity,defaultOutsidePosition:S}),Ds(n,m,y,a.get("disabled"))}function qI(n){var t=Math.round(n);return Math.abs(n-t)<1e-4?t:Math.ceil(n)}var YI=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e.defaultSymbol="roundRect",e}return yt(t,n),t.prototype.getInitialData=function(e){return e.stack=null,n.prototype.getInitialData.apply(this,arguments)},t.type="series.pictorialBar",t.dependencies=["grid"],t.defaultOption=Xd(f_.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),t}(f_),tP=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._layers=[],e}return yt(t,n),t.prototype.render=function(e,o,i){var a=e.getData(),u=this,c=this.group,f=e.getLayerSeries(),h=a.getLayout("layoutInfo"),m=h.rect,y=h.boundaryGap;function _(A){return A.name}c.x=0,c.y=m.y+y[0];var S=new Tp(this._layersSeries||[],f,_,_),k=[];function D(A,E,N){var Ot,Pt,kn,z=u._layers;if("remove"!==A){for(var F,q,X=[],ee=[],ie=f[E].indices,ye=0;ye<ie.length;ye++){var _e=a.getItemLayout(ie[ye]),Se=_e.x,Ae=_e.y0,Fe=_e.y;X.push(Se,Ae),ee.push(Se,Ae+Fe),F=a.getItemVisual(ie[ye],"style")}var Xe=a.getItemLayout(ie[0]),nt=e.getModel("label").get("margin"),it=e.getModel("emphasis");if("add"===A){var ut=k[E]=new lo;q=new Ep({shape:{points:X,stackedOnPoints:ee,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),ut.add(q),c.add(ut),e.isAnimationEnabled()&&q.setClipPath((Ot=q.getBoundingRect(),Pt=e,_a(kn=new oi({shape:{x:Ot.x-10,y:Ot.y-10,width:0,height:Ot.height+20}}),{shape:{x:Ot.x-50,width:Ot.width+100,height:Ot.height+20}},Pt,function(){q.removeClipPath()}),kn))}else q=(ut=z[N]).childAt(0),c.add(ut),k[E]=ut,io(q,{shape:{points:X,stackedOnPoints:ee}},e),Df(q);Da(q,Aa(e),{labelDataIndex:ie[ye-1],defaultText:a.getName(ie[ye-1]),inheritColor:F.fill},{normal:{verticalAlign:"middle"}}),q.setTextConfig({position:null,local:!0});var mt=q.getTextContent();mt&&(mt.x=Xe.x-nt,mt.y=Xe.y0+Xe.y/2),q.useStyle(F),a.setItemGraphicEl(E,q),Fu(q,e),Ds(q,it.get("focus"),it.get("blurScope"),it.get("disabled"))}else c.remove(z[E])}S.add(Bn(D,this,"add")).update(Bn(D,this,"update")).remove(Bn(D,this,"remove")).execute(),this._layersSeries=f,this._layers=k},t.type="themeRiver",t}(ma),nP=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.init=function(e){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new d(Bn(this.getData,this),Bn(this.getRawData,this))},t.prototype.fixData=function(e){var o=e.length,i={},a=np(e,function(_){return i.hasOwnProperty(_[0]+"")||(i[_[0]+""]=-1),_[2]}),u=[];a.buckets.each(function(_,S){u.push({name:S,dataList:_})});for(var c=u.length,f=0;f<c;++f){for(var h=u[f].name,m=0;m<u[f].dataList.length;++m)i[y=u[f].dataList[m][0]+""]=f;for(var y in i)i.hasOwnProperty(y)&&i[y]!==f&&(i[y]=f,e[o]=[y,0,h],o++)}return e},t.prototype.getInitialData=function(e,o){for(var i=this.getReferringComponents("singleAxis",vu).models[0].get("type"),a=Lr(e.data,function(S){return void 0!==S[2]}),u=this.fixData(a||[]),c=[],f=this.nameMap=Ir(),h=0,m=0;m<u.length;++m)c.push(u[m][2]),f.get(u[m][2])||(f.set(u[m][2],h),h++);var y=Ym(u,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:Iw(i)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,_=new uc(y,this);return _.initData(u),_},t.prototype.getLayerSeries=function(){for(var e=this.getData(),o=e.count(),i=[],a=0;a<o;++a)i[a]=a;var u=e.mapDimension("single"),c=np(i,function(h){return e.get("name",h)}),f=[];return c.buckets.each(function(h,m){h.sort(function(y,_){return e.get(u,y)-e.get(u,_)}),f.push({name:m,indices:h})}),f},t.prototype.getAxisTooltipData=function(e,o,i){tt(e)||(e=e?[e]:[]);for(var a,u=this.getData(),c=this.getLayerSeries(),f=[],h=c.length,m=0;m<h;++m){for(var y=Number.MAX_VALUE,_=-1,S=c[m].indices.length,k=0;k<S;++k){var D=u.get(e[0],c[m].indices[k]),A=Math.abs(D-o);A<=y&&(a=D,y=A,_=c[m].indices[k])}f.push(_)}return{dataIndices:f,nestestValue:a}},t.prototype.formatTooltip=function(e,o,i){var a=this.getData();return Fl("nameValue",{name:a.getName(e),value:a.get(a.mapDimension("value"),e)})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t}(ga);function jR(n,t){n.eachSeriesByType("themeRiver",function(e){var o=e.getData(),i=e.coordinateSystem,a={},u=i.getRect();a.rect=u;var c=e.get("boundaryGap"),f=i.getAxis();a.boundaryGap=c,"horizontal"===f.orient?(c[0]=Qn(c[0],u.height),c[1]=Qn(c[1],u.height),rP(o,e,u.height-c[0]-c[1])):(c[0]=Qn(c[0],u.width),c[1]=Qn(c[1],u.width),rP(o,e,u.width-c[0]-c[1])),o.setLayout("layoutInfo",a)})}function rP(n,t,e){if(n.count())for(var o,i=t.coordinateSystem,a=t.getLayerSeries(),u=n.mapDimension("single"),c=n.mapDimension("value"),f=It(a,function(A){return It(A.indices,function(E){var N=i.dataToPoint(n.get(u,E));return N[1]=n.get(c,E),N})}),h=function(A){for(var E=A.length,N=A[0].length,z=[],F=[],q=0,X=0;X<N;++X){for(var ee=0,ie=0;ie<E;++ie)ee+=A[ie][X][1];ee>q&&(q=ee),z.push(ee)}for(var ye=0;ye<N;++ye)F[ye]=(q-z[ye])/2;q=0;for(var _e=0;_e<N;++_e){var Se=z[_e]+F[_e];Se>q&&(q=Se)}return{y0:F,max:q}}(f),m=h.y0,y=e/h.max,_=a.length,S=a[0].indices.length,k=0;k<S;++k){n.setItemLayout(a[0].indices[k],{layerIndex:0,x:f[0][k][0],y0:o=m[k]*y,y:f[0][k][1]*y});for(var D=1;D<_;++D)n.setItemLayout(a[D].indices[k],{layerIndex:D,x:f[D][k][0],y0:o+=f[D-1][k][1]*y,y:f[D][k][1]*y})}}var oP=function(n){function t(e,o,i,a){var u=n.call(this)||this;u.z2=2,u.textConfig={inside:!0},fo(u).seriesIndex=o.seriesIndex;var c=new li({z2:4,silent:e.getModel().get(["label","silent"])});return u.setTextContent(c),u.updateData(!0,e,o,i,a),u}return yt(t,n),t.prototype.updateData=function(e,o,i,a,u){this.node=o,o.piece=this,i=i||this._seriesModel,a=a||this._ecModel;var c=this;fo(c).dataIndex=o.dataIndex;var f=o.getModel(),h=f.getModel("emphasis"),m=o.getLayout(),y=Pe({},m);y.label=null;var _=o.getVisual("style");_.lineJoin="bevel";var S=o.getVisual("decal");S&&(_.decal=$a(S,u));var k=oh(f.getModel("itemStyle"),y,!0);Pe(y,k),Te(Va,function(E){var N=c.ensureState(E),z=f.getModel([E,"itemStyle"]);N.style=z.getItemStyle();var F=oh(z,y);F&&(N.shape=F)}),e?(c.setShape(y),c.shape.r=m.r0,_a(c,{shape:{r:m.r}},i,o.dataIndex)):(io(c,{shape:y},i),Df(c)),c.useStyle(_),this._updateLabel(i);var D=f.getShallow("cursor");D&&c.attr("cursor",D),this._seriesModel=i||this._seriesModel,this._ecModel=a||this._ecModel;var A=h.get("focus");Ds(this,"ancestor"===A?o.getAncestorsIndices():"descendant"===A?o.getDescendantIndices():A,h.get("blurScope"),h.get("disabled"))},t.prototype._updateLabel=function(e){var o=this,i=this.node.getModel(),a=i.getModel("label"),u=this.node.getLayout(),c=u.endAngle-u.startAngle,f=(u.startAngle+u.endAngle)/2,h=Math.cos(f),m=Math.sin(f),y=this,_=y.getTextContent(),S=this.node.dataIndex,k=a.get("minAngle")/180*Math.PI,D=a.get("show")&&!(null!=k&&Math.abs(c)<k);function A(E,N){var z=E.get(N);return null==z?a.get(N):z}_.ignore=!D,Te(Qp,function(E){var N=i.getModel("normal"===E?"label":[E,"label"]),z="normal"===E,F=z?_:_.ensureState(E),q=e.getFormattedLabel(S,E);z&&(q=q||o.node.name),F.style=yi(N,{},null,"normal"!==E,!0),q&&(F.style.text=q);var X=N.get("show");null==X||z||(F.ignore=!X);var ee,ie=A(N,"position"),ye=z?y:y.states[E],_e=ye.style.fill;ye.textConfig={outsideFill:"inherit"===N.get("color")?_e:null,inside:"outside"!==ie};var Se=A(N,"distance")||0,Ae=A(N,"align");"outside"===ie?(ee=u.r+Se,Ae=f>Math.PI/2?"right":"left"):Ae&&"center"!==Ae?"left"===Ae?(ee=u.r0+Se,f>Math.PI/2&&(Ae="right")):"right"===Ae&&(ee=u.r-Se,f>Math.PI/2&&(Ae="left")):(ee=c===2*Math.PI&&0===u.r0?0:(u.r+u.r0)/2,Ae="center"),F.style.align=Ae,F.style.verticalAlign=A(N,"verticalAlign")||"middle",F.x=ee*h+u.cx,F.y=ee*m+u.cy;var Fe=A(N,"rotate"),Xe=0;"radial"===Fe?(Xe=Fa(-f))>Math.PI/2&&Xe<1.5*Math.PI&&(Xe+=Math.PI):"tangential"===Fe?(Xe=Math.PI/2-f)>Math.PI/2?Xe-=Math.PI:Xe<-Math.PI/2&&(Xe+=Math.PI):hr(Fe)&&(Xe=Fe*Math.PI/180),F.rotation=Xe}),_.dirtyStyle()},t}(Ll),XI="sunburstRootToNode",iP="sunburstHighlight",aP=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.render=function(e,o,i,a){var u=this;this.seriesModel=e,this.api=i,this.ecModel=o;var k,D,c=e.getData(),f=c.tree.root,h=e.getViewRoot(),m=this.group,y=e.get("renderLabelForZeroData"),_=[];h.eachNode(function(k){_.push(k)}),function(k,D){function A(N){return N.getId()}function E(N,z){!function(F,q){if(y||!F||F.getValue()||(F=null),F!==f&&q!==f)if(q&&q.piece)F?(q.piece.updateData(!1,F,e,o,i),c.setItemGraphicEl(F.dataIndex,q.piece)):!(ee=q)||ee.piece&&(m.remove(ee.piece),ee.piece=null);else if(F){var X=new oP(F,e,o,i);m.add(X),c.setItemGraphicEl(F.dataIndex,X)}var ee}(null==N?null:k[N],null==z?null:D[z])}0===k.length&&0===D.length||new Tp(D,k,A,A).add(E).update(E).remove(cr(E,null)).execute()}(_,this._oldChildren||[]),k=f,(D=h).depth>0?(u.virtualPiece?u.virtualPiece.updateData(!1,k,e,o,i):(u.virtualPiece=new oP(k,e,o,i),m.add(u.virtualPiece)),D.piece.off("click"),u.virtualPiece.on("click",function(A){u._rootToNode(D.parentNode)})):u.virtualPiece&&(m.remove(u.virtualPiece),u.virtualPiece=null),this._initEvents(),this._oldChildren=_},t.prototype._initEvents=function(){var e=this;this.group.off("click"),this.group.on("click",function(o){var i=!1;e.seriesModel.getViewRoot().eachNode(function(a){if(!i&&a.piece&&a.piece===o.target){var u=a.getModel().get("nodeClick");if("rootToNode"===u)e._rootToNode(a);else if("link"===u){var c=a.getModel(),f=c.get("link");f&&yg(f,c.get("target",!0)||"_blank")}i=!0}})})},t.prototype._rootToNode=function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:XI,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},t.prototype.containPoint=function(e,o){var i=o.getData().getItemLayout(0);if(i){var a=e[0]-i.cx,u=e[1]-i.cy,c=Math.sqrt(a*a+u*u);return c<=i.r&&c>=i.r0}},t.type="sunburst",t}(ma),qR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.ignoreStyleOnData=!0,e}return yt(t,n),t.prototype.getInitialData=function(e,o){var i={name:e.name,children:e.data};RD(i);var a=this._levelModels=It(e.levels||[],function(c){return new Pi(c,this,o)},this),u=_A.createTree(i,this,function(c){c.wrapMethod("getItemModel",function(f,h){var m=u.getNodeByDataIndex(h),y=a[m.depth];return y&&(f.parentModel=y),f})});return u.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(e){var o=n.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return o.treePathInfo=lT(i,this),o},t.prototype.getLevelModel=function(e){return this._levelModels&&this._levelModels[e.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var o=this.getRawData().tree.root;e&&(e===o||o.contains(e))||(this._viewRoot=o)},t.prototype.enableAriaDecal=function(){kA(this)},t.type="series.sunburst",t.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t}(ga);function RD(n){var t=0;Te(n.children,function(o){RD(o);var i=o.value;tt(i)&&(i=i[0]),t+=i});var e=n.value;tt(e)&&(e=e[0]),(null==e||isNaN(e))&&(e=t),e<0&&(e=0),tt(n.value)?n.value[0]=e:n.value=e}var sP=Math.PI/180;function l(n,t,e){t.eachSeriesByType(n,function(o){var i=o.get("center"),a=o.get("radius");tt(a)||(a=[0,a]),tt(i)||(i=[i,i]);var u=e.getWidth(),c=e.getHeight(),f=Math.min(u,c),h=Qn(i[0],u),m=Qn(i[1],c),y=Qn(a[0],f/2),_=Qn(a[1],f/2),S=-o.get("startAngle")*sP,k=o.get("minAngle")*sP,D=o.getData().tree.root,A=o.getViewRoot(),E=A.depth,N=o.get("sort");null!=N&&p(A,N);var z=0;Te(A.children,function(it){!isNaN(it.getValue())&&z++});var F=A.getValue(),q=Math.PI/(F||z)*2,X=A.depth>0,ie=(_-y)/(A.height-(X?-1:1)||1),ye=o.get("clockwise"),_e=o.get("stillShowZeroSum"),Se=ye?1:-1,Ae=function(it,ut){if(it){var mt=ut;if(it!==D){var Ot=it.getValue(),Pt=0===F&&_e?q:Ot*q;Pt<k&&(Pt=k),mt=ut+Se*Pt;var Gt=it.depth-E-(X?-1:1),kn=y+ie*Gt,tr=y+ie*(Gt+1),Xt=o.getLevelModel(it);if(Xt){var zn=Xt.get("r0",!0),gr=Xt.get("r",!0),dr=Xt.get("radius",!0);null!=dr&&(zn=dr[0],gr=dr[1]),null!=zn&&(kn=Qn(zn,f/2)),null!=gr&&(tr=Qn(gr,f/2))}it.setLayout({angle:Pt,startAngle:ut,endAngle:mt,clockwise:ye,cx:h,cy:m,r0:kn,r:tr})}if(it.children&&it.children.length){var nr=0;Te(it.children,function(br){nr+=Ae(br,ut+nr)})}return mt-ut}};if(X){var nt=2*Math.PI;D.setLayout({angle:nt,startAngle:S,endAngle:S+nt,clockwise:ye,cx:h,cy:m,r0:y,r:y+ie})}Ae(A,S)})}function p(n,t){var e=n.children||[];n.children=function(o,i){if(hn(i)){var a=It(o,function(c,f){var h=c.getValue();return{params:{depth:c.depth,height:c.height,dataIndex:c.dataIndex,getValue:function(){return h}},index:f}});return a.sort(function(c,f){return i(c.params,f.params)}),It(a,function(c){return o[c.index]})}var u="asc"===i;return o.sort(function(c,f){var h=(c.getValue()-f.getValue())*(u?1:-1);return 0===h?(c.dataIndex-f.dataIndex)*(u?-1:1):h})}(e,t),e.length&&Te(n.children,function(o){p(o,t)})}function x(n){var t={};n.eachSeriesByType("sunburst",function(e){var o=e.getData(),i=o.tree;i.eachNode(function(a){var u=a.getModel().getModel("itemStyle").getItemStyle();u.fill||(u.fill=function(c,f,h){for(var m=c;m&&m.depth>1;)m=m.parentNode;var y=f.getColorFromPalette(m.name||m.dataIndex+"",t);return c.depth>1&&Un(y)&&(y=Il(y,(c.depth-1)/(h-1)*.5)),y}(a,e,i.root.height)),Pe(o.ensureUniqueItemVisual(a.dataIndex,"style"),u)})})}var C={color:"fill",borderColor:"stroke"},I={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},P=Qo(),V=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},t.prototype.getInitialData=function(e,o){return Ag(null,this)},t.prototype.getDataParams=function(e,o,i){var a=n.prototype.getDataParams.call(this,e,o);return i&&(a.info=P(i).info),a},t.type="series.custom",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},t}(ga);function j(n,t){return t=t||[0,0],It(["x","y"],function(e,o){var i=this.getAxis(e),a=t[o],u=n[o]/2;return"category"===i.type?i.getBandWidth():Math.abs(i.dataToCoord(a-u)-i.dataToCoord(a+u))},this)}function Y(n,t){return t=t||[0,0],It([0,1],function(e){var o=t[e],i=n[e]/2,a=[],u=[];return a[e]=o-i,u[e]=o+i,a[1-e]=u[1-e]=t[1-e],Math.abs(this.dataToPoint(a)[e]-this.dataToPoint(u)[e])},this)}function ae(n,t){var e=this.getAxis(),o=t instanceof Array?t[0]:t,i=(n instanceof Array?n[0]:n)/2;return"category"===e.type?e.getBandWidth():Math.abs(e.dataToCoord(o-i)-e.dataToCoord(o+i))}function fe(n,t){return t=t||[0,0],It(["Radius","Angle"],function(e,o){var i=this["get"+e+"Axis"](),a=t[o],u=n[o]/2,c="category"===i.type?i.getBandWidth():Math.abs(i.dataToCoord(a-u)-i.dataToCoord(a+u));return"Angle"===e&&(c=c*Math.PI/180),c},this)}function me(n,t,e,o){return n&&(n.legacy||!1!==n.legacy&&!e&&!o&&"tspan"!==t&&("text"===t||Mr(n,"text")))}function Ce(n,t,e){var o,i,a,u=n;if("text"===t)a=u;else{a={},Mr(u,"text")&&(a.text=u.text),Mr(u,"rich")&&(a.rich=u.rich),Mr(u,"textFill")&&(a.fill=u.textFill),Mr(u,"textStroke")&&(a.stroke=u.textStroke),Mr(u,"fontFamily")&&(a.fontFamily=u.fontFamily),Mr(u,"fontSize")&&(a.fontSize=u.fontSize),Mr(u,"fontStyle")&&(a.fontStyle=u.fontStyle),Mr(u,"fontWeight")&&(a.fontWeight=u.fontWeight),i={type:"text",style:a,silent:!0},o={};var c=Mr(u,"textPosition");e?o.position=c?u.textPosition:"inside":c&&(o.position=u.textPosition),Mr(u,"textPosition")&&(o.position=u.textPosition),Mr(u,"textOffset")&&(o.offset=u.textOffset),Mr(u,"textRotation")&&(o.rotation=u.textRotation),Mr(u,"textDistance")&&(o.distance=u.textDistance)}return Oe(a,n),Te(a.rich,function(f){Oe(f,f)}),{textConfig:o,textContent:i}}function Oe(n,t){t&&(t.font=t.textFont||t.font,Mr(t,"textStrokeWidth")&&(n.lineWidth=t.textStrokeWidth),Mr(t,"textAlign")&&(n.align=t.textAlign),Mr(t,"textVerticalAlign")&&(n.verticalAlign=t.textVerticalAlign),Mr(t,"textLineHeight")&&(n.lineHeight=t.textLineHeight),Mr(t,"textWidth")&&(n.width=t.textWidth),Mr(t,"textHeight")&&(n.height=t.textHeight),Mr(t,"textBackgroundColor")&&(n.backgroundColor=t.textBackgroundColor),Mr(t,"textPadding")&&(n.padding=t.textPadding),Mr(t,"textBorderColor")&&(n.borderColor=t.textBorderColor),Mr(t,"textBorderWidth")&&(n.borderWidth=t.textBorderWidth),Mr(t,"textBorderRadius")&&(n.borderRadius=t.textBorderRadius),Mr(t,"textBoxShadowColor")&&(n.shadowColor=t.textBoxShadowColor),Mr(t,"textBoxShadowBlur")&&(n.shadowBlur=t.textBoxShadowBlur),Mr(t,"textBoxShadowOffsetX")&&(n.shadowOffsetX=t.textBoxShadowOffsetX),Mr(t,"textBoxShadowOffsetY")&&(n.shadowOffsetY=t.textBoxShadowOffsetY))}function Ge(n,t,e){var o=n;o.textPosition=o.textPosition||e.position||"inside",null!=e.offset&&(o.textOffset=e.offset),null!=e.rotation&&(o.textRotation=e.rotation),null!=e.distance&&(o.textDistance=e.distance);var i=o.textPosition.indexOf("inside")>=0,a=n.fill||"#000";ze(o,t);var u=null==o.textFill;return i?u&&(o.textFill=e.insideFill||"#fff",!o.textStroke&&e.insideStroke&&(o.textStroke=e.insideStroke),!o.textStroke&&(o.textStroke=a),null==o.textStrokeWidth&&(o.textStrokeWidth=2)):(u&&(o.textFill=n.fill||e.outsideFill||"#000"),!o.textStroke&&e.outsideStroke&&(o.textStroke=e.outsideStroke)),o.text=t.text,o.rich=t.rich,Te(t.rich,function(c){ze(c,c)}),o}function ze(n,t){t&&(Mr(t,"fill")&&(n.textFill=t.fill),Mr(t,"stroke")&&(n.textStroke=t.fill),Mr(t,"lineWidth")&&(n.textStrokeWidth=t.lineWidth),Mr(t,"font")&&(n.font=t.font),Mr(t,"fontStyle")&&(n.fontStyle=t.fontStyle),Mr(t,"fontWeight")&&(n.fontWeight=t.fontWeight),Mr(t,"fontSize")&&(n.fontSize=t.fontSize),Mr(t,"fontFamily")&&(n.fontFamily=t.fontFamily),Mr(t,"align")&&(n.textAlign=t.align),Mr(t,"verticalAlign")&&(n.textVerticalAlign=t.verticalAlign),Mr(t,"lineHeight")&&(n.textLineHeight=t.lineHeight),Mr(t,"width")&&(n.textWidth=t.width),Mr(t,"height")&&(n.textHeight=t.height),Mr(t,"backgroundColor")&&(n.textBackgroundColor=t.backgroundColor),Mr(t,"padding")&&(n.textPadding=t.padding),Mr(t,"borderColor")&&(n.textBorderColor=t.borderColor),Mr(t,"borderWidth")&&(n.textBorderWidth=t.borderWidth),Mr(t,"borderRadius")&&(n.textBorderRadius=t.borderRadius),Mr(t,"shadowColor")&&(n.textBoxShadowColor=t.shadowColor),Mr(t,"shadowBlur")&&(n.textBoxShadowBlur=t.shadowBlur),Mr(t,"shadowOffsetX")&&(n.textBoxShadowOffsetX=t.shadowOffsetX),Mr(t,"shadowOffsetY")&&(n.textBoxShadowOffsetY=t.shadowOffsetY),Mr(t,"textShadowColor")&&(n.textShadowColor=t.textShadowColor),Mr(t,"textShadowBlur")&&(n.textShadowBlur=t.textShadowBlur),Mr(t,"textShadowOffsetX")&&(n.textShadowOffsetX=t.textShadowOffsetX),Mr(t,"textShadowOffsetY")&&(n.textShadowOffsetY=t.textShadowOffsetY))}var Ue={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},qe=Zn(Ue),Je=(Sn(Bo,function(n,t){return n[t]=1,n},{}),Bo.join(", "),["","style","shape","extra"]),Ee=Qo();function Ze(n,t,e,o,i){var a=n+"Animation",u=ac(n,o,i)||{},c=Ee(t).userDuring;return u.duration>0&&(u.during=c?Bn(fn,{el:t,userDuring:c}):null,u.setToFinal=!0,u.scope=n),Pe(u,e[a]),u}function ft(n,t,e,o){var i=(o=o||{}).dataIndex,a=o.isInit,u=o.clearStyle,c=e.isAnimationEnabled(),f=Ee(n),h=t.style;f.userDuring=t.during;var k,D,m={},y={};if(function(k,D,A){for(var E=0;E<qe.length;E++){var N=qe[E],z=Ue[N],F=D[N];F&&(A[z[0]]=F[0],A[z[1]]=F[1])}for(E=0;E<Bo.length;E++){var q=Bo[E];null!=D[q]&&(A[q]=D[q])}}(0,t,y),Gn("shape",t,y),Gn("extra",t,y),!a&&c&&(function(k,D,A){for(var E=D.transition,N=Ft(E)?Bo:Ko(E||[]),z=0;z<N.length;z++){var F=N[z];"style"!==F&&"shape"!==F&&"extra"!==F&&(A[F]=k[F])}}(n,t,m),In("shape",n,t,m),In("extra",n,t,m),function(k,D,A,E){if(A){var N,z=k.style;if(z){var F=A.transition,q=D.transition;if(F&&!Ft(F)){var X=Ko(F);!N&&(N=E.style={});for(var ee=0;ee<X.length;ee++){var ie=z[Ae=X[ee]];N[Ae]=ie}}else if(k.getAnimationStyleProps&&(Ft(q)||Ft(F)||jt(q,"style")>=0)){var ye=k.getAnimationStyleProps(),_e=ye?ye.style:null;if(_e){!N&&(N=E.style={});var Se=Zn(A);for(ee=0;ee<Se.length;ee++){var Ae;_e[Ae=Se[ee]]&&(N[Ae]=ie=z[Ae])}}}}}}(n,t,h,m)),y.style=h,function(k,D,A){var E=D.style;if(!k.isGroup&&E){if(A){k.useStyle({});for(var N=k.animators,z=0;z<N.length;z++){var F=N[z];"style"===F.targetName&&F.changeTarget(k.style)}}k.setStyle(E)}D&&(D.style=null,D&&k.attr(D),D.style=E)}(n,y,u),k=n,Mr(D=t,"silent")&&(k.silent=D.silent),Mr(D,"ignore")&&(k.ignore=D.ignore),k instanceof zu&&Mr(D,"invisible")&&(k.invisible=D.invisible),k instanceof Do&&Mr(D,"autoBatch")&&(k.autoBatch=D.autoBatch),c)if(a){var _={};Te(Je,function(k){var D=k?t[k]:t;D&&D.enterFrom&&(k&&(_[k]=_[k]||{}),Pe(k?_[k]:_,D.enterFrom))});var S=Ze("enter",n,t,e,i);S.duration>0&&n.animateFrom(_,S)}else!function(k,D,A,E,N){if(N){var z=Ze("update",k,D,E,A);z.duration>0&&k.animateFrom(N,z)}}(n,t,i||0,e,m);Ct(n,t),h?n.dirty():n.markRedraw()}function Ct(n,t){for(var e=Ee(n).leaveToProps,o=0;o<Je.length;o++){var i=Je[o],a=i?t[i]:t;a&&a.leaveTo&&(e||(e=Ee(n).leaveToProps={}),i&&(e[i]=e[i]||{}),Pe(i?e[i]:e,a.leaveTo))}}function Jt(n,t,e,o){if(n){var i=n.parent,a=Ee(n).leaveToProps;if(a){var u=Ze("update",n,t,e,0);u.done=function(){i.remove(n),o&&o()},n.animateTo(a,u)}else i.remove(n),o&&o()}}function Ft(n){return"all"===n}var nn={},Cn={setTransform:function(n,t){return nn.el[n]=t,this},getTransform:function(n){return nn.el[n]},setShape:function(n,t){var e=nn.el;return(e.shape||(e.shape={}))[n]=t,e.dirtyShape&&e.dirtyShape(),this},getShape:function(n){var t=nn.el.shape;if(t)return t[n]},setStyle:function(n,t){var e=nn.el,o=e.style;return o&&(o[n]=t,e.dirtyStyle&&e.dirtyStyle()),this},getStyle:function(n){var t=nn.el.style;if(t)return t[n]},setExtra:function(n,t){return(nn.el.extra||(nn.el.extra={}))[n]=t,this},getExtra:function(n){var t=nn.el.extra;if(t)return t[n]}};function fn(){var n=this,t=n.el;if(t){var e=Ee(t).userDuring,o=n.userDuring;e===o?(nn.el=t,o(Cn)):n.el=n.userDuring=null}}function In(n,t,e,o){var i=e[n];if(i){var a,u=t[n];if(u){var c=e.transition,f=i.transition;if(f)if(!a&&(a=o[n]={}),Ft(f))Pe(a,u);else for(var h=Ko(f),m=0;m<h.length;m++){var y=u[S=h[m]];a[S]=y}else if(Ft(c)||jt(c,n)>=0){!a&&(a=o[n]={});var _=Zn(u);for(m=0;m<_.length;m++){var S;y=u[S=_[m]],yr(i[S],y)&&(a[S]=y)}}}}}function Gn(n,t,e){var o=t[n];if(o)for(var i=e[n]={},a=Zn(o),u=0;u<a.length;u++){var c=a[u];i[c]=Zl(o[c])}}function yr(n,t){return Ht(n)?n!==t:null!=n&&isFinite(n)}var Hr=Qo(),So=["percent","easing","shape","style","extra"];function si(n){n.stopAnimation("keyframe"),n.attr(Hr(n))}function wi(n,t,e){if(e.isAnimationEnabled()&&t)if(tt(t))Te(t,function(c){wi(n,c,e)});else{var o=t.keyframes,i=t.duration;if(e&&null==i){var a=ac("enter",e,0);i=a&&a.duration}if(o&&i){var u=Hr(n);Te(Je,function(c){var f;c&&!n[c]||(o.sort(function(h,m){return h.percent-m.percent}),Te(o,function(h){var m=n.animators,y=c?h[c]:h;if(y){var _=Zn(y);if(c||(_=Lr(_,function(D){return jt(So,D)<0})),_.length){f||((f=n.animate(c,t.loop,!0)).scope="keyframe");for(var S=0;S<m.length;S++)m[S]!==f&&m[S].targetName===f.targetName&&m[S].stopTracks(_);c&&(u[c]=u[c]||{});var k=c?u[c]:u;Te(_,function(D){k[D]=((c?n[c]:n)||{})[D]}),f.whenWithKeys(i*h.percent,y,_,h.easing)}}}),f&&f.delay(t.delay||0).duration(i).start(t.easing))})}}}var hi="emphasis",zo="normal",Mi="blur",Ti="select",Di=[zo,hi,Mi,Ti],ui={normal:["itemStyle"],emphasis:[hi,"itemStyle"],blur:[Mi,"itemStyle"],select:[Ti,"itemStyle"]},na={normal:["label"],emphasis:[hi,"label"],blur:[Mi,"label"],select:[Ti,"label"]},al=["x","y"],ls={normal:{},emphasis:{},blur:{},select:{}},df={cartesian2d:function(n){var t=n.master.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e){return n.dataToPoint(e)},size:Bn(j,n)}}},geo:function(n){var t=n.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:n.getZoom()},api:{coord:function(e){return n.dataToPoint(e)},size:Bn(Y,n)}}},single:function(n){var t=n.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e){return n.dataToPoint(e)},size:Bn(ae,n)}}},polar:function(n){var t=n.getRadiusAxis(),e=n.getAngleAxis(),o=t.getExtent();return o[0]>o[1]&&o.reverse(),{coordSys:{type:"polar",cx:n.cx,cy:n.cy,r:o[1],r0:o[0]},api:{coord:function(i){var a=t.dataToRadius(i[0]),u=e.dataToAngle(i[1]),c=n.coordToPoint([a,u]);return c.push(a,u*Math.PI/180),c},size:Bn(fe,n)}}},calendar:function(n){var t=n.getRect(),e=n.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:n.getCellWidth(),cellHeight:n.getCellHeight(),rangeInfo:{start:e.start,end:e.end,weeks:e.weeks,dayCount:e.allDay}},api:{coord:function(o,i){return n.dataToPoint(o,i)}}}}};function ra(n){return n instanceof Do}function Ff(n){return n instanceof zu}var ws=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.render=function(e,o,i,a){this._progressiveEls=null;var u=this._data,c=e.getData(),f=this.group,h=Xi(e,c,o,i);u||f.removeAll(),c.diff(u).add(function(y){cc(i,null,y,h(y,a),e,f,c)}).remove(function(y){var _=u.getItemGraphicEl(y);_&&Jt(_,P(_).option,e)}).update(function(y,_){var S=u.getItemGraphicEl(_);cc(i,S,y,h(y,a),e,f,c)}).execute();var m=e.get("clip",!0)?C1(e.coordinateSystem,!1,e):null;m?f.setClipPath(m):f.removeClipPath(),this._data=c},t.prototype.incrementalPrepareRender=function(e,o,i){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(e,o,i,a,u){var c=o.getData(),f=Xi(o,c,i,a),h=this._progressiveEls=[];function m(S){S.isGroup||(S.incremental=!0,S.ensureState("emphasis").hoverLayer=!0)}for(var y=e.start;y<e.end;y++){var _=cc(null,null,y,f(y,u),o,this.group,c);_&&(_.traverse(m),h.push(_))}},t.prototype.eachRendered=function(e){Vu(this._progressiveEls||this.group,e)},t.prototype.filterForExposedEvent=function(e,o,i,a){var u=o.element;if(null==u||i.name===u)return!0;for(;(i=i.__hostTarget||i.parent)&&i!==this.group;)if(i.name===u)return!0;return!1},t.type="custom",t}(ma);function Oi(n){var t,e=n.type;if("path"===e){var o=n.shape,i=null!=o.width&&null!=o.height?{x:o.x||0,y:o.y||0,width:o.width,height:o.height}:null,a=hf(o);t=Ch(a,null,i,o.layout||"center"),P(t).customPathData=a}else if("image"===e)t=new bu({}),P(t).customImagePath=n.style.image;else if("text"===e)t=new li({});else if("group"===e)t=new lo;else{if("compoundPath"===e)throw new Error('"compoundPath" is not supported yet.');var u=l0(e);u||fi(""),t=new u}return P(t).customGraphicType=e,t.name=n.name,t.z2EmphasisLift=1,t.z2SelectLift=1,t}function ir(n,t,e,o,i,a,u){si(t);var c=i&&i.normal.cfg;c&&t.setTextConfig(c),o&&null==o.transition&&(o.transition=al);var f=o&&o.style;if(f){if("text"===t.type){var h=f;Mr(h,"textFill")&&(h.fill=h.textFill),Mr(h,"textStroke")&&(h.stroke=h.textStroke)}var m=void 0,y=ra(t)?f.decal:null;n&&y&&(y.dirty=!0,m=$a(y,n)),f.__decalPattern=m}Ff(t)&&f&&(m=f.__decalPattern)&&(f.decal=m),ft(t,o,a,{dataIndex:e,isInit:u,clearStyle:!0}),wi(t,o.keyframeAnimation,a)}function Co(n,t,e,o,i){var a=t.isGroup?null:t,u=i&&i[n].cfg;if(a){var c=a.ensureState(n);if(!1===o){var f=a.getState(n);f&&(f.style=null)}else c.style=o||null;u&&(c.textConfig=u),ng(a)}}function Vi(n,t,e){var o=e===zo,i=o?t:Mu(t,e),a=i?i.z2:null;null!=a&&((o?n:n.ensureState(e)).z2=a||0)}function Xi(n,t,e,o){var i=n.get("renderItem"),a=n.coordinateSystem,u={};a&&(u=a.prepareCustoms?a.prepareCustoms(a):df[a.type](a));for(var c,f,h=ht({getWidth:o.getWidth,getHeight:o.getHeight,getZr:o.getZr,getDevicePixelRatio:o.getDevicePixelRatio,value:function(X,ee){return null==ee&&(ee=c),t.getStore().get(t.getDimensionIndex(X||0),ee)},style:function(X,ee){null==ee&&(ee=c);var ie=t.getItemVisual(ee,"style"),ye=ie&&ie.fill,_e=ie&&ie.opacity,Se=N(ee,zo).getItemStyle();null!=ye&&(Se.fill=ye),null!=_e&&(Se.opacity=_e);var Ae={inheritColor:Un(ye)?ye:"#000"},Fe=z(ee,zo),Xe=yi(Fe,null,Ae,!1,!0);Xe.text=Fe.getShallow("show")?_n(n.getFormattedLabel(ee,zo),sf(t,ee)):null;var nt=sd(Fe,Ae,!1);return q(X,Se),Se=Ge(Se,Xe,nt),X&&F(Se,X),Se.legacy=!0,Se},ordinalRawValue:function(X,ee){null==ee&&(ee=c);var ie=t.getDimensionInfo(X=X||0);if(!ie){var ye=t.getDimensionIndex(X);return ye>=0?t.getStore().get(ye,ee):void 0}var _e=t.get(ie.name,ee),Se=ie&&ie.ordinalMeta;return Se?Se.categories[_e]:_e},styleEmphasis:function(X,ee){null==ee&&(ee=c);var ie=N(ee,hi).getItemStyle(),ye=z(ee,hi),_e=yi(ye,null,null,!0,!0);_e.text=ye.getShallow("show")?vn(n.getFormattedLabel(ee,hi),n.getFormattedLabel(ee,zo),sf(t,ee)):null;var Se=sd(ye,null,!0);return q(X,ie),ie=Ge(ie,_e,Se),X&&F(ie,X),ie.legacy=!0,ie},visual:function(X,ee){if(null==ee&&(ee=c),Mr(C,X)){var ie=t.getItemVisual(ee,"style");return ie?ie[C[X]]:null}if(Mr(I,X))return t.getItemVisual(ee,X)},barLayout:function(X){if("cartesian2d"===a.type)return function(ee){var ie=[],ye=ee.axis;if("category"===ye.type){for(var Se=ye.getBandWidth(),Ae=0;Ae<ee.count;Ae++)ie.push(ht({bandWidth:Se,axisKey:"axis0",stackId:Kx+Ae},ee));var Fe=OC(ie),Xe=[];for(Ae=0;Ae<ee.count;Ae++){var nt=Fe.axis0[Kx+Ae];nt.offsetCenter=nt.offset+nt.width/2,Xe.push(nt)}return Xe}}(ht({axis:a.getBaseAxis()},X))},currentSeriesIndices:function(){return e.getCurrentSeriesIndices()},font:function(X){return Dm(X,e)}},u.api||{}),m={context:{},seriesId:n.id,seriesName:n.name,seriesIndex:n.seriesIndex,coordSys:u.coordSys,dataInsideLength:t.count(),encode:Ia(n.getData())},y={},_={},S={},k={},D=0;D<Di.length;D++){var A=Di[D];S[A]=n.getModel(ui[A]),k[A]=n.getModel(na[A])}function E(X){return X===c?f||(f=t.getItemModel(X)):t.getItemModel(X)}function N(X,ee){return t.hasItemOption?X===c?y[ee]||(y[ee]=E(X).getModel(ui[ee])):E(X).getModel(ui[ee]):S[ee]}function z(X,ee){return t.hasItemOption?X===c?_[ee]||(_[ee]=E(X).getModel(na[ee])):E(X).getModel(na[ee]):k[ee]}return function(X,ee){return c=X,f=null,y={},_={},i&&i(ht({dataIndexInside:X,dataIndex:t.getRawIndex(X),actionType:ee?ee.type:null},m),h)};function F(X,ee){for(var ie in ee)Mr(ee,ie)&&(X[ie]=ee[ie])}function q(X,ee){X&&(X.textFill&&(ee.textFill=X.textFill),X.textPosition&&(ee.textPosition=X.textPosition))}}function Ia(n){var t={};return Te(n.dimensions,function(e){var o=n.getDimensionInfo(e);if(!o.isExtraCoord){var i=o.coordDim;(t[i]=t[i]||[])[o.coordDimIndex]=n.getDimensionIndex(e)}}),t}function cc(n,t,e,o,i,a,u){if(o){var c=js(n,t,e,o,i,a);return c&&u.setItemGraphicEl(e,c),c&&Ds(c,o.focus,o.blurScope,o.emphasisDisabled),c}a.remove(t)}function js(n,t,e,o,i,a){var u=-1,c=t;t&&ku(t,o,i)&&(u=jt(a.childrenRef(),t),t=null);var f,h,m=!t,y=t;y?y.clearStates():(y=Oi(o),c&&((h=y).copyTransform(f=c),Ff(h)&&Ff(f)&&(h.setStyle(f.style),h.z=f.z,h.z2=f.z2,h.zlevel=f.zlevel,h.invisible=f.invisible,h.ignore=f.ignore,ra(h)&&ra(f)&&h.setShape(f.shape)))),!1===o.morph?y.disableMorphing=!0:y.disableMorphing&&(y.disableMorphing=!1),ls.normal.cfg=ls.normal.conOpt=ls.emphasis.cfg=ls.emphasis.conOpt=ls.blur.cfg=ls.blur.conOpt=ls.select.cfg=ls.select.conOpt=null,ls.isLegacy=!1,function(D,A,E,N,z,F){if(!D.isGroup){Gl(E,null,F),Gl(E,hi,F);var q=F.normal.conOpt;if(null!=q||null!=F.emphasis.conOpt||null!=F.select.conOpt||null!=F.blur.conOpt){var ye=D.getTextContent();if(!1===q)ye&&D.removeTextContent();else{q=F.normal.conOpt=q||{type:"text"},ye?ye.clearStates():(ye=Oi(q),D.setTextContent(ye)),ir(null,ye,A,q,null,N,z);for(var _e=q&&q.style,Se=0;Se<Di.length;Se++){var Ae=Di[Se];Ae!==zo&&Co(Ae,ye,0,Tu(q,F[Ae].conOpt,Ae),null)}_e?ye.dirty():ye.markRedraw()}}}}(y,e,o,i,m,ls),function(D,A,E,N,z){var F=E.clipPath;if(!1===F)D&&D.getClipPath()&&D.removeClipPath();else if(F){var q=D.getClipPath();q&&ku(q,F,N)&&(q=null),q||(q=Oi(F),D.setClipPath(q)),ir(null,q,A,F,null,N,z)}}(y,e,o,i,m),ir(n,y,e,o,ls,i,m),Mr(o,"info")&&(P(y).info=o.info);for(var _=0;_<Di.length;_++){var S=Di[_];S!==zo&&Co(S,y,0,Tu(o,Mu(o,S),S),ls)}return function(D,A,E){if(!D.isGroup){var N=D,F=E.currentZLevel;N.z=E.currentZ,N.zlevel=F;var q=A.z2;null!=q&&(N.z2=q||0);for(var X=0;X<Di.length;X++)Vi(N,A,Di[X])}}(y,o,i),"group"===o.type&&function(D,A,E,N,z){var F=N.children,q=F?F.length:0,X=N.$mergeChildren,ee="byName"===X||N.diffChildrenByName,ie=!1===X;if(q||ee||ie){if(ee)return ye={api:D,oldChildren:A.children()||[],newChildren:F||[],dataIndex:E,seriesModel:z,group:A},void new Tp(ye.oldChildren,ye.newChildren,Du,Du,ye).add(zh).update(zh).remove(Xo).execute();var ye;ie&&A.removeAll();for(var _e=0;_e<q;_e++){var Se=F[_e],Ae=A.childAt(_e);Se?(null==Se.ignore&&(Se.ignore=!1),js(D,Ae,E,Se,z,A)):Ae.ignore=!0}for(var Fe=A.childCount()-1;Fe>=_e;Fe--){var Xe=A.childAt(Fe);sl(A,Xe,z)}}}(n,y,e,o,i),u>=0?a.replaceAt(y,u):a.add(y),y}function ku(n,t,e){var o,i=P(n),a=t.type,u=t.shape,c=t.style;return e.isUniversalTransitionEnabled()||null!=a&&a!==i.customGraphicType||"path"===a&&(o=u)&&(Mr(o,"pathData")||Mr(o,"d"))&&hf(u)!==i.customPathData||"image"===a&&Mr(c,"image")&&c.image!==i.customImagePath}function Gl(n,t,e){var o=t?Mu(n,t):n,i=t?Tu(n,o,hi):n.style,a=n.type,u=o?o.textConfig:null,c=n.textContent,f=c?t?Mu(c,t):c:null;if(i&&(e.isLegacy||me(i,a,!!u,!!f))){e.isLegacy=!0;var h=Ce(i,a,!t);!u&&h.textConfig&&(u=h.textConfig),!f&&h.textContent&&(f=h.textContent)}!t&&f&&!f.type&&(f.type="text");var y=t?e[t]:e.normal;y.cfg=u,y.conOpt=f}function Mu(n,t){return t?n?n[t]:null:n}function Tu(n,t,e){var o=t&&t.style;return null==o&&e===hi&&n&&(o=n.styleEmphasis),o}function sl(n,t,e){t&&Jt(t,P(n).option,e)}function Du(n,t){var e=n&&n.name;return null!=e?e:"e\0\0"+t}function zh(n,t){var e=this.context;js(e.api,null!=t?e.oldChildren[t]:null,e.dataIndex,null!=n?e.newChildren[n]:null,e.seriesModel,e.group)}function Xo(n){var t=this.context,e=t.oldChildren[n];e&&Jt(e,P(e).option,t.seriesModel)}function hf(n){return n&&(n.pathData||n.d)}var Gu=Qo(),Gg=Re,pv=Bn,gv=function(){function n(){this._dragging=!1,this.animationThreshold=15}return n.prototype.render=function(t,e,o,i){var a=e.get("value"),u=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=o,i||this._lastValue!==a||this._lastStatus!==u){this._lastValue=a,this._lastStatus=u;var c=this._group,f=this._handle;if(!u||"hide"===u)return c&&c.hide(),void(f&&f.hide());c&&c.show(),f&&f.show();var h={};this.makeElOption(h,a,t,e,o);var m=h.graphicKey;m!==this._lastGraphicKey&&this.clear(o),this._lastGraphicKey=m;var y=this._moveAnimation=this.determineAnimation(t,e);if(c){var _=cr(sb,e,y);this.updatePointerEl(c,h,_),this.updateLabelEl(c,h,_,e)}else c=this._group=new lo,this.createPointerEl(c,h,t,e),this.createLabelEl(c,h,t,e),o.getZr().add(c);Ey(c,e,!0),this._renderHandle(a)}},n.prototype.remove=function(t){this.clear(t)},n.prototype.dispose=function(t){this.clear(t)},n.prototype.determineAnimation=function(t,e){var o=e.get("animation"),i=t.axis,a="category"===i.type,u=e.get("snap");if(!u&&!a)return!1;if("auto"===o||null==o){var c=this.animationThreshold;if(a&&i.getBandWidth()>c)return!0;if(u){var f=pr(t).seriesDataCount,h=i.getExtent();return Math.abs(h[0]-h[1])/f>c}return!1}return!0===o},n.prototype.makeElOption=function(t,e,o,i,a){},n.prototype.createPointerEl=function(t,e,o,i){var a=e.pointer;if(a){var u=Gu(t).pointerEl=new lg[a.type](Gg(e.pointer));t.add(u)}},n.prototype.createLabelEl=function(t,e,o,i){if(e.label){var a=Gu(t).labelEl=new li(Gg(e.label));t.add(a),M_(a,i)}},n.prototype.updatePointerEl=function(t,e,o){var i=Gu(t).pointerEl;i&&e.pointer&&(i.setStyle(e.pointer.style),o(i,{shape:e.pointer.shape}))},n.prototype.updateLabelEl=function(t,e,o,i){var a=Gu(t).labelEl;a&&(a.setStyle(e.label.style),o(a,{x:e.label.x,y:e.label.y}),M_(a,i))},n.prototype._renderHandle=function(t){if(!this._dragging&&this.updateHandleTransform){var e,o=this._axisPointerModel,i=this._api.getZr(),a=this._handle,u=o.getModel("handle"),c=o.get("status");if(!u.get("show")||!c||"hide"===c)return a&&i.remove(a),void(this._handle=null);this._handle||(e=!0,a=this._handle=If(u.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(h){Eu(h.event)},onmousedown:pv(this._onHandleDragMove,this,0,0),drift:pv(this._onHandleDragMove,this),ondragend:pv(this._onHandleDragEnd,this)}),i.add(a)),Ey(a,o,!1),a.setStyle(u.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var f=u.get("size");tt(f)||(f=[f,f]),a.scaleX=f[0]/2,a.scaleY=f[1]/2,C0(this,"_doDispatchAxisPointer",u.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,e)}},n.prototype._moveHandleToValue=function(t,e){sb(this._axisPointerModel,!e&&this._moveAnimation,this._handle,AS(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},n.prototype._onHandleDragMove=function(t,e){var o=this._handle;if(o){this._dragging=!0;var i=this.updateHandleTransform(AS(o),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=i,o.stopAnimation(),o.attr(AS(i)),Gu(o).lastProp=null,this._doDispatchAxisPointer()}},n.prototype._doDispatchAxisPointer=function(){if(this._handle){var t=this._payloadInfo,e=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]})}},n.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},n.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),o=this._group,i=this._handle;e&&o&&(this._lastGraphicKey=null,o&&e.remove(o),i&&e.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),Dx(this,"_doDispatchAxisPointer")},n.prototype.doClear=function(){},n.prototype.buildLabel=function(t,e,o){return{x:t[o=o||0],y:t[1-o],width:e[o],height:e[1-o]}},n}();function sb(n,t,e,o){k_(Gu(e).lastProp,o)||(Gu(e).lastProp=o,t?io(e,o,n):(e.stopAnimation(),e.attr(o)))}function k_(n,t){if(fr(n)&&fr(t)){var e=!0;return Te(t,function(o,i){e=e&&k_(n[i],o)}),!!e}return n===t}function M_(n,t){n[t.get(["label","show"])?"show":"hide"]()}function AS(n){return{x:n.x||0,y:n.y||0,rotation:n.rotation||0}}function Ey(n,t,e){var o=t.get("z"),i=t.get("zlevel");n&&n.traverse(function(a){"group"!==a.type&&(null!=o&&(a.z=o),null!=i&&(a.zlevel=i),a.silent=e)})}function T_(n){var t,e=n.get("type"),o=n.getModel(e+"Style");return"line"===e?(t=o.getLineStyle()).fill=null:"shadow"===e&&((t=o.getAreaStyle()).stroke=null),t}function mv(n,t,e,o,i){var a=vv(e.get("value"),t.axis,t.ecModel,e.get("seriesDataIndices"),{precision:e.get(["label","precision"]),formatter:e.get(["label","formatter"])}),u=e.getModel("label"),c=vg(u.get("padding")||0),f=u.getFont(),h=zs(a,f),m=i.position,y=h.width+c[1]+c[3],_=h.height+c[0]+c[2],S=i.align;"right"===S&&(m[0]-=y),"center"===S&&(m[0]-=y/2);var A,E,N,z,F,q,k=i.verticalAlign;"bottom"===k&&(m[1]-=_),"middle"===k&&(m[1]-=_/2),A=m,E=y,N=_,F=(z=o).getWidth(),q=z.getHeight(),A[0]=Math.min(A[0]+E,F)-E,A[1]=Math.min(A[1]+N,q)-N,A[0]=Math.max(A[0],0),A[1]=Math.max(A[1],0);var D=u.get("backgroundColor");D&&"auto"!==D||(D=t.get(["axisLine","lineStyle","color"])),n.label={x:m[0],y:m[1],style:yi(u,{text:a,font:f,fill:u.getTextColor(),padding:c,backgroundColor:D}),z2:10}}function vv(n,t,e,o,i){n=t.scale.parse(n);var a=t.scale.getLabel({value:n},{precision:i.precision}),u=i.formatter;if(u){var c={value:f1(t,{value:n}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};Te(o,function(f){var h=e.getSeriesByIndex(f.seriesIndex),y=h&&h.getDataParams(f.dataIndexInside);y&&c.seriesData.push(y)}),Un(u)?a=u.replace("{value}",a):hn(u)&&(a=u(c))}return a}function Dk(n,t,e){var o=[1,0,0,1,0,0];return Ul(o,o,e.rotation),zc(o,o,e.position),_u([n.dataToCoord(t),(e.labelOffset||0)+(e.labelDirection||1)*(e.labelMargin||0)],o)}function IS(n,t,e,o,i,a){var u=On.innerTextLayout(e.rotation,0,e.labelDirection);e.labelMargin=i.get(["label","margin"]),mv(t,o,i,a,{position:Dk(o.axis,n,e),align:u.textAlign,verticalAlign:u.textVerticalAlign})}function OS(n,t,e){return{x1:n[e=e||0],y1:n[1-e],x2:t[e],y2:t[1-e]}}function uP(n,t,e){return{x:n[e=e||0],y:n[1-e],width:t[e],height:t[1-e]}}function kT(n,t,e,o,i,a){return{cx:n,cy:t,r0:e,r:o,startAngle:i,endAngle:a,clockwise:!0}}var ZI=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return yt(t,n),t.prototype.makeElOption=function(e,o,i,a,u){var c=i.axis,f=c.grid,h=a.get("type"),m=B1(f,c).getOtherAxis(c).getGlobalExtent(),y=c.toGlobalCoord(c.dataToCoord(o,!0));if(h&&"none"!==h){var _=T_(a),S=lP[h](c,y,m);S.style=_,e.graphicKey=S.type,e.pointer=S}IS(o,e,rt(f.model,i),i,a,u)},t.prototype.getHandleTransform=function(e,o,i){var a=rt(o.axis.grid.model,o,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var u=Dk(o.axis,e,a);return{x:u[0],y:u[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,o,i,a){var u=i.axis,c=u.grid,f=u.getGlobalExtent(!0),h=B1(c,u).getOtherAxis(u).getGlobalExtent(),m="x"===u.dim?0:1,y=[e.x,e.y];y[m]+=o[m],y[m]=Math.min(f[1],y[m]),y[m]=Math.max(f[0],y[m]);var _=(h[1]+h[0])/2,S=[_,_];return S[m]=y[m],{x:y[0],y:y[1],rotation:e.rotation,cursorPoint:S,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][m]}},t}(gv);function B1(n,t){var e={};return e[t.dim+"AxisIndex"]=t.index,n.getCartesian(e)}var lP={line:function(n,t,e){return{type:"Line",subPixelOptimize:!0,shape:OS([t,e[0]],[t,e[1]],KI(n))}},shadow:function(n,t,e){var o=Math.max(1,n.getBandWidth());return{type:"Rect",shape:uP([t-o/2,e[0]],[o,e[1]-e[0]],KI(n))}}};function KI(n){return"x"===n.dim?0:1}var cP=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t}(H),Ug=Qo(),z1=Te;function $I(n,t,e){if(!We.node){var o=t.getZr();Ug(o).records||(Ug(o).records={}),function(i,a){function u(c,f){i.on(c,function(h){var y,_,S,m=(y=a,{dispatchAction:S=function(k){var D=_[k.type];D?D.push(k):(k.dispatchAction=S,y.dispatchAction(k))},pendings:_={showTip:[],hideTip:[]}});z1(Ug(i).records,function(y){y&&f(y,h,m.dispatchAction)}),function(y,_){var S,k=y.showTip.length,D=y.hideTip.length;k?S=y.showTip[k-1]:D&&(S=y.hideTip[D-1]),S&&(S.dispatchAction=null,_.dispatchAction(S))}(m.pendings,a)})}Ug(i).initialized||(Ug(i).initialized=!0,u("click",cr(JI,"click")),u("mousemove",cr(JI,"mousemove")),u("globalout",fP))}(o,t),(Ug(o).records[n]||(Ug(o).records[n]={})).handler=e}}function fP(n,t,e){n.handler("leave",null,e)}function JI(n,t,e,o){t.handler(n,e,o)}function LD(n,t){if(!We.node){var e=t.getZr();(Ug(e).records||{})[n]&&(Ug(e).records[n]=null)}}var rn=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.render=function(e,o,i){var a=o.getComponent("tooltip"),u=e.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";$I("axisPointer",i,function(c,f,h){"none"!==u&&("leave"===c||u.indexOf(c)>=0)&&h({type:"updateAxisPointer",currTrigger:c,x:f&&f.offsetX,y:f&&f.offsetY})})},t.prototype.remove=function(e,o){LD("axisPointer",o)},t.prototype.dispose=function(e,o){LD("axisPointer",o)},t.type="axisPointer",t}(Ga);function Fo(n,t){var e,o=[],i=n.seriesIndex;if(null==i||!(e=t.getSeriesByIndex(i)))return{point:[]};var a=e.getData(),u=Rd(a,n);if(null==u||u<0||tt(u))return{point:[]};var c=a.getItemGraphicEl(u),f=e.coordinateSystem;if(e.getTooltipPosition)o=e.getTooltipPosition(u)||[];else if(f&&f.dataToPoint)if(n.isStacked){var h=f.getBaseAxis(),m=f.getOtherAxis(h).dim,_="x"===m||"radius"===m?1:0,S=a.mapDimension(h.dim),k=[];k[_]=a.get(S,u),k[1-_]=a.get(a.getCalculationInfo("stackResultDimension"),u),o=f.dataToPoint(k)||[]}else o=f.dataToPoint(a.getValues(It(f.dimensions,function(A){return a.mapDimension(A)}),u))||[];else if(c){var D=c.getBoundingRect().clone();D.applyTransform(c.transform),o=[D.x+D.width/2,D.y+D.height/2]}return{point:o,el:c}}var Mo=Qo();function Pc(n,t,e){var E,N,F,o=n.currTrigger,i=[n.x,n.y],a=n,u=n.dispatchAction||Bn(e.dispatchAction,e),c=t.getComponent("axisPointer").coordSysAxesInfo;if(c){wd(i)&&(i=Fo({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},t).point);var f=wd(i),h=a.axesInfo,m=c.axesInfo,y="leave"===o||wd(i),_={},S={},k={list:[],map:{}},D={showPointer:cr(fc,S),showTooltip:cr(ah,k)};Te(c.coordSysMap,function(E,N){var z=f||E.containPoint(i);Te(c.coordSysAxesInfo[N],function(F,q){var X=F.axis,ee=function(ye,_e){for(var Se=0;Se<(ye||[]).length;Se++){var Ae=ye[Se];if(_e.axis.dim===Ae.axisDim&&_e.axis.model.componentIndex===Ae.axisIndex)return Ae}}(h,F);if(!y&&z&&(!h||ee)){var ie=ee&&ee.value;null!=ie||f||(ie=X.pointToData(i)),null!=ie&&ul(F,ie,D,!1,_)}})});var A={};return Te(m,function(E,N){var z=E.linkGroup;z&&!S[N]&&Te(z.axesInfo,function(F,q){var X=S[q];if(F!==E&&X){var ee=X.value;z.mapper&&(ee=E.axis.scale.parse(z.mapper(ee,Uu(F),Uu(E)))),A[E.key]=ee}})}),Te(A,function(E,N){ul(m[N],E,D,!0,_)}),E=S,N=m,F=_.axesInfo=[],Te(N,function(q,X){var ee=q.axisPointerModel.option,ie=E[X];ie?(!q.useHandle&&(ee.status="show"),ee.value=ie.value,ee.seriesDataIndices=(ie.payloadBatch||[]).slice()):!q.useHandle&&(ee.status="hide"),"show"===ee.status&&F.push({axisDim:q.axis.dim,axisIndex:q.axis.model.componentIndex,value:ee.value})}),function(E,N,z,F){if(!wd(N)&&E.list.length){var q=((E.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};F({type:"showTip",escapeConnect:!0,x:N[0],y:N[1],tooltipOption:z.tooltipOption,position:z.position,dataIndexInside:q.dataIndexInside,dataIndex:q.dataIndex,seriesIndex:q.seriesIndex,dataByCoordSys:E.list})}else F({type:"hideTip"})}(k,i,n,u),function(E,N,z){var F=z.getZr(),q="axisPointerLastHighlights",X=Mo(F)[q]||{},ee=Mo(F)[q]={};Te(E,function(_e,Se){var Ae=_e.axisPointerModel.option;"show"===Ae.status&&Te(Ae.seriesDataIndices,function(Fe){ee[Fe.seriesIndex+" | "+Fe.dataIndex]=Fe})});var ie=[],ye=[];Te(X,function(_e,Se){!ee[Se]&&ye.push(_e)}),Te(ee,function(_e,Se){!X[Se]&&ie.push(_e)}),ye.length&&z.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:ye}),ie.length&&z.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:ie})}(m,0,e),_}}function ul(n,t,e,o,i){var h,m,y,_,S,k,D,A,a=n.axis;if(!a.scale.isBlank()&&a.containData(t))if(n.involveSeries){var u=(_=(y=(m=n).axis).dim,S=h=t,k=[],D=Number.MAX_VALUE,A=-1,Te(m.seriesModels,function(E,N){var z,F,q=E.getData().mapDimensionsAll(_);if(E.getAxisTooltipData){var X=E.getAxisTooltipData(q,h,y);F=X.dataIndices,z=X.nestestValue}else{if(!(F=E.getData().indicesOfNearest(q[0],h,"category"===y.type?.5:null)).length)return;z=E.getData().get(q[0],F[0])}if(null!=z&&isFinite(z)){var ee=h-z,ie=Math.abs(ee);ie<=D&&((ie<D||ee>=0&&A<0)&&(D=ie,A=ee,S=z,k.length=0),Te(F,function(ye){k.push({seriesIndex:E.seriesIndex,dataIndexInside:ye,dataIndex:E.getData().getRawIndex(ye)})}))}}),{payloadBatch:k,snapToValue:S}),c=u.payloadBatch,f=u.snapToValue;c[0]&&null==i.seriesIndex&&Pe(i,c[0]),!o&&n.snap&&a.containData(f)&&null!=f&&(t=f),e.showPointer(n,t,c),e.showTooltip(n,u,f)}else e.showPointer(n,t)}function fc(n,t,e,o){n[t.key]={value:e,payloadBatch:o}}function ah(n,t,e,o){var i=e.payloadBatch,a=t.axis,u=a.model,c=t.axisPointerModel;if(t.triggerTooltip&&i.length){var f=t.coordSys.model,h=Tr(f),m=n.map[h];m||(m=n.map[h]={coordSysId:f.id,coordSysIndex:f.componentIndex,coordSysType:f.type,coordSysMainType:f.mainType,dataByAxis:[]},n.list.push(m)),m.dataByAxis.push({axisDim:a.dim,axisIndex:u.componentIndex,axisType:u.type,axisId:u.id,value:o,valueLabelOpt:{precision:c.get(["label","precision"]),formatter:c.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function Uu(n){var t=n.axis.model,e={},o=e.axisDim=n.axis.dim;return e.axisIndex=e[o+"AxisIndex"]=t.componentIndex,e.axisName=e[o+"AxisName"]=t.name,e.axisId=e[o+"AxisId"]=t.id,e}function wd(n){return!n||null==n[0]||isNaN(n[0])||null==n[1]||isNaN(n[1])}function pf(n){Ao.registerAxisPointerClass("CartesianAxisPointer",ZI),n.registerComponentModel(cP),n.registerComponentView(rn),n.registerPreprocessor(function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!tt(e)&&(t.axisPointer.link=[e])}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=function qn(n,t){var o,i,a,u,c,f,h,e={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return o=e,a=t,u=(i=n).getComponent("tooltip"),c=i.getComponent("axisPointer"),f=c.get("link",!0)||[],h=[],Te(a.getCoordinateSystems(),function(m){if(m.axisPointerEnabled){var y=Tr(m.model),_=o.coordSysAxesInfo[y]={};o.coordSysMap[y]=m;var S=m.model.getModel("tooltip",u);if(Te(m.getAxes(),cr(E,!1,null)),m.getTooltipAxes&&u&&S.get("show")){var k="axis"===S.get("trigger"),D="cross"===S.get(["axisPointer","type"]),A=m.getTooltipAxes(S.get(["axisPointer","axis"]));(k||D)&&Te(A.baseAxes,cr(E,!D||"cross",k)),D&&Te(A.otherAxes,cr(E,"cross",!1))}}function E(N,z,F){var q=F.model.getModel("axisPointer",c),X=q.get("show");if(X&&("auto"!==X||N||Hn(q))){null==z&&(z=q.get("triggerTooltip"));var ee=(q=N?function(Fe,Xe,nt,it,ut,mt){var Ot=Xe.getModel("axisPointer"),Pt={};Te(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(Xt){Pt[Xt]=Re(Ot.get(Xt))}),Pt.snap="category"!==Fe.type&&!!mt,"cross"===Ot.get("type")&&(Pt.type="line");var Gt=Pt.label||(Pt.label={});if(null==Gt.show&&(Gt.show=!1),"cross"===ut){var kn=Ot.get(["label","show"]);if(Gt.show=null==kn||kn,!mt){var tr=Pt.lineStyle=Ot.get("crossStyle");tr&&ht(Gt,tr.textStyle)}}return Fe.model.getModel("axisPointer",new Pi(Pt,nt,it))}(F,S,c,i,N,z):q).get("snap"),ie=Tr(F.model),ye=z||ee||"category"===F.type,_e=o.axesInfo[ie]={key:ie,axis:F,coordSys:m,axisPointerModel:q,triggerTooltip:z,involveSeries:ye,snap:ee,useHandle:Hn(q),seriesModels:[],linkGroup:null};_[ie]=_e,o.seriesInvolved=o.seriesInvolved||ye;var Se=function(Fe,Xe){for(var nt=Xe.model,it=Xe.dim,ut=0;ut<Fe.length;ut++){var mt=Fe[ut]||{};if(xr(mt[it+"AxisId"],nt.id)||xr(mt[it+"AxisIndex"],nt.componentIndex)||xr(mt[it+"AxisName"],nt.name))return ut}}(f,F);if(null!=Se){var Ae=h[Se]||(h[Se]={axesInfo:{}});Ae.axesInfo[ie]=_e,Ae.mapper=f[Se].mapper,_e.linkGroup=Ae}}}}),e.seriesInvolved&&function(o,i){i.eachSeries(function(a){var u=a.coordinateSystem,c=a.get(["tooltip","trigger"],!0),f=a.get(["tooltip","show"],!0);u&&"none"!==c&&!1!==c&&"item"!==c&&!1!==f&&!1!==a.get(["axisPointer","show"],!0)&&Te(o.coordSysAxesInfo[Tr(u.model)],function(h){var m=h.axis;u.getAxis(m.dim)===m&&(h.seriesModels.push(a),null==h.seriesDataCount&&(h.seriesDataCount=0),h.seriesDataCount+=a.getData().count())})})}(e,n),e}(t,e)}),n.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},Pc)}var YR=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return yt(t,n),t.prototype.makeElOption=function(e,o,i,a,u){var c=i.axis;"angle"===c.dim&&(this.animationThreshold=Math.PI/18);var f=c.polar,h=f.getOtherAxis(c).getExtent(),m=c.dataToCoord(o),y=a.get("type");if(y&&"none"!==y){var _=T_(a),S=QI[y](c,f,m,h);S.style=_,e.graphicKey=S.type,e.pointer=S}var k=function(D,A,E,N,z){var F=A.axis,q=F.dataToCoord(D),X=N.getAngleAxis().getExtent()[0];X=X/180*Math.PI;var ee,ie,ye,_e=N.getRadiusAxis().getExtent();if("radius"===F.dim){var Se=[1,0,0,1,0,0];Ul(Se,Se,X),zc(Se,Se,[N.cx,N.cy]),ee=_u([q,-z],Se);var Ae=A.getModel("axisLabel").get("rotate")||0,Fe=On.innerTextLayout(X,Ae*Math.PI/180,-1);ie=Fe.textAlign,ye=Fe.textVerticalAlign}else{var Xe=_e[1];ee=N.coordToPoint([Xe+z,q]);var nt=N.cx,it=N.cy;ie=Math.abs(ee[0]-nt)/Xe<.3?"center":ee[0]>nt?"left":"right",ye=Math.abs(ee[1]-it)/Xe<.3?"middle":ee[1]>it?"top":"bottom"}return{position:ee,align:ie,verticalAlign:ye}}(o,i,0,f,a.get(["label","margin"]));mv(e,i,a,u,k)},t}(gv),QI={line:function(n,t,e,o){return"angle"===n.dim?{type:"Line",shape:OS(t.coordToPoint([o[0],e]),t.coordToPoint([o[1],e]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:e}}},shadow:function(n,t,e,o){var i=Math.max(1,n.getBandWidth()),a=Math.PI/180;return"angle"===n.dim?{type:"Sector",shape:kT(t.cx,t.cy,o[0],o[1],(-e-i/2)*a,(i/2-e)*a)}:{type:"Sector",shape:kT(t.cx,t.cy,e-i/2,e+i/2,0,2*Math.PI)}}},Ak=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.findAxisModel=function(e){var o;return this.ecModel.eachComponent(e,function(i){i.getCoordSysModel()===this&&(o=i)},this),o},t.type="polar",t.dependencies=["radiusAxis","angleAxis"],t.defaultOption={z:0,center:["50%","50%"],radius:"80%"},t}(H),eO=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return yt(t,n),t.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",vu).models[0]},t.type="polarAxis",t}(H);_r(eO,j0);var e5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.type="angleAxis",t}(eO),t5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.type="radiusAxis",t}(eO),XR=function(n){function t(e,o){return n.call(this,"radius",e,o)||this}return yt(t,n),t.prototype.pointToData=function(e,o){return this.polar.pointToData(e,o)["radius"===this.dim?0:1]},t}(gd);XR.prototype.dataToRadius=gd.prototype.dataToCoord,XR.prototype.radiusToData=gd.prototype.coordToData;var n5=Qo(),ZR=function(n){function t(e,o){return n.call(this,"angle",e,o||[0,360])||this}return yt(t,n),t.prototype.pointToData=function(e,o){return this.polar.pointToData(e,o)["radius"===this.dim?0:1]},t.prototype.calculateCategoryInterval=function(){var e=this,o=e.getLabelModel(),i=e.scale,a=i.getExtent(),u=i.count();if(a[1]-a[0]<1)return 0;var c=a[0],f=e.dataToCoord(c+1)-e.dataToCoord(c),h=Math.abs(f),m=zs(null==c?"":c+"",o.getFont(),"center","top"),y=Math.max(m.height,7)/h;isNaN(y)&&(y=1/0);var _=Math.max(0,Math.floor(y)),S=n5(e.model),k=S.lastAutoInterval,D=S.lastTickCount;return null!=k&&null!=D&&Math.abs(k-_)<=1&&Math.abs(D-u)<=1&&k>_?_=k:(S.lastTickCount=u,S.lastAutoInterval=_),_},t}(gd);ZR.prototype.dataToAngle=gd.prototype.dataToCoord,ZR.prototype.angleToData=gd.prototype.coordToData;var HL=["radius","angle"],r5=function(){function n(t){this.dimensions=HL,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new XR,this._angleAxis=new ZR,this.axisPointerEnabled=!0,this.name=t||"",this._radiusAxis.polar=this._angleAxis.polar=this}return n.prototype.containPoint=function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},n.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},n.prototype.getAxis=function(t){return this["_"+t+"Axis"]},n.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},n.prototype.getAxesByScale=function(t){var e=[],o=this._angleAxis,i=this._radiusAxis;return o.scale.type===t&&e.push(o),i.scale.type===t&&e.push(i),e},n.prototype.getAngleAxis=function(){return this._angleAxis},n.prototype.getRadiusAxis=function(){return this._radiusAxis},n.prototype.getOtherAxis=function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},n.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},n.prototype.getTooltipAxes=function(t){var e=null!=t&&"auto"!==t?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},n.prototype.dataToPoint=function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},n.prototype.pointToData=function(t,e){var o=this.pointToCoord(t);return[this._radiusAxis.radiusToData(o[0],e),this._angleAxis.angleToData(o[1],e)]},n.prototype.pointToCoord=function(t){var e=t[0]-this.cx,o=t[1]-this.cy,i=this.getAngleAxis(),a=i.getExtent(),u=Math.min(a[0],a[1]),c=Math.max(a[0],a[1]);i.inverse?u=c-360:c=u+360;var f=Math.sqrt(e*e+o*o);e/=f,o/=f;for(var h=Math.atan2(-o,e)/Math.PI*180,m=h<u?1:-1;h<u||h>c;)h+=360*m;return[f,h]},n.prototype.coordToPoint=function(t){var e=t[0],o=t[1]/180*Math.PI;return[Math.cos(o)*e+this.cx,-Math.sin(o)*e+this.cy]},n.prototype.getArea=function(){var t=this.getAngleAxis(),e=this.getRadiusAxis().getExtent().slice();e[0]>e[1]&&e.reverse();var o=t.getExtent(),i=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:e[0],r:e[1],startAngle:-o[0]*i,endAngle:-o[1]*i,clockwise:t.inverse,contain:function(a,u){var c=a-this.cx,f=u-this.cy,h=c*c+f*f-1e-4,m=this.r,y=this.r0;return h<=m*m&&h>=y*y}}},n.prototype.convertToPixel=function(t,e,o){return WL(e)===this?this.dataToPoint(o):null},n.prototype.convertFromPixel=function(t,e,o){return WL(e)===this?this.pointToData(o):null},n}();function WL(n){var t=n.seriesModel,e=n.polarModel;return e&&e.coordinateSystem||t&&t.coordinateSystem}function o5(n,t){var e=this,o=e.getAngleAxis(),i=e.getRadiusAxis();if(o.scale.setExtent(1/0,-1/0),i.scale.setExtent(1/0,-1/0),n.eachSeries(function(c){if(c.coordinateSystem===e){var f=c.getData();Te(e_(f,"radius"),function(h){i.scale.unionExtentFromData(f,h)}),Te(e_(f,"angle"),function(h){o.scale.unionExtentFromData(f,h)})}}),Oh(o.scale,o.model),Oh(i.scale,i.model),"category"===o.type&&!o.onBand){var a=o.getExtent(),u=360/o.scale.count();o.inverse?a[1]+=u:a[1]-=u,o.setExtent(a[0],a[1])}}function GL(n,t){if(n.type=t.get("type"),n.scale=G0(t),n.onBand=t.get("boundaryGap")&&"category"===n.type,n.inverse=t.get("inverse"),"angleAxis"===t.mainType){n.inverse=n.inverse!==t.get("clockwise");var e=t.get("startAngle");n.setExtent(e,e+(n.inverse?-360:360))}t.axis=n,n.model=t}var i5={dimensions:HL,create:function(n,t){var e=[];return n.eachComponent("polar",function(o,i){var a=new r5(i+"");a.update=o5;var u=a.getRadiusAxis(),c=a.getAngleAxis(),f=o.findAxisModel("radiusAxis"),h=o.findAxisModel("angleAxis");GL(u,f),GL(c,h),function(m,y,_){var S=y.get("center"),k=_.getWidth(),D=_.getHeight();m.cx=Qn(S[0],k),m.cy=Qn(S[1],D);var A=m.getRadiusAxis(),E=Math.min(k,D)/2,N=y.get("radius");null==N?N=[0,"100%"]:tt(N)||(N=[0,N]);var z=[Qn(N[0],E),Qn(N[1],E)];A.inverse?A.setExtent(z[1],z[0]):A.setExtent(z[0],z[1])}(a,o,t),e.push(a),o.coordinateSystem=a,a.model=o}),n.eachSeries(function(o){if("polar"===o.get("coordinateSystem")){var i=o.getReferringComponents("polar",vu).models[0];o.coordinateSystem=i.coordinateSystem}}),e}},a5=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function dP(n,t,e){t[1]>t[0]&&(t=t.slice().reverse());var o=n.coordToPoint([t[0],e]),i=n.coordToPoint([t[1],e]);return{x1:o[0],y1:o[1],x2:i[0],y2:i[1]}}function hP(n){return n.getRadiusAxis().inverse?0:1}function UL(n){var t=n[0],e=n[n.length-1];t&&e&&Math.abs(Math.abs(t.coord-e.coord)-360)<1e-4&&n.pop()}var s5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="PolarAxisPointer",e}return yt(t,n),t.prototype.render=function(e,o){if(this.group.removeAll(),e.get("show")){var i=e.axis,a=i.polar,u=a.getRadiusAxis().getExtent(),c=i.getTicksCoords(),f=i.getMinorTicksCoords(),h=It(i.getViewLabels(),function(m){m=Re(m);var y=i.scale,_="ordinal"===y.type?y.getRawOrdinalNumber(m.tickValue):m.tickValue;return m.coord=i.dataToCoord(_),m});UL(h),UL(c),Te(a5,function(m){!e.get([m,"show"])||i.scale.isBlank()&&"axisLine"!==m||u5[m](this.group,e,a,c,f,u,h)},this)}},t.type="angleAxis",t}(Ao),u5={axisLine:function(n,t,e,o,i,a){var u,c=t.getModel(["axisLine","lineStyle"]),f=hP(e),h=f?0:1;(u=0===a[h]?new Kc({shape:{cx:e.cx,cy:e.cy,r:a[f]},style:c.getLineStyle(),z2:1,silent:!0}):new wh({shape:{cx:e.cx,cy:e.cy,r:a[f],r0:a[h]},style:c.getLineStyle(),z2:1,silent:!0})).style.fill=null,n.add(u)},axisTick:function(n,t,e,o,i,a){var u=t.getModel("axisTick"),c=(u.get("inside")?-1:1)*u.get("length"),f=a[hP(e)],h=It(o,function(m){return new Ws({shape:dP(e,[f,f+c],m.coord)})});n.add(Cl(h,{style:ht(u.getModel("lineStyle").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})}))},minorTick:function(n,t,e,o,i,a){if(i.length){for(var u=t.getModel("axisTick"),c=t.getModel("minorTick"),f=(u.get("inside")?-1:1)*c.get("length"),h=a[hP(e)],m=[],y=0;y<i.length;y++)for(var _=0;_<i[y].length;_++)m.push(new Ws({shape:dP(e,[h,h+f],i[y][_].coord)}));n.add(Cl(m,{style:ht(c.getModel("lineStyle").getLineStyle(),ht(u.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(n,t,e,o,i,a,u){var c=t.getCategories(!0),f=t.getModel("axisLabel"),h=f.get("margin"),m=t.get("triggerEvent");Te(u,function(y,_){var S=f,k=y.tickValue,D=a[hP(e)],A=e.coordToPoint([D+h,y.coord]),E=e.cx,N=e.cy,z=Math.abs(A[0]-E)/D<.3?"center":A[0]>E?"left":"right",F=Math.abs(A[1]-N)/D<.3?"middle":A[1]>N?"top":"bottom";if(c&&c[k]){var q=c[k];fr(q)&&q.textStyle&&(S=new Pi(q.textStyle,f,f.ecModel))}var X=new li({silent:On.isLabelSilent(t),style:yi(S,{x:A[0],y:A[1],fill:S.getTextColor()||t.get(["axisLine","lineStyle","color"]),text:y.formattedLabel,align:z,verticalAlign:F})});if(n.add(X),m){var ee=On.makeAxisEventDataBase(t);ee.targetType="axisLabel",ee.value=y.rawLabel,fo(X).eventData=ee}},this)},splitLine:function(n,t,e,o,i,a){var u=t.getModel("splitLine").getModel("lineStyle"),c=u.get("color"),f=0;c=c instanceof Array?c:[c];for(var h=[],m=0;m<o.length;m++){var y=f++%c.length;h[y]=h[y]||[],h[y].push(new Ws({shape:dP(e,a,o[m].coord)}))}for(m=0;m<h.length;m++)n.add(Cl(h[m],{style:ht({stroke:c[m%c.length]},u.getLineStyle()),silent:!0,z:t.get("z")}))},minorSplitLine:function(n,t,e,o,i,a){if(i.length){for(var u=t.getModel("minorSplitLine").getModel("lineStyle"),c=[],f=0;f<i.length;f++)for(var h=0;h<i[f].length;h++)c.push(new Ws({shape:dP(e,a,i[f][h].coord)}));n.add(Cl(c,{style:u.getLineStyle(),silent:!0,z:t.get("z")}))}},splitArea:function(n,t,e,o,i,a){if(o.length){var u=t.getModel("splitArea").getModel("areaStyle"),c=u.get("color"),f=0;c=c instanceof Array?c:[c];for(var h=[],m=Math.PI/180,y=-o[0].coord*m,_=Math.min(a[0],a[1]),S=Math.max(a[0],a[1]),k=t.get("clockwise"),D=1,A=o.length;D<=A;D++){var E=D===A?o[0].coord:o[D].coord,N=f++%c.length;h[N]=h[N]||[],h[N].push(new Ll({shape:{cx:e.cx,cy:e.cy,r0:_,r:S,startAngle:y,endAngle:-E*m,clockwise:k},silent:!0})),y=-E*m}for(D=0;D<h.length;D++)n.add(Cl(h[D],{style:ht({fill:c[D%c.length]},u.getAreaStyle()),silent:!0}))}}},l5=["axisLine","axisTickLabel","axisName"],c5=["splitLine","splitArea","minorSplitLine"],f5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="PolarAxisPointer",e}return yt(t,n),t.prototype.render=function(e,o){if(this.group.removeAll(),e.get("show")){var i=this._axisGroup,a=this._axisGroup=new lo;this.group.add(a);var u=e.axis,c=u.polar,f=c.getAngleAxis(),h=u.getTicksCoords(),m=u.getMinorTicksCoords(),y=f.getExtent()[0],_=u.getExtent(),S={position:[(D=c).cx,D.cy],rotation:y/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1},k=new On(e,S);Te(l5,k.add,k),a.add(k.getGroup()),ko(i,a,e),Te(c5,function(D){e.get([D,"show"])&&!u.scale.isBlank()&&d5[D](this.group,e,c,y,_,h,m)},this)}var D},t.type="radiusAxis",t}(Ao),d5={splitLine:function(n,t,e,o,i,a){var u=t.getModel("splitLine").getModel("lineStyle"),c=u.get("color"),f=0;c=c instanceof Array?c:[c];for(var h=[],m=0;m<a.length;m++){var y=f++%c.length;h[y]=h[y]||[],h[y].push(new Kc({shape:{cx:e.cx,cy:e.cy,r:Math.max(a[m].coord,0)}}))}for(m=0;m<h.length;m++)n.add(Cl(h[m],{style:ht({stroke:c[m%c.length],fill:null},u.getLineStyle()),silent:!0}))},minorSplitLine:function(n,t,e,o,i,a,u){if(u.length){for(var c=t.getModel("minorSplitLine").getModel("lineStyle"),f=[],h=0;h<u.length;h++)for(var m=0;m<u[h].length;m++)f.push(new Kc({shape:{cx:e.cx,cy:e.cy,r:u[h][m].coord}}));n.add(Cl(f,{style:ht({fill:null},c.getLineStyle()),silent:!0}))}},splitArea:function(n,t,e,o,i,a){if(a.length){var u=t.getModel("splitArea").getModel("areaStyle"),c=u.get("color"),f=0;c=c instanceof Array?c:[c];for(var h=[],m=a[0].coord,y=1;y<a.length;y++){var _=f++%c.length;h[_]=h[_]||[],h[_].push(new Ll({shape:{cx:e.cx,cy:e.cy,r0:m,r:a[y].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),m=a[y].coord}for(y=0;y<h.length;y++)n.add(Cl(h[y],{style:ht({fill:c[y%c.length]},u.getAreaStyle()),silent:!0}))}}};function jL(n){return n.get("stack")||"__ec_stack_"+n.seriesIndex}function qL(n,t){return t.dim+n.model.componentIndex}function h5(n,t,e){var o={},i=function(a){var u={};Te(a,function(f,h){var m=f.getData(),y=f.coordinateSystem,_=y.getBaseAxis(),S=qL(y,_),k=_.getExtent(),D="category"===_.type?_.getBandWidth():Math.abs(k[1]-k[0])/m.count(),A=u[S]||{bandWidth:D,remainedWidth:D,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},E=A.stacks;u[S]=A;var N=jL(f);E[N]||A.autoWidthCount++,E[N]=E[N]||{width:0,maxWidth:0};var z=Qn(f.get("barWidth"),D),F=Qn(f.get("barMaxWidth"),D),q=f.get("barGap"),X=f.get("barCategoryGap");z&&!E[N].width&&(z=Math.min(A.remainedWidth,z),E[N].width=z,A.remainedWidth-=z),F&&(E[N].maxWidth=F),null!=q&&(A.gap=q),null!=X&&(A.categoryGap=X)});var c={};return Te(u,function(f,h){c[h]={};var m=f.stacks,_=Qn(f.categoryGap,f.bandWidth),S=Qn(f.gap,1),k=f.remainedWidth,D=f.autoWidthCount,A=(k-_)/(D+(D-1)*S);A=Math.max(A,0),Te(m,function(F,q){var X=F.maxWidth;X&&X<A&&(X=Math.min(X,k),F.width&&(X=Math.min(X,F.width)),k-=X,F.width=X,D--)}),A=(k-_)/(D+(D-1)*S),A=Math.max(A,0);var E,N=0;Te(m,function(F,q){F.width||(F.width=A),E=F,N+=F.width*(1+S)}),E&&(N-=E.width*S);var z=-N/2;Te(m,function(F,q){c[h][q]=c[h][q]||{offset:z,width:F.width},z+=F.width*(1+S)})}),c}(Lr(t.getSeriesByType(n),function(a){return!t.isSeriesFiltered(a)&&a.coordinateSystem&&"polar"===a.coordinateSystem.type}));t.eachSeriesByType(n,function(a){if("polar"===a.coordinateSystem.type){var u=a.getData(),c=a.coordinateSystem,f=c.getBaseAxis(),h=qL(c,f),m=jL(a),y=i[h][m],_=y.offset,S=y.width,k=c.getOtherAxis(f),D=a.coordinateSystem.cx,A=a.coordinateSystem.cy,E=a.get("barMinHeight")||0,N=a.get("barMinAngle")||0;o[m]=o[m]||[];for(var z=u.mapDimension(k.dim),F=u.mapDimension(f.dim),q=ei(u,z),X="radius"!==f.dim||!a.get("roundCap",!0),ee=k.dataToCoord(0),ie=0,ye=u.count();ie<ye;ie++){var _e=u.get(z,ie),Se=u.get(F,ie),Ae=_e>=0?"p":"n",Fe=ee;q&&(o[m][Se]||(o[m][Se]={p:ee,n:ee}),Fe=o[m][Se][Ae]);var Xe=void 0,nt=void 0,it=void 0,ut=void 0;if("radius"===k.dim){var mt=k.dataToCoord(_e)-ee,Ot=f.dataToCoord(Se);Math.abs(mt)<E&&(mt=(mt<0?-1:1)*E),Xe=Fe,nt=Fe+mt,ut=(it=Ot-_)-S,q&&(o[m][Se][Ae]=nt)}else{var Pt=k.dataToCoord(_e,X)-ee,Gt=f.dataToCoord(Se);Math.abs(Pt)<N&&(Pt=(Pt<0?-1:1)*N),nt=(Xe=Gt+_)+S,it=Fe,ut=Fe+Pt,q&&(o[m][Se][Ae]=ut)}u.setItemLayout(ie,{cx:D,cy:A,r0:Xe,r:nt,startAngle:-it*Math.PI/180,endAngle:-ut*Math.PI/180,clockwise:it>=ut})}}})}var p5={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},g5={splitNumber:5},m5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.type="polar",t}(Ga);function KR(n,t){t=t||{};var o=n.axis,i={},a=o.position,u=o.orient,c=n.coordinateSystem.getRect(),f=[c.x,c.x+c.width,c.y,c.y+c.height],h={horizontal:{top:f[2],bottom:f[3]},vertical:{left:f[0],right:f[1]}};i.position=["vertical"===u?h.vertical[a]:f[0],"horizontal"===u?h.horizontal[a]:f[3]],i.rotation=Math.PI/2*{horizontal:0,vertical:1}[u],i.labelDirection=i.tickDirection=i.nameDirection={top:-1,bottom:1,right:1,left:-1}[a],n.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),ar(t.labelInside,n.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var m=t.rotate;return null==m&&(m=n.get(["axisLabel","rotate"])),i.labelRotation="top"===a?-m:m,i.z2=1,i}var v5=["axisLine","axisTickLabel","axisName"],y5=["splitArea","splitLine"],b5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="SingleAxisPointer",e}return yt(t,n),t.prototype.render=function(e,o,i,a){var u=this.group;u.removeAll();var c=this._axisGroup;this._axisGroup=new lo;var f=KR(e),h=new On(e,f);Te(v5,h.add,h),u.add(this._axisGroup),u.add(h.getGroup()),Te(y5,function(m){e.get([m,"show"])&&x5[m](this,this.group,this._axisGroup,e)},this),ko(c,this._axisGroup,e),n.prototype.render.call(this,e,o,i,a)},t.prototype.remove=function(){mn(this)},t.type="singleAxis",t}(Ao),x5={splitLine:function(n,t,e,o){var i=o.axis;if(!i.scale.isBlank()){var a=o.getModel("splitLine"),u=a.getModel("lineStyle"),c=u.get("color");c=c instanceof Array?c:[c];for(var f=u.get("width"),h=o.coordinateSystem.getRect(),m=i.isHorizontal(),y=[],_=0,S=i.getTicksCoords({tickModel:a}),k=[],D=[],A=0;A<S.length;++A){var E=i.toGlobalCoord(S[A].coord);m?(k[0]=E,k[1]=h.y,D[0]=E,D[1]=h.y+h.height):(k[0]=h.x,k[1]=E,D[0]=h.x+h.width,D[1]=E);var N=new Ws({shape:{x1:k[0],y1:k[1],x2:D[0],y2:D[1]},silent:!0});Af(N.shape,f);var z=_++%c.length;y[z]=y[z]||[],y[z].push(N)}var F=u.getLineStyle(["color"]);for(A=0;A<y.length;++A)t.add(Cl(y[A],{style:ht({stroke:c[A%c.length]},F),silent:!0}))}},splitArea:function(n,t,e,o){Et(n,e,o,o)}},pP=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.getCoordSysModel=function(){return this},t.type="singleAxis",t.layoutMode="box",t.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},t}(H);_r(pP,j0.prototype);var _5=function(n){function t(e,o,i,a,u){var c=n.call(this,e,o,i)||this;return c.type=a||"value",c.position=u||"bottom",c}return yt(t,n),t.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},t.prototype.pointToData=function(e,o){return this.coordinateSystem.pointToData(e)[0]},t}(gd),YL=["single"],w5=function(){function n(t,e,o){this.type="single",this.dimension="single",this.dimensions=YL,this.axisPointerEnabled=!0,this.model=t,this._init(t,e,o)}return n.prototype._init=function(t,e,o){var a=new _5(this.dimension,G0(t),[0,0],t.get("type"),t.get("position"));a.onBand="category"===a.type&&t.get("boundaryGap"),a.inverse=t.get("inverse"),a.orient=t.get("orient"),t.axis=a,a.model=t,a.coordinateSystem=this,this._axis=a},n.prototype.update=function(t,e){t.eachSeries(function(o){if(o.coordinateSystem===this){var i=o.getData();Te(i.mapDimensionsAll(this.dimension),function(a){this._axis.scale.unionExtentFromData(i,a)},this),Oh(this._axis.scale,this._axis.model)}},this)},n.prototype.resize=function(t,e){this._rect=au({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis()},n.prototype.getRect=function(){return this._rect},n.prototype._adjustAxis=function(){var t=this._rect,e=this._axis,o=e.isHorizontal(),i=o?[0,t.width]:[0,t.height],a=e.inverse?1:0;e.setExtent(i[a],i[1-a]),this._updateAxisTransform(e,o?t.x:t.y)},n.prototype._updateAxisTransform=function(t,e){var o=t.getExtent(),i=o[0]+o[1],a=t.isHorizontal();t.toGlobalCoord=a?function(u){return u+e}:function(u){return i-u+e},t.toLocalCoord=a?function(u){return u-e}:function(u){return i-u+e}},n.prototype.getAxis=function(){return this._axis},n.prototype.getBaseAxis=function(){return this._axis},n.prototype.getAxes=function(){return[this._axis]},n.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},n.prototype.containPoint=function(t){var e=this.getRect(),o=this.getAxis();return"horizontal"===o.orient?o.contain(o.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:o.contain(o.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height},n.prototype.pointToData=function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t["horizontal"===e.orient?0:1]))]},n.prototype.dataToPoint=function(t){var e=this.getAxis(),o=this.getRect(),i=[],a="horizontal"===e.orient?0:1;return t instanceof Array&&(t=t[0]),i[a]=e.toGlobalCoord(e.dataToCoord(+t)),i[1-a]=0===a?o.y+o.height/2:o.x+o.width/2,i},n.prototype.convertToPixel=function(t,e,o){return XL(e)===this?this.dataToPoint(o):null},n.prototype.convertFromPixel=function(t,e,o){return XL(e)===this?this.pointToData(o):null},n}();function XL(n){var t=n.seriesModel,e=n.singleAxisModel;return e&&e.coordinateSystem||t&&t.coordinateSystem}var S5={create:function(n,t){var e=[];return n.eachComponent("singleAxis",function(o,i){var a=new w5(o,n,t);a.name="single_"+i,a.resize(o,t),o.coordinateSystem=a,e.push(a)}),n.eachSeries(function(o){if("singleAxis"===o.get("coordinateSystem")){var i=o.getReferringComponents("singleAxis",vu).models[0];o.coordinateSystem=i&&i.coordinateSystem}}),e},dimensions:YL},ZL=["x","y"],C5=["width","height"],k5=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return yt(t,n),t.prototype.makeElOption=function(e,o,i,a,u){var c=i.axis,f=c.coordinateSystem,h=$R(f,1-gP(c)),m=f.dataToPoint(o)[0],y=a.get("type");if(y&&"none"!==y){var _=T_(a),S=M5[y](c,m,h);S.style=_,e.graphicKey=S.type,e.pointer=S}IS(o,e,KR(i),i,a,u)},t.prototype.getHandleTransform=function(e,o,i){var a=KR(o,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var u=Dk(o.axis,e,a);return{x:u[0],y:u[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,o,i,a){var u=i.axis,c=u.coordinateSystem,f=gP(u),h=$R(c,f),m=[e.x,e.y];m[f]+=o[f],m[f]=Math.min(h[1],m[f]),m[f]=Math.max(h[0],m[f]);var y=$R(c,1-f),_=(y[1]+y[0])/2,S=[_,_];return S[f]=m[f],{x:m[0],y:m[1],rotation:e.rotation,cursorPoint:S,tooltipOption:{verticalAlign:"middle"}}},t}(gv),M5={line:function(n,t,e){return{type:"Line",subPixelOptimize:!0,shape:OS([t,e[0]],[t,e[1]],gP(n))}},shadow:function(n,t,e){var o=n.getBandWidth();return{type:"Rect",shape:uP([t-o/2,e[0]],[o,e[1]-e[0]],gP(n))}}};function gP(n){return n.isHorizontal()?0:1}function $R(n,t){var e=n.getRect();return[e[ZL[t]],e[ZL[t]]+e[C5[t]]]}var T5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.type="single",t}(Ga),D5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.init=function(e,o,i){var a=_g(e);n.prototype.init.apply(this,arguments),KL(e,a)},t.prototype.mergeOption=function(e){n.prototype.mergeOption.apply(this,arguments),KL(this.option,e)},t.prototype.getCellSize=function(){return this.option.cellSize},t.type="calendar",t.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},t}(H);function KL(n,t){var e,o=n.cellSize;1===(e=tt(o)?o:n.cellSize=[o,o]).length&&(e[1]=e[0]);var i=It([0,1],function(a){return(null!=(u=t)[Dc[c=a][0]]||null!=u[Dc[c][1]]&&null!=u[Dc[c][2]])&&(e[a]="auto"),null!=e[a]&&"auto"!==e[a];var u,c});xg(n,t,{type:"box",ignoreSize:i})}var A5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.render=function(e,o,i){var a=this.group;a.removeAll();var u=e.coordinateSystem,c=u.getRangeInfo(),f=u.getOrient(),h=o.getLocaleModel();this._renderDayRect(e,c,a),this._renderLines(e,c,f,a),this._renderYearText(e,c,f,a),this._renderMonthText(e,h,f,a),this._renderWeekText(e,h,c,f,a)},t.prototype._renderDayRect=function(e,o,i){for(var a=e.coordinateSystem,u=e.getModel("itemStyle").getItemStyle(),c=a.getCellWidth(),f=a.getCellHeight(),h=o.start.time;h<=o.end.time;h=a.getNextNDay(h,1).time){var m=a.dataToRect([h],!1).tl,y=new oi({shape:{x:m[0],y:m[1],width:c,height:f},cursor:"default",style:u});i.add(y)}},t.prototype._renderLines=function(e,o,i,a){var u=this,c=e.coordinateSystem,f=e.getModel(["splitLine","lineStyle"]).getLineStyle(),h=e.get(["splitLine","show"]),m=f.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var y=o.start,_=0;y.time<=o.end.time;_++){k(y.formatedDate),0===_&&(y=c.getDateInfo(o.start.y+"-"+o.start.m));var S=y.date;S.setMonth(S.getMonth()+1),y=c.getDateInfo(S)}function k(D){u._firstDayOfMonth.push(c.getDateInfo(D)),u._firstDayPoints.push(c.dataToRect([D],!1).tl);var A=u._getLinePointsOfOneWeek(e,D,i);u._tlpoints.push(A[0]),u._blpoints.push(A[A.length-1]),h&&u._drawSplitline(A,f,a)}k(c.getNextNDay(o.end.time,1).formatedDate),h&&this._drawSplitline(u._getEdgesPoints(u._tlpoints,m,i),f,a),h&&this._drawSplitline(u._getEdgesPoints(u._blpoints,m,i),f,a)},t.prototype._getEdgesPoints=function(e,o,i){var a=[e[0].slice(),e[e.length-1].slice()],u="horizontal"===i?0:1;return a[0][u]=a[0][u]-o/2,a[1][u]=a[1][u]+o/2,a},t.prototype._drawSplitline=function(e,o,i){var a=new ou({z2:20,shape:{points:e},style:o});i.add(a)},t.prototype._getLinePointsOfOneWeek=function(e,o,i){for(var a=e.coordinateSystem,u=a.getDateInfo(o),c=[],f=0;f<7;f++){var h=a.getNextNDay(u.time,f),m=a.dataToRect([h.time],!1);c[2*h.day]=m.tl,c[2*h.day+1]=m["horizontal"===i?"bl":"tr"]}return c},t.prototype._formatterLabel=function(e,o){return Un(e)&&e?(i=e,Te(o,function(u,c){i=i.replace("{"+c+"}",u)}),i):hn(e)?e(o):o.nameMap;var i},t.prototype._yearTextPositionControl=function(e,o,i,a,u){var c=o[0],f=o[1],h=["center","bottom"];"bottom"===a?(f+=u,h=["center","top"]):"left"===a?c-=u:"right"===a?(c+=u,h=["center","top"]):f-=u;var m=0;return"left"!==a&&"right"!==a||(m=Math.PI/2),{rotation:m,x:c,y:f,style:{align:h[0],verticalAlign:h[1]}}},t.prototype._renderYearText=function(e,o,i,a){var u=e.getModel("yearLabel");if(u.get("show")){var c=u.get("margin"),f=u.get("position");f||(f="horizontal"!==i?"top":"left");var h=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],m=(h[0][0]+h[1][0])/2,y=(h[0][1]+h[1][1])/2,_="horizontal"===i?0:1,S={top:[m,h[_][1]],bottom:[m,h[1-_][1]],left:[h[1-_][0],y],right:[h[_][0],y]},k=o.start.y;+o.end.y>+o.start.y&&(k=k+"-"+o.end.y);var D=u.get("formatter"),E=this._formatterLabel(D,{start:o.start.y,end:o.end.y,nameMap:k}),N=new li({z2:30,style:yi(u,{text:E})});N.attr(this._yearTextPositionControl(N,S[f],i,f,c)),a.add(N)}},t.prototype._monthTextPositionControl=function(e,o,i,a,u){var c="left",f="top",h=e[0],m=e[1];return"horizontal"===i?(m+=u,o&&(c="center"),"start"===a&&(f="bottom")):(h+=u,o&&(f="middle"),"start"===a&&(c="right")),{x:h,y:m,align:c,verticalAlign:f}},t.prototype._renderMonthText=function(e,o,i,a){var u=e.getModel("monthLabel");if(u.get("show")){var c=u.get("nameMap"),f=u.get("margin"),h=u.get("position"),m=u.get("align"),y=[this._tlpoints,this._blpoints];c&&!Un(c)||(c&&(o=px(c)||o),c=o.get(["time","monthAbbr"])||[]);var _="start"===h?0:1,S="horizontal"===i?0:1;f="start"===h?-f:f;for(var k="center"===m,D=0;D<y[_].length-1;D++){var A=y[_][D].slice(),E=this._firstDayOfMonth[D];k&&(A[S]=(this._firstDayPoints[D][S]+y[0][D+1][S])/2);var z=u.get("formatter"),F=c[+E.m-1],q={yyyy:E.y,yy:(E.y+"").slice(2),MM:E.m,M:+E.m,nameMap:F},X=this._formatterLabel(z,q),ee=new li({z2:30,style:Pe(yi(u,{text:X}),this._monthTextPositionControl(A,k,i,h,f))});a.add(ee)}}},t.prototype._weekTextPositionControl=function(e,o,i,a,u){var c="center",f="middle",h=e[0],m=e[1],y="start"===i;return"horizontal"===o?(h=h+a+(y?1:-1)*u[0]/2,c=y?"right":"left"):(m=m+a+(y?1:-1)*u[1]/2,f=y?"bottom":"top"),{x:h,y:m,align:c,verticalAlign:f}},t.prototype._renderWeekText=function(e,o,i,a,u){var c=e.getModel("dayLabel");if(c.get("show")){var f=e.coordinateSystem,h=c.get("position"),m=c.get("nameMap"),y=c.get("margin"),_=f.getFirstDayOfWeek();(!m||Un(m))&&(m&&(o=px(m)||o),m=o.get(["time","dayOfWeekShort"])||It(o.get(["time","dayOfWeekAbbr"]),function(F){return F[0]}));var S=f.getNextNDay(i.end.time,7-i.lweek).time,k=[f.getCellWidth(),f.getCellHeight()];y=Qn(y,Math.min(k[1],k[0])),"start"===h&&(S=f.getNextNDay(i.start.time,-(7+i.fweek)).time,y=-y);for(var D=0;D<7;D++){var A,E=f.getNextNDay(S,D),N=f.dataToRect([E.time],!1).center;A=Math.abs((D+_)%7);var z=new li({z2:30,style:Pe(yi(c,{text:m[A]}),this._weekTextPositionControl(N,a,h,y,k))});u.add(z)}}},t.type="calendar",t}(Ga),JR=864e5,I5=function(){function n(t,e,o){this.type="calendar",this.dimensions=n.dimensions,this.getDimensionsInfo=n.getDimensionsInfo,this._model=t}return n.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},n.prototype.getRangeInfo=function(){return this._rangeInfo},n.prototype.getModel=function(){return this._model},n.prototype.getRect=function(){return this._rect},n.prototype.getCellWidth=function(){return this._sw},n.prototype.getCellHeight=function(){return this._sh},n.prototype.getOrient=function(){return this._orient},n.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},n.prototype.getDateInfo=function(t){var e=(t=Wc(t)).getFullYear(),o=t.getMonth()+1,i=o<10?"0"+o:""+o,a=t.getDate(),u=a<10?"0"+a:""+a,c=t.getDay();return{y:e+"",m:i,d:u,day:c=Math.abs((c+7-this.getFirstDayOfWeek())%7),time:t.getTime(),formatedDate:e+"-"+i+"-"+u,date:t}},n.prototype.getNextNDay=function(t,e){return 0===(e=e||0)||(t=new Date(this.getDateInfo(t).time)).setDate(t.getDate()+e),this.getDateInfo(t)},n.prototype.update=function(t,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var o=this._rangeInfo.weeks||1,i=["width","height"],a=this._model.getCellSize().slice(),u=this._model.getBoxLayoutParams(),c="horizontal"===this._orient?[o,7]:[7,o];Te([0,1],function(y){m(a,y)&&(u[i[y]]=a[y]*c[y])});var f={width:e.getWidth(),height:e.getHeight()},h=this._rect=au(u,f);function m(y,_){return null!=y[_]&&"auto"!==y[_]}Te([0,1],function(y){m(a,y)||(a[y]=h[i[y]]/c[y])}),this._sw=a[0],this._sh=a[1]},n.prototype.dataToPoint=function(t,e){tt(t)&&(t=t[0]),null==e&&(e=!0);var o=this.getDateInfo(t),i=this._rangeInfo;if(e&&!(o.time>=i.start.time&&o.time<i.end.time+JR))return[NaN,NaN];var u=o.day,c=this._getRangeInfo([i.start.time,o.formatedDate]).nthWeek;return"vertical"===this._orient?[this._rect.x+u*this._sw+this._sw/2,this._rect.y+c*this._sh+this._sh/2]:[this._rect.x+c*this._sw+this._sw/2,this._rect.y+u*this._sh+this._sh/2]},n.prototype.pointToData=function(t){var e=this.pointToDate(t);return e&&e.time},n.prototype.dataToRect=function(t,e){var o=this.dataToPoint(t,e);return{contentShape:{x:o[0]-(this._sw-this._lineWidth)/2,y:o[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:o,tl:[o[0]-this._sw/2,o[1]-this._sh/2],tr:[o[0]+this._sw/2,o[1]-this._sh/2],br:[o[0]+this._sw/2,o[1]+this._sh/2],bl:[o[0]-this._sw/2,o[1]+this._sh/2]}},n.prototype.pointToDate=function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,o=Math.floor((t[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(o,e-1,i):this._getDateByWeeksAndDay(e,o-1,i)},n.prototype.convertToPixel=function(t,e,o){var i=$L(e);return i===this?i.dataToPoint(o):null},n.prototype.convertFromPixel=function(t,e,o){var i=$L(e);return i===this?i.pointToData(o):null},n.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},n.prototype._initRangeOption=function(){var t,e=this._model.get("range");if(tt(e)&&1===e.length&&(e=e[0]),tt(e))t=e;else{var o=e.toString();if(/^\d{4}$/.test(o)&&(t=[o+"-01-01",o+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(o)){var i=this.getDateInfo(o),a=i.date;a.setMonth(a.getMonth()+1);var u=this.getNextNDay(a,-1);t=[i.formatedDate,u.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(o)&&(t=[o,o])}if(!t)return e;var c=this._getRangeInfo(t);return c.start.time>c.end.time&&t.reverse(),t},n.prototype._getRangeInfo=function(t){var e,o=[this.getDateInfo(t[0]),this.getDateInfo(t[1])];o[0].time>o[1].time&&(e=!0,o.reverse());var i=Math.floor(o[1].time/JR)-Math.floor(o[0].time/JR)+1,a=new Date(o[0].time),u=a.getDate(),c=o[1].date.getDate();a.setDate(u+i-1);var f=a.getDate();if(f!==c)for(var h=a.getTime()-o[1].time>0?1:-1;(f=a.getDate())!==c&&(a.getTime()-o[1].time)*h>0;)i-=h,a.setDate(f-h);var m=Math.floor((i+o[0].day+6)/7),y=e?1-m:m-1;return e&&o.reverse(),{range:[o[0].formatedDate,o[1].formatedDate],start:o[0],end:o[1],allDay:i,weeks:m,nthWeek:y,fweek:o[0].day,lweek:o[1].day}},n.prototype._getDateByWeeksAndDay=function(t,e,o){var i=this._getRangeInfo(o);if(t>i.weeks||0===t&&e<i.fweek||t===i.weeks&&e>i.lweek)return null;var a=7*(t-1)-i.fweek+e,u=new Date(i.start.time);return u.setDate(+i.start.d+a),this.getDateInfo(u)},n.create=function(t,e){var o=[];return t.eachComponent("calendar",function(i){var a=new n(i,t,e);o.push(a),i.coordinateSystem=a}),t.eachSeries(function(i){"calendar"===i.get("coordinateSystem")&&(i.coordinateSystem=o[i.get("calendarIndex")||0])}),o},n.dimensions=["time","value"],n}();function $L(n){var t=n.calendarModel,e=n.seriesModel;return t?t.coordinateSystem:e?e.coordinateSystem:null}function JL(n,t){var e;return Te(t,function(o){null!=n[o]&&"auto"!==n[o]&&(e=!0)}),e}var QL=["transition","enterFrom","leaveTo"],O5=QL.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function mP(n,t,e){if(e&&(!n[e]&&t[e]&&(n[e]={}),n=n[e],t=t[e]),n&&t)for(var o=e?QL:O5,i=0;i<o.length;i++){var a=o[i];null==n[a]&&null!=t[a]&&(n[a]=t[a])}}var E5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.preventAutoZ=!0,e}return yt(t,n),t.prototype.mergeOption=function(e,o){var i=this.option.elements;this.option.elements=null,n.prototype.mergeOption.call(this,e,o),this.option.elements=i},t.prototype.optionUpdated=function(e,o){var i=this.option,a=(o?i:e).elements,u=i.elements=o?[]:i.elements,c=[];this._flatten(a,c,null);var f=ph(u,c,"normalMerge"),h=this._elOptionsToUpdate=[];Te(f,function(m,y){var S,k,D,A,E,N,_=m.newOption;_&&(h.push(_),function(S,k){var D=S.existing;if(k.id=S.keyInfo.id,!k.type&&D&&(k.type=D.type),null==k.parentId){var A=k.parentOption;A?k.parentId=A.id:D&&(k.parentId=D.parentId)}k.parentOption=null}(m,_),S=u,k=y,A=Pe({},D=_),E=S[k],"merge"===(N=D.$action||"merge")?E?(Ve(E,A,!0),xg(E,A,{ignoreSize:!0}),T(D,E),mP(D,E),mP(D,E,"shape"),mP(D,E,"style"),mP(D,E,"extra"),D.clipPath=E.clipPath):S[k]=A:"replace"===N?S[k]=A:"remove"===N&&E&&(S[k]=null),function(S,k){if(S&&(S.hv=k.hv=[JL(k,["left","right"]),JL(k,["top","bottom"])],"group"===S.type)){var D=S,A=k;null==D.width&&(D.width=A.width=0),null==D.height&&(D.height=A.height=0)}}(u[y],_))},this),i.elements=Lr(u,function(m){return m&&delete m.$action,null!=m})},t.prototype._flatten=function(e,o,i){Te(e,function(a){if(a){i&&(a.parentOption=i),o.push(a);var u=a.children;u&&u.length&&this._flatten(u,o,a),delete a.children}},this)},t.prototype.useElOptionsToUpdate=function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e},t.type="graphic",t.defaultOption={elements:[]},t}(H),eN={path:null,compoundPath:null,group:lo,image:bu,text:li},ub=Qo(),P5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.init=function(){this._elMap=Ir()},t.prototype.render=function(e,o,i){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e),this._relocate(e,i)},t.prototype._updateElements=function(e){var o=e.useElOptionsToUpdate();if(o){var i=this._elMap,a=this.group,u=e.get("z"),c=e.get("zlevel");Te(o,function(f){var h=xa(f.id,null),m=null!=h?i.get(h):null,y=xa(f.parentId,null),_=null!=y?i.get(y):a,S=f.type,k=f.style;"text"===S&&k&&f.hv&&f.hv[1]&&(k.textVerticalAlign=k.textBaseline=k.verticalAlign=k.align=null);var D=f.textContent,A=f.textConfig;if(k&&me(k,S,!!A,!!D)){var E=Ce(k,S,!0);!A&&E.textConfig&&(A=f.textConfig=E.textConfig),!D&&E.textContent&&(D=E.textContent)}var it,N=(it=Pe({},it=f),Te(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(zm),function(ut){delete it[ut]}),it),z=f.$action||"merge",F="merge"===z,q="replace"===z;if(F){var X=m;(Fe=!m)?X=tN(h,_,f.type,i):(X&&(ub(X).isNew=!1),si(X)),X&&(ft(X,N,e,{isInit:Fe}),nN(X,f,u,c))}else if(q){vP(m,f,i,e);var ee=tN(h,_,f.type,i);ee&&(ft(ee,N,e,{isInit:!0}),nN(ee,f,u,c))}else"remove"===z&&(Ct(m,f),vP(m,f,i,e));var ie=i.get(h);if(ie&&D)if(F){var ye=ie.getTextContent();ye?ye.attr(D):ie.setTextContent(new li(D))}else q&&ie.setTextContent(new li(D));if(ie){var _e=f.clipPath;if(_e){var Se=_e.type,Ae=void 0,Fe=!1;if(F){var Xe=ie.getClipPath();Ae=(Fe=!Xe||ub(Xe).type!==Se)?QR(Se):Xe}else q&&(Fe=!0,Ae=QR(Se));ie.setClipPath(Ae),ft(Ae,_e,e,{isInit:Fe}),wi(Ae,_e.keyframeAnimation,e)}var nt=ub(ie);ie.setTextConfig(A),nt.option=f,function(it,ut,mt){var Ot=fo(it).eventData;it.silent||it.ignore||Ot||(Ot=fo(it).eventData={componentType:"graphic",componentIndex:ut.componentIndex,name:it.name}),Ot&&(Ot.info=mt.info)}(ie,e,f),As({el:ie,componentModel:e,itemName:ie.name,itemTooltipOption:f.tooltip}),wi(ie,f.keyframeAnimation,e)}})}},t.prototype._relocate=function(e,o){for(var i=e.option.elements,a=this.group,u=this._elMap,c=o.getWidth(),f=o.getHeight(),h=["x","y"],m=0;m<i.length;m++)if((A=null!=(D=xa((k=i[m]).id,null))?u.get(D):null)&&A.isGroup){var y=(E=A.parent)===a,_=ub(A),S=ub(E);_.width=Qn(_.option.width,y?c:S.width)||0,_.height=Qn(_.option.height,y?f:S.height)||0}for(m=i.length-1;m>=0;m--){var k,D,A;if(A=null!=(D=xa((k=i[m]).id,null))?u.get(D):null){var E=A.parent,N=(S=ub(E),{}),z=Fm(A,k,E===a?{width:c,height:f}:{width:S.width,height:S.height},null,{hv:k.hv,boundingMode:k.bounding},N);if(!ub(A).isNew&&z){for(var F=k.transition,q={},X=0;X<h.length;X++){var ee=h[X],ie=N[ee];F&&(Ft(F)||jt(F,ee)>=0)?q[ee]=ie:A[ee]=ie}io(A,q,e,0)}else A.attr(N)}}},t.prototype._clear=function(){var e=this,o=this._elMap;o.each(function(i){vP(i,ub(i).option,o,e._lastGraphicModel)}),this._elMap=Ir()},t.prototype.dispose=function(){this._clear()},t.type="graphic",t}(Ga);function QR(n){var e=new(Mr(eN,n)?eN[n]:l0(n))({});return ub(e).type=n,e}function tN(n,t,e,o){var i=QR(e);return t.add(i),o.set(n,i),ub(i).id=n,ub(i).isNew=!0,i}function vP(n,t,e,o){n&&n.parent&&("group"===n.type&&n.traverse(function(i){vP(i,t,e,o)}),Jt(n,t,o),e.removeKey(ub(n).id))}function nN(n,t,e,o){n.isGroup||Te([["cursor",zu.prototype.cursor],["zlevel",o||0],["z",e||0],["z2",0]],function(i){var a=i[0];Mr(t,a)?n[a]=_n(t[a],i[1]):null==n[a]&&(n[a]=i[1])}),Te(Zn(t),function(i){if(0===i.indexOf("on")){var a=t[i];n[i]=hn(a)?a:null}}),Mr(t,"draggable")&&(n.draggable=t.draggable),null!=t.name&&(n.name=t.name),null!=t.id&&(n.id=t.id)}var rN=["x","y","radius","angle","single"],R5=["cartesian2d","polar","singleAxis"];function Ik(n){return n+"Axis"}function oN(n){var t=n.ecModel,e={infoList:[],infoMap:Ir()};return n.eachTargetAxis(function(o,i){var a=t.getComponent(Ik(o),i);if(a){var u=a.getCoordSysModel();if(u){var c=u.uid,f=e.infoMap.get(c);f||(e.infoList.push(f={model:u,axisModels:[]}),e.infoMap.set(c,f)),f.axisModels.push(a)}}}),e}var eL=function(){function n(){this.indexList=[],this.indexMap=[]}return n.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},n}(),tO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._autoThrottle=!0,e._noTarget=!0,e._rangePropMode=["percent","percent"],e}return yt(t,n),t.prototype.init=function(e,o,i){var a=iN(e);this.settledOption=a,this.mergeDefaultAndTheme(e,i),this._doInit(a)},t.prototype.mergeOption=function(e){var o=iN(e);Ve(this.option,e,!0),Ve(this.settledOption,o,!0),this._doInit(o)},t.prototype._doInit=function(e){var o=this.option;this._setDefaultThrottle(e),this._updateRangeUse(e);var i=this.settledOption;Te([["start","startValue"],["end","endValue"]],function(a,u){"value"===this._rangePropMode[u]&&(o[a[0]]=i[a[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var e=this.get("orient",!0),o=this._targetAxisInfoMap=Ir();this._fillSpecifiedTargetAxis(o)?this._orient=e||this._makeAutoOrientByTargetAxis():(this._orient=e||"horizontal",this._fillAutoTargetAxisByOrient(o,this._orient)),this._noTarget=!0,o.each(function(i){i.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(e){var o=!1;return Te(rN,function(i){var a=this.getReferringComponents(Ik(i),gh);if(a.specified){o=!0;var u=new eL;Te(a.models,function(c){u.add(c.componentIndex)}),e.set(i,u)}},this),o},t.prototype._fillAutoTargetAxisByOrient=function(e,o){var i=this.ecModel,a=!0;if(a){var u="vertical"===o?"y":"x";c(i.findComponents({mainType:u+"Axis"}),u)}function c(f,h){var m=f[0];if(m){var y=new eL;if(y.add(m.componentIndex),e.set(h,y),a=!1,"x"===h||"y"===h){var _=m.getReferringComponents("grid",vu).models[0];_&&Te(f,function(S){m.componentIndex!==S.componentIndex&&_===S.getReferringComponents("grid",vu).models[0]&&y.add(S.componentIndex)})}}}a&&c(i.findComponents({mainType:"singleAxis",filter:function(f){return f.get("orient",!0)===o}}),"single"),a&&Te(rN,function(f){if(a){var h=i.findComponents({mainType:Ik(f),filter:function(y){return"category"===y.get("type",!0)}});if(h[0]){var m=new eL;m.add(h[0].componentIndex),e.set(f,m),a=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var e;return this.eachTargetAxis(function(o){!e&&(e=o)},this),"y"===e?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var o=this.ecModel.option;this.option.throttle=o.animation&&o.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(e){var o=this._rangePropMode,i=this.get("rangeMode");Te([["start","startValue"],["end","endValue"]],function(a,u){var c=null!=e[a[0]],f=null!=e[a[1]];c&&!f?o[u]="percent":!c&&f?o[u]="value":i?o[u]=i[u]:c&&(o[u]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var e;return this.eachTargetAxis(function(o,i){null==e&&(e=this.ecModel.getComponent(Ik(o),i))},this),e},t.prototype.eachTargetAxis=function(e,o){this._targetAxisInfoMap.each(function(i,a){Te(i.indexList,function(u){e.call(o,a,u)})})},t.prototype.getAxisProxy=function(e,o){var i=this.getAxisModel(e,o);if(i)return i.__dzAxisProxy},t.prototype.getAxisModel=function(e,o){var i=this._targetAxisInfoMap.get(e);if(i&&i.indexMap[o])return this.ecModel.getComponent(Ik(e),o)},t.prototype.setRawRange=function(e){var o=this.option,i=this.settledOption;Te([["start","startValue"],["end","endValue"]],function(a){null==e[a[0]]&&null==e[a[1]]||(o[a[0]]=i[a[0]]=e[a[0]],o[a[1]]=i[a[1]]=e[a[1]])},this),this._updateRangeUse(e)},t.prototype.setCalculatedRange=function(e){var o=this.option;Te(["start","startValue","end","endValue"],function(i){o[i]=e[i]})},t.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},t.prototype.getValueRange=function(e,o){if(null!=e||null!=o)return this.getAxisProxy(e,o).getDataValueWindow();var i=this.findRepresentativeAxisProxy();return i?i.getDataValueWindow():void 0},t.prototype.findRepresentativeAxisProxy=function(e){if(e)return e.__dzAxisProxy;for(var o,i=this._targetAxisInfoMap.keys(),a=0;a<i.length;a++)for(var u=i[a],c=this._targetAxisInfoMap.get(u),f=0;f<c.indexList.length;f++){var h=this.getAxisProxy(u,c.indexList[f]);if(h.hostedBy(this))return h;o||(o=h)}return o},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t}(H);function iN(n){var t={};return Te(["start","end","startValue","endValue","throttle"],function(e){n.hasOwnProperty(e)&&(t[e]=n[e])}),t}var N5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.type="dataZoom.select",t}(tO),tL=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.render=function(e,o,i,a){this.dataZoomModel=e,this.ecModel=o,this.api=i},t.type="dataZoom",t}(Ga),B5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.type="dataZoom.select",t}(tL),ND=Te,aN=la,z5=function(){function n(t,e,o,i){this._dimName=t,this._axisIndex=e,this.ecModel=i,this._dataZoomModel=o}return n.prototype.hostedBy=function(t){return this._dataZoomModel===t},n.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},n.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},n.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(e){if(u=e.get("coordinateSystem"),jt(R5,u)>=0){var o=Ik(this._dimName),i=e.getReferringComponents(o,vu).models[0];i&&this._axisIndex===i.componentIndex&&t.push(e)}var u},this),t},n.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},n.prototype.getMinMaxSpan=function(){return Re(this._minMaxSpan)},n.prototype.calculateDataWindow=function(t){var e,o=this._dataExtent,i=this.getAxisModel().axis.scale,a=this._dataZoomModel.getRangePropMode(),u=[0,100],c=[],f=[];ND(["start","end"],function(y,_){var S=t[y],k=t[y+"Value"];"percent"===a[_]?(null==S&&(S=u[_]),k=i.parse(zi(S,u,o))):(e=!0,S=zi(k=null==k?o[_]:i.parse(k),o,u)),f[_]=null==k||isNaN(k)?o[_]:k,c[_]=null==S||isNaN(S)?u[_]:S}),aN(f),aN(c);var h=this._minMaxSpan;function m(y,_,S,k,D){var A=D?"Span":"ValueSpan";_s(0,y,S,"all",h["min"+A],h["max"+A]);for(var E=0;E<2;E++)_[E]=zi(y[E],S,k,!0),D&&(_[E]=i.parse(_[E]))}return e?m(f,c,o,u,!1):m(c,f,u,o,!0),{valueWindow:f,percentWindow:c}},n.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=function(i,a,u){var c=[1/0,-1/0];ND(u,function(m){var y,_;y=c,(_=m.getData())&&Te(e_(_,a),function(k){var D=_.getApproximateExtent(k);D[0]<y[0]&&(y[0]=D[0]),D[1]>y[1]&&(y[1]=D[1])})});var f=i.getAxisModel(),h=Rg(f.axis.scale,f,c).calculate();return[h.min,h.max]}(this,this._dimName,e),this._updateMinMaxSpan();var o=this.calculateDataWindow(t.settledOption);this._valueWindow=o.valueWindow,this._percentWindow=o.percentWindow,this._setAxisModel()}},n.prototype.filterData=function(t,e){if(t===this._dataZoomModel){var o=this._dimName,i=this.getTargetSeriesModels(),a=t.get("filterMode"),u=this._valueWindow;"none"!==a&&ND(i,function(c){var f=c.getData(),h=f.mapDimensionsAll(o);if(h.length){if("weakFilter"===a){var m=f.getStore(),y=It(h,function(_){return f.getDimensionIndex(_)},f);f.filterSelf(function(_){for(var S,k,D,A=0;A<h.length;A++){var E=m.get(y[A],_),N=!isNaN(E),z=E<u[0],F=E>u[1];if(N&&!z&&!F)return!0;N&&(D=!0),z&&(S=!0),F&&(k=!0)}return D&&S&&k})}else ND(h,function(_){if("empty"===a)c.setData(f=f.map(_,function(k){return(D=k)>=u[0]&&D<=u[1]?k:NaN;var D}));else{var S={};S[_]=u,f.selectRange(S)}});ND(h,function(_){f.setApproximateExtent(u,_)})}})}},n.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,o=this._dataExtent;ND(["min","max"],function(i){var a=e.get(i+"Span"),u=e.get(i+"ValueSpan");null!=u&&(u=this.getAxisModel().axis.scale.parse(u)),null!=u?a=zi(o[0]+u,o,[0,100],!0):null!=a&&(u=zi(a,[0,100],o,!0)-o[0]),t[i+"Span"]=a,t[i+"ValueSpan"]=u},this)},n.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,o=this._valueWindow;if(e){var i=Kl(o,[0,500]);i=Math.min(i,20);var a=t.axis.scale.rawExtentInfo;0!==e[0]&&a.setDeterminedMinMax("min",+o[0].toFixed(i)),100!==e[1]&&a.setDeterminedMinMax("max",+o[1].toFixed(i)),a.freeze()}},n}(),F5={getTargetSeries:function(n){function t(i){n.eachComponent("dataZoom",function(a){a.eachTargetAxis(function(u,c){var f=n.getComponent(Ik(u),c);i(u,c,f,a)})})}t(function(i,a,u,c){u.__dzAxisProxy=null});var e=[];t(function(i,a,u,c){u.__dzAxisProxy||(u.__dzAxisProxy=new z5(i,a,c,n),e.push(u.__dzAxisProxy))});var o=Ir();return Te(e,function(i){Te(i.getTargetSeriesModels(),function(a){o.set(a.uid,a)})}),o},overallReset:function(n,t){n.eachComponent("dataZoom",function(e){e.eachTargetAxis(function(o,i){e.getAxisProxy(o,i).reset(e)}),e.eachTargetAxis(function(o,i){e.getAxisProxy(o,i).filterData(e,t)})}),n.eachComponent("dataZoom",function(e){var o=e.findRepresentativeAxisProxy();if(o){var i=o.getDataPercentWindow(),a=o.getDataValueWindow();e.setCalculatedRange({start:i[0],end:i[1],startValue:a[0],endValue:a[1]})}})}},sN=!1;function nL(n){sN||(sN=!0,n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,F5),function(t){t.registerAction("dataZoom",function(e,o){Te(function L5(n,t){var e,o=Ir(),i=[],a=Ir();n.eachComponent({mainType:"dataZoom",query:t},function(f){a.get(f.uid)||c(f)});do{e=!1,n.eachComponent("dataZoom",u)}while(e);function u(f){var m;!a.get(f.uid)&&(m=!1,f.eachTargetAxis(function(y,_){var S=o.get(y);S&&S[_]&&(m=!0)}),m)&&(c(f),e=!0)}function c(f){a.set(f.uid,!0),i.push(f),f.eachTargetAxis(function(h,m){(o.get(h)||o.set(h,[]))[m]=!0})}return i}(o,e),function(i){i.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}(n),n.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function V5(n){n.registerComponentModel(N5),n.registerComponentView(B5),nL(n)}var lb=function(){},uN={};function BD(n,t){uN[n]=t}function lN(n){return uN[n]}var H5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.optionUpdated=function(){n.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;Te(this.option.feature,function(o,i){var a=lN(i);a&&(a.getDefaultOption&&(a.defaultOption=a.getDefaultOption(e)),Ve(o,a.defaultOption))})},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},t}(H);function cN(n,t){var e=vg(t.get("padding")),o=t.getItemStyle(["color","opacity"]);return o.fill=t.get("backgroundColor"),new oi({shape:{x:n.x-e[3],y:n.y-e[0],width:n.width+e[1]+e[3],height:n.height+e[0]+e[2],r:t.get("borderRadius")},style:o,silent:!0,z2:-1})}var W5=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return yt(t,n),t.prototype.render=function(e,o,i,a){var S,k,D,A,E,N,z,u=this.group;if(u.removeAll(),e.get("show")){var c=+e.get("itemSize"),f="vertical"===e.get("orient"),h=e.get("feature")||{},m=this._features||(this._features={}),y=[];Te(h,function(S,k){y.push(k)}),new Tp(this._featureNames||[],y).add(_).update(_).remove(cr(_,null)).execute(),this._featureNames=y,S=u,D=i,A=(k=e).getBoxLayoutParams(),E=k.get("padding"),z=au(A,N={width:D.getWidth(),height:D.getHeight()},E),rl(k.get("orient"),S,k.get("itemGap"),z.width,z.height),Fm(S,A,N,E),u.add(cN(u.getBoundingRect(),e)),f||u.eachChild(function(S){var k=S.__title,D=S.ensureState("emphasis"),A=D.textConfig||(D.textConfig={}),E=S.getTextContent(),N=E&&E.ensureState("emphasis");if(N&&!hn(N)&&k){var z=N.style||(N.style={}),F=zs(k,li.makeFont(z)),q=S.x+u.x,X=!1;S.y+u.y+c+F.height>i.getHeight()&&(A.position="top",X=!0);var ee=X?-5-F.height:c+10;q+F.width/2>i.getWidth()?(A.position=["100%",ee],z.align="right"):q-F.width/2<0&&(A.position=[0,ee],z.align="left")}})}function _(S,k){var D,A=y[S],E=y[k],N=h[A],z=new Pi(N,e,e.ecModel);if(a&&null!=a.newTitle&&a.featureName===A&&(N.title=a.newTitle),A&&!E){if(0===A.indexOf("my"))D={onclick:z.option.onclick,featureName:A};else{var F=lN(A);if(!F)return;D=new F}m[A]=D}else if(!(D=m[E]))return;D.uid=Im("toolbox-feature"),D.model=z,D.ecModel=o,D.api=i;var q=D instanceof lb;A||!E?!z.get("show")||q&&D.unusable?q&&D.remove&&D.remove(o,i):(function(X,ee,ie){var ye,_e,Se=X.getModel("iconStyle"),Ae=X.getModel(["emphasis","iconStyle"]),Fe=ee instanceof lb&&ee.getIcons?ee.getIcons():X.get("icon"),Xe=X.get("title")||{};Un(Fe)?(ye={})[ie]=Fe:ye=Fe,Un(Xe)?(_e={})[ie]=Xe:_e=Xe;var nt=X.iconPaths={};Te(ye,function(it,ut){var mt=If(it,{},{x:-c/2,y:-c/2,width:c,height:c});mt.setStyle(Se.getItemStyle()),mt.ensureState("emphasis").style=Ae.getItemStyle();var Ot=new li({style:{text:_e[ut],align:Ae.get("textAlign"),borderRadius:Ae.get("textBorderRadius"),padding:Ae.get("textPadding"),fill:null},ignore:!0});mt.setTextContent(Ot),As({el:mt,componentModel:e,itemName:ut,formatterParamsExtra:{title:_e[ut]}}),mt.__title=_e[ut],mt.on("mouseover",function(){var Pt=Ae.getItemStyle(),Gt=f?null==e.get("right")&&"right"!==e.get("left")?"right":"left":null==e.get("bottom")&&"bottom"!==e.get("top")?"bottom":"top";Ot.setStyle({fill:Ae.get("textFill")||Pt.fill||Pt.stroke||"#000",backgroundColor:Ae.get("textBackgroundColor")}),mt.setTextConfig({position:Ae.get("textPosition")||Gt}),Ot.ignore=!e.get("showTitle"),i.enterEmphasis(this)}).on("mouseout",function(){"emphasis"!==X.get(["iconStatus",ut])&&i.leaveEmphasis(this),Ot.hide()}),("emphasis"===X.get(["iconStatus",ut])?Mf:qd)(mt),u.add(mt),mt.on("click",Bn(ee.onclick,ee,o,i,ut)),nt[ut]=mt})}(z,D,A),z.setIconStatus=function(X,ee){var ie=this.option,ye=this.iconPaths;ie.iconStatus=ie.iconStatus||{},ie.iconStatus[X]=ee,ye[X]&&("emphasis"===ee?Mf:qd)(ye[X])},D instanceof lb&&D.render&&D.render(z,o,i,a)):q&&D.dispose&&D.dispose(o,i)}},t.prototype.updateView=function(e,o,i,a){Te(this._features,function(u){u instanceof lb&&u.updateView&&u.updateView(u.model,o,i,a)})},t.prototype.remove=function(e,o){Te(this._features,function(i){i instanceof lb&&i.remove&&i.remove(e,o)}),this.group.removeAll()},t.prototype.dispose=function(e,o){Te(this._features,function(i){i instanceof lb&&i.dispose&&i.dispose(e,o)})},t.type="toolbox",t}(Ga),G5=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return yt(t,n),t.prototype.onclick=function(e,o){var i=this.model,a=i.get("name")||e.get("title.0.text")||"echarts",u="svg"===o.getZr().painter.getType(),c=u?"svg":i.get("type",!0)||"png",f=o.getConnectedDataURL({type:c,backgroundColor:i.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",connectedBackgroundColor:i.get("connectedBackgroundColor"),excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")}),h=We.browser;if(hn(MouseEvent)&&(h.newEdge||!h.ie&&!h.edge)){var m=document.createElement("a");m.download=a+"."+c,m.target="_blank",m.href=f;var y=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});m.dispatchEvent(y)}else if(window.navigator.msSaveOrOpenBlob||u){var _=f.split(","),S=_[0].indexOf("base64")>-1,k=u?decodeURIComponent(_[1]):_[1];S&&(k=window.atob(k));var D=a+"."+c;if(window.navigator.msSaveOrOpenBlob){for(var A=k.length,E=new Uint8Array(A);A--;)E[A]=k.charCodeAt(A);var N=new Blob([E]);window.navigator.msSaveOrOpenBlob(N,D)}else{var z=document.createElement("iframe");document.body.appendChild(z);var F=z.contentWindow,q=F.document;q.open("image/svg+xml","replace"),q.write(k),q.close(),F.focus(),q.execCommand("SaveAs",!0,D),document.body.removeChild(z)}}else{var X=i.get("lang"),ee='<body style="margin:0;"><img src="'+f+'" style="max-width:100%;" title="'+(X&&X[0]||"")+'" /></body>',ie=window.open();ie.document.write(ee),ie.document.title=a}},t.getDefaultOption=function(e){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:e.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:e.getLocaleModel().get(["toolbox","saveAsImage","lang"])}},t}(lb),fN="__ec_magicType_stack__",U5=[["line","bar"],["stack"]],j5=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return yt(t,n),t.prototype.getIcons=function(){var e=this.model,o=e.get("icon"),i={};return Te(e.get("type"),function(a){o[a]&&(i[a]=o[a])}),i},t.getDefaultOption=function(e){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:e.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},t.prototype.onclick=function(e,o,i){var a=this.model,u=a.get(["seriesIndex",i]);if(dN[i]){var c,f={series:[]};Te(U5,function(m){jt(m,i)>=0&&Te(m,function(y){a.setIconStatus(y,"normal")})}),a.setIconStatus(i,"emphasis"),e.eachComponent({mainType:"series",query:null==u?null:{seriesIndex:u}},function(m){var S=dN[i](m.subType,m.id,m,a);S&&(ht(S,m.option),f.series.push(S));var k=m.coordinateSystem;if(k&&"cartesian2d"===k.type&&("line"===i||"bar"===i)){var D=k.getAxesByScale("ordinal")[0];if(D){var A=D.dim+"Axis",E=m.getReferringComponents(A,vu).models[0].componentIndex;f[A]=f[A]||[];for(var N=0;N<=E;N++)f[A][E]=f[A][E]||{};f[A][E].boundaryGap="bar"===i}}});var h=i;"stack"===i&&(c=Ve({stack:a.option.title.tiled,tiled:a.option.title.stack},a.option.title),"emphasis"!==a.get(["iconStatus",i])&&(h="tiled")),o.dispatchAction({type:"changeMagicType",currentType:h,newOption:f,newTitle:c,featureName:"magicType"})}},t}(lb),dN={line:function(n,t,e,o){if("bar"===n)return Ve({id:t,type:"line",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},o.get(["option","line"])||{},!0)},bar:function(n,t,e,o){if("line"===n)return Ve({id:t,type:"bar",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},o.get(["option","bar"])||{},!0)},stack:function(n,t,e,o){var i=e.get("stack")===fN;if("line"===n||"bar"===n)return o.setIconStatus("stack",i?"normal":"emphasis"),Ve({id:t,stack:i?"":fN},o.get(["option","stack"])||{},!0)}};Vl({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(n,t){t.mergeOption(n.newOption)});var yP=new Array(60).join("-");function bP(n){return n.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var rL=new RegExp("[\t]+","g"),Y5=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return yt(t,n),t.prototype.onclick=function(e,o){setTimeout(function(){o.dispatchAction({type:"hideTip"})});var i=o.getDom(),a=this.model;this._dom&&i.removeChild(this._dom);var u=document.createElement("div");u.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",u.style.backgroundColor=a.get("backgroundColor")||"#fff";var c=document.createElement("h4"),f=a.get("lang")||[];c.innerHTML=f[0]||a.get("title"),c.style.cssText="margin:10px 20px",c.style.color=a.get("textColor");var h=document.createElement("div"),m=document.createElement("textarea");h.style.cssText="overflow:auto";var ie,ye,_e,Fe,Xe,nt,Se,y=a.get("optionToContent"),_=a.get("contentToOption"),S=(Fe={},Xe=[],nt=[],e.eachRawSeries(function(it){var ut=it.coordinateSystem;if(!ut||"cartesian2d"!==ut.type&&"polar"!==ut.type)Xe.push(it);else{var mt=ut.getBaseAxis();if("category"===mt.type){var Ot=mt.dim+"_"+mt.index;Fe[Ot]||(Fe[Ot]={categoryAxis:mt,valueAxis:ut.getOtherAxis(mt),series:[]},nt.push({axisDim:mt.dim,axisIndex:mt.index})),Fe[Ot].series.push(it)}else Xe.push(it)}}),{value:Lr([(ye=(Se={seriesGroupByCategoryAxis:Fe,other:Xe,meta:nt}).seriesGroupByCategoryAxis,_e=[],Te(ye,function(Ae,Fe){var Xe=Ae.categoryAxis,nt=Ae.valueAxis.dim,it=[" "].concat(It(Ae.series,function(kn){return kn.name})),ut=[Xe.model.getCategories()];Te(Ae.series,function(kn){var tr=kn.getRawData();ut.push(kn.getRawData().mapArray(tr.mapDimension(nt),function(Xt){return Xt}))});for(var mt=[it.join("\t")],Ot=0;Ot<ut[0].length;Ot++){for(var Pt=[],Gt=0;Gt<ut.length;Gt++)Pt.push(ut[Gt][Ot]);mt.push(Pt.join("\t"))}_e.push(mt.join("\n"))}),_e.join("\n\n"+yP+"\n\n")),(ie=Se.other,It(ie,function(Ae){var Fe=Ae.getRawData(),Xe=[Ae.name],nt=[];return Fe.each(Fe.dimensions,function(){for(var it=arguments.length,ut=arguments[it-1],mt=Fe.getName(ut),Ot=0;Ot<it-1;Ot++)nt[Ot]=arguments[Ot];Xe.push((mt?mt+"\t":"")+nt.join("\t"))}),Xe.join("\n")}).join("\n\n"+yP+"\n\n"))],function(Ae){return!!Ae.replace(/[\n\t\s]/g,"")}).join("\n\n"+yP+"\n\n"),meta:Se.meta});if(hn(y)){var k=y(o.getOption());Un(k)?h.innerHTML=k:Oa(k)&&h.appendChild(k)}else{m.readOnly=a.get("readOnly");var D=m.style;D.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",D.color=a.get("textColor"),D.borderColor=a.get("textareaBorderColor"),D.backgroundColor=a.get("textareaColor"),m.value=S.value,h.appendChild(m)}var A=S.meta,E=document.createElement("div");E.style.cssText="position:absolute;bottom:5px;left:0;right:0";var N="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",z=document.createElement("div"),F=document.createElement("div");N+=";background-color:"+a.get("buttonColor"),N+=";color:"+a.get("buttonTextColor");var q=this;function X(){i.removeChild(u),q._dom=null}Sa(z,"click",X),Sa(F,"click",function(){if(null==_&&null!=y||null!=_&&null==y)X();else{var ee;try{ee=hn(_)?_(h,o.getOption()):function q5(n,t){var e=n.split(new RegExp("\n*"+yP+"\n*","g")),o={series:[]};return Te(e,function(i,a){if(function(h){if(h.slice(0,h.indexOf("\n")).indexOf("\t")>=0)return!0}(i)){var u=function(h){for(var m=h.split(/\n+/g),y=[],_=It(bP(m.shift()).split(rL),function(A){return{name:A,data:[]}}),S=0;S<m.length;S++){var k=bP(m[S]).split(rL);y.push(k.shift());for(var D=0;D<k.length;D++)_[D]&&(_[D].data[S]=k[D])}return{series:_,categories:y}}(i),c=t[a],f=c.axisDim+"Axis";c&&(o[f]=o[f]||[],o[f][c.axisIndex]={data:u.categories},o.series=o.series.concat(u.series))}else u=function(h){for(var m=h.split(/\n+/g),y=bP(m.shift()),_=[],S=0;S<m.length;S++){var k=bP(m[S]);if(k){var D=k.split(rL),A="",E=void 0,N=!1;isNaN(D[0])?(N=!0,A=D[0],D=D.slice(1),_[S]={name:A,value:[]},E=_[S].value):E=_[S]=[];for(var z=0;z<D.length;z++)E.push(+D[z]);1===E.length&&(N?_[S].value=E[0]:_[S]=E[0])}}return{name:y,data:_}}(i),o.series.push(u)}),o}(m.value,A)}catch(ie){throw X(),new Error("Data view format error "+ie)}ee&&o.dispatchAction({type:"changeDataView",newOption:ee}),X()}}),z.innerHTML=f[1],F.innerHTML=f[2],F.style.cssText=z.style.cssText=N,!a.get("readOnly")&&E.appendChild(F),E.appendChild(z),u.appendChild(c),u.appendChild(h),u.appendChild(E),h.style.height=i.clientHeight-80+"px",i.appendChild(u),this._dom=u},t.prototype.remove=function(e,o){this._dom&&o.getDom().removeChild(this._dom)},t.prototype.dispose=function(e,o){this.remove(e,o)},t.getDefaultOption=function(e){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:e.getLocaleModel().get(["toolbox","dataView","title"]),lang:e.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},t}(lb);function X5(n,t){return It(n,function(e,o){var i=t&&t[o];if(fr(i)&&!tt(i)){fr(e)&&!tt(e)||(e={value:e});var a=null!=i.name&&null==e.name;return e=ht(e,i),a&&delete e.name,e}return e})}Vl({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(n,t){var e=[];Te(n.newOption.series,function(o){var i=t.getSeriesByName(o.name)[0];if(i){var a=i.get("data");e.push({name:o.name,data:X5(o.data,a)})}else e.push(Pe({type:"scatter"},o))}),t.mergeOption(ht({series:e},n.newOption))});var hN=Te,pN=Qo();function oL(n){var t=pN(n);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var Z5=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return yt(t,n),t.prototype.onclick=function(e,o){pN(e).snapshots=null,o.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(e){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:e.getLocaleModel().get(["toolbox","restore","title"])}},t}(lb);Vl({type:"restore",event:"restore",update:"prepareAndUpdate"},function(n,t){t.resetOption("recreate")});var K5=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],iL=function(){function n(t,e,o){var i=this;this._targetInfoList=[];var a=gN(e,t);Te($5,function(u,c){(!o||!o.include||jt(o.include,c)>=0)&&u(a,i._targetInfoList)})}return n.prototype.setOutputRanges=function(t,e){return this.matchOutputRanges(t,e,function(o,i,a){if((o.coordRanges||(o.coordRanges=[])).push(i),!o.coordRange){o.coordRange=i;var u=sL[o.brushType](0,a,i);o.__rangeOffset={offset:bN[o.brushType](u.values,o.range,[1,1]),xyMinMax:u.xyMinMax}}}),t},n.prototype.matchOutputRanges=function(t,e,o){Te(t,function(i){var a=this.findTargetInfo(i,e);a&&!0!==a&&Te(a.coordSyses,function(u){var c=sL[i.brushType](1,u,i.range,!0);o(i,c.values,u,e)})},this)},n.prototype.setInputRanges=function(t,e){Te(t,function(o){var a,u,c,f,h=this.findTargetInfo(o,e);if(o.range=o.range||[],h&&!0!==h){o.panelId=h.panelId;var m=sL[o.brushType](0,h.coordSys,o.coordRange),y=o.__rangeOffset;o.range=y?bN[o.brushType](m.values,y.offset,(a=y.xyMinMax,u=_N(m.xyMinMax),c=_N(a),f=[u[0]/c[0],u[1]/c[1]],isNaN(f[0])&&(f[0]=1),isNaN(f[1])&&(f[1]=1),f)):m.values}},this)},n.prototype.makePanelOpts=function(t,e){return It(this._targetInfoList,function(o){var i=o.getPanelRect();return{panelId:o.panelId,defaultBrushType:e?e(o):null,clipPath:OE(i),isTargetByCursor:PE(i,t,o.coordSysModel),getLinearBrushOtherExtent:EE(i)}})},n.prototype.controlSeries=function(t,e,o){var i=this.findTargetInfo(t,o);return!0===i||i&&jt(i.coordSyses,e.coordinateSystem)>=0},n.prototype.findTargetInfo=function(t,e){for(var o=this._targetInfoList,i=gN(e,t),a=0;a<o.length;a++){var u=o[a],c=t.panelId;if(c){if(u.panelId===c)return u}else for(var f=0;f<mN.length;f++)if(mN[f](i,u))return u}return!0},n}();function aL(n){return n[0]>n[1]&&n.reverse(),n}function gN(n,t){return wf(n,t,{includeMainTypes:K5})}var $5={grid:function(n,t){var e=n.xAxisModels,o=n.yAxisModels,i=n.gridModels,a=Ir(),u={},c={};(e||o||i)&&(Te(e,function(f){var h=f.axis.grid.model;a.set(h.id,h),u[h.id]=!0}),Te(o,function(f){var h=f.axis.grid.model;a.set(h.id,h),c[h.id]=!0}),Te(i,function(f){a.set(f.id,f),u[f.id]=!0,c[f.id]=!0}),a.each(function(f){var m=[];Te(f.coordinateSystem.getCartesians(),function(y,_){(jt(e,y.getAxis("x").model)>=0||jt(o,y.getAxis("y").model)>=0)&&m.push(y)}),t.push({panelId:"grid--"+f.id,gridModel:f,coordSysModel:f,coordSys:m[0],coordSyses:m,getPanelRect:vN.grid,xAxisDeclared:u[f.id],yAxisDeclared:c[f.id]})}))},geo:function(n,t){Te(n.geoModels,function(e){var o=e.coordinateSystem;t.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:o,coordSyses:[o],getPanelRect:vN.geo})})}},mN=[function(n,t){var e=n.xAxisModel,o=n.yAxisModel,i=n.gridModel;return!i&&e&&(i=e.axis.grid.model),!i&&o&&(i=o.axis.grid.model),i&&i===t.gridModel},function(n,t){var e=n.geoModel;return e&&e===t.geoModel}],vN={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var n=this.coordSys,t=n.getBoundingRect().clone();return t.applyTransform(Eo(n)),t}},sL={lineX:cr(yN,0),lineY:cr(yN,1),rect:function(n,t,e,o){var i=n?t.pointToData([e[0][0],e[1][0]],o):t.dataToPoint([e[0][0],e[1][0]],o),a=n?t.pointToData([e[0][1],e[1][1]],o):t.dataToPoint([e[0][1],e[1][1]],o),u=[aL([i[0],a[0]]),aL([i[1],a[1]])];return{values:u,xyMinMax:u}},polygon:function(n,t,e,o){var i=[[1/0,-1/0],[1/0,-1/0]];return{values:It(e,function(a){var u=n?t.pointToData(a,o):t.dataToPoint(a,o);return i[0][0]=Math.min(i[0][0],u[0]),i[1][0]=Math.min(i[1][0],u[1]),i[0][1]=Math.max(i[0][1],u[0]),i[1][1]=Math.max(i[1][1],u[1]),u}),xyMinMax:i}}};function yN(n,t,e,o){var i=e.getAxis(["x","y"][n]),a=aL(It([0,1],function(c){return t?i.coordToData(i.toLocalCoord(o[c]),!0):i.toGlobalCoord(i.dataToCoord(o[c]))})),u=[];return u[n]=a,u[1-n]=[NaN,NaN],{values:a,xyMinMax:u}}var bN={lineX:cr(xN,0),lineY:cr(xN,1),rect:function(n,t,e){return[[n[0][0]-e[0]*t[0][0],n[0][1]-e[0]*t[0][1]],[n[1][0]-e[1]*t[1][0],n[1][1]-e[1]*t[1][1]]]},polygon:function(n,t,e){return It(n,function(o,i){return[o[0]-e[0]*t[i][0],o[1]-e[1]*t[i][1]]})}};function xN(n,t,e,o){return[t[0]-o[n]*e[0],t[1]-o[n]*e[1]]}function _N(n){return n?[n[0][1]-n[0][0],n[1][1]-n[1][0]]:[NaN,NaN]}var lL,cL=Te,Q5=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return yt(t,n),t.prototype.render=function(e,o,i,a){this._brushController||(this._brushController=new dI(i.getZr()),this._brushController.on("brush",Bn(this._onBrush,this)).mount()),function(u,c,f,h,m){var y=f._isZoomActive;h&&"takeGlobalCursor"===h.type&&(y="dataZoomSelect"===h.key&&h.dataZoomSelectActive),f._isZoomActive=y,u.setIconStatus("zoom",y?"emphasis":"normal");var S=new iL(fL(u),c,{include:["grid"]}).makePanelOpts(m,function(k){return k.xAxisDeclared&&!k.yAxisDeclared?"lineX":!k.xAxisDeclared&&k.yAxisDeclared?"lineY":"rect"});f._brushController.setPanels(S).enableBrush(!(!y||!S.length)&&{brushType:"auto",brushStyle:u.getModel("brushStyle").getItemStyle()})}(e,o,this,a,i),e.setIconStatus("back",oL(o).length>1?"emphasis":"normal")},t.prototype.onclick=function(e,o,i){ez[i].call(this)},t.prototype.remove=function(e,o){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(e,o){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(e){var c,f,h,o=e.areas;if(e.isEnd&&o.length){var i={},a=this.ecModel;this._brushController.updateCovers([]),new iL(fL(this.model),a,{include:["grid"]}).matchOutputRanges(o,a,function(c,f,h){if("cartesian2d"===h.type){var m=c.brushType;"rect"===m?(u("x",h,f[0]),u("y",h,f[1])):u({lineX:"x",lineY:"y"}[m],h,f)}}),f=i,h=oL(c=a),hN(f,function(m,y){for(var _=h.length-1;_>=0&&!h[_][y];_--);if(_<0){var S=c.queryComponents({mainType:"dataZoom",subType:"select",id:y})[0];if(S){var k=S.getPercentRange();h[0][y]={dataZoomId:y,start:k[0],end:k[1]}}}}),h.push(f),this._dispatchZoomAction(i)}function u(c,f,h){var k,D,E,m=f.getAxis(c),y=m.model,_=(k=c,D=y,a.eachComponent({mainType:"dataZoom",subType:"select"},function(N){N.getAxisModel(k,D.componentIndex)&&(E=N)}),E),S=_.findRepresentativeAxisProxy(y).getMinMaxSpan();null==S.minValueSpan&&null==S.maxValueSpan||(h=_s(0,h.slice(),m.scale.getExtent(),0,S.minValueSpan,S.maxValueSpan)),_&&(i[_.id]={dataZoomId:_.id,startValue:h[0],endValue:h[1]})}},t.prototype._dispatchZoomAction=function(e){var o=[];cL(e,function(i,a){o.push(Re(i))}),o.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:o})},t.getDefaultOption=function(e){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:e.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},t}(lb),ez={zoom:function(){this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!this._isZoomActive})},back:function(){this._dispatchZoomAction(function(n){var t=oL(n),e=t[t.length-1];t.length>1&&t.pop();var o={};return hN(e,function(i,a){for(var u=t.length-1;u>=0;u--)if(i=t[u][a]){o[a]=i;break}}),o}(this.ecModel))}};function fL(n){var t={xAxisIndex:n.get("xAxisIndex",!0),yAxisIndex:n.get("yAxisIndex",!0),xAxisId:n.get("xAxisId",!0),yAxisId:n.get("yAxisId",!0)};return null==t.xAxisIndex&&null==t.xAxisId&&(t.xAxisIndex="all"),null==t.yAxisIndex&&null==t.yAxisId&&(t.yAxisIndex="all"),t}lL=function(n){var t=n.getComponent("toolbox",0),e=["feature","dataZoom"];if(t&&null!=t.get(e)){var o=t.getModel(e),i=[],a=wf(n,fL(o));return cL(a.xAxisModels,function(c){return u(c,"xAxis","xAxisIndex")}),cL(a.yAxisModels,function(c){return u(c,"yAxis","yAxisIndex")}),i}function u(c,f,h){var m=c.componentIndex,y={type:"select",$fromToolbox:!0,filterMode:o.get("filterMode",!0)||"filter",id:"\0_ec_\0toolbox-dataZoom_"+f+m};y[h]=m,i.push(y)}},go(null==Vn.get("dataZoom")&&lL),Vn.set("dataZoom",lL);var tz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t}(H);function wN(n){var t=n.get("confine");return null!=t?!!t:"richText"===n.get("renderMode")}function SN(n){if(We.domSupported)for(var t=document.documentElement.style,e=0,o=n.length;e<o;e++)if(n[e]in t)return n[e]}var CN=SN(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function kN(n,t){if(!n)return t;t=Vr(t,!0);var e=n.indexOf(t);return(n=-1===e?t:"-"+n.slice(0,e)+"-"+t).toLowerCase()}var nz=kN(SN(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),dL=kN(CN,"transform"),rz="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(We.transform3dSupported?"will-change:transform;":"");function MN(n,t,e){var o=n.toFixed(0)+"px",i=t.toFixed(0)+"px";if(!We.transformSupported)return e?"top:"+i+";left:"+o+";":[["top",i],["left",o]];var a=We.transform3dSupported,u="translate"+(a?"3d":"")+"("+o+","+i+(a?",0":"")+")";return e?"top:0;left:0;"+dL+":"+u+";":[["top",0],["left",0],[CN,u]]}function TN(n,t,e,o,i){var f,m,a=t&&t.painter;if(e){var u=a&&a.getViewportRoot();u&&(f=n,m=document.body,Zi(wo,u,o,i,!0)&&Zi(f,m,wo[0],wo[1]))}else{n[0]=o,n[1]=i;var c=a&&a.getViewportRootOffset();c&&(n[0]+=c.offsetLeft,n[1]+=c.offsetTop)}n[2]=n[0]/t.getWidth(),n[3]=n[1]/t.getHeight()}var iz=function(){function n(t,e,o){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,We.wxa)return null;var i=document.createElement("div");i.domBelongToZr=!0,this.el=i;var a=this._zr=e.getZr(),u=this._appendToBody=o&&o.appendToBody;TN(this._styleCoord,a,u,e.getWidth()/2,e.getHeight()/2),u?document.body.appendChild(i):t.appendChild(i),this._container=t;var c=this;i.onmouseenter=function(){c._enterable&&(clearTimeout(c._hideTimeout),c._show=!0),c._inContent=!0},i.onmousemove=function(f){if(f=f||window.event,!c._enterable){var h=a.handler;Qr(a.painter.getViewportRoot(),f,!0),h.dispatch("mousemove",f)}},i.onmouseleave=function(){c._inContent=!1,c._enterable&&c._show&&c.hideLater(c._hideDelay)}}return n.prototype.update=function(t){var e,i,a=this._container,u=("position",(i=(e=a).currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e))?i.position:null),c=a.style;"absolute"!==c.position&&"absolute"!==u&&(c.position="relative");var f=t.get("alwaysShowContent");f&&this._moveIfResized(),this._alwaysShowContent=f,this.el.className=t.get("className")||""},n.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var o=this.el,i=o.style,a=this._styleCoord;o.innerHTML?i.cssText=rz+function oz(n,t,e){var S,A,E,o=[],i=n.get("transitionDuration"),a=n.get("backgroundColor"),u=n.get("shadowBlur"),c=n.get("shadowColor"),f=n.get("shadowOffsetX"),h=n.get("shadowOffsetY"),m=n.getModel("textStyle"),y=Ah(n,"html");return o.push("box-shadow:"+f+"px "+h+"px "+u+"px "+c),t&&i&&o.push((E="opacity"+(A=" "+(S=i)/2+"s "+"cubic-bezier(0.23,1,0.32,1)")+",visibility"+A,e||(A=" "+S+"s cubic-bezier(0.23,1,0.32,1)",E+=We.transformSupported?","+dL+A:",left"+A+",top"+A),nz+":"+E)),a&&o.push("background-color:"+a),Te(["width","color","radius"],function(S){var k="border-"+S,D=Vr(k),A=n.get(D);null!=A&&o.push(k+":"+A+("color"===S?"":"px"))}),o.push(function(S){var k=[],D=S.get("fontSize"),A=S.getTextColor();A&&k.push("color:"+A),k.push("font:"+S.getFont()),D&&k.push("line-height:"+Math.round(3*D/2)+"px");var E=S.get("textShadowColor"),N=S.get("textShadowBlur")||0,z=S.get("textShadowOffsetX")||0,F=S.get("textShadowOffsetY")||0;return E&&N&&k.push("text-shadow:"+z+"px "+F+"px "+N+"px "+E),Te(["decoration","align"],function(q){var X=S.get(q);X&&k.push("text-"+q+":"+X)}),k.join(";")}(m)),null!=y&&o.push("padding:"+vg(y).join("px ")+"px"),o.join(";")+";"}(t,!this._firstShow,this._longHide)+MN(a[0],a[1],!0)+"border-color:"+iu(e)+";"+(t.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},n.prototype.setContent=function(t,e,o,i,a){var u=this.el;if(null!=t){var c="";if(Un(a)&&"item"===o.get("trigger")&&!wN(o)&&(c=function(m,y,_){if(!Un(_)||"inside"===_)return"";var S=m.get("backgroundColor"),k=m.get("borderWidth");y=iu(y);var D,A,E="left"===(D=_)?"right":"right"===D?"left":"top"===D?"bottom":"top",N=Math.max(1.5*Math.round(k),6),z="",F=dL+":";jt(["left","right"],E)>-1?(z+="top:50%",F+="translateY(-50%) rotate("+(A="left"===E?-225:-45)+"deg)"):(z+="left:50%",F+="translateX(-50%) rotate("+(A="top"===E?225:45)+"deg)");var q=A*Math.PI/180,X=N+k,ee=X*Math.abs(Math.cos(q))+X*Math.abs(Math.sin(q)),ie=y+" solid "+k+"px;";return'<div style="'+["position:absolute;width:"+N+"px;height:"+N+"px;z-index:-1;",(z+=";"+E+":-"+Math.round(100*((ee-Math.SQRT2*k)/2+Math.SQRT2*k-(ee-X)/2))/100+"px")+";"+F+";","border-bottom:"+ie,"border-right:"+ie,"background-color:"+S+";"].join("")+'"></div>'}(o,i,a)),Un(t))u.innerHTML=t+c;else if(t){u.innerHTML="",tt(t)||(t=[t]);for(var f=0;f<t.length;f++)Oa(t[f])&&t[f].parentNode!==u&&u.appendChild(t[f]);if(c&&u.childNodes.length){var h=document.createElement("div");h.innerHTML=c,u.appendChild(h)}}}else u.innerHTML=""},n.prototype.setEnterable=function(t){this._enterable=t},n.prototype.getSize=function(){var t=this.el;return[t.offsetWidth,t.offsetHeight]},n.prototype.moveTo=function(t,e){var o=this._styleCoord;if(TN(o,this._zr,this._appendToBody,t,e),null!=o[0]&&null!=o[1]){var i=this.el.style;Te(MN(o[0],o[1]),function(a){i[a[0]]=a[1]})}},n.prototype._moveIfResized=function(){var e=this._styleCoord[3];this.moveTo(this._styleCoord[2]*this._zr.getWidth(),e*this._zr.getHeight())},n.prototype.hide=function(){var t=this,e=this.el.style;e.visibility="hidden",e.opacity="0",We.transform3dSupported&&(e.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},n.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||this._alwaysShowContent||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(Bn(this.hide,this),t)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},n}(),az=function(){function n(t){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=t.getZr(),AN(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return n.prototype.update=function(t){var e=t.get("alwaysShowContent");e&&this._moveIfResized(),this._alwaysShowContent=e},n.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},n.prototype.setContent=function(t,e,o,i,a){var u=this;fr(t)&&fi(""),this.el&&this._zr.remove(this.el);var c=o.getModel("textStyle");this.el=new li({style:{rich:e.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:c.get("textShadowColor"),fill:o.get(["textStyle","color"]),padding:Ah(o,"richText"),verticalAlign:"top",align:"left"},z:o.get("z")}),Te(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(h){u.el.style[h]=o.get(h)}),Te(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(h){u.el.style[h]=c.get(h)||0}),this._zr.add(this.el);var f=this;this.el.on("mouseover",function(){f._enterable&&(clearTimeout(f._hideTimeout),f._show=!0),f._inContent=!0}),this.el.on("mouseout",function(){f._enterable&&f._show&&f.hideLater(f._hideDelay),f._inContent=!1})},n.prototype.setEnterable=function(t){this._enterable=t},n.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),o=DN(t.style);return[e.width+o.left+o.right,e.height+o.top+o.bottom]},n.prototype.moveTo=function(t,e){var o=this.el;if(o){var i=this._styleCoord;AN(i,this._zr,t,e),t=i[0],e=i[1];var a=o.style,u=Ok(a.borderWidth||0),c=DN(a);o.x=t+u+c.left,o.y=e+u+c.top,o.markRedraw()}},n.prototype._moveIfResized=function(){var e=this._styleCoord[3];this.moveTo(this._styleCoord[2]*this._zr.getWidth(),e*this._zr.getHeight())},n.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},n.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||this._alwaysShowContent||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(Bn(this.hide,this),t)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this._zr.remove(this.el)},n}();function Ok(n){return Math.max(0,n)}function DN(n){var t=Ok(n.shadowBlur||0),e=Ok(n.shadowOffsetX||0),o=Ok(n.shadowOffsetY||0);return{left:Ok(t-e),right:Ok(t+e),top:Ok(t-o),bottom:Ok(t+o)}}function AN(n,t,e,o){n[0]=e,n[1]=o,n[2]=n[0]/t.getWidth(),n[3]=n[1]/t.getHeight()}var sz=new oi({shape:{x:-1,y:-1,width:2,height:2}}),uz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.init=function(e,o){if(!We.node&&o.getDom()){var i,a=e.getComponent("tooltip"),u=this._renderMode="auto"===(i=a.get("renderMode"))?We.domSupported?"html":"richText":i||"html";this._tooltipContent="richText"===u?new az(o):new iz(o.getDom(),o,{appendToBody:a.get("appendToBody",!0)})}},t.prototype.render=function(e,o,i){if(!We.node&&i.getDom()){this.group.removeAll(),this._tooltipModel=e,this._ecModel=o,this._api=i;var a=this._tooltipContent;a.update(e),a.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow(),"richText"!==this._renderMode&&e.get("transitionDuration")?C0(this,"_updatePosition",50,"fixRate"):Dx(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var e=this._tooltipModel.get("triggerOn");$I("itemTooltip",this._api,Bn(function(o,i,a){"none"!==e&&(e.indexOf(o)>=0?this._tryShow(i,a):"leave"===o&&this._hide(a))},this))},t.prototype._keepShow=function(){var e=this._tooltipModel,o=this._ecModel,i=this._api,a=e.get("triggerOn");if(null!=this._lastX&&null!=this._lastY&&"none"!==a&&"click"!==a){var u=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&u.manuallyShowTip(e,o,i,{x:u._lastX,y:u._lastY,dataByCoordSys:u._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(e,o,i,a){if(a.from!==this.uid&&!We.node&&i.getDom()){var u=IN(a,i);this._ticket="";var c=a.dataByCoordSys,f=function(k,D,A){var E=Ld(k).queryOptionMap,N=E.keys()[0];if(N&&"series"!==N){var q,F=tp(D,N,E.get(N),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(F&&(A.getViewOfComponentModel(F).group.traverse(function(ee){var ie=fo(ee).tooltipConfig;if(ie&&ie.name===k.name)return q=ee,!0}),q))return{componentMainType:N,componentIndex:F.componentIndex,el:q}}}(a,o,i);if(f){var h=f.el.getBoundingRect().clone();h.applyTransform(f.el.transform),this._tryShow({offsetX:h.x+h.width/2,offsetY:h.y+h.height/2,target:f.el,position:a.position,positionDefault:"bottom"},u)}else if(a.tooltip&&null!=a.x&&null!=a.y){var m=sz;m.x=a.x,m.y=a.y,m.update(),fo(m).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:m},u)}else if(c)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:c,tooltipOption:a.tooltipOption},u);else if(null!=a.seriesIndex){if(this._manuallyAxisShowTip(e,o,i,a))return;var y=Fo(a,o),_=y.point[0],S=y.point[1];null!=_&&null!=S&&this._tryShow({offsetX:_,offsetY:S,target:y.el,position:a.position,positionDefault:"bottom"},u)}else null!=a.x&&null!=a.y&&(i.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:i.getZr().findHover(a.x,a.y).target},u))}},t.prototype.manuallyHideTip=function(e,o,i,a){this._tooltipModel&&this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide(IN(a,i))},t.prototype._manuallyAxisShowTip=function(e,o,i,a){var u=a.seriesIndex,c=a.dataIndex,f=o.getComponent("axisPointer").coordSysAxesInfo;if(null!=u&&null!=c&&null!=f){var h=o.getSeriesByIndex(u);if(h&&"axis"===rO([h.getData().getItemModel(c),h,(h.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return i.dispatchAction({type:"updateAxisPointer",seriesIndex:u,dataIndex:c,position:a.position}),!0}},t.prototype._tryShow=function(e,o){var i=e.target;if(this._tooltipModel){this._lastX=e.offsetX,this._lastY=e.offsetY;var a=e.dataByCoordSys;if(a&&a.length)this._showAxisTooltip(a,e);else if(i){var u,c;this._lastDataByCoordSys=null,fy(i,function(f){return null!=fo(f).dataIndex?(u=f,!0):null!=fo(f).tooltipConfig?(c=f,!0):void 0},!0),u?this._showSeriesItemTooltip(e,u,o):c?this._showComponentItemTooltip(e,c,o):this._hide(o)}else this._lastDataByCoordSys=null,this._hide(o)}},t.prototype._showOrMove=function(e,o){var i=e.get("showDelay");o=Bn(o,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(o,i):o()},t.prototype._showAxisTooltip=function(e,o){var i=this._ecModel,a=this._tooltipModel,u=[o.offsetX,o.offsetY],c=rO([o.tooltipOption],a),f=this._renderMode,h=[],m=Fl("section",{blocks:[],noHeader:!0}),y=[],_=new iw;Te(e,function(N){Te(N.dataByAxis,function(z){var F=i.getComponent(z.axisDim+"Axis",z.axisIndex),q=z.value;if(F&&null!=q){var X=vv(q,F.axis,i,z.seriesDataIndices,z.valueLabelOpt),ee=Fl("section",{header:X,noHeader:!ni(X),sortBlocks:!0,blocks:[]});m.blocks.push(ee),Te(z.seriesDataIndices,function(ie){var ye=i.getSeriesByIndex(ie.seriesIndex),_e=ie.dataIndexInside,Se=ye.getDataParams(_e);if(!(Se.dataIndex<0)){Se.axisDim=z.axisDim,Se.axisIndex=z.axisIndex,Se.axisType=z.axisType,Se.axisId=z.axisId,Se.axisValue=f1(F.axis,{value:q}),Se.axisValueLabel=X,Se.marker=_.makeTooltipMarker("item",iu(Se.color),f);var Ae=OT(ye.formatTooltip(_e,!0,null)),Fe=Ae.frag;if(Fe){var Xe=rO([ye],a).get("valueFormatter");ee.blocks.push(Xe?Pe({valueFormatter:Xe},Fe):Fe)}Ae.text&&y.push(Ae.text),h.push(Se)}})}})}),m.blocks.reverse(),y.reverse();var S=o.position,k=c.get("order"),D=Cp(m,_,f,k,i.get("useUTC"),c.get("textStyle"));D&&y.unshift(D);var E=y.join("richText"===f?"\n\n":"<br/>");this._showOrMove(c,function(){this._updateContentNotChangedOnAxis(e,h)?this._updatePosition(c,S,u[0],u[1],this._tooltipContent,h):this._showTooltipContent(c,E,h,Math.random()+"",u[0],u[1],S,null,_)})},t.prototype._showSeriesItemTooltip=function(e,o,i){var a=this._ecModel,u=fo(o),c=u.seriesIndex,f=a.getSeriesByIndex(c),h=u.dataModel||f,m=u.dataIndex,y=u.dataType,_=h.getData(y),S=this._renderMode,k=e.positionDefault,D=rO([_.getItemModel(m),h,f&&(f.coordinateSystem||{}).model],this._tooltipModel,k?{position:k}:null),A=D.get("trigger");if(null==A||"item"===A){var E=h.getDataParams(m,y),N=new iw;E.marker=N.makeTooltipMarker("item",iu(E.color),S);var z=OT(h.formatTooltip(m,!1,y)),F=D.get("order"),q=D.get("valueFormatter"),X=z.frag,ee=X?Cp(q?Pe({valueFormatter:q},X):X,N,S,F,a.get("useUTC"),D.get("textStyle")):z.text,ie="item_"+h.name+"_"+m;this._showOrMove(D,function(){this._showTooltipContent(D,ee,E,ie,e.offsetX,e.offsetY,e.position,e.target,N)}),i({type:"showTip",dataIndexInside:m,dataIndex:_.getRawIndex(m),seriesIndex:c,from:this.uid})}},t.prototype._showComponentItemTooltip=function(e,o,i){var a=fo(o),u=a.tooltipConfig.option||{};Un(u)&&(u={content:u,formatter:u});var c=[u],f=this._ecModel.getComponent(a.componentMainType,a.componentIndex);f&&c.push(f),c.push({formatter:u.content});var h=e.positionDefault,m=rO(c,this._tooltipModel,h?{position:h}:null),y=m.get("content"),_=Math.random()+"",S=new iw;this._showOrMove(m,function(){var k=Re(m.get("formatterParams")||{});this._showTooltipContent(m,y,k,_,e.offsetX,e.offsetY,e.position,o,S)}),i({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(e,o,i,a,u,c,f,h,m){if(this._ticket="",e.get("showContent")&&e.get("show")){var y=this._tooltipContent;y.setEnterable(e.get("enterable"));var _=e.get("formatter");f=f||e.get("position");var S=o,k=this._getNearestPoint([u,c],i,e.get("trigger"),e.get("borderColor")).color;if(_)if(Un(_)){var D=e.ecModel.get("useUTC"),A=tt(i)?i[0]:i;S=_,A&&A.axisType&&A.axisType.indexOf("time")>=0&&(S=Is(A.axisValue,S,D)),S=wu(S,i,!0)}else if(hn(_)){var E=Bn(function(N,z){N===this._ticket&&(y.setContent(z,m,e,k,f),this._updatePosition(e,f,u,c,y,i,h))},this);this._ticket=a,S=_(i,a,E)}else S=_;y.setContent(S,m,e,k,f),y.show(e,k),this._updatePosition(e,f,u,c,y,i,h)}},t.prototype._getNearestPoint=function(e,o,i,a){return"axis"===i||tt(o)?{color:a||("html"===this._renderMode?"#fff":"none")}:tt(o)?void 0:{color:a||o.color||o.borderColor}},t.prototype._updatePosition=function(e,o,i,a,u,c,f){var h=this._api.getWidth(),m=this._api.getHeight();o=o||e.get("position");var N,z,q,X,ee,ie,ye,_e,Se,y=u.getSize(),_=e.get("align"),S=e.get("verticalAlign"),k=f&&f.getBoundingRect().clone();if(f&&k.applyTransform(f.transform),hn(o)&&(o=o([i,a],c,u.el,k,{viewSize:[h,m],contentSize:y.slice()})),tt(o))i=Qn(o[0],h),a=Qn(o[1],m);else if(fr(o)){var D=o;D.width=y[0],D.height=y[1];var A=au(D,{width:h,height:m});i=A.x,a=A.y,_=null,S=null}else if(Un(o)&&f){var E=function(N,z,F,q){var X=F[0],ee=F[1],ie=Math.ceil(Math.SQRT2*q)+8,ye=0,_e=0,Se=z.width,Ae=z.height;switch(N){case"inside":ye=z.x+Se/2-X/2,_e=z.y+Ae/2-ee/2;break;case"top":ye=z.x+Se/2-X/2,_e=z.y-ee-ie;break;case"bottom":ye=z.x+Se/2-X/2,_e=z.y+Ae+ie;break;case"left":ye=z.x-X-ie,_e=z.y+Ae/2-ee/2;break;case"right":ye=z.x+Se+ie,_e=z.y+Ae/2-ee/2}return[ye,_e]}(o,k,y,e.get("borderWidth"));i=E[0],a=E[1]}else N=i,z=a,q=h,X=m,ee=_?null:20,ie=S?null:20,_e=(ye=u.getSize())[0],Se=ye[1],null!=ee&&(N+_e+ee+2>q?N-=_e+ee:N+=ee),null!=ie&&(z+Se+ie>X?z-=Se+ie:z+=ie),i=(E=[N,z])[0],a=E[1];_&&(i-=ON(_)?y[0]/2:"right"===_?y[0]:0),S&&(a-=ON(S)?y[1]/2:"bottom"===S?y[1]:0),wN(e)&&(E=function(N,z,F,q,X){var ee=F.getSize(),ie=ee[0],ye=ee[1];return N=Math.min(N+ie,q)-ie,z=Math.min(z+ye,X)-ye,[N=Math.max(N,0),z=Math.max(z,0)]}(i,a,u,h,m),i=E[0],a=E[1]),u.moveTo(i,a)},t.prototype._updateContentNotChangedOnAxis=function(e,o){var i=this._lastDataByCoordSys,a=this._cbParamsList,u=!!i&&i.length===e.length;return u&&Te(i,function(c,f){var h=c.dataByAxis||[],m=(e[f]||{}).dataByAxis||[];(u=u&&h.length===m.length)&&Te(h,function(y,_){var S=m[_]||{},k=y.seriesDataIndices||[],D=S.seriesDataIndices||[];(u=u&&y.value===S.value&&y.axisType===S.axisType&&y.axisId===S.axisId&&k.length===D.length)&&Te(k,function(A,E){var N=D[E];u=u&&A.seriesIndex===N.seriesIndex&&A.dataIndex===N.dataIndex}),a&&Te(y.seriesDataIndices,function(A){var E=A.seriesIndex,N=o[E],z=a[E];N&&z&&z.data!==N.data&&(u=!1)})})}),this._lastDataByCoordSys=e,this._cbParamsList=o,!!u},t.prototype._hide=function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},t.prototype.dispose=function(e,o){!We.node&&o.getDom()&&(Dx(this,"_updatePosition"),this._tooltipContent.dispose(),LD("itemTooltip",o))},t.type="tooltip",t}(Ga);function rO(n,t,e){var o,i=t.ecModel;e?(o=new Pi(e,i,i),o=new Pi(t.option,o,i)):o=t;for(var a=n.length-1;a>=0;a--){var u=n[a];u&&(u instanceof Pi&&(u=u.get("tooltip",!0)),Un(u)&&(u={formatter:u}),u&&(o=new Pi(u,o,i)))}return o}function IN(n,t){return n.dispatchAction||Bn(t.dispatchAction,t)}function ON(n){return"center"===n||"middle"===n}var lz=["rect","polygon","keep","clear"];function cz(n,t){var f,h,e=Ko(n?n.brush:[]);if(e.length){var o=[];Te(e,function(f){var h=f.hasOwnProperty("toolbox")?f.toolbox:[];h instanceof Array&&(o=o.concat(h))});var i=n&&n.toolbox;tt(i)&&(i=i[0]),i||(n.toolbox=[i={feature:{}}]);var a=i.feature||(i.feature={}),u=a.brush||(a.brush={}),c=u.type||(u.type=[]);c.push.apply(c,o),h={},Te(f=c,function(m){h[m]=1}),f.length=0,Te(h,function(m,y){f.push(y)}),t&&!c.length&&c.push.apply(c,lz)}}var EN=Te;function PN(n){if(n)for(var t in n)if(n.hasOwnProperty(t))return!0}function hL(n,t,e){var o={};return EN(t,function(i){var a,u=o[i]=((a=function(){}).prototype.__hidden=a.prototype,new a);EN(n[i],function(c,f){if(cf.isValidType(f)){var h={type:f,visual:c};e&&e(h,i),u[f]=new cf(h),"opacity"===f&&((h=Re(h)).type="colorAlpha",u.__hidden.__alphaForOpacity=new cf(h))}})}),o}function RN(n,t,e){var o;Te(e,function(i){t.hasOwnProperty(i)&&PN(t[i])&&(o=!0)}),o&&Te(e,function(i){t.hasOwnProperty(i)&&PN(t[i])?n[i]=Re(t[i]):delete n[i]})}var LN={lineX:NN(0),lineY:NN(1),rect:{point:function(n,t,e){return n&&e.boundingRect.contain(n[0],n[1])},rect:function(n,t,e){return n&&e.boundingRect.intersect(n)}},polygon:{point:function(n,t,e){return n&&e.boundingRect.contain(n[0],n[1])&&q0(e.range,n[0],n[1])},rect:function(n,t,e){var o=e.range;if(!n||o.length<=1)return!1;var i=n.x,a=n.y,u=n.width,c=n.height,f=o[0];return!!(q0(o,i,a)||q0(o,i+u,a)||q0(o,i,a+c)||q0(o,i+u,a+c)||To.create(n).contain(f[0],f[1])||ug(i,a,i+u,a,o)||ug(i,a,i,a+c,o)||ug(i+u,a,i+u,a+c,o)||ug(i,a+c,i+u,a+c,o))||void 0}}};function NN(n){var t=["x","y"],e=["width","height"];return{point:function(o,i,a){if(o)return oO(o[n],a.range)},rect:function(o,i,a){if(o){var u=a.range,c=[o[t[n]],o[t[n]]+o[e[n]]];return c[1]<c[0]&&c.reverse(),oO(c[0],u)||oO(c[1],u)||oO(u[0],c)||oO(u[1],c)}}}}function oO(n,t){return t[0]<=n&&n<=t[1]}var BN=["inBrush","outOfBrush"],pL="__ecBrushSelect",gL="__ecInBrushSelectEvent";function zN(n){n.eachComponent({mainType:"brush"},function(t){(t.brushTargetManager=new iL(t.option,n)).setInputRanges(t.areas,n)})}function fz(n,t,e){var o,i,a=[];n.eachComponent({mainType:"brush"},function(u){e&&"takeGlobalCursor"===e.type&&u.setBrushOption("brush"===e.key?e.brushOption:{brushType:!1})}),zN(n),n.eachComponent({mainType:"brush"},function(u,c){var f={brushId:u.id,brushIndex:c,brushName:u.name,areas:Re(u.areas),selected:[]};a.push(f);var h=u.option,m=h.brushLink,y=[],_=[],S=[],k=!1;c||(o=h.throttleType,i=h.throttleDelay);var D=It(u.areas,function(z){var X,ee,ie,F=hz[z.brushType],q=ht({boundingRect:F?F(z):void 0},z);return q.selectors=(ee=(X=q).brushType,ie={point:function(ye){return LN[ee].point(ye,ie,X)},rect:function(ye){return LN[ee].rect(ye,ie,X)}}),q}),A=hL(u.option,BN,function(z){z.mappingMethod="fixed"});function E(z){return"all"===m||!!y[z]}function N(z){return!!z.length}tt(m)&&Te(m,function(z){y[z]=1}),n.eachSeries(function(z,F){var X,ee,ie,q=S[F]=[];"parallel"===z.subType?(ee=F,ie=(X=z).coordinateSystem,k=k||ie.hasAxisBrushed(),E(ee)&&ie.eachActiveState(X.getData(),function(ye,_e){"active"===ye&&(_[_e]=1)})):function(X,ee,ie){if(X.brushSelector&&(Se=ee,null==(Ae=u.option.seriesIndex)||"all"===Ae||!(tt(Ae)?jt(Ae,Se)<0:Se!==Ae))&&(Te(D,function(_e){u.brushTargetManager.controlSeries(_e,X,n)&&ie.push(_e),k=k||N(ie)}),E(ee)&&N(ie))){var ye=X.getData();ye.each(function(_e){FN(X,ie,ye,_e)&&(_[_e]=1)})}var Se,Ae}(z,F,q)}),n.eachSeries(function(z,F){var q={seriesId:z.id,seriesIndex:F,seriesName:z.name,dataIndex:[]};f.selected.push(q);var X=S[F],ee=z.getData(),ie=E(F)?function(ye){return _[ye]?(q.dataIndex.push(ee.getRawIndex(ye)),"inBrush"):"outOfBrush"}:function(ye){return FN(z,X,ee,ye)?(q.dataIndex.push(ee.getRawIndex(ye)),"inBrush"):"outOfBrush"};(E(F)?k:N(X))&&function(ye,_e,Se,Ae,Fe,Xe){var nt,it={};function ut(Pt){return pw(Se,nt,Pt)}function mt(Pt,Gt){oM(Se,nt,Pt,Gt)}Te(ye,function(Pt){var Gt=cf.prepareVisualTypes(_e[Pt]);it[Pt]=Gt}),Se.each(function Ot(Pt,Gt){var kn=Se.getRawDataItem(nt=Pt);if(!kn||!1!==kn.visualMap)for(var tr=Ae.call(void 0,Pt),Xt=_e[tr],zn=it[tr],gr=0,dr=zn.length;gr<dr;gr++){var nr=zn[gr];Xt[nr]&&Xt[nr].applyVisual(Pt,ut,mt)}})}(BN,A,ee,ie)})}),function(u,c,f,h,m){if(m){var y=u.getZr();y[gL]||(y[pL]||(y[pL]=dz),C0(y,pL,f,c)(u,h))}}(t,o,i,a,e)}function dz(n,t){if(!n.isDisposed()){var e=n.getZr();e[gL]=!0,n.dispatchAction({type:"brushSelect",batch:t}),e[gL]=!1}}function FN(n,t,e,o){for(var i=0,a=t.length;i<a;i++){var u=t[i];if(n.brushSelector(o,e,u.selectors,u))return!0}}var hz={rect:function(n){return VN(n.range)},polygon:function(n){for(var t,e=n.range,o=0,i=e.length;o<i;o++){var a=e[o];a[0]<(t=t||[[1/0,-1/0],[1/0,-1/0]])[0][0]&&(t[0][0]=a[0]),a[0]>t[0][1]&&(t[0][1]=a[0]),a[1]<t[1][0]&&(t[1][0]=a[1]),a[1]>t[1][1]&&(t[1][1]=a[1])}return t&&VN(t)}};function VN(n){return new To(n[0][0],n[1][0],n[0][1]-n[0][0],n[1][1]-n[1][0])}var pz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.init=function(e,o){this.ecModel=e,this.api=o,(this._brushController=new dI(o.getZr())).on("brush",Bn(this._onBrush,this)).mount()},t.prototype.render=function(e,o,i,a){this.model=e,this._updateController(e,o,i,a)},t.prototype.updateTransform=function(e,o,i,a){zN(o),this._updateController(e,o,i,a)},t.prototype.updateVisual=function(e,o,i,a){this.updateTransform(e,o,i,a)},t.prototype.updateView=function(e,o,i,a){this._updateController(e,o,i,a)},t.prototype._updateController=function(e,o,i,a){(!a||a.$from!==e.id)&&this._brushController.setPanels(e.brushTargetManager.makePanelOpts(i)).enableBrush(e.brushOption).updateCovers(e.areas.slice())},t.prototype.dispose=function(){this._brushController.dispose()},t.prototype._onBrush=function(e){var o=this.model.id,i=this.model.brushTargetManager.setOutputRanges(e.areas,this.ecModel);(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:o,areas:Re(i),$from:o}),e.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:o,areas:Re(i),$from:o})},t.type="brush",t}(Ga),gz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.areas=[],e.brushOption={},e}return yt(t,n),t.prototype.optionUpdated=function(e,o){var i=this.option;!o&&RN(i,e,["inBrush","outOfBrush"]);var a=i.inBrush=i.inBrush||{};i.outOfBrush=i.outOfBrush||{color:"#ddd"},a.hasOwnProperty("liftZ")||(a.liftZ=5)},t.prototype.setAreas=function(e){e&&(this.areas=It(e,function(o){return HN(this.option,o)},this))},t.prototype.setBrushOption=function(e){this.brushOption=HN(this.option,e),this.brushType=this.brushOption.brushType},t.type="brush",t.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],t.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},t}(H);function HN(n,t){return Ve({brushType:n.brushType,brushMode:n.brushMode,transformable:n.transformable,brushStyle:new Pi(n.brushStyle).getItemStyle(),removeOnClick:n.removeOnClick,z:n.z},t,!0)}var mz=["rect","polygon","lineX","lineY","keep","clear"],vz=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return yt(t,n),t.prototype.render=function(e,o,i){var a,u,c;o.eachComponent({mainType:"brush"},function(f){a=f.brushType,u=f.brushOption.brushMode||"single",c=c||!!f.areas.length}),this._brushType=a,this._brushMode=u,Te(e.get("type",!0),function(f){e.setIconStatus(f,("keep"===f?"multiple"===u:"clear"===f?c:f===a)?"emphasis":"normal")})},t.prototype.updateView=function(e,o,i){this.render(e,o,i)},t.prototype.getIcons=function(){var e=this.model,o=e.get("icon",!0),i={};return Te(e.get("type",!0),function(a){o[a]&&(i[a]=o[a])}),i},t.prototype.onclick=function(e,o,i){var a=this._brushType,u=this._brushMode;"clear"===i?(o.dispatchAction({type:"axisAreaSelect",intervals:[]}),o.dispatchAction({type:"brush",command:"clear",areas:[]})):o.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===i?a:a!==i&&i,brushMode:"keep"===i?"multiple"===u?"single":"multiple":u}})},t.getDefaultOption=function(e){return{show:!0,type:mz.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:e.getLocaleModel().get(["toolbox","brush","title"])}},t}(lb),yz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return yt(t,n),t.type="title",t.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},t}(H),bz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.render=function(e,o,i){if(this.group.removeAll(),e.get("show")){var a=this.group,u=e.getModel("textStyle"),c=e.getModel("subtextStyle"),f=e.get("textAlign"),h=_n(e.get("textBaseline"),e.get("textVerticalAlign")),m=new li({style:yi(u,{text:e.get("text"),fill:u.getTextColor()},{disableBox:!0}),z2:10}),y=m.getBoundingRect(),_=e.get("subtext"),S=new li({style:yi(c,{text:_,fill:c.getTextColor(),y:y.height+e.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),k=e.get("link"),D=e.get("sublink"),A=e.get("triggerEvent",!0);m.silent=!k&&!A,S.silent=!D&&!A,k&&m.on("click",function(){yg(k,"_"+e.get("target"))}),D&&S.on("click",function(){yg(D,"_"+e.get("subtarget"))}),fo(m).eventData=fo(S).eventData=A?{componentType:"title",componentIndex:e.componentIndex}:null,a.add(m),_&&a.add(S);var E=a.getBoundingRect(),N=e.getBoxLayoutParams();N.width=E.width,N.height=E.height;var z=au(N,{width:i.getWidth(),height:i.getHeight()},e.get("padding"));f||("middle"===(f=e.get("left")||e.get("right"))&&(f="center"),"right"===f?z.x+=z.width:"center"===f&&(z.x+=z.width/2)),h||("center"===(h=e.get("top")||e.get("bottom"))&&(h="middle"),"bottom"===h?z.y+=z.height:"middle"===h&&(z.y+=z.height/2),h=h||"top"),a.x=z.x,a.y=z.y,a.markRedraw();var F={align:f,verticalAlign:h};m.setStyle(F),S.setStyle(F),E=a.getBoundingRect();var q=z.margin,X=e.getItemStyle(["color","opacity"]);X.fill=e.get("backgroundColor");var ee=new oi({shape:{x:E.x-q[3],y:E.y-q[0],width:E.width+q[1]+q[3],height:E.height+q[0]+q[2],r:e.get("borderRadius")},style:X,subPixelOptimize:!0,silent:!0});a.add(ee)}},t.type="title",t}(Ga),WN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.layoutMode="box",e}return yt(t,n),t.prototype.init=function(e,o,i){this.mergeDefaultAndTheme(e,i),this._initData()},t.prototype.mergeOption=function(e){n.prototype.mergeOption.apply(this,arguments),this._initData()},t.prototype.setCurrentIndex=function(e){null==e&&(e=this.option.currentIndex);var o=this._data.count();this.option.loop?e=(e%o+o)%o:(e>=o&&(e=o-1),e<0&&(e=0)),this.option.currentIndex=e},t.prototype.getCurrentIndex=function(){return this.option.currentIndex},t.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},t.prototype.setPlayState=function(e){this.option.autoPlay=!!e},t.prototype.getPlayState=function(){return!!this.option.autoPlay},t.prototype._initData=function(){var e,o=this.option,i=o.data||[],a=o.axisType,u=this._names=[];"category"===a?(e=[],Te(i,function(f,h){var m,y=xa(vl(f),"");fr(f)?(m=Re(f)).value=h:m=h,e.push(m),u.push(y)})):e=i,(this._data=new uc([{name:"value",type:{category:"ordinal",time:"time",value:"number"}[a]||"number"}],this)).initData(e,u)},t.prototype.getData=function(){return this._data},t.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},t.type="timeline",t.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},t}(H),GN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.type="timeline.slider",t.defaultOption=Xd(WN.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),t}(WN);_r(GN,jS.prototype);var xz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.type="timeline",t}(Ga),_z=function(n){function t(e,o,i,a){var u=n.call(this,e,o,i)||this;return u.type=a||"value",u}return yt(t,n),t.prototype.getLabelModel=function(){return this.model.getModel("label")},t.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},t}(gd),mL=Math.PI,UN=Qo(),wz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.init=function(e,o){this.api=o},t.prototype.render=function(e,o,i){if(this.model=e,this.api=i,this.ecModel=o,this.group.removeAll(),e.get("show",!0)){var a=this._layout(e,i),u=this._createGroup("_mainGroup"),c=this._createGroup("_labelGroup"),f=this._axis=this._createAxis(a,e);e.formatTooltip=function(h){return Fl("nameValue",{noName:!0,value:f.scale.getLabel({value:h})})},Te(["AxisLine","AxisTick","Control","CurrentPointer"],function(h){this["_render"+h](a,u,f,e)},this),this._renderAxisLabel(a,c,f,e),this._position(a,e)}this._doPlayStop(),this._updateTicksStatus()},t.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},t.prototype.dispose=function(){this._clearTimer()},t.prototype._layout=function(e,o){var i,a,u,c,Ae,Fe,f=e.get(["label","position"]),h=e.get("orient"),m=(Fe=o,au((Ae=e).getBoxLayoutParams(),{width:Fe.getWidth(),height:Fe.getHeight()},Ae.get("padding"))),y={horizontal:"center",vertical:(i=null==f||"auto"===f?"horizontal"===h?m.y+m.height/2<o.getHeight()/2?"-":"+":m.x+m.width/2<o.getWidth()/2?"+":"-":Un(f)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[h][f]:f)>=0||"+"===i?"left":"right"},_={horizontal:i>=0||"+"===i?"top":"bottom",vertical:"middle"},S={horizontal:0,vertical:mL/2},k="vertical"===h?m.height:m.width,D=e.getModel("controlStyle"),A=D.get("show",!0),E=A?D.get("itemSize"):0,N=A?D.get("itemGap"):0,z=E+N,F=e.get(["label","rotate"])||0;F=F*mL/180;var q=D.get("position",!0),X=A&&D.get("showPlayBtn",!0),ee=A&&D.get("showPrevBtn",!0),ie=A&&D.get("showNextBtn",!0),ye=0,_e=k;"left"===q||"bottom"===q?(X&&(a=[0,0],ye+=z),ee&&(u=[ye,0],ye+=z),ie&&(c=[_e-E,0],_e-=z)):(X&&(a=[_e-E,0],_e-=z),ee&&(u=[0,0],ye+=z),ie&&(c=[_e-E,0],_e-=z));var Se=[ye,_e];return e.get("inverse")&&Se.reverse(),{viewRect:m,mainLength:k,orient:h,rotation:S[h],labelRotation:F,labelPosOpt:i,labelAlign:e.get(["label","align"])||y[h],labelBaseline:e.get(["label","verticalAlign"])||e.get(["label","baseline"])||_[h],playPosition:a,prevBtnPosition:u,nextBtnPosition:c,axisExtent:Se,controlSize:E,controlGap:N}},t.prototype._position=function(e,o){var i=this._mainGroup,a=this._labelGroup,u=e.viewRect;if("vertical"===e.orient){var c=[1,0,0,1,0,0],f=u.x,h=u.y+u.height;zc(c,c,[-f,-h]),Ul(c,c,-mL/2),zc(c,c,[f,h]),(u=u.clone()).applyTransform(c)}var m=N(u),y=N(i.getBoundingRect()),_=N(a.getBoundingRect()),S=[i.x,i.y],k=[a.x,a.y];k[0]=S[0]=m[0][0];var D,A=e.labelPosOpt;function E(F){F.originX=m[0][0]-F.x,F.originY=m[1][0]-F.y}function N(F){return[[F.x,F.x+F.width],[F.y,F.y+F.height]]}function z(F,q,X,ee,ie){F[ee]+=X[ee][ie]-q[ee][ie]}null==A||Un(A)?(z(S,y,m,1,D="+"===A?0:1),z(k,_,m,1,1-D)):(z(S,y,m,1,D=A>=0?0:1),k[1]=S[1]+A),i.setPosition(S),a.setPosition(k),i.rotation=a.rotation=e.rotation,E(i),E(a)},t.prototype._createAxis=function(e,o){var i=o.getData(),a=o.get("axisType"),u=function(h,m){if(m=m||h.get("type"))switch(m){case"category":return new V0({ordinalMeta:h.getCategories(),extent:[1/0,-1/0]});case"time":return new Lw({locale:h.ecModel.getLocaleModel(),useUTC:h.ecModel.get("useUTC")});default:return new Km}}(o,a);u.getTicks=function(){return i.mapArray(["value"],function(h){return{value:h}})};var c=i.getDataExtent("value");u.setExtent(c[0],c[1]),u.calcNiceTicks();var f=new _z("value",u,e.axisExtent,a);return f.model=o,f},t.prototype._createGroup=function(e){var o=this[e]=new lo;return this.group.add(o),o},t.prototype._renderAxisLine=function(e,o,i,a){var u=i.getExtent();if(a.get(["lineStyle","show"])){var c=new Ws({shape:{x1:u[0],y1:0,x2:u[1],y2:0},style:Pe({lineCap:"round"},a.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});o.add(c);var f=this._progressLine=new Ws({shape:{x1:u[0],x2:this._currentPointer?this._currentPointer.x:u[0],y1:0,y2:0},style:ht({lineCap:"round",lineWidth:c.style.lineWidth},a.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});o.add(f)}},t.prototype._renderAxisTick=function(e,o,i,a){var u=this,c=a.getData(),f=i.scale.getTicks();this._tickSymbols=[],Te(f,function(h){var m=i.dataToCoord(h.value),y=c.getItemModel(h.value),_=y.getModel("itemStyle"),S=y.getModel(["emphasis","itemStyle"]),k=y.getModel(["progress","itemStyle"]),D={x:m,y:0,onclick:Bn(u._changeTimeline,u,h.value)},A=jN(y,_,o,D);A.ensureState("emphasis").style=S.getItemStyle(),A.ensureState("progress").style=k.getItemStyle(),Tf(A);var E=fo(A);y.get("tooltip")?(E.dataIndex=h.value,E.dataModel=a):E.dataIndex=E.dataModel=null,u._tickSymbols.push(A)})},t.prototype._renderAxisLabel=function(e,o,i,a){var u=this;if(i.getLabelModel().get("show")){var c=a.getData(),f=i.getViewLabels();this._tickLabels=[],Te(f,function(h){var m=h.tickValue,y=c.getItemModel(m),_=y.getModel("label"),S=y.getModel(["emphasis","label"]),k=y.getModel(["progress","label"]),D=i.dataToCoord(h.tickValue),A=new li({x:D,y:0,rotation:e.labelRotation-e.rotation,onclick:Bn(u._changeTimeline,u,m),silent:!1,style:yi(_,{text:h.formattedLabel,align:e.labelAlign,verticalAlign:e.labelBaseline})});A.ensureState("emphasis").style=yi(S),A.ensureState("progress").style=yi(k),o.add(A),Tf(A),UN(A).dataIndex=m,u._tickLabels.push(A)})}},t.prototype._renderControl=function(e,o,i,a){var u=e.controlSize,c=e.rotation,f=a.getModel("controlStyle").getItemStyle(),h=a.getModel(["emphasis","controlStyle"]).getItemStyle(),m=a.getPlayState(),y=a.get("inverse",!0);function _(S,k,D,A){if(S){var E=gl(_n(a.get(["controlStyle",k+"BtnSize"]),u),u),N=(q=[0,-E/2,E,E],ee=(X={x:S[0],y:S[1],originX:u/2,originY:0,rotation:A?-c:0,rectHover:!0,style:f,onclick:D}).style,ie=If(a.get(["controlStyle",k+"Icon"]),X||{},new To(q[0],q[1],q[2],q[3])),ee&&ie.setStyle(ee),ie);N.ensureState("emphasis").style=h,o.add(N),Tf(N)}var q,X,ee,ie}_(e.nextBtnPosition,"next",Bn(this._changeTimeline,this,y?"-":"+")),_(e.prevBtnPosition,"prev",Bn(this._changeTimeline,this,y?"+":"-")),_(e.playPosition,m?"stop":"play",Bn(this._handlePlayClick,this,!m),!0)},t.prototype._renderCurrentPointer=function(e,o,i,a){var u=a.getData(),c=a.getCurrentIndex(),f=u.getItemModel(c).getModel("checkpointStyle"),h=this;this._currentPointer=jN(f,f,this._mainGroup,{},this._currentPointer,{onCreate:function(y){y.draggable=!0,y.drift=Bn(h._handlePointerDrag,h),y.ondragend=Bn(h._handlePointerDragend,h),qN(y,h._progressLine,c,i,a,!0)},onUpdate:function(y){qN(y,h._progressLine,c,i,a)}})},t.prototype._handlePlayClick=function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},t.prototype._handlePointerDrag=function(e,o,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},t.prototype._handlePointerDragend=function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},t.prototype._pointerChangeTimeline=function(e,o){var i=this._toAxisCoord(e)[0],a=la(this._axis.getExtent().slice());i>a[1]&&(i=a[1]),i<a[0]&&(i=a[0]),this._currentPointer.x=i,this._currentPointer.markRedraw();var u=this._progressLine;u&&(u.shape.x2=i,u.dirty());var c=this._findNearestTick(i),f=this.model;(o||c!==f.getCurrentIndex()&&f.get("realtime"))&&this._changeTimeline(c)},t.prototype._doPlayStop=function(){var e=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var o=e.model;e._changeTimeline(o.getCurrentIndex()+(o.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},t.prototype._toAxisCoord=function(e){return _u(e,this._mainGroup.getLocalTransform(),!0)},t.prototype._findNearestTick=function(e){var o,i=this.model.getData(),a=1/0,u=this._axis;return i.each(["value"],function(c,f){var h=u.dataToCoord(c),m=Math.abs(h-e);m<a&&(a=m,o=f)}),o},t.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},t.prototype._changeTimeline=function(e){var o=this.model.getCurrentIndex();"+"===e?e=o+1:"-"===e&&(e=o-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})},t.prototype._updateTicksStatus=function(){var e=this.model.getCurrentIndex(),o=this._tickSymbols,i=this._tickLabels;if(o)for(var a=0;a<o.length;a++)o&&o[a]&&o[a].toggleState("progress",a<e);if(i)for(a=0;a<i.length;a++)i&&i[a]&&i[a].toggleState("progress",UN(i[a]).dataIndex<=e)},t.type="timeline.slider",t}(xz);function jN(n,t,e,o,i,a){var u=t.get("color");i?(i.setColor(u),e.add(i),a&&a.onUpdate(i)):((i=Hu(n.get("symbol"),-1,-1,2,2,u)).setStyle("strokeNoScale",!0),e.add(i),a&&a.onCreate(i));var c=t.getItemStyle(["color"]);i.setStyle(c),o=Ve({rectHover:!0,z2:100},o,!0);var f=Xb(n.get("symbolSize"));o.scaleX=f[0]/2,o.scaleY=f[1]/2;var h=Zb(n.get("symbolOffset"),f);h&&(o.x=(o.x||0)+h[0],o.y=(o.y||0)+h[1]);var m=n.get("symbolRotate");return o.rotation=(m||0)*Math.PI/180||0,i.attr(o),i.updateTransform(),i}function qN(n,t,e,o,i,a){if(!n.dragging){var u=i.getModel("checkpointStyle"),c=o.dataToCoord(i.getData().get("value",e));if(a||!u.get("animation",!0))n.attr({x:c,y:0}),t&&t.attr({shape:{x2:c}});else{var f={duration:u.get("animationDuration",!0),easing:u.get("animationEasing",!0)};n.stopAnimation(null,!0),n.animateTo({x:c,y:0},f),t&&t.animateTo({shape:{x2:c}},f)}}}function Sz(n){var t=n&&n.timeline;tt(t)||(t=t?[t]:[]),Te(t,function(e){e&&function(o){var i=o.type,a={number:"value",time:"time"};if(a[i]&&(o.axisType=a[i],delete o.type),YN(o),MT(o,"controlPosition")){var u=o.controlStyle||(o.controlStyle={});MT(u,"position")||(u.position=o.controlPosition),"none"!==u.position||MT(u,"show")||(u.show=!1,delete u.position),delete o.controlPosition}Te(o.data||[],function(c){fr(c)&&!tt(c)&&(!MT(c,"value")&&MT(c,"name")&&(c.value=c.name),YN(c))})}(e)})}function YN(n){var t=n.itemStyle||(n.itemStyle={}),e=t.emphasis||(t.emphasis={}),o=n.label||n.label||{},i=o.normal||(o.normal={}),a={normal:1,emphasis:1};Te(o,function(u,c){a[c]||MT(i,c)||(i[c]=u)}),e.label&&!MT(o,"emphasis")&&(o.emphasis=e.label,delete e.label)}function MT(n,t){return n.hasOwnProperty(t)}function vL(n,t){if(!n)return!1;for(var e=tt(n)?n:[n],o=0;o<e.length;o++)if(e[o]&&e[o][t])return!0;return!1}function xP(n){Ta(n,"label",["show"])}var _P=Qo(),ES=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.createdBySelf=!1,e}return yt(t,n),t.prototype.init=function(e,o,i){this.mergeDefaultAndTheme(e,i),this._mergeOption(e,i,!1,!0)},t.prototype.isAnimationEnabled=function(){if(We.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},t.prototype.mergeOption=function(e,o){this._mergeOption(e,o,!1,!1)},t.prototype._mergeOption=function(e,o,i,a){var u=this.mainType;i||o.eachSeries(function(c){var f=c.get(this.mainType,!0),h=_P(c)[u];f&&f.data?(h?h._mergeOption(f,o,!0):(a&&xP(f),Te(f.data,function(m){m instanceof Array?(xP(m[0]),xP(m[1])):xP(m)}),Pe(h=this.createMarkerModelFromSeries(f,this,o),{mainType:this.mainType,seriesIndex:c.seriesIndex,name:c.name,createdBySelf:!0}),h.__hostSeries=c),_P(c)[u]=h):_P(c)[u]=null},this)},t.prototype.formatTooltip=function(e,o,i){var a=this.getData(),u=this.getRawValue(e),c=a.getName(e);return Fl("section",{header:this.name,blocks:[Fl("nameValue",{name:c,value:u,noName:!c,noValue:null==u})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(e){this._data=e},t.getMarkerModelFromSeries=function(e,o){return _P(e)[o]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t}(H);_r(ES,jS.prototype);var Cz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.createMarkerModelFromSeries=function(e,o,i){return new t(e,o,i)},t.type="markPoint",t.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},t}(ES);function yL(n){return!(isNaN(parseFloat(n.x))&&isNaN(parseFloat(n.y)))}function wP(n,t,e,o,i,a){var u=[],c=ei(t,o)?t.getCalculationInfo("stackResultDimension"):o,f=xL(t,c,n),h=t.indicesOfNearest(c,f)[0];u[i]=t.get(e,h),u[a]=t.get(c,h);var m=t.get(o,h),y=eu(t.get(o,h));return(y=Math.min(y,20))>=0&&(u[a]=+u[a].toFixed(y)),[u,m]}var bL={min:cr(wP,"min"),max:cr(wP,"max"),average:cr(wP,"average"),median:cr(wP,"median")};function iO(n,t){if(t){var e=n.getData(),o=n.coordinateSystem,i=o&&o.dimensions;if(y=t,(isNaN(parseFloat(y.x))||isNaN(parseFloat(y.y)))&&!tt(t.coord)&&tt(i)){var a=XN(t,e,o,n);if((t=Re(t)).type&&bL[t.type]&&a.baseAxis&&a.valueAxis){var u=jt(i,a.baseAxis.dim),c=jt(i,a.valueAxis.dim),f=bL[t.type](e,a.baseDataDim,a.valueDataDim,u,c);t.coord=f[0],t.value=f[1]}else t.coord=[null!=t.xAxis?t.xAxis:t.radiusAxis,null!=t.yAxis?t.yAxis:t.angleAxis]}if(null!=t.coord&&tt(i))for(var h=t.coord,m=0;m<2;m++)bL[h[m]]&&(h[m]=xL(e,e.mapDimension(i[m]),h[m]));else t.coord=[];return t}var y}function XN(n,t,e,o){var u,c,i={};return null!=n.valueIndex||null!=n.valueDim?(i.valueDataDim=null!=n.valueIndex?t.getDimension(n.valueIndex):n.valueDim,i.valueAxis=e.getAxis((u=i.valueDataDim,(c=o.getData().getDimensionInfo(u))&&c.coordDim)),i.baseAxis=e.getOtherAxis(i.valueAxis),i.baseDataDim=t.mapDimension(i.baseAxis.dim)):(i.baseAxis=o.getBaseAxis(),i.valueAxis=e.getOtherAxis(i.baseAxis),i.baseDataDim=t.mapDimension(i.baseAxis.dim),i.valueDataDim=t.mapDimension(i.valueAxis.dim)),i}function aO(n,t){return!(n&&n.containData&&t.coord&&!yL(t))||n.containData(t.coord)}function ZN(n,t){return n?function(e,o,i,a){return v0(a<2?e.coord&&e.coord[a]:e.value,t[a])}:function(e,o,i,a){return v0(e.value,t[a])}}function xL(n,t,e){if("average"===e){var o=0,i=0;return n.each(t,function(a,u){isNaN(a)||(o+=a,i++)}),o/i}return"median"===e?n.getMedian(t):n.getDataExtent(t)["max"===e?1:0]}var _L=Qo(),wL=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.init=function(){this.markerGroupMap=Ir()},t.prototype.render=function(e,o,i){var a=this,u=this.markerGroupMap;u.each(function(c){_L(c).keep=!1}),o.eachSeries(function(c){var f=ES.getMarkerModelFromSeries(c,a.type);f&&a.renderSeries(c,f,o,i)}),u.each(function(c){!_L(c).keep&&a.group.remove(c.group)})},t.prototype.markKeep=function(e){_L(e).keep=!0},t.prototype.toggleBlurSeries=function(e,o){var i=this;Te(e,function(a){var u=ES.getMarkerModelFromSeries(a,i.type);u&&u.getData().eachItemGraphicEl(function(c){c&&(o?Cb(c):n0(c))})})},t.type="marker",t}(Ga);function KN(n,t,e){var o=t.coordinateSystem;n.each(function(i){var a,u=n.getItemModel(i),c=Qn(u.get("x"),e.getWidth()),f=Qn(u.get("y"),e.getHeight());if(isNaN(c)||isNaN(f)){if(t.getMarkerPosition)a=t.getMarkerPosition(n.getValues(n.dimensions,i));else if(o){var h=n.get(o.dimensions[0],i),m=n.get(o.dimensions[1],i);a=o.dataToPoint([h,m])}}else a=[c,f];isNaN(c)||(a[0]=c),isNaN(f)||(a[1]=f),n.setItemLayout(i,a)})}var kz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.updateTransform=function(e,o,i){o.eachSeries(function(a){var u=ES.getMarkerModelFromSeries(a,"markPoint");u&&(KN(u.getData(),a,i),this.markerGroupMap.get(a.id).updateLayout())},this)},t.prototype.renderSeries=function(e,o,i,a){var u=e.coordinateSystem,c=e.id,f=e.getData(),h=this.markerGroupMap,m=h.get(c)||h.set(c,new tb),y=function(_,S,k){var D;D=_?It(_&&_.dimensions,function(z){return Pe(Pe({},S.getData().getDimensionInfo(S.getData().mapDimension(z))||{}),{name:z,ordinalMeta:null})}):[{name:"value",type:"float"}];var A=new uc(D,k),E=It(k.get("data"),cr(iO,S));_&&(E=Lr(E,cr(aO,_)));var N=ZN(!!_,D);return A.initData(E,null,N),A}(u,e,o);o.setData(y),KN(o.getData(),e,a),y.each(function(_){var S=y.getItemModel(_),k=S.getShallow("symbol"),D=S.getShallow("symbolSize"),A=S.getShallow("symbolRotate"),E=S.getShallow("symbolOffset"),N=S.getShallow("symbolKeepAspect");if(hn(k)||hn(D)||hn(A)||hn(E)){var z=o.getRawValue(_),F=o.getDataParams(_);hn(k)&&(k=k(z,F)),hn(D)&&(D=D(z,F)),hn(A)&&(A=A(z,F)),hn(E)&&(E=E(z,F))}var q=S.getModel("itemStyle").getItemStyle(),X=cy(f,"color");q.fill||(q.fill=X),y.setItemVisual(_,{symbol:k,symbolSize:D,symbolRotate:A,symbolOffset:E,symbolKeepAspect:N,style:q})}),m.updateData(y),this.group.add(m.group),y.eachItemGraphicEl(function(_){_.traverse(function(S){fo(S).dataModel=o})}),this.markKeep(m),m.group.silent=o.get("silent")||e.get("silent")},t.type="markPoint",t}(wL),Mz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.createMarkerModelFromSeries=function(e,o,i){return new t(e,o,i)},t.type="markLine",t.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},t}(ES),SP=Qo(),Tz=function(n,t,e,o){var i,a=n.getData();if(tt(o))i=o;else{var u=o.type;if("min"===u||"max"===u||"average"===u||"median"===u||null!=o.xAxis||null!=o.yAxis){var c=void 0,f=void 0;if(null!=o.yAxis||null!=o.xAxis)c=t.getAxis(null!=o.yAxis?"y":"x"),f=ar(o.yAxis,o.xAxis);else{var h=XN(o,a,t,n);c=h.valueAxis,f=xL(a,mM(a,h.valueDataDim),u)}var m="x"===c.dim?0:1,y=1-m,_=Re(o),S={coord:[]};_.type=null,_.coord=[],_.coord[y]=-1/0,S.coord[y]=1/0;var k=e.get("precision");k>=0&&hr(f)&&(f=+f.toFixed(Math.min(k,20))),_.coord[m]=S.coord[m]=f,i=[_,S,{type:u,valueIndex:o.valueIndex,value:f}]}else i=[]}var D=[iO(n,i[0]),iO(n,i[1]),Pe({},i[2])];return D[2].type=D[2].type||null,Ve(D[2],D[0]),Ve(D[2],D[1]),D};function CP(n){return!isNaN(n)&&!isFinite(n)}function $N(n,t,e,o){var i=1-n,a=o.dimensions[n];return CP(t[i])&&CP(e[i])&&t[n]===e[n]&&o.getAxis(a).containData(t[n])}function Dz(n,t){if("cartesian2d"===n.type){var e=t[0].coord,o=t[1].coord;if(e&&o&&($N(1,e,o,n)||$N(0,e,o,n)))return!0}return aO(n,t[0])&&aO(n,t[1])}function SL(n,t,e,o,i){var a,u=o.coordinateSystem,c=n.getItemModel(t),f=Qn(c.get("x"),i.getWidth()),h=Qn(c.get("y"),i.getHeight());if(isNaN(f)||isNaN(h)){if(o.getMarkerPosition)a=o.getMarkerPosition(n.getValues(n.dimensions,t));else{var m=u.dimensions,y=n.get(m[0],t),_=n.get(m[1],t);a=u.dataToPoint([y,_])}if(rb(u,"cartesian2d")){var S=u.getAxis("x"),k=u.getAxis("y");CP(n.get((m=u.dimensions)[0],t))?a[0]=S.toGlobalCoord(S.getExtent()[e?0:1]):CP(n.get(m[1],t))&&(a[1]=k.toGlobalCoord(k.getExtent()[e?0:1]))}isNaN(f)||(a[0]=f),isNaN(h)||(a[1]=h)}else a=[f,h];n.setItemLayout(t,a)}var Az=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.updateTransform=function(e,o,i){o.eachSeries(function(a){var u=ES.getMarkerModelFromSeries(a,"markLine");if(u){var c=u.getData(),f=SP(u).from,h=SP(u).to;f.each(function(m){SL(f,m,!0,a,i),SL(h,m,!1,a,i)}),c.each(function(m){c.setItemLayout(m,[f.getItemLayout(m),h.getItemLayout(m)])}),this.markerGroupMap.get(a.id).updateLayout()}},this)},t.prototype.renderSeries=function(e,o,i,a){var u=e.coordinateSystem,c=e.id,f=e.getData(),h=this.markerGroupMap,m=h.get(c)||h.set(c,new sD);this.group.add(m.group);var y=function(F,q,X){var ee;ee=F?It(F&&F.dimensions,function(Fe){return Pe(Pe({},q.getData().getDimensionInfo(q.getData().mapDimension(Fe))||{}),{name:Fe,ordinalMeta:null})}):[{name:"value",type:"float"}];var ie=new uc(ee,X),ye=new uc(ee,X),_e=new uc([],X),Se=It(X.get("data"),cr(Tz,q,F,X));F&&(Se=Lr(Se,cr(Dz,F)));var Ae=ZN(!!F,ee);return ie.initData(It(Se,function(Fe){return Fe[0]}),null,Ae),ye.initData(It(Se,function(Fe){return Fe[1]}),null,Ae),_e.initData(It(Se,function(Fe){return Fe[2]})),_e.hasItemOption=!0,{from:ie,to:ye,line:_e}}(u,e,o),_=y.from,S=y.to,k=y.line;SP(o).from=_,SP(o).to=S,o.setData(k);var D=o.get("symbol"),A=o.get("symbolSize"),E=o.get("symbolRotate"),N=o.get("symbolOffset");function z(F,q,X){var ee=F.getItemModel(q);SL(F,q,X,e,a);var ie=ee.getModel("itemStyle").getItemStyle();null==ie.fill&&(ie.fill=cy(f,"color")),F.setItemVisual(q,{symbolKeepAspect:ee.get("symbolKeepAspect"),symbolOffset:_n(ee.get("symbolOffset",!0),N[X?0:1]),symbolRotate:_n(ee.get("symbolRotate",!0),E[X?0:1]),symbolSize:_n(ee.get("symbolSize"),A[X?0:1]),symbol:_n(ee.get("symbol",!0),D[X?0:1]),style:ie})}tt(D)||(D=[D,D]),tt(A)||(A=[A,A]),tt(E)||(E=[E,E]),tt(N)||(N=[N,N]),y.from.each(function(F){z(_,F,!0),z(S,F,!1)}),k.each(function(F){var q=k.getItemModel(F).getModel("lineStyle").getLineStyle();k.setItemLayout(F,[_.getItemLayout(F),S.getItemLayout(F)]),null==q.stroke&&(q.stroke=_.getItemVisual(F,"style").fill),k.setItemVisual(F,{fromSymbolKeepAspect:_.getItemVisual(F,"symbolKeepAspect"),fromSymbolOffset:_.getItemVisual(F,"symbolOffset"),fromSymbolRotate:_.getItemVisual(F,"symbolRotate"),fromSymbolSize:_.getItemVisual(F,"symbolSize"),fromSymbol:_.getItemVisual(F,"symbol"),toSymbolKeepAspect:S.getItemVisual(F,"symbolKeepAspect"),toSymbolOffset:S.getItemVisual(F,"symbolOffset"),toSymbolRotate:S.getItemVisual(F,"symbolRotate"),toSymbolSize:S.getItemVisual(F,"symbolSize"),toSymbol:S.getItemVisual(F,"symbol"),style:q})}),m.updateData(k),y.line.eachItemGraphicEl(function(F){fo(F).dataModel=o,F.traverse(function(q){fo(q).dataModel=o})}),this.markKeep(m),m.group.silent=o.get("silent")||e.get("silent")},t.type="markLine",t}(wL),Iz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.createMarkerModelFromSeries=function(e,o,i){return new t(e,o,i)},t.type="markArea",t.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},t}(ES),kP=Qo(),Oz=function(n,t,e,o){var i=o[0],a=o[1];if(i&&a){var u=iO(n,i),c=iO(n,a),f=u.coord,h=c.coord;f[0]=ar(f[0],-1/0),f[1]=ar(f[1],-1/0),h[0]=ar(h[0],1/0),h[1]=ar(h[1],1/0);var m=vt([{},u,c]);return m.coord=[u.coord,c.coord],m.x0=u.x,m.y0=u.y,m.x1=c.x,m.y1=c.y,m}};function MP(n){return!isNaN(n)&&!isFinite(n)}function JN(n,t,e,o){var i=1-n;return MP(t[i])&&MP(e[i])}function Ez(n,t){var u,c,f,e=t.coord[0],o=t.coord[1],i={coord:e,x:t.x0,y:t.y0},a={coord:o,x:t.x1,y:t.y1};return rb(n,"cartesian2d")?!(!e||!o||!JN(1,e,o)&&!JN(0,e,o))||(c=i,f=a,!((u=n)&&u.containZone&&c.coord&&f.coord&&!yL(c)&&!yL(f))||u.containZone(c.coord,f.coord)):aO(n,i)||aO(n,a)}function QN(n,t,e,o,i){var a,u=o.coordinateSystem,c=n.getItemModel(t),f=Qn(c.get(e[0]),i.getWidth()),h=Qn(c.get(e[1]),i.getHeight());if(isNaN(f)||isNaN(h)){if(o.getMarkerPosition){var m=n.getValues(["x0","y0"],t),y=n.getValues(["x1","y1"],t),_=u.clampData(m),S=u.clampData(y),k=[];k[0]="x0"===e[0]?_[0]>S[0]?y[0]:m[0]:_[0]>S[0]?m[0]:y[0],k[1]="y0"===e[1]?_[1]>S[1]?y[1]:m[1]:_[1]>S[1]?m[1]:y[1],a=o.getMarkerPosition(k,e,!0)}else{var D=[N=n.get(e[0],t),z=n.get(e[1],t)];u.clampData&&u.clampData(D,D),a=u.dataToPoint(D,!0)}if(rb(u,"cartesian2d")){var A=u.getAxis("x"),E=u.getAxis("y"),N=n.get(e[0],t),z=n.get(e[1],t);MP(N)?a[0]=A.toGlobalCoord(A.getExtent()["x0"===e[0]?0:1]):MP(z)&&(a[1]=E.toGlobalCoord(E.getExtent()["y0"===e[1]?0:1]))}isNaN(f)||(a[0]=f),isNaN(h)||(a[1]=h)}else a=[f,h];return a}var eB=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],Pz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.updateTransform=function(e,o,i){o.eachSeries(function(a){var u=ES.getMarkerModelFromSeries(a,"markArea");if(u){var c=u.getData();c.each(function(f){var h=It(eB,function(m){return QN(c,f,m,a,i)});c.setItemLayout(f,h),c.getItemGraphicEl(f).setShape("points",h)})}},this)},t.prototype.renderSeries=function(e,o,i,a){var u=e.coordinateSystem,c=e.id,f=e.getData(),h=this.markerGroupMap,m=h.get(c)||h.set(c,{group:new lo});this.group.add(m.group),this.markKeep(m);var y=function(_,S,k){var D,A;if(_){var N=It(_&&_.dimensions,function(q){var X=S.getData();return Pe(Pe({},X.getDimensionInfo(X.mapDimension(q))||{}),{name:q,ordinalMeta:null})});A=It(["x0","y0","x1","y1"],function(q,X){return{name:q,type:N[X%2].type}}),D=new uc(A,k)}else D=new uc(A=[{name:"value",type:"float"}],k);var z=It(k.get("data"),cr(Oz,S,_,k));return _&&(z=Lr(z,cr(Ez,_))),D.initData(z,null,_?function(q,X,ee,ie){return v0(q.coord[Math.floor(ie/2)][ie%2],A[ie])}:function(q,X,ee,ie){return v0(q.value,A[ie])}),D.hasItemOption=!0,D}(u,e,o);o.setData(y),y.each(function(_){var S=It(eB,function(ee){return QN(y,_,ee,e,a)}),k=u.getAxis("x").scale,D=u.getAxis("y").scale,A=k.getExtent(),E=D.getExtent(),N=[k.parse(y.get("x0",_)),k.parse(y.get("x1",_))],z=[D.parse(y.get("y0",_)),D.parse(y.get("y1",_))];la(N),la(z),y.setItemLayout(_,{points:S,allClipped:A[0]>N[1]||A[1]<N[0]||E[0]>z[1]||E[1]<z[0]});var q=y.getItemModel(_).getModel("itemStyle").getItemStyle(),X=cy(f,"color");q.fill||(q.fill=X,Un(q.fill)&&(q.fill=ch(q.fill,.4))),q.stroke||(q.stroke=X),y.setItemVisual(_,"style",q)}),y.diff(kP(m).data).add(function(_){var S=y.getItemLayout(_);if(!S.allClipped){var k=new ms({shape:{points:S.points}});y.setItemGraphicEl(_,k),m.group.add(k)}}).update(function(_,S){var k=kP(m).data.getItemGraphicEl(S),D=y.getItemLayout(_);D.allClipped?k&&m.group.remove(k):(k?io(k,{shape:{points:D.points}},o,_):k=new ms({shape:{points:D.points}}),y.setItemGraphicEl(_,k),m.group.add(k))}).remove(function(_){var S=kP(m).data.getItemGraphicEl(_);m.group.remove(S)}).execute(),y.eachItemGraphicEl(function(_,S){var k=y.getItemModel(S),D=y.getItemVisual(S,"style");_.useStyle(y.getItemVisual(S,"style")),Da(_,Aa(k),{labelFetcher:o,labelDataIndex:S,defaultText:y.getName(S)||"",inheritColor:Un(D.fill)?ch(D.fill,1):"#000"}),Fu(_,k),Ds(_,null,null,k.get(["emphasis","disabled"])),fo(_).dataModel=o}),kP(m).data=y,m.group.silent=o.get("silent")||e.get("silent")},t.type="markArea",t}(wL),CL=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return yt(t,n),t.prototype.init=function(e,o,i){this.mergeDefaultAndTheme(e,i),e.selected=e.selected||{},this._updateSelector(e)},t.prototype.mergeOption=function(e,o){n.prototype.mergeOption.call(this,e,o),this._updateSelector(e)},t.prototype._updateSelector=function(e){var o=e.selector,i=this.ecModel;!0===o&&(o=e.selector=["all","inverse"]),tt(o)&&Te(o,function(a,u){var c,f;Un(a)&&(a={type:a}),o[u]=Ve(a,(c=i,"all"===(f=a.type)?{type:"all",title:c.getLocaleModel().get(["legend","selector","all"])}:"inverse"===f?{type:"inverse",title:c.getLocaleModel().get(["legend","selector","inverse"])}:void 0))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&"single"===this.get("selectedMode")){for(var o=!1,i=0;i<e.length;i++){var a=e[i].get("name");if(this.isSelected(a)){this.select(a),o=!0;break}}!o&&this.select(e[0].get("name"))}},t.prototype._updateData=function(e){var o=[],i=[];e.eachRawSeries(function(f){var h;if(i.push(f.name),f.legendVisualProvider){var y=f.legendVisualProvider.getAllNames();e.isSeriesFiltered(f)||(i=i.concat(y)),y.length?o=o.concat(y):h=!0}else h=!0;h&&yl(f)&&o.push(f.name)}),this._availableNames=i;var a=this.get("data")||o,u=Ir(),c=It(a,function(f){return(Un(f)||hr(f))&&(f={name:f}),u.get(f.name)?null:(u.set(f.name,!0),new Pi(f,this,this.ecModel))},this);this._data=Lr(c,function(f){return!!f})},t.prototype.getData=function(){return this._data},t.prototype.select=function(e){var o=this.option.selected;"single"===this.get("selectedMode")&&Te(this._data,function(i){o[i.get("name")]=!1}),o[e]=!0},t.prototype.unSelect=function(e){"single"!==this.get("selectedMode")&&(this.option.selected[e]=!1)},t.prototype.toggleSelected=function(e){var o=this.option.selected;o.hasOwnProperty(e)||(o[e]=!0),this[o[e]?"unSelect":"select"](e)},t.prototype.allSelect=function(){var o=this.option.selected;Te(this._data,function(i){o[i.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var o=this.option.selected;Te(this._data,function(i){var a=i.get("name",!0);o.hasOwnProperty(a)||(o[a]=!0),o[a]=!o[a]})},t.prototype.isSelected=function(e){var o=this.option.selected;return!(o.hasOwnProperty(e)&&!o[e])&&jt(this._availableNames,e)>=0},t.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t}(H),zD=cr,kL=Te,TP=lo,tB=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!1,e}return yt(t,n),t.prototype.init=function(){this.group.add(this._contentGroup=new TP),this.group.add(this._selectorGroup=new TP),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(e,o,i){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),e.get("show",!0)){var u=e.get("align"),c=e.get("orient");u&&"auto"!==u||(u="right"===e.get("left")&&"vertical"===c?"right":"left");var f=e.get("selector",!0),h=e.get("selectorPosition",!0);!f||h&&"auto"!==h||(h="horizontal"===c?"end":"start"),this.renderInner(u,e,o,i,f,c,h);var m=e.getBoxLayoutParams(),y={width:i.getWidth(),height:i.getHeight()},_=e.get("padding"),S=au(m,y,_),k=this.layoutInner(e,u,S,a,f,h),D=au(ht({width:k.width,height:k.height},m),y,_);this.group.x=D.x-k.x,this.group.y=D.y-k.y,this.group.markRedraw(),this.group.add(this._backgroundEl=cN(k,e))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(e,o,i,a,u,c,f){var h=this.getContentGroup(),m=Ir(),y=o.get("selectedMode"),_=[];i.eachRawSeries(function(S){!S.get("legendHoverLink")&&_.push(S.id)}),kL(o.getData(),function(S,k){var D=S.get("name");if(!this.newlineDisabled&&(""===D||"\n"===D)){var A=new TP;return A.newline=!0,void h.add(A)}var E=i.getSeriesByName(D)[0];if(!m.get(D))if(E){var N=E.getData(),z=N.getVisual("legendLineStyle")||{},F=N.getVisual("legendIcon"),q=N.getVisual("style");this._createItem(E,D,k,S,o,e,z,q,F,y,a).on("click",zD(nB,D,null,a,_)).on("mouseover",zD(ML,E.name,null,a,_)).on("mouseout",zD(TL,E.name,null,a,_)),m.set(D,!0)}else i.eachRawSeries(function(X){if(!m.get(D)&&X.legendVisualProvider){var ee=X.legendVisualProvider;if(!ee.containName(D))return;var ie=ee.indexOfName(D),ye=ee.getItemVisual(ie,"style"),_e=ee.getItemVisual(ie,"legendIcon"),Se=to(ye.fill);Se&&0===Se[3]&&(Se[3]=.2,ye=Pe(Pe({},ye),{fill:hu(Se,"rgba")})),this._createItem(X,D,k,S,o,e,{},ye,_e,y,a).on("click",zD(nB,null,D,a,_)).on("mouseover",zD(ML,null,D,a,_)).on("mouseout",zD(TL,null,D,a,_)),m.set(D,!0)}},this)},this),u&&this._createSelector(u,o,a,c,f)},t.prototype._createSelector=function(e,o,i,a,u){var c=this.getSelectorGroup();kL(e,function(f){var h=f.type,m=new li({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:"all"===h?"legendAllSelect":"legendInverseSelect"})}});c.add(m),Da(m,{normal:o.getModel("selectorLabel"),emphasis:o.getModel(["emphasis","selectorLabel"])},{defaultText:f.title}),Tf(m)})},t.prototype._createItem=function(e,o,i,a,u,c,f,h,m,y,_){var nt,it,ut,S=e.visualDrawType,k=u.get("itemWidth"),D=u.get("itemHeight"),A=u.isSelected(o),E=a.get("symbolRotate"),N=a.get("symbolKeepAspect"),z=a.get("icon"),F=function(nt,it,ut,mt,Ot,Pt,Gt){function kn(kr,Br){"auto"===kr.lineWidth&&(kr.lineWidth=Br.lineWidth>0?2:0),kL(kr,function(Ro,Zo){"inherit"===kr[Zo]&&(kr[Zo]=Br[Zo])})}var tr=it.getModel("itemStyle"),Xt=tr.getItemStyle(),zn=0===nt.lastIndexOf("empty",0)?"fill":"stroke",gr=tr.getShallow("decal");Xt.decal=gr&&"inherit"!==gr?$a(gr,Gt):mt.decal,"inherit"===Xt.fill&&(Xt.fill=mt[Ot]),"inherit"===Xt.stroke&&(Xt.stroke=mt[zn]),"inherit"===Xt.opacity&&(Xt.opacity=("fill"===Ot?mt:ut).opacity),kn(Xt,mt);var dr=it.getModel("lineStyle"),nr=dr.getLineStyle();if(kn(nr,ut),"auto"===Xt.fill&&(Xt.fill=mt.fill),"auto"===Xt.stroke&&(Xt.stroke=mt.fill),"auto"===nr.stroke&&(nr.stroke=mt.fill),!Pt){var br=it.get("inactiveBorderWidth");Xt.lineWidth="auto"===br?mt.lineWidth>0&&Xt[zn]?2:0:Xt.lineWidth,Xt.fill=it.get("inactiveColor"),Xt.stroke=it.get("inactiveBorderColor"),nr.stroke=dr.get("inactiveColor"),nr.lineWidth=dr.get("inactiveWidth")}return{itemStyle:Xt,lineStyle:nr}}(m=z||m||"roundRect",a,f,h,S,A,_),q=new TP,X=a.getModel("textStyle");if(!hn(e.getLegendIcon)||z&&"inherit"!==z){var ee="inherit"===z&&e.getData().getVisual("symbol")?"inherit"===E?e.getData().getVisual("symbolRotate"):E:0;q.add(((ut=Hu(it=(nt={itemWidth:k,itemHeight:D,icon:m,iconRotate:ee,itemStyle:F.itemStyle,lineStyle:F.lineStyle,symbolKeepAspect:N}).icon||"roundRect",0,0,nt.itemWidth,nt.itemHeight,nt.itemStyle.fill,nt.symbolKeepAspect)).setStyle(nt.itemStyle),ut.rotation=(nt.iconRotate||0)*Math.PI/180,ut.setOrigin([nt.itemWidth/2,nt.itemHeight/2]),it.indexOf("empty")>-1&&(ut.style.stroke=ut.style.fill,ut.style.fill="#fff",ut.style.lineWidth=2),ut))}else q.add(e.getLegendIcon({itemWidth:k,itemHeight:D,icon:m,iconRotate:E,itemStyle:F.itemStyle,lineStyle:F.lineStyle,symbolKeepAspect:N}));var ie="left"===c?k+5:-5,ye=c,_e=u.get("formatter"),Se=o;Un(_e)&&_e?Se=_e.replace("{name}",null!=o?o:""):hn(_e)&&(Se=_e(o));var Ae=a.get("inactiveColor");q.add(new li({style:yi(X,{text:Se,x:ie,y:D/2,fill:A?X.getTextColor():Ae,align:ye,verticalAlign:"middle"})}));var Fe=new oi({shape:q.getBoundingRect(),invisible:!0}),Xe=a.getModel("tooltip");return Xe.get("show")&&As({el:Fe,componentModel:u,itemName:o,itemTooltipOption:Xe.option}),q.add(Fe),q.eachChild(function(nt){nt.silent=!0}),Fe.silent=!y,this.getContentGroup().add(q),Tf(q),q.__legendDataIndex=i,q},t.prototype.layoutInner=function(e,o,i,a,u,c){var f=this.getContentGroup(),h=this.getSelectorGroup();rl(e.get("orient"),f,e.get("itemGap"),i.width,i.height);var m=f.getBoundingRect(),y=[-m.x,-m.y];if(h.markRedraw(),f.markRedraw(),u){rl("horizontal",h,e.get("selectorItemGap",!0));var _=h.getBoundingRect(),S=[-_.x,-_.y],k=e.get("selectorButtonGap",!0),D=e.getOrient().index,A=0===D?"width":"height",E=0===D?"height":"width",N=0===D?"y":"x";"end"===c?S[D]+=m[A]+k:y[D]+=_[A]+k,S[1-D]+=m[E]/2-_[E]/2,h.x=S[0],h.y=S[1],f.x=y[0],f.y=y[1];var z={x:0,y:0};return z[A]=m[A]+k+_[A],z[E]=Math.max(m[E],_[E]),z[N]=Math.min(0,_[N]+S[1-D]),z}return f.x=y[0],f.y=y[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(Ga);function nB(n,t,e,o){TL(n,t,e,o),e.dispatchAction({type:"legendToggleSelect",name:null!=n?n:t}),ML(n,t,e,o)}function rB(n){for(var t,e=n.getZr().storage.getDisplayList(),o=0,i=e.length;o<i&&!(t=e[o].states.emphasis);)o++;return t&&t.hoverLayer}function ML(n,t,e,o){rB(e)||e.dispatchAction({type:"highlight",seriesName:n,name:t,excludeSeriesId:o})}function TL(n,t,e,o){rB(e)||e.dispatchAction({type:"downplay",seriesName:n,name:t,excludeSeriesId:o})}function Rz(n){var t=n.findComponents({mainType:"legend"});t&&t.length&&n.filterSeries(function(e){for(var o=0;o<t.length;o++)if(!t[o].isSelected(e.name))return!1;return!0})}function sO(n,t,e){var o,i={},a="toggleSelected"===n;return e.eachComponent("legend",function(u){a&&null!=o?u[o?"select":"unSelect"](t.name):"allSelect"===n||"inverseSelect"===n?u[n]():(u[n](t.name),o=u.isSelected(t.name)),Te(u.getData(),function(c){var f=c.get("name");if("\n"!==f&&""!==f){var h=u.isSelected(f);i[f]=i.hasOwnProperty(f)?i[f]&&h:h}})}),"allSelect"===n||"inverseSelect"===n?{selected:i}:{name:t.name,selected:i}}function oB(n){n.registerComponentModel(CL),n.registerComponentView(tB),n.registerProcessor(n.PRIORITY.PROCESSOR.SERIES_FILTER,Rz),n.registerSubTypeDefaulter("legend",function(){return"plain"}),function(t){t.registerAction("legendToggleSelect","legendselectchanged",cr(sO,"toggleSelected")),t.registerAction("legendAllSelect","legendselectall",cr(sO,"allSelect")),t.registerAction("legendInverseSelect","legendinverseselect",cr(sO,"inverseSelect")),t.registerAction("legendSelect","legendselected",cr(sO,"select")),t.registerAction("legendUnSelect","legendunselected",cr(sO,"unSelect"))}(n)}var Lz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e},t.prototype.init=function(e,o,i){var a=_g(e);n.prototype.init.call(this,e,o,i),iB(this,e,a)},t.prototype.mergeOption=function(e,o){n.prototype.mergeOption.call(this,e,o),iB(this,this.option,e)},t.type="legend.scroll",t.defaultOption=Xd(CL.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t}(CL);function iB(n,t,e){var o=[1,1];o[n.getOrient().index]=0,xg(t,e,{type:"box",ignoreSize:!!o})}var aB=lo,DL=["width","height"],AL=["x","y"],Nz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!0,e._currentIndex=0,e}return yt(t,n),t.prototype.init=function(){n.prototype.init.call(this),this.group.add(this._containerGroup=new aB),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new aB)},t.prototype.resetInner=function(){n.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(e,o,i,a,u,c,f){var h=this;n.prototype.renderInner.call(this,e,o,i,a,u,c,f);var m=this._controllerGroup,y=o.get("pageIconSize",!0),_=tt(y)?y:[y,y];k("pagePrev",0);var S=o.getModel("pageTextStyle");function k(D,A){var E=D+"DataIndex",N=If(o.get("pageIcons",!0)[o.getOrient().name][A],{onclick:Bn(h._pageGo,h,E,o,a)},{x:-_[0]/2,y:-_[1]/2,width:_[0],height:_[1]});N.name=D,m.add(N)}m.add(new li({name:"pageText",style:{text:"xx/xx",fill:S.getTextColor(),font:S.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),k("pageNext",1)},t.prototype.layoutInner=function(e,o,i,a,u,c){var f=this.getSelectorGroup(),h=e.getOrient().index,m=DL[h],y=AL[h],_=DL[1-h],S=AL[1-h];u&&rl("horizontal",f,e.get("selectorItemGap",!0));var k=e.get("selectorButtonGap",!0),D=f.getBoundingRect(),A=[-D.x,-D.y],E=Re(i);u&&(E[m]=i[m]-D[m]-k);var N=this._layoutContentAndController(e,a,E,h,m,_,S,y);if(u){if("end"===c)A[h]+=N[m]+k;else{var z=D[m]+k;A[h]-=z,N[y]-=z}N[m]+=D[m]+k,A[1-h]+=N[S]+N[_]/2-D[_]/2,N[_]=Math.max(N[_],D[_]),N[S]=Math.min(N[S],D[S]+A[1-h]),f.x=A[0],f.y=A[1],f.markRedraw()}return N},t.prototype._layoutContentAndController=function(e,o,i,a,u,c,f,h){var m=this.getContentGroup(),y=this._containerGroup,_=this._controllerGroup;rl(e.get("orient"),m,e.get("itemGap"),a?i.width:null,a?null:i.height),rl("horizontal",_,e.get("pageButtonItemGap",!0));var S=m.getBoundingRect(),k=_.getBoundingRect(),D=this._showController=S[u]>i[u],A=[-S.x,-S.y];o||(A[a]=m[h]);var E=[0,0],N=[-k.x,-k.y],z=_n(e.get("pageButtonGap",!0),e.get("itemGap",!0));D&&("end"===e.get("pageButtonPosition",!0)?N[a]+=i[u]-k[u]:E[a]+=k[u]+z),N[1-a]+=S[c]/2-k[c]/2,m.setPosition(A),y.setPosition(E),_.setPosition(N);var F={x:0,y:0};if(F[u]=D?i[u]:S[u],F[c]=Math.max(S[c],k[c]),F[f]=Math.min(0,k[f]+N[1-a]),y.__rectSize=i[u],D){var q={x:0,y:0};q[u]=Math.max(i[u]-k[u]-z,0),q[c]=F[c],y.setClipPath(new oi({shape:q})),y.__rectSize=q[u]}else _.eachChild(function(ee){ee.attr({invisible:!0,silent:!0})});var X=this._getPageInfo(e);return null!=X.pageIndex&&io(m,{x:X.contentPosition[0],y:X.contentPosition[1]},D?e:null),this._updatePageInfoView(e,X),F},t.prototype._pageGo=function(e,o,i){var a=this._getPageInfo(o)[e];null!=a&&i.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:o.id})},t.prototype._updatePageInfoView=function(e,o){var i=this._controllerGroup;Te(["pagePrev","pageNext"],function(m){var y=null!=o[m+"DataIndex"],_=i.childOfName(m);_&&(_.setStyle("fill",e.get(y?"pageIconColor":"pageIconInactiveColor",!0)),_.cursor=y?"pointer":"default")});var a=i.childOfName("pageText"),u=e.get("pageFormatter"),c=o.pageIndex,f=null!=c?c+1:0,h=o.pageCount;a&&u&&a.setStyle("text",Un(u)?u.replace("{current}",null==f?"":f+"").replace("{total}",null==h?"":h+""):u({current:f,total:h}))},t.prototype._getPageInfo=function(e){var o=e.get("scrollDataIndex",!0),i=this.getContentGroup(),a=this._containerGroup.__rectSize,u=e.getOrient().index,c=DL[u],f=AL[u],h=this._findTargetItemIndex(o),m=i.children(),y=m[h],_=m.length,S=_?1:0,k={contentPosition:[i.x,i.y],pageCount:S,pageIndex:S-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!y)return k;var D=F(y);k.contentPosition[u]=-D.s;for(var A=h+1,E=D,N=D,z=null;A<=_;++A)(!(z=F(m[A]))&&N.e>E.s+a||z&&!q(z,E.s))&&(E=N.i>E.i?N:z)&&(null==k.pageNextDataIndex&&(k.pageNextDataIndex=E.i),++k.pageCount),N=z;for(A=h-1,E=D,N=D,z=null;A>=-1;--A)(z=F(m[A]))&&q(N,z.s)||!(E.i<N.i)||(N=E,null==k.pagePrevDataIndex&&(k.pagePrevDataIndex=E.i),++k.pageCount,++k.pageIndex),E=z;return k;function F(X){if(X){var ee=X.getBoundingRect(),ie=ee[f]+X[f];return{s:ie,e:ie+ee[c],i:X.__legendDataIndex}}}function q(X,ee){return X.e>=ee&&X.s<=ee+a}},t.prototype._findTargetItemIndex=function(e){return this._showController?(this.getContentGroup().eachChild(function(a,u){var c=a.__legendDataIndex;null==i&&null!=c&&(i=u),c===e&&(o=u)}),null!=o?o:i):0;var o,i},t.type="legend.scroll",t}(tB);function Bz(n){ii(oB),n.registerComponentModel(Lz),n.registerComponentView(Nz),function(t){t.registerAction("legendScroll","legendscroll",function(e,o){var i=e.scrollDataIndex;null!=i&&o.eachComponent({mainType:"legend",subType:"scroll",query:e},function(a){a.setScrollDataIndex(i)})})}(n)}var zz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.type="dataZoom.inside",t.defaultOption=Xd(tO.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(tO),IL=Qo();function Fz(n,t,e){IL(n).coordSysRecordMap.each(function(o){var i=o.dataZoomInfoMap.get(t.uid);i&&(i.getRange=e)})}function sB(n,t){if(t){n.removeKey(t.model.uid);var e=t.controller;e&&e.dispose()}}function Vz(n,t){n.isDisposed()||n.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function Hz(n,t,e,o){return n.coordinateSystem.containPoint([e,o])}var Gz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="dataZoom.inside",e}return yt(t,n),t.prototype.render=function(e,o,i){n.prototype.render.apply(this,arguments),e.noTarget()?this._clear():(this.range=e.getPercentRange(),Fz(i,e,{pan:Bn(OL.pan,this),zoom:Bn(OL.zoom,this),scrollMove:Bn(OL.scrollMove,this)}))},t.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){(function(e,o){for(var i=IL(e).coordSysRecordMap,a=i.keys(),u=0;u<a.length;u++){var f=i.get(a[u]),h=f.dataZoomInfoMap;if(h){var m=o.uid;h.get(m)&&(h.removeKey(m),h.keys().length||sB(i,f))}}})(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}(tL),OL={zoom:function(n,t,e,o){var i=this.range,a=i.slice(),u=n.axisModels[0];if(u){var c=EL[t](null,[o.originX,o.originY],u,e,n),f=(c.signal>0?c.pixelStart+c.pixelLength-c.pixel:c.pixel-c.pixelStart)/c.pixelLength*(a[1]-a[0])+a[0],h=Math.max(1/o.scale,0);a[0]=(a[0]-f)*h+f,a[1]=(a[1]-f)*h+f;var m=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return _s(0,a,[0,100],0,m.minSpan,m.maxSpan),this.range=a,i[0]!==a[0]||i[1]!==a[1]?a:void 0}},pan:uB(function(n,t,e,o,i,a){var u=EL[o]([a.oldX,a.oldY],[a.newX,a.newY],t,i,e);return u.signal*(n[1]-n[0])*u.pixel/u.pixelLength}),scrollMove:uB(function(n,t,e,o,i,a){return EL[o]([0,0],[a.scrollDelta,a.scrollDelta],t,i,e).signal*(n[1]-n[0])*a.scrollDelta})};function uB(n){return function(t,e,o,i){var a=this.range,u=a.slice(),c=t.axisModels[0];if(c)return _s(n(u,c,t,e,o,i),u,[0,100],"all"),this.range=u,a[0]!==u[0]||a[1]!==u[1]?u:void 0}}var EL={grid:function(n,t,e,o,i){var a=e.axis,u={},c=i.model.coordinateSystem.getRect();return n=n||[0,0],"x"===a.dim?(u.pixel=t[0]-n[0],u.pixelLength=c.width,u.pixelStart=c.x,u.signal=a.inverse?1:-1):(u.pixel=t[1]-n[1],u.pixelLength=c.height,u.pixelStart=c.y,u.signal=a.inverse?-1:1),u},polar:function(n,t,e,o,i){var a=e.axis,u={},c=i.model.coordinateSystem,f=c.getRadiusAxis().getExtent(),h=c.getAngleAxis().getExtent();return n=n?c.pointToCoord(n):[0,0],t=c.pointToCoord(t),"radiusAxis"===e.mainType?(u.pixel=t[0]-n[0],u.pixelLength=f[1]-f[0],u.pixelStart=f[0],u.signal=a.inverse?1:-1):(u.pixel=t[1]-n[1],u.pixelLength=h[1]-h[0],u.pixelStart=h[0],u.signal=a.inverse?-1:1),u},singleAxis:function(n,t,e,o,i){var a=e.axis,u=i.model.coordinateSystem.getRect(),c={};return n=n||[0,0],"horizontal"===a.orient?(c.pixel=t[0]-n[0],c.pixelLength=u.width,c.pixelStart=u.x,c.signal=a.inverse?1:-1):(c.pixel=t[1]-n[1],c.pixelLength=u.height,c.pixelStart=u.y,c.signal=a.inverse?-1:1),c}};function lB(n){nL(n),n.registerComponentModel(zz),n.registerComponentView(Gz),function Wz(n){n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,function(t,e){var o=IL(e),i=o.coordSysRecordMap||(o.coordSysRecordMap=Ir());i.each(function(a){a.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(a){Te(oN(a).infoList,function(u){var h,m,y,_,c=u.model.uid,f=i.get(c)||i.set(c,(h=e,y={model:m=u.model,containsPoint:cr(Hz,m),dispatchAction:cr(Vz,h),dataZoomInfoMap:null,controller:null},_=y.controller=new y_(h.getZr()),Te(["pan","zoom","scrollMove"],function(S){_.on(S,function(k){var D=[];y.dataZoomInfoMap.each(function(A){if(k.isAvailableBehavior(A.model.option)){var E=(A.getRange||{})[S],N=E&&E(A.dzReferCoordSysInfo,y.model.mainType,y.controller,k);!A.model.get("disabled",!0)&&N&&D.push({dataZoomId:A.model.id,start:N[0],end:N[1]})}}),D.length&&y.dispatchAction(D)})}),y));(f.dataZoomInfoMap||(f.dataZoomInfoMap=Ir())).set(a.uid,{dzReferCoordSysInfo:u,model:a,getRange:null})})}),i.each(function(a){var u,_,S,k,D,c=a.controller,f=a.dataZoomInfoMap;if(f){var h=f.keys()[0];null!=h&&(u=f.get(h))}if(u){var m=(S="type_",k={type_true:2,type_move:1,type_false:0,type_undefined:-1},D=!0,f.each(function(A){var E=A.model,N=!E.get("disabled",!0)&&(!E.get("zoomLock",!0)||"move");k[S+N]>k[S+_]&&(_=N),D=D&&E.get("preventDefaultMouseMove",!0)}),{controlType:_,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!D}});c.enable(m.controlType,m.opt),c.setPointerChecker(a.containsPoint),C0(a,"dispatchAction",u.model.get("throttle",!0),"fixRate")}else sB(i,a)})})}(n)}var Uz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=Xd(tO.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t}(tO),uO=oi,lO="horizontal",cB="vertical",jz=["line","bar","candlestick","scatter"],qz={easing:"cubicOut",duration:100,delay:0},Yz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._displayables={},e}return yt(t,n),t.prototype.init=function(e,o){this.api=o,this._onBrush=Bn(this._onBrush,this),this._onBrushEnd=Bn(this._onBrushEnd,this)},t.prototype.render=function(e,o,i,a){if(n.prototype.render.apply(this,arguments),C0(this,"_dispatchZoomAction",e.get("throttle"),"fixRate"),this._orient=e.getOrient(),!1!==e.get("show")){if(e.noTarget())return this._clear(),void this.group.removeAll();a&&"dataZoom"===a.type&&a.from===this.uid||this._buildView(),this._updateView()}else this.group.removeAll()},t.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){Dx(this,"_dispatchZoomAction");var e=this.api.getZr();e.off("mousemove",this._onBrush),e.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var e=this.group;e.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var o=this._displayables.sliderGroup=new lo;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(o),this._positionGroup()},t.prototype._resetLocation=function(){var e=this.dataZoomModel,o=this.api,i=e.get("brushSelect")?7:0,a=this._findCoordRect(),u={width:o.getWidth(),height:o.getHeight()},c=this._orient===lO?{right:u.width-a.x-a.width,top:u.height-30-7-i,width:a.width,height:30}:{right:7,top:a.y,width:30,height:a.height},f=_g(e.option);Te(["right","top","width","height"],function(m){"ph"===f[m]&&(f[m]=c[m])});var h=au(f,u);this._location={x:h.x,y:h.y},this._size=[h.width,h.height],this._orient===cB&&this._size.reverse()},t.prototype._positionGroup=function(){var e=this.group,o=this._location,i=this._orient,a=this.dataZoomModel.getFirstTargetAxisModel(),u=a&&a.get("inverse"),c=this._displayables.sliderGroup,f=(this._dataShadowInfo||{}).otherAxisInverse;c.attr(i!==lO||u?i===lO&&u?{scaleY:f?1:-1,scaleX:-1}:i!==cB||u?{scaleY:f?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:f?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:f?1:-1,scaleX:1});var h=e.getBoundingRect([c]);e.x=o.x-h.x,e.y=o.y-h.y,e.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var e=this.dataZoomModel,o=this._size,i=this._displayables.sliderGroup,a=e.get("brushSelect");i.add(new uO({silent:!0,shape:{x:0,y:0,width:o[0],height:o[1]},style:{fill:e.get("backgroundColor")},z2:-40}));var u=new uO({shape:{x:0,y:0,width:o[0],height:o[1]},style:{fill:"transparent"},z2:0,onclick:Bn(this._onClickPanel,this)}),c=this.api.getZr();a?(u.on("mousedown",this._onBrushStart,this),u.cursor="crosshair",c.on("mousemove",this._onBrush),c.on("mouseup",this._onBrushEnd)):(c.off("mousemove",this._onBrush),c.off("mouseup",this._onBrushEnd)),i.add(u)},t.prototype._renderDataShadow=function(){var _e,Se,Ae,Fe,e=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],e){var o=this._size,i=this._shadowSize||[],a=e.series,u=a.getRawData(),c=a.getShadowDim&&a.getShadowDim(),f=c&&u.getDimensionInfo(c)?a.getShadowDim():e.otherDim;if(null!=f){var h=this._shadowPolygonPts,m=this._shadowPolylinePts;if(u!==this._shadowData||f!==this._shadowDim||o[0]!==i[0]||o[1]!==i[1]){var y=u.getDataExtent(f),_=.3*(y[1]-y[0]);y=[y[0]-_,y[1]+_];var S,k=[0,o[1]],A=[[o[0],0],[0,0]],E=[],N=o[0]/(u.count()-1),z=0,F=Math.round(u.count()/o[0]);u.each([f],function(ye,_e){if(F>0&&_e%F)z+=N;else{var Se=null==ye||isNaN(ye)||""===ye,Ae=Se?0:zi(ye,y,k,!0);Se&&!S&&_e?(A.push([A[A.length-1][0],0]),E.push([E[E.length-1][0],0])):!Se&&S&&(A.push([z,0]),E.push([z,0])),A.push([z,Ae]),E.push([z,Ae]),z+=N,S=Se}}),h=this._shadowPolygonPts=A,m=this._shadowPolylinePts=E}this._shadowData=u,this._shadowDim=f,this._shadowSize=[o[0],o[1]];for(var q=this.dataZoomModel,X=0;X<3;X++){var ee=(_e=void 0,Se=void 0,void 0,void 0,_e=q.getModel(1===X?"selectedDataBackground":"dataBackground"),Se=new lo,Ae=new ms({shape:{points:h},segmentIgnoreThreshold:1,style:_e.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),Fe=new ou({shape:{points:m},segmentIgnoreThreshold:1,style:_e.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19}),Se.add(Ae),Se.add(Fe),Se);this._displayables.sliderGroup.add(ee),this._displayables.dataShadowSegs.push(ee)}}}},t.prototype._prepareDataShadowInfo=function(){var e=this.dataZoomModel,o=e.get("showDataShadow");if(!1!==o){var i,a=this.ecModel;return e.eachTargetAxis(function(u,c){Te(e.getAxisProxy(u,c).getTargetSeriesModels(),function(f){if(!(i||!0!==o&&jt(jz,f.get("type"))<0)){var h,m=a.getComponent(Ik(u),c).axis,y={x:"y",y:"x",radius:"angle",angle:"radius"}[u],_=f.coordinateSystem;null!=y&&_.getOtherAxis&&(h=_.getOtherAxis(m).inverse),y=f.getData().mapDimension(y),i={thisAxis:m,series:f,thisDim:u,otherDim:y,otherAxisInverse:h}}},this)},this),i}},t.prototype._renderHandle=function(){var e=this.group,o=this._displayables,i=o.handles=[null,null],a=o.handleLabels=[null,null],u=this._displayables.sliderGroup,c=this._size,f=this.dataZoomModel,h=this.api,m=f.get("borderRadius")||0,y=f.get("brushSelect"),_=o.filler=new uO({silent:y,style:{fill:f.get("fillerColor")},textConfig:{position:"inside"}});u.add(_),u.add(new uO({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:c[0],height:c[1],r:m},style:{stroke:f.get("dataBackgroundColor")||f.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),Te([0,1],function(z){var F=f.get("handleIcon");!mw[F]&&F.indexOf("path://")<0&&F.indexOf("image://")<0&&(F="path://"+F);var q=Hu(F,-1,0,2,2,null,!0);q.attr({cursor:fB(this._orient),draggable:!0,drift:Bn(this._onDragMove,this,z),ondragend:Bn(this._onDragEnd,this),onmouseover:Bn(this._showDataInfo,this,!0),onmouseout:Bn(this._showDataInfo,this,!1),z2:5});var X=q.getBoundingRect(),ee=f.get("handleSize");this._handleHeight=Qn(ee,this._size[1]),this._handleWidth=X.width/X.height*this._handleHeight,q.setStyle(f.getModel("handleStyle").getItemStyle()),q.style.strokeNoScale=!0,q.rectHover=!0,q.ensureState("emphasis").style=f.getModel(["emphasis","handleStyle"]).getItemStyle(),Tf(q);var ie=f.get("handleColor");null!=ie&&(q.style.fill=ie),u.add(i[z]=q);var ye=f.getModel("textStyle");e.add(a[z]=new li({silent:!0,invisible:!0,style:yi(ye,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:ye.getTextColor(),font:ye.getFont()}),z2:10}))},this);var S=_;if(y){var k=Qn(f.get("moveHandleSize"),c[1]),D=o.moveHandle=new oi({style:f.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:c[1]-.5,height:k}}),A=.8*k,E=o.moveHandleIcon=Hu(f.get("moveHandleIcon"),-A/2,-A/2,A,A,"#fff",!0);E.silent=!0,E.y=c[1]+k/2-.5,D.ensureState("emphasis").style=f.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var N=Math.min(c[1]/2,Math.max(k,10));(S=o.moveZone=new oi({invisible:!0,shape:{y:c[1]-N,height:k+N}})).on("mouseover",function(){h.enterEmphasis(D)}).on("mouseout",function(){h.leaveEmphasis(D)}),u.add(D),u.add(E),u.add(S)}S.attr({draggable:!0,cursor:fB(this._orient),drift:Bn(this._onDragMove,this,"all"),ondragstart:Bn(this._showDataInfo,this,!0),ondragend:Bn(this._onDragEnd,this),onmouseover:Bn(this._showDataInfo,this,!0),onmouseout:Bn(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange(),o=this._getViewExtent();this._handleEnds=[zi(e[0],[0,100],o,!0),zi(e[1],[0,100],o,!0)]},t.prototype._updateInterval=function(e,o){var i=this.dataZoomModel,a=this._handleEnds,u=this._getViewExtent(),c=i.findRepresentativeAxisProxy().getMinMaxSpan(),f=[0,100];_s(o,a,u,i.get("zoomLock")?"all":e,null!=c.minSpan?zi(c.minSpan,f,u,!0):null,null!=c.maxSpan?zi(c.maxSpan,f,u,!0):null);var h=this._range,m=this._range=la([zi(a[0],u,f,!0),zi(a[1],u,f,!0)]);return!h||h[0]!==m[0]||h[1]!==m[1]},t.prototype._updateView=function(e){var o=this._displayables,i=this._handleEnds,a=la(i.slice()),u=this._size;Te([0,1],function(S){var D=this._handleHeight;o.handles[S].attr({scaleX:D/2,scaleY:D/2,x:i[S]+(S?-1:1),y:u[1]/2-D/2})},this),o.filler.setShape({x:a[0],y:0,width:a[1]-a[0],height:u[1]});var c={x:a[0],width:a[1]-a[0]};o.moveHandle&&(o.moveHandle.setShape(c),o.moveZone.setShape(c),o.moveZone.getBoundingRect(),o.moveHandleIcon&&o.moveHandleIcon.attr("x",c.x+c.width/2));for(var f=o.dataShadowSegs,h=[0,a[0],a[1],u[0]],m=0;m<f.length;m++){var y=f[m],_=y.getClipPath();_||(_=new oi,y.setClipPath(_)),_.setShape({x:h[m],y:0,width:h[m+1]-h[m],height:u[1]})}this._updateDataInfo(e)},t.prototype._updateDataInfo=function(e){var o=this.dataZoomModel,i=this._displayables,a=i.handleLabels,u=this._orient,c=["",""];if(o.get("showDetail")){var f=o.findRepresentativeAxisProxy();if(f){var h=f.getAxisModel().axis,m=this._range,y=e?f.calculateDataWindow({start:m[0],end:m[1]}).valueWindow:f.getDataValueWindow();c=[this._formatLabel(y[0],h),this._formatLabel(y[1],h)]}}var _=la(this._handleEnds.slice());function S(k){var D=Eo(i.handles[k].parent,this.group),A=Mh(0===k?"right":"left",D),E=this._handleWidth/2+5,N=_u([_[k]+(0===k?-E:E),this._size[1]/2],D);a[k].setStyle({x:N[0],y:N[1],verticalAlign:u===lO?"middle":A,align:u===lO?A:"center",text:c[k]})}S.call(this,0),S.call(this,1)},t.prototype._formatLabel=function(e,o){var i=this.dataZoomModel,a=i.get("labelFormatter"),u=i.get("labelPrecision");null!=u&&"auto"!==u||(u=o.getPixelPrecision());var c=null==e||isNaN(e)?"":"category"===o.type||"time"===o.type?o.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(u,20));return hn(a)?a(e,c):Un(a)?a.replace("{value}",c):c},t.prototype._showDataInfo=function(e){var o=this._displayables,i=o.handleLabels;i[0].attr("invisible",!(e=this._dragging||e)),i[1].attr("invisible",!e),o.moveHandle&&this.api[e?"enterEmphasis":"leaveEmphasis"](o.moveHandle,1)},t.prototype._onDragMove=function(e,o,i,a){this._dragging=!0,Eu(a.event);var u=_u([o,i],this._displayables.sliderGroup.getLocalTransform(),!0),c=this._updateInterval(e,u[0]),f=this.dataZoomModel.get("realtime");this._updateView(!f),c&&f&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(e){var o=this._size,i=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(i[0]<0||i[0]>o[0]||i[1]<0||i[1]>o[1])){var a=this._handleEnds,c=this._updateInterval("all",i[0]-(a[0]+a[1])/2);this._updateView(),c&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(e){this._brushStart=new mo(e.offsetX,e.offsetY),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(e){if(this._brushing){var o=this._displayables.brushRect;if(this._brushing=!1,o){o.attr("ignore",!0);var i=o.shape;if(!(+new Date-this._brushStartTime<200&&Math.abs(i.width)<5)){var a=this._getViewExtent(),u=[0,100];this._range=la([zi(i.x,a,u,!0),zi(i.x+i.width,a,u,!0)]),this._handleEnds=[i.x,i.x+i.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(e){this._brushing&&(Eu(e.event),this._updateBrushRect(e.offsetX,e.offsetY))},t.prototype._updateBrushRect=function(e,o){var i=this._displayables,u=i.brushRect;u||(u=i.brushRect=new uO({silent:!0,style:this.dataZoomModel.getModel("brushStyle").getItemStyle()}),i.sliderGroup.add(u)),u.attr("ignore",!1);var c=this._brushStart,f=this._displayables.sliderGroup,h=f.transformCoordToLocal(e,o),m=f.transformCoordToLocal(c.x,c.y),y=this._size;h[0]=Math.max(Math.min(y[0],h[0]),0),u.setShape({x:m[0],y:0,width:h[0]-m[0],height:y[1]})},t.prototype._dispatchZoomAction=function(e){var o=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?qz:null,start:o[0],end:o[1]})},t.prototype._findCoordRect=function(){var e,o=oN(this.dataZoomModel).infoList;if(!e&&o.length){var i=o[0].model.coordinateSystem;e=i.getRect&&i.getRect()}if(!e){var a=this.api.getWidth(),u=this.api.getHeight();e={x:.2*a,y:.2*u,width:.6*a,height:.6*u}}return e},t.type="dataZoom.slider",t}(tL);function fB(n){return"vertical"===n?"ns-resize":"ew-resize"}function dB(n){n.registerComponentModel(Uz),n.registerComponentView(Yz),nL(n)}var hB=function(n,t,e){var o=Re((Xz[n]||{})[t]);return e&&tt(o)?o[o.length-1]:o},Xz={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},pB=cf.mapVisual,Zz=cf.eachVisual,Kz=tt,gB=Te,$z=la,Jz=zi,DP=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.stateList=["inRange","outOfRange"],e.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],e.layoutMode={type:"box",ignoreSize:!0},e.dataBound=[-1/0,1/0],e.targetVisuals={},e.controllerVisuals={},e}return yt(t,n),t.prototype.init=function(e,o,i){this.mergeDefaultAndTheme(e,i)},t.prototype.optionUpdated=function(e,o){!o&&RN(this.option,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(e){var o=this.stateList;e=Bn(e,this),this.controllerVisuals=hL(this.option.controller,o,e),this.targetVisuals=hL(this.option.target,o,e)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesIndex,o=[];return null==e||"all"===e?this.ecModel.eachSeries(function(i,a){o.push(a)}):o=Ko(e),o},t.prototype.eachTargetSeries=function(e,o){Te(this.getTargetSeriesIndices(),function(i){var a=this.ecModel.getSeriesByIndex(i);a&&e.call(o,a)},this)},t.prototype.isTargetSeries=function(e){var o=!1;return this.eachTargetSeries(function(i){i===e&&(o=!0)}),o},t.prototype.formatValueText=function(e,o,i){var a,u=this.option,c=u.precision,f=this.dataBound,h=u.formatter;i=i||["<",">"],tt(e)&&(e=e.slice(),a=!0);var m=o?e:a?[y(e[0]),y(e[1])]:y(e);return Un(h)?h.replace("{value}",a?m[0]:m).replace("{value2}",a?m[1]:m):hn(h)?a?h(e[0],e[1]):h(e):a?e[0]===f[0]?i[0]+" "+m[1]:e[1]===f[1]?i[1]+" "+m[0]:m[0]+" - "+m[1]:m;function y(_){return _===f[0]?"min":_===f[1]?"max":(+_).toFixed(Math.min(c,20))}},t.prototype.resetExtent=function(){var e=this.option,o=$z([e.min,e.max]);this._dataExtent=o},t.prototype.getDataDimensionIndex=function(e){var o=this.option.dimension;if(null!=o)return e.getDimensionIndex(o);for(var i=e.dimensions,a=i.length-1;a>=0;a--){var c=e.getDimensionInfo(i[a]);if(!c.isCalculationCoord)return c.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var e=this.ecModel,o=this.option,i={inRange:o.inRange,outOfRange:o.outOfRange},a=o.target||(o.target={}),u=o.controller||(o.controller={});Ve(a,i),Ve(u,i);var c=this.isCategory();function f(h){Kz(o.color)&&!h.inRange&&(h.inRange={color:o.color.slice().reverse()}),h.inRange=h.inRange||{color:e.get("gradientColor")}}f.call(this,a),f.call(this,u),function(h,m,y){var _=h[m],S=h[y];_&&!S&&(S=h[y]={},gB(_,function(k,D){if(cf.isValidType(D)){var A=hB(D,"inactive",c);null!=A&&(S[D]=A,"color"!==D||S.hasOwnProperty("opacity")||S.hasOwnProperty("colorAlpha")||(S.opacity=[0,0]))}}))}.call(this,a,"inRange","outOfRange"),function(h){var m=(h.inRange||{}).symbol||(h.outOfRange||{}).symbol,y=(h.inRange||{}).symbolSize||(h.outOfRange||{}).symbolSize,_=this.get("inactiveColor"),S=this.getItemSymbol()||"roundRect";gB(this.stateList,function(k){var D=this.itemSize,A=h[k];A||(A=h[k]={color:c?_:[_]}),null==A.symbol&&(A.symbol=m&&Re(m)||(c?S:[S])),null==A.symbolSize&&(A.symbolSize=y&&Re(y)||(c?D[0]:[D[0],D[0]])),A.symbol=pB(A.symbol,function(z){return"none"===z?S:z});var E=A.symbolSize;if(null!=E){var N=-1/0;Zz(E,function(z){z>N&&(N=z)}),A.symbolSize=pB(E,function(z){return Jz(z,[0,N],[0,D[0]],!0)})}},this)}.call(this,u)},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(e){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(e){return null},t.prototype.getVisualMeta=function(e){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},t}(H),mB=[20,140],Qz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.optionUpdated=function(e,o){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(i){i.mappingMethod="linear",i.dataExtent=this.getExtent()}),this._resetRange()},t.prototype.resetItemSize=function(){n.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(null==e[0]||isNaN(e[0]))&&(e[0]=mB[0]),(null==e[1]||isNaN(e[1]))&&(e[1]=mB[1])},t.prototype._resetRange=function(){var e=this.getExtent(),o=this.option.range;!o||o.auto?(e.auto=1,this.option.range=e):tt(o)&&(o[0]>o[1]&&o.reverse(),o[0]=Math.max(o[0],e[0]),o[1]=Math.min(o[1],e[1]))},t.prototype.completeVisualOption=function(){n.prototype.completeVisualOption.apply(this,arguments),Te(this.stateList,function(e){var o=this.option.controller[e].symbolSize;o&&o[0]!==o[1]&&(o[0]=o[1]/3)},this)},t.prototype.setSelected=function(e){this.option.range=e.slice(),this._resetRange()},t.prototype.getSelected=function(){var e=this.getExtent(),o=la((this.get("range")||[]).slice());return o[0]>e[1]&&(o[0]=e[1]),o[1]>e[1]&&(o[1]=e[1]),o[0]<e[0]&&(o[0]=e[0]),o[1]<e[0]&&(o[1]=e[0]),o},t.prototype.getValueState=function(e){var o=this.option.range,i=this.getExtent();return(o[0]<=i[0]||o[0]<=e)&&(o[1]>=i[1]||e<=o[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var o=[];return this.eachTargetSeries(function(i){var a=[],u=i.getData();u.each(this.getDataDimensionIndex(u),function(c,f){e[0]<=c&&c<=e[1]&&a.push(f)},this),o.push({seriesId:i.id,dataIndex:a})},this),o},t.prototype.getVisualMeta=function(e){var o=vB(0,0,this.getExtent()),i=vB(0,0,this.option.range.slice()),a=[];function u(S,k){a.push({value:S,color:e(S,k)})}for(var c=0,f=0,h=i.length,m=o.length;f<m&&(!i.length||o[f]<=i[0]);f++)o[f]<i[c]&&u(o[f],"outOfRange");for(var y=1;c<h;c++,y=0)y&&a.length&&u(i[c],"outOfRange"),u(i[c],"inRange");for(y=1;f<m;f++)(!i.length||i[i.length-1]<o[f])&&(y&&(a.length&&u(a[a.length-1].value,"outOfRange"),y=0),u(o[f],"outOfRange"));var _=a.length;return{stops:a,outerColors:[_?a[0].color:"transparent",_?a[_-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=Xd(DP.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),t}(DP);function vB(n,t,e){if(e[0]===e[1])return e.slice();for(var o=(e[1]-e[0])/200,i=e[0],a=[],u=0;u<=200&&i<e[1];u++)a.push(i),i+=o;return a.push(e[1]),a}var yB=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.autoPositionValues={left:1,right:1,top:1,bottom:1},e}return yt(t,n),t.prototype.init=function(e,o){this.ecModel=e,this.api=o},t.prototype.render=function(e,o,i,a){this.visualMapModel=e,!1!==e.get("show")?this.doRender(e,o,i,a):this.group.removeAll()},t.prototype.renderBackground=function(e){var o=this.visualMapModel,i=vg(o.get("padding")||0),a=e.getBoundingRect();e.add(new oi({z2:-1,silent:!0,shape:{x:a.x-i[3],y:a.y-i[0],width:a.width+i[3]+i[1],height:a.height+i[0]+i[2]},style:{fill:o.get("backgroundColor"),stroke:o.get("borderColor"),lineWidth:o.get("borderWidth")}}))},t.prototype.getControllerVisual=function(e,o,i){var a=(i=i||{}).forceState,u=this.visualMapModel,c={};if("color"===o){var f=u.get("contentColor");c.color=f}function h(_){return c[_]}function m(_,S){c[_]=S}var y=u.controllerVisuals[a||u.getValueState(e)];return Te(cf.prepareVisualTypes(y),function(_){var S=y[_];i.convertOpacityToAlpha&&"opacity"===_&&(_="colorAlpha",S=y.__alphaForOpacity),cf.dependsOn(_,o)&&S&&S.applyVisual(e,h,m)}),c[o]},t.prototype.positionGroup=function(e){var i=this.api;Fm(e,this.visualMapModel.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},t.prototype.doRender=function(e,o,i,a){},t.type="visualMap",t}(Ga),bB=[["left","right","width"],["top","bottom","height"]];function xB(n,t,e){var o=n.option,i=o.align;if(null!=i&&"auto"!==i)return i;for(var a={width:t.getWidth(),height:t.getHeight()},u="horizontal"===o.orient?1:0,c=bB[u],f=[0,null,10],h={},m=0;m<3;m++)h[bB[1-u][m]]=f[m],h[c[m]]=2===m?e[0]:o[c[m]];var y=[["x","width",3],["y","height",0]][u],_=au(h,a,o.padding);return c[(_.margin[y[2]]||0)+_[y[0]]+.5*_[y[1]]<.5*a[y[1]]?0:1]}function AP(n,t){return Te(n||[],function(e){null!=e.dataIndex&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(t?t.componentIndex:"")}),n}var D_=zi,eF=Te,_B=Math.min,PL=Math.max,tF=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._shapes={},e._dataInterval=[],e._handleEnds=[],e._hoverLinkDataIndices=[],e}return yt(t,n),t.prototype.doRender=function(e,o,i,a){this._api=i,a&&"selectDataRange"===a.type&&a.from===this.uid||this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var e=this.visualMapModel,o=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(o);var i=e.get("text");this._renderEndsText(o,i,0),this._renderEndsText(o,i,1),this._updateView(!0),this.renderBackground(o),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(o)},t.prototype._renderEndsText=function(e,o,i){if(o){var a=o[1-i];a=null!=a?a+"":"";var u=this.visualMapModel,c=u.get("textGap"),f=u.itemSize,h=this._shapes.mainGroup,m=this._applyTransform([f[0]/2,0===i?-c:f[1]+c],h),y=this._applyTransform(0===i?"bottom":"top",h),_=this._orient;this.group.add(new li({style:yi(this.visualMapModel.textStyleModel,{x:m[0],y:m[1],verticalAlign:"horizontal"===_?"middle":y,align:"horizontal"===_?y:"center",text:a})}))}},t.prototype._renderBar=function(e){var o=this.visualMapModel,i=this._shapes,a=o.itemSize,u=this._orient,c=this._useHandle,f=xB(o,this.api,a),h=i.mainGroup=this._createBarGroup(f),m=new lo;h.add(m),m.add(i.outOfRange=wB()),m.add(i.inRange=wB(null,c?CB(this._orient):null,Bn(this._dragHandle,this,"all",!1),Bn(this._dragHandle,this,"all",!0))),m.setClipPath(new oi({shape:{x:0,y:0,width:a[0],height:a[1],r:3}}));var y=o.textStyleModel.getTextRect("\u56fd"),_=PL(y.width,y.height);c&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(o,h,0,a,_,u),this._createHandle(o,h,1,a,_,u)),this._createIndicator(o,h,a,_,u),e.add(h)},t.prototype._createHandle=function(e,o,i,a,u,c){var f=Bn(this._dragHandle,this,i,!1),h=Bn(this._dragHandle,this,i,!0),m=gl(e.get("handleSize"),a[0]),y=Hu(e.get("handleIcon"),-m/2,-m/2,m,m,null,!0),_=CB(this._orient);y.attr({cursor:_,draggable:!0,drift:f,ondragend:h,onmousemove:function(E){Eu(E.event)}}),y.x=a[0]/2,y.useStyle(e.getModel("handleStyle").getItemStyle()),y.setStyle({strokeNoScale:!0,strokeFirst:!0}),y.style.lineWidth*=2,y.ensureState("emphasis").style=e.getModel(["emphasis","handleStyle"]).getItemStyle(),xl(y,!0),o.add(y);var k=new li({cursor:_,draggable:!0,drift:f,onmousemove:function(E){Eu(E.event)},ondragend:h,style:yi(this.visualMapModel.textStyleModel,{x:0,y:0,text:""})});k.ensureState("blur").style={opacity:.1},k.stateTransition={duration:200},this.group.add(k);var D=[m,0],A=this._shapes;A.handleThumbs[i]=y,A.handleLabelPoints[i]=D,A.handleLabels[i]=k},t.prototype._createIndicator=function(e,o,i,a,u){var c=gl(e.get("indicatorSize"),i[0]),f=Hu(e.get("indicatorIcon"),-c/2,-c/2,c,c,null,!0);f.attr({cursor:"move",invisible:!0,silent:!0,x:i[0]/2});var h=e.getModel("indicatorStyle").getItemStyle();if(f instanceof bu){var m=f.style;f.useStyle(Pe({image:m.image,x:m.x,y:m.y,width:m.width,height:m.height},h))}else f.useStyle(h);o.add(f);var _=new li({silent:!0,invisible:!0,style:yi(this.visualMapModel.textStyleModel,{x:0,y:0,text:""})});this.group.add(_);var S=[("horizontal"===u?a/2:6)+i[0]/2,0],k=this._shapes;k.indicator=f,k.indicatorLabel=_,k.indicatorLabelPoint=S,this._firstShowIndicator=!0},t.prototype._dragHandle=function(e,o,i,a){if(this._useHandle){if(this._dragging=!o,!o){var u=this._applyTransform([i,a],this._shapes.mainGroup,!0);this._updateInterval(e,u[1]),this._hideIndicator(),this._updateView()}o===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),o?!this._hovering&&this._clearHoverLinkToSeries():SB(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},t.prototype._resetInterval=function(){var e=this.visualMapModel,o=this._dataInterval=e.getSelected(),i=e.getExtent(),a=[0,e.itemSize[1]];this._handleEnds=[D_(o[0],i,a,!0),D_(o[1],i,a,!0)]},t.prototype._updateInterval=function(e,o){var i=this.visualMapModel,a=this._handleEnds,u=[0,i.itemSize[1]];_s(o=o||0,a,u,e,0);var c=i.getExtent();this._dataInterval=[D_(a[0],u,c,!0),D_(a[1],u,c,!0)]},t.prototype._updateView=function(e){var o=this.visualMapModel,i=o.getExtent(),a=this._shapes,u=[0,o.itemSize[1]],c=e?u:this._handleEnds,f=this._createBarVisual(this._dataInterval,i,c,"inRange"),h=this._createBarVisual(i,i,u,"outOfRange");a.inRange.setStyle({fill:f.barColor}).setShape("points",f.barPoints),a.outOfRange.setStyle({fill:h.barColor}).setShape("points",h.barPoints),this._updateHandle(c,f)},t.prototype._createBarVisual=function(e,o,i,a){var u={forceState:a,convertOpacityToAlpha:!0},c=this._makeColorGradient(e,u),f=[this.getControllerVisual(e[0],"symbolSize",u),this.getControllerVisual(e[1],"symbolSize",u)],h=this._createBarPoints(i,f);return{barColor:new pp(0,0,0,1,c),barPoints:h,handlesColor:[c[0].color,c[c.length-1].color]}},t.prototype._makeColorGradient=function(e,o){var i=[],a=(e[1]-e[0])/100;i.push({color:this.getControllerVisual(e[0],"color",o),offset:0});for(var u=1;u<100;u++){var c=e[0]+a*u;if(c>e[1])break;i.push({color:this.getControllerVisual(c,"color",o),offset:u/100})}return i.push({color:this.getControllerVisual(e[1],"color",o),offset:1}),i},t.prototype._createBarPoints=function(e,o){var i=this.visualMapModel.itemSize;return[[i[0]-o[0],e[0]],[i[0],e[0]],[i[0],e[1]],[i[0]-o[1],e[1]]]},t.prototype._createBarGroup=function(e){var o=this._orient,i=this.visualMapModel.get("inverse");return new lo("horizontal"!==o||i?"horizontal"===o&&i?{scaleX:"bottom"===e?-1:1,rotation:-Math.PI/2}:"vertical"!==o||i?{scaleX:"left"===e?1:-1}:{scaleX:"left"===e?1:-1,scaleY:-1}:{scaleX:"bottom"===e?1:-1,rotation:Math.PI/2})},t.prototype._updateHandle=function(e,o){if(this._useHandle){var i=this._shapes,a=this.visualMapModel,u=i.handleThumbs,c=i.handleLabels,f=a.itemSize,h=a.getExtent();eF([0,1],function(m){var y=u[m];y.setStyle("fill",o.handlesColor[m]),y.y=e[m];var _=D_(e[m],[0,f[1]],h,!0),S=this.getControllerVisual(_,"symbolSize");y.scaleX=y.scaleY=S/f[0],y.x=f[0]-S/2;var k=_u(i.handleLabelPoints[m],Eo(y,this.group));c[m].setStyle({x:k[0],y:k[1],text:a.formatValueText(this._dataInterval[m]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",i.mainGroup):"center"})},this)}},t.prototype._showIndicator=function(e,o,i,a){var u=this.visualMapModel,c=u.getExtent(),f=u.itemSize,h=[0,f[1]],m=this._shapes,y=m.indicator;if(y){y.attr("invisible",!1);var _=this.getControllerVisual(e,"color",{convertOpacityToAlpha:!0}),S=this.getControllerVisual(e,"symbolSize"),k=D_(e,c,h,!0),D=f[0]-S/2,A={x:y.x,y:y.y};y.y=k,y.x=D;var E=_u(m.indicatorLabelPoint,Eo(y,this.group)),N=m.indicatorLabel;N.attr("invisible",!1);var z=this._applyTransform("left",m.mainGroup),F="horizontal"===this._orient;N.setStyle({text:(i||"")+u.formatValueText(o),verticalAlign:F?z:"middle",align:F?"center":z});var q={x:D,y:k,style:{fill:_}},X={style:{x:E[0],y:E[1]}};if(u.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var ee={duration:100,easing:"cubicInOut",additive:!0};y.x=A.x,y.y=A.y,y.animateTo(q,ee),N.animateTo(X,ee)}else y.attr(q),N.attr(X);this._firstShowIndicator=!1;var ie=this._shapes.handleLabels;if(ie)for(var ye=0;ye<ie.length;ye++)this._api.enterBlur(ie[ye])}},t.prototype._enableHoverLinkToSeries=function(){var e=this;this._shapes.mainGroup.on("mousemove",function(o){if(e._hovering=!0,!e._dragging){var i=e.visualMapModel.itemSize,a=e._applyTransform([o.offsetX,o.offsetY],e._shapes.mainGroup,!0,!0);a[1]=_B(PL(0,a[1]),i[1]),e._doHoverLinkToSeries(a[1],0<=a[0]&&a[0]<=i[0])}}).on("mouseout",function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()})},t.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(e,o){var A,E,N,z,i=this.visualMapModel;if(i.option.hoverLink){var u=[0,i.itemSize[1]],c=i.getExtent();e=_B(PL(u[0],e),u[1]);var f=(A=c,E=u,N=6,(z=i.get("hoverLinkDataSize"))&&(N=D_(z,A,E,!0)/2),N),h=[e-f,e+f],m=D_(e,u,c,!0),y=[D_(h[0],u,c,!0),D_(h[1],u,c,!0)];h[0]<u[0]&&(y[0]=-1/0),h[1]>u[1]&&(y[1]=1/0),o&&(y[0]===-1/0?this._showIndicator(m,y[1],"< ",f):y[1]===1/0?this._showIndicator(m,y[0],"> ",f):this._showIndicator(m,m,"\u2248 ",f));var _=this._hoverLinkDataIndices,S=[];(o||SB(i))&&(S=this._hoverLinkDataIndices=i.findTargetDataIndices(y));var k=function(D,A){var E={},N={};return z(D||[],E),z(A||[],N,E),[F(E),F(N)];function z(q,X,ee){for(var ie=0,ye=q.length;ie<ye;ie++){var _e=xa(q[ie].seriesId,null);if(null==_e)return;for(var Se=Ko(q[ie].dataIndex),Ae=ee&&ee[_e],Fe=0,Xe=Se.length;Fe<Xe;Fe++){var nt=Se[Fe];Ae&&Ae[nt]?Ae[nt]=null:(X[_e]||(X[_e]={}))[nt]=1}}}function F(q,X){var ee=[];for(var ie in q)if(q.hasOwnProperty(ie)&&null!=q[ie])if(X)ee.push(+ie);else{var ye=F(q[ie],!0);ye.length&&ee.push({seriesId:ie,dataIndex:ye})}return ee}}(_,S);this._dispatchHighDown("downplay",AP(k[0],i)),this._dispatchHighDown("highlight",AP(k[1],i))}},t.prototype._hoverLinkFromSeriesMouseOver=function(e){var o;if(fy(e.target,function(f){var h=fo(f);if(null!=h.dataIndex)return o=h,!0},!0),o){var i=this.ecModel.getSeriesByIndex(o.seriesIndex),a=this.visualMapModel;if(a.isTargetSeries(i)){var u=i.getData(o.dataType),c=u.getStore().get(a.getDataDimensionIndex(u),o.dataIndex);isNaN(c)||this._showIndicator(c,c)}}},t.prototype._hideIndicator=function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0);var o=this._shapes.handleLabels;if(o)for(var i=0;i<o.length;i++)this._api.leaveBlur(o[i])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",AP(e,this.visualMapModel)),e.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(e,o,i,a){var u=Eo(o,a?null:this.group);return tt(e)?_u(e,u,i):Mh(e,u,i)},t.prototype._dispatchHighDown=function(e,o){o&&o.length&&this.api.dispatchAction({type:e,batch:o})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t}(yB);function wB(n,t,e,o){return new ms({shape:{points:n},draggable:!!e,cursor:t,drift:e,onmousemove:function(i){Eu(i.event)},ondragend:o})}function SB(n){var t=n.get("hoverLinkOnHandle");return!!(null==t?n.get("realtime"):t)}function CB(n){return"vertical"===n?"ns-resize":"ew-resize"}var nF={type:"selectDataRange",event:"dataRangeSelected",update:"update"},rF=function(n,t){t.eachComponent({mainType:"visualMap",query:n},function(e){e.setSelected(n.selected)})},oF=[{createOnAllSeries:!0,reset:function(n,t){var e=[];return t.eachComponent("visualMap",function(o){var i,a,u,c,f,h=n.pipelineContext;!o.isTargetSeries(n)||h&&h.large||e.push((i=o.stateList,a=o.targetVisuals,u=Bn(o.getValueState,o),c=o.getDataDimensionIndex(n.getData()),f={},Te(i,function(m){var y=cf.prepareVisualTypes(a[m]);f[m]=y}),{progress:function(m,y){var _,S;function k(ye){return pw(y,S,ye)}function D(ye,_e){oM(y,S,ye,_e)}null!=c&&(_=y.getDimensionIndex(c));for(var A=y.getStore();null!=(S=m.next());){var E=y.getRawDataItem(S);if(!E||!1!==E.visualMap)for(var N=null!=c?A.get(_,S):S,z=u(N),F=a[z],q=f[z],X=0,ee=q.length;X<ee;X++){var ie=q[X];F[ie]&&F[ie].applyVisual(N,k,D)}}}}))}),e}},{createOnAllSeries:!0,reset:function(n,t){var e=n.getData(),o=[];t.eachComponent("visualMap",function(i){if(i.isTargetSeries(n)){var a=i.getVisualMeta(Bn(iF,null,n,i))||{stops:[],outerColors:[]},u=i.getDataDimensionIndex(e);u>=0&&(a.dimension=u,o.push(a))}}),n.getData().setVisual("visualMeta",o)}}];function iF(n,t,e,o){for(var i=t.targetVisuals[o],a=cf.prepareVisualTypes(i),u={color:cy(n.getData(),"color")},c=0,f=a.length;c<f;c++){var h=a[c],m=i["opacity"===h?"__alphaForOpacity":h];m&&m.applyVisual(e,y,_)}return u.color;function y(S){return u[S]}function _(S,k){u[S]=k}}var kB=Te;function aF(n){var t=n&&n.visualMap;tt(t)||(t=t?[t]:[]),kB(t,function(e){if(e){FD(e,"splitList")&&!FD(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var o=e.pieces;o&&tt(o)&&kB(o,function(i){fr(i)&&(FD(i,"start")&&!FD(i,"min")&&(i.min=i.start),FD(i,"end")&&!FD(i,"max")&&(i.max=i.end))})}})}function FD(n,t){return n&&n.hasOwnProperty&&n.hasOwnProperty(t)}var MB=!1;function TB(n){MB||(MB=!0,n.registerSubTypeDefaulter("visualMap",function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)&&!t.calculable?"piecewise":"continuous"}),n.registerAction(nF,rF),Te(oF,function(t){n.registerVisual(n.PRIORITY.VISUAL.COMPONENT,t)}),n.registerPreprocessor(aF))}function DB(n){n.registerComponentModel(Qz),n.registerComponentView(tF),TB(n)}var sF=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._pieceList=[],e}return yt(t,n),t.prototype.optionUpdated=function(e,o){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[],uF[this._mode].call(this,this._pieceList),this._resetSelected(e,o);var a=this.option.categories;this.resetVisual(function(u,c){"categories"===i?(u.mappingMethod="category",u.categories=Re(a)):(u.dataExtent=this.getExtent(),u.mappingMethod="piecewise",u.pieceList=It(this._pieceList,function(f){return f=Re(f),"inRange"!==c&&(f.visual=null),f}))})},t.prototype.completeVisualOption=function(){var e=this.option,o={},i=cf.listVisualTypes(),a=this.isCategory();function u(c,f,h){return c&&c[f]&&c[f].hasOwnProperty(h)}Te(e.pieces,function(c){Te(i,function(f){c.hasOwnProperty(f)&&(o[f]=1)})}),Te(o,function(c,f){var h=!1;Te(this.stateList,function(m){h=h||u(e,m,f)||u(e.target,m,f)},this),!h&&Te(this.stateList,function(m){(e[m]||(e[m]={}))[f]=hB(f,"inRange"===m?"active":"inactive",a)})},this),n.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(e,o){var i=this.option,a=this._pieceList,u=(o?i:e).selected||{};if(i.selected=u,Te(a,function(f,h){var m=this.getSelectedMapKey(f);u.hasOwnProperty(m)||(u[m]=!0)},this),"single"===i.selectedMode){var c=!1;Te(a,function(f,h){var m=this.getSelectedMapKey(f);u[m]&&(c?u[m]=!1:c=!0)},this)}},t.prototype.getItemSymbol=function(){return this.get("itemSymbol")},t.prototype.getSelectedMapKey=function(e){return"categories"===this._mode?e.value+"":e.index+""},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},t.prototype.setSelected=function(e){this.option.selected=Re(e)},t.prototype.getValueState=function(e){var o=cf.findPieceIndex(e,this._pieceList);return null!=o&&this.option.selected[this.getSelectedMapKey(this._pieceList[o])]?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var o=[],i=this._pieceList;return this.eachTargetSeries(function(a){var u=[],c=a.getData();c.each(this.getDataDimensionIndex(c),function(f,h){cf.findPieceIndex(f,i)===e&&u.push(h)},this),o.push({seriesId:a.id,dataIndex:u})},this),o},t.prototype.getRepresentValue=function(e){var o;if(this.isCategory())o=e.value;else if(null!=e.value)o=e.value;else{var i=e.interval||[];o=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return o},t.prototype.getVisualMeta=function(e){if(!this.isCategory()){var o=[],i=["",""],a=this,u=this._pieceList.slice();if(u.length){var c=u[0].interval[0];c!==-1/0&&u.unshift({interval:[-1/0,c]}),(c=u[u.length-1].interval[1])!==1/0&&u.push({interval:[c,1/0]})}else u.push({interval:[-1/0,1/0]});var f=-1/0;return Te(u,function(m){var y=m.interval;y&&(y[0]>f&&h([f,y[0]],"outOfRange"),h(y.slice()),f=y[1])},this),{stops:o,outerColors:i}}function h(m,y){var _=a.getRepresentValue({interval:m});y||(y=a.getValueState(_));var S=e(_,y);m[0]===-1/0?i[0]=S:m[1]===1/0?i[1]=S:o.push({value:m[0],color:S},{value:m[1],color:S})}},t.type="visualMap.piecewise",t.defaultOption=Xd(DP.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t}(DP),uF={splitNumber:function(n){var t=this.option,e=Math.min(t.precision,20),o=this.getExtent(),i=t.splitNumber;i=Math.max(parseInt(i,10),1),t.splitNumber=i;for(var a=(o[1]-o[0])/i;+a.toFixed(e)!==a&&e<5;)e++;t.precision=e,a=+a.toFixed(e),t.minOpen&&n.push({interval:[-1/0,o[0]],close:[0,0]});for(var u=0,c=o[0];u<i;c+=a,u++)n.push({interval:[c,u===i-1?o[1]:c+a],close:[1,1]});t.maxOpen&&n.push({interval:[o[1],1/0],close:[0,0]}),$l(n),Te(n,function(h,m){h.index=m,h.text=this.formatValueText(h.interval)},this)},categories:function(n){var t=this.option;Te(t.categories,function(e){n.push({text:this.formatValueText(e,!0),value:e})},this),AB(t,n)},pieces:function(n){var t=this.option;Te(t.pieces,function(e,o){fr(e)||(e={value:e});var i={text:"",index:o};if(null!=e.label&&(i.text=e.label),e.hasOwnProperty("value")){var a=i.value=e.value;i.interval=[a,a],i.close=[1,1]}else{for(var u=i.interval=[],c=i.close=[0,0],f=[1,0,1],h=[-1/0,1/0],m=[],y=0;y<2;y++){for(var _=[["gte","gt","min"],["lte","lt","max"]][y],S=0;S<3&&null==u[y];S++)u[y]=e[_[S]],c[y]=f[S],m[y]=2===S;null==u[y]&&(u[y]=h[y])}m[0]&&u[1]===1/0&&(c[0]=0),m[1]&&u[0]===-1/0&&(c[1]=0),u[0]===u[1]&&c[0]&&c[1]&&(i.value=u[0])}i.visual=cf.retrieveVisuals(e),n.push(i)},this),AB(t,n),$l(n),Te(n,function(e){var o=e.close;e.text=e.text||this.formatValueText(null!=e.value?e.value:e.interval,!1,[["<","\u2264"][o[1]],[">","\u2265"][o[0]]])},this)}};function AB(n,t){var e=n.inverse;("vertical"===n.orient?!e:e)&&t.reverse()}var lF=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return yt(t,n),t.prototype.doRender=function(){var e=this.group;e.removeAll();var o=this.visualMapModel,i=o.get("textGap"),a=o.textStyleModel,u=a.getFont(),c=a.getTextColor(),f=this._getItemAlign(),h=o.itemSize,m=this._getViewData(),y=m.endsText,_=ar(o.get("showLabel",!0),!y);y&&this._renderEndsText(e,y[0],h,_,f),Te(m.viewPieceList,function(S){var k=S.piece,D=new lo;D.onclick=Bn(this._onItemClick,this,k),this._enableHoverLink(D,S.indexInModelPieceList);var A=o.getRepresentValue(k);if(this._createItemSymbol(D,A,[0,0,h[0],h[1]]),_){var E=this.visualMapModel.getValueState(A);D.add(new li({style:{x:"right"===f?-i:h[0]+i,y:h[1]/2,text:k.text,verticalAlign:"middle",align:f,font:u,fill:c,opacity:"outOfRange"===E?.5:1}}))}e.add(D)},this),y&&this._renderEndsText(e,y[1],h,_,f),rl(o.get("orient"),e,o.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},t.prototype._enableHoverLink=function(e,o){var i=this;e.on("mouseover",function(){return a("highlight")}).on("mouseout",function(){return a("downplay")});var a=function(u){var c=i.visualMapModel;c.option.hoverLink&&i.api.dispatchAction({type:u,batch:AP(c.findTargetDataIndices(o),c)})}},t.prototype._getItemAlign=function(){var e=this.visualMapModel,o=e.option;if("vertical"===o.orient)return xB(e,this.api,e.itemSize);var i=o.align;return i&&"auto"!==i||(i="left"),i},t.prototype._renderEndsText=function(e,o,i,a,u){if(o){var c=new lo;c.add(new li({style:yi(this.visualMapModel.textStyleModel,{x:a?"right"===u?i[0]:0:i[0]/2,y:i[1]/2,verticalAlign:"middle",align:a?u:"center",text:o})})),e.add(c)}},t.prototype._getViewData=function(){var e=this.visualMapModel,o=It(e.getPieceList(),function(c,f){return{piece:c,indexInModelPieceList:f}}),i=e.get("text"),a=e.get("orient"),u=e.get("inverse");return("horizontal"===a?u:!u)?o.reverse():i&&(i=i.slice().reverse()),{viewPieceList:o,endsText:i}},t.prototype._createItemSymbol=function(e,o,i){e.add(Hu(this.getControllerVisual(o,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(o,"color")))},t.prototype._onItemClick=function(e){var o=this.visualMapModel,i=o.option,a=i.selectedMode;if(a){var u=Re(i.selected),c=o.getSelectedMapKey(e);"single"===a||!0===a?(u[c]=!0,Te(u,function(f,h){u[h]=h===c})):u[c]=!u[c],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:u})}},t.type="visualMap.piecewise",t}(yB);function IB(n){n.registerComponentModel(sF),n.registerComponentView(lF),TB(n)}var cF={label:{enabled:!0},decal:{show:!1}},OB=Qo(),fF={};function dF(n,t){var e=n.getModel("aria");if(e.get("enabled")){var o=Re(cF);Ve(o.label,n.getLocaleModel().get("aria"),!1),Ve(e.option,o,!1),function(){if(e.getModel("decal").get("show")){var a=Ir();n.eachSeries(function(u){if(!u.isColorBySeries()){var c=a.get(u.type);c||a.set(u.type,c={}),OB(u).scope=c}}),n.eachRawSeries(function(u){if(!n.isSeriesFiltered(u))if(hn(u.enableAriaDecal))u.enableAriaDecal();else{var c=u.getData();if(u.isColorBySeries()){var f=Yo(u.ecModel,u.name,fF,n.getSeriesCount()),h=c.getVisual("decal");c.setVisual("decal",k(h,f))}else{var m=u.getRawData(),y={},_=OB(u).scope;c.each(function(D){var A=c.getRawIndex(D);y[A]=D});var S=m.count();m.each(function(D){var A=y[D],E=m.getName(D)||D+"",N=Yo(u.ecModel,E,_,S),z=c.getItemVisual(A,"decal");c.setItemVisual(A,"decal",k(z,N))})}}function k(D,A){var E=D?Pe(Pe({},A),D):A;return E.dirty=!0,E}})}}(),function(){var N,a=n.getLocaleModel().get("aria"),u=e.getModel("label");if(u.option=ht(u.option,a),u.get("enabled")){var c=t.getZr().dom;if(u.get("description"))return void c.setAttribute("aria-label",u.get("description"));var f,h=n.getSeriesCount(),m=u.get(["data","maxCount"])||10,y=u.get(["series","maxCount"])||10,_=Math.min(h,y);if(!(h<1)){var S=((N=n.get("title"))&&N.length&&(N=N[0]),N&&N.text);f=S?i(u.get(["general","withTitle"]),{title:S}):u.get(["general","withoutTitle"]);var k=[];f+=i(u.get(h>1?["series","multiple","prefix"]:["series","single","prefix"]),{seriesCount:h}),n.eachSeries(function(N,z){if(z<_){var F=void 0,q=N.get("name")?"withName":"withoutName";F=i(F=u.get(h>1?["series","multiple",q]:["series","single",q]),{seriesId:N.seriesIndex,seriesName:N.get("name"),seriesType:(Xe=N.subType,n.getLocaleModel().get(["series","typeNames"])[Xe]||"\u81ea\u5b9a\u4e49\u56fe")});var X=N.getData();X.count()>m?F+=i(u.get(["data","partialData"]),{displayCnt:m}):F+=u.get(["data","allData"]);for(var ee=u.get(["data","separator","middle"]),ie=u.get(["data","separator","end"]),ye=[],_e=0;_e<X.count();_e++)if(_e<m){var Se=X.getName(_e),Ae=X.getValues(_e),Fe=u.get(["data",Se?"withName":"withoutName"]);ye.push(i(Fe,{name:Se,value:Ae.join(ee)}))}F+=ye.join(ee)+ie,k.push(F)}var Xe});var D=u.getModel(["series","multiple","separator"]),A=D.get("middle"),E=D.get("end");f+=k.join(A)+E,c.setAttribute("aria-label",f)}}}()}function i(a,u){if(!Un(a))return a;var c=a;return Te(u,function(f,h){c=c.replace(new RegExp("\\{\\s*"+h+"\\s*\\}","g"),f)}),c}}function hF(n){if(n&&n.aria){var t=n.aria;null!=t.show&&(t.enabled=t.show),t.label=t.label||{},Te(["description","general","series","data"],function(e){null!=t[e]&&(t.label[e]=t[e])})}}var EB={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},pF=function(){function n(t){null==(this._condVal=Un(t)?new RegExp(t):jn(t)?t:null)&&fi("")}return n.prototype.evaluate=function(t){var e=typeof t;return Un(e)?this._condVal.test(t):!!hr(e)&&this._condVal.test(t+"")},n}(),gF=function(){function n(){}return n.prototype.evaluate=function(){return this.value},n}(),mF=function(){function n(){}return n.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(!t[e].evaluate())return!1;return!0},n}(),vF=function(){function n(){}return n.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(t[e].evaluate())return!0;return!1},n}(),yF=function(){function n(){}return n.prototype.evaluate=function(){return!this.child.evaluate()},n}(),bF=function(){function n(){}return n.prototype.evaluate=function(){for(var t=!!this.valueParser,e=(0,this.getValue)(this.valueGetterParam),o=t?this.valueParser(e):null,i=0;i<this.subCondList.length;i++)if(!this.subCondList[i].evaluate(t?o:e))return!1;return!0},n}();function RL(n,t){if(!0===n||!1===n){var e=new gF;return e.value=n,e}return RB(n)||fi(""),n.and?PB("and",n,t):n.or?PB("or",n,t):n.not?function(i,a){var u=i.not;RB(u)||fi("");var f=new yF;return f.child=RL(u,a),f.child||fi(""),f}(n,t):function(i,a){for(var c=a.prepareGetValue(i),f=[],h=Zn(i),m=i.parser,y=m?Gk(m):null,_=0;_<h.length;_++){var S=h[_];if("parser"!==S&&!a.valueGetterAttrMap.get(S)){var k=Mr(EB,S)?EB[S]:S,D=i[S],A=y?y(D):D,E=YD(k,A)||"reg"===k&&new pF(A);E||fi(""),f.push(E)}}f.length||fi("");var N=new bF;return N.valueGetterParam=c,N.valueParser=y,N.getValue=a.getValue,N.subCondList=f,N}(n,t)}function PB(n,t,e){var o=t[n];tt(o)||fi(""),o.length||fi("");var a="and"===n?new mF:new vF;return a.children=It(o,function(u){return RL(u,e)}),a.children.length||fi(""),a}function RB(n){return fr(n)&&!Ht(n)}var xF=function(){function n(t,e){this._cond=RL(t,e)}return n.prototype.evaluate=function(){return this._cond.evaluate()},n}(),_F={type:"echarts:filter",transform:function(n){for(var t,e,o,i=n.upstream,a=(e=n.config,o={valueGetterAttrMap:Ir({dimension:!0}),prepareGetValue:function(h){var y=h.dimension;Mr(h,"dimension")||fi("");var _=i.getDimensionInfo(y);return _||fi(""),{dimIdx:_.index}},getValue:function(h){return i.retrieveValueFromItem(t,h.dimIdx)}},new xF(e,o)),u=[],c=0,f=i.count();c<f;c++)t=i.getRawDataItem(c),a.evaluate()&&u.push(t);return{data:u}}},wF={type:"echarts:sort",transform:function(n){var t=n.upstream,o="",i=Ko(n.config);i.length||fi(o);var a=[];Te(i,function(m){var y=m.dimension,_=m.order,S=m.parser,k=m.incomparable;null==y&&fi(o),"asc"!==_&&"desc"!==_&&fi(o),k&&"min"!==k&&"max"!==k&&fi(""),"asc"!==_&&"desc"!==_&&fi("");var E=t.getDimensionInfo(y);E||fi(o);var N=S?Gk(S):null;S&&!N&&fi(o),a.push({dimIdx:E.index,parser:N,comparator:new qS(_,k)})});var u=t.sourceFormat;u!==$e&&u!==ot&&fi(o);for(var c=[],f=0,h=t.count();f<h;f++)c.push(t.getRawDataItem(f));return c.sort(function(m,y){for(var _=0;_<a.length;_++){var S=a[_],k=t.retrieveValueFromItem(m,S.dimIdx),D=t.retrieveValueFromItem(y,S.dimIdx);S.parser&&(k=S.parser(k),D=S.parser(D));var A=S.comparator.evaluate(k,D);if(0!==A)return A}return 0}),{data:c}}},SF=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="dataset",e}return yt(t,n),t.prototype.init=function(e,o,i){n.prototype.init.call(this,e,o,i),this._sourceManager=new ow(this),Sx(this)},t.prototype.mergeOption=function(e,o){n.prototype.mergeOption.call(this,e,o),Sx(this)},t.prototype.optionUpdated=function(){this._sourceManager.dirty()},t.prototype.getSourceManager=function(){return this._sourceManager},t.type="dataset",t.defaultOption={seriesLayoutBy:Nt},t}(H),CF=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="dataset",e}return yt(t,n),t.type="dataset",t}(Ga),A_=Ya.CMD;function VD(n,t){return Math.abs(n-t)<1e-5}function LL(n){var t,e,o,i,a,Ae,Fe,Xe,nt,it,ut,mt,Ot,Pt,Gt,kn,tr,Xt,dr,nr,br,ur,u=n.data,c=n.len(),f=[],h=0,m=0,y=0,_=0;function S(Ae,Fe){t&&t.length>2&&f.push(t),t=[Ae,Fe]}function k(Ae,Fe,Xe,nt){VD(Ae,Xe)&&VD(Fe,nt)||t.push(Ae,Fe,Xe,nt,Xe,nt)}for(var A=0;A<c;){var E=u[A++],N=1===A;switch(N&&(y=h=u[A],_=m=u[A+1],E!==A_.L&&E!==A_.C&&E!==A_.Q||(t=[y,_])),E){case A_.M:h=y=u[A++],m=_=u[A++],S(y,_);break;case A_.L:k(h,m,e=u[A++],o=u[A++]),h=e,m=o;break;case A_.C:t.push(u[A++],u[A++],u[A++],u[A++],h=u[A++],m=u[A++]);break;case A_.Q:e=u[A++],o=u[A++],i=u[A++],a=u[A++],t.push(h+2/3*(e-h),m+2/3*(o-m),i+2/3*(e-i),a+2/3*(o-a),i,a),h=i,m=a;break;case A_.A:var z=u[A++],F=u[A++],q=u[A++],X=u[A++],ee=u[A++],ie=u[A++]+ee;A+=1;var ye=!u[A++];e=Math.cos(ee)*q+z,o=Math.sin(ee)*X+F,N?S(y=e,_=o):k(h,m,e,o),h=Math.cos(ie)*q+z,m=Math.sin(ie)*X+F;for(var _e=(ye?-1:1)*Math.PI/2,Se=ee;ye?Se>ie:Se<ie;Se+=_e)Ae=Se,Fe=ye?Math.max(Se+_e,ie):Math.min(Se+_e,ie),Xe=z,nt=F,it=q,ut=X,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,mt=Math.abs(Fe-Ae),Ot=4*Math.tan(mt/4)/3,Pt=Fe<Ae?-1:1,Gt=Math.cos(Ae),kn=Math.sin(Ae),tr=Math.cos(Fe),Xt=Math.sin(Fe),t.push(Gt*it+Xe-(br=it*Ot*Pt)*kn,kn*ut+nt+(ur=ut*Ot*Pt)*Gt,(dr=tr*it+Xe)+br*Xt,(nr=Xt*ut+nt)-ur*tr,dr,nr);break;case A_.R:y=h=u[A++],_=m=u[A++],e=y+u[A++],o=_+u[A++],S(e,_),k(e,_,e,o),k(e,o,y,o),k(y,o,y,_),k(y,_,e,_);break;case A_.Z:t&&k(h,m,y,_),h=y,m=_}}return t&&t.length>2&&f.push(t),f}function NL(n,t,e,o,i,a,u,c,f,h){if(VD(n,e)&&VD(t,o)&&VD(i,u)&&VD(a,c))f.push(u,c);else{var m=2/h,y=m*m,_=u-n,S=c-t,k=Math.sqrt(_*_+S*S);_/=k,S/=k;var D=e-n,A=o-t,E=i-u,N=a-c,z=D*D+A*A,F=E*E+N*N;if(z<y&&F<y)f.push(u,c);else{var q=_*D+S*A,X=-_*E-S*N;if(z-q*q<y&&q>=0&&F-X*X<y&&X>=0)f.push(u,c);else{var ee=[],ie=[];Sd(n,e,i,u,.5,ee),Sd(t,o,a,c,.5,ie),NL(ee[0],ie[0],ee[1],ie[1],ee[2],ie[2],ee[3],ie[3],f,h),NL(ee[4],ie[4],ee[5],ie[5],ee[6],ie[6],ee[7],ie[7],f,h)}}}}function LB(n,t,e){var a=Math.abs(n[t]/n[1-t]),u=Math.ceil(Math.sqrt(a*e)),c=Math.floor(e/u);0===c&&(c=1,u=e);for(var f=[],h=0;h<u;h++)f.push(c);var m=e-u*c;if(m>0)for(h=0;h<m;h++)f[h%u]+=1;return f}function NB(n,t,e){for(var o=n.r0,i=n.r,a=n.startAngle,c=Math.abs(n.endAngle-a),f=c*i,h=i-o,m=f>Math.abs(h),y=LB([f,h],m?0:1,t),_=(m?c:h)/y.length,S=0;S<y.length;S++)for(var k=(m?h:c)/y[S],D=0;D<y[S];D++){var A={};m?(A.startAngle=a+_*S,A.endAngle=a+_*(S+1),A.r0=o+k*D,A.r=o+k*(D+1)):(A.startAngle=a+k*D,A.endAngle=a+k*(D+1),A.r0=o+_*S,A.r=o+_*(S+1)),A.clockwise=n.clockwise,A.cx=n.cx,A.cy=n.cy,e.push(A)}}function BB(n,t,e,o){return n*o-e*t}function kF(n,t,e,o,i,a,u,c){var f=e-n,h=o-t,m=u-i,y=c-a,_=BB(m,y,f,h);if(Math.abs(_)<1e-6)return null;var S=BB(n-i,t-a,m,y)/_;return S<0||S>1?null:new mo(S*f+n,S*h+t)}function MF(n,t,e){var o=new mo;mo.sub(o,e,t),o.normalize();var i=new mo;return mo.sub(i,n,t),i.dot(o)}function HD(n,t){var e=n[n.length-1];e&&e[0]===t[0]&&e[1]===t[1]||n.push(t)}function zB(n){var t=n.points,e=[],o=[];fa(t,e,o);var i=new To(e[0],e[1],o[0]-e[0],o[1]-e[1]),a=i.width,u=i.height,c=i.x,f=i.y,h=new mo,m=new mo;return a>u?(h.x=m.x=c+a/2,h.y=f,m.y=f+u):(h.y=m.y=f+u/2,h.x=c,m.x=c+a),function(y,_,S){for(var k=y.length,D=[],A=0;A<k;A++){var E=y[A],N=y[(A+1)%k],z=kF(E[0],E[1],N[0],N[1],_.x,_.y,S.x,S.y);z&&D.push({projPt:MF(z,_,S),pt:z,idx:A})}if(D.length<2)return[{points:y},{points:y}];D.sort(function(Se,Ae){return Se.projPt-Ae.projPt});var F=D[0],q=D[D.length-1];if(q.idx<F.idx){var X=F;F=q,q=X}var ee=[F.pt.x,F.pt.y],ie=[q.pt.x,q.pt.y],ye=[ee],_e=[ie];for(A=F.idx+1;A<=q.idx;A++)HD(ye,y[A].slice());for(HD(ye,ie),HD(ye,ee),A=q.idx+1;A<=F.idx+k;A++)HD(_e,y[A%k].slice());return HD(_e,ee),HD(_e,ie),[{points:ye},{points:_e}]}(t,h,m)}function IP(n,t,e,o){if(1===e)o.push(t);else{var i=Math.floor(e/2),a=n(t);IP(n,a[0],i,o),IP(n,a[1],e-i,o)}return o}function TF(n,t){t.setStyle(n.style),t.z=n.z,t.z2=n.z2,t.zlevel=n.zlevel}function AF(n,t){var e=n.length,o=t.length;if(e===o)return[n,t];for(var i=[],a=[],u=e<o?n:t,c=Math.min(e,o),f=Math.abs(o-e)/6,m=Math.ceil(f/((c-2)/6))+1,y=[u[0],u[1]],_=f,S=2;S<c;){var k=u[S-2],D=u[S-1],A=u[S++],E=u[S++],N=u[S++],z=u[S++],F=u[S++],q=u[S++];if(_<=0)y.push(A,E,N,z,F,q);else{for(var X=Math.min(_,m-1)+1,ee=1;ee<=X;ee++){var ie=ee/X;Sd(k,A,N,F,ie,i),Sd(D,E,z,q,ie,a),y.push(i[1],a[1],i[2],a[2],k=i[3],D=a[3]),A=i[5],E=a[5],N=i[6],z=a[6]}_-=X-1}}return u===n?[y,t]:[n,y]}function FB(n,t){for(var e=n.length,o=n[e-2],i=n[e-1],a=[],u=0;u<t.length;)a[u++]=o,a[u++]=i;return a}function VB(n){for(var t=0,e=0,o=0,i=n.length,a=0,u=i-2;a<i;u=a,a+=2){var c=n[u],f=n[u+1],h=n[a],m=n[a+1],y=c*m-h*f;t+=y,e+=(c+h)*y,o+=(f+m)*y}return 0===t?[n[0]||0,n[1]||0]:[e/t/3,o/t/3,t]}function IF(n,t,e,o){for(var i=(n.length-2)/6,a=1/0,u=0,c=n.length,f=c-2,h=0;h<i;h++){for(var m=6*h,y=0,_=0;_<c;_+=2){var S=0===_?m:(m+_-2)%f+2,A=t[_]-o[0]-(n[S]-e[0]),E=t[_+1]-o[1]-(n[S+1]-e[1]);y+=A*A+E*E}y<a&&(a=y,u=h)}return u}function OF(n){for(var t=[],e=n.length,o=0;o<e;o+=2)t[o]=n[e-o-2],t[o+1]=n[e-o-1];return t}function OP(n){return n.__isCombineMorphing}var HB="__mOriginal_";function EP(n,t,e){var o=HB+t,i=n[o]||n[t];n[o]||(n[o]=n[t]);var a=e.replace,u=e.after,c=e.before;n[t]=function(){var f,h=arguments;return c&&c.apply(this,h),f=a?a.apply(this,h):i.apply(this,h),u&&u.apply(this,h),f}}function cO(n,t){var e=HB+t;n[e]&&(n[t]=n[e],n[e]=null)}function WB(n,t){for(var e=0;e<n.length;e++)for(var o=n[e],i=0;i<o.length;){var a=o[i],u=o[i+1];o[i++]=t[0]*a+t[2]*u+t[4],o[i++]=t[1]*a+t[3]*u+t[5]}}function GB(n,t){var e=n.getUpdatedPathProxy(),o=t.getUpdatedPathProxy(),i=function(y,_){for(var S,k,D,A=[],E=[],N=0;N<Math.max(y.length,_.length);N++){var z=y[N],F=_[N],q=void 0,X=void 0;z?F?(k=q=(S=AF(z,F))[0],D=X=S[1]):(X=FB(D||z,z),q=z):(q=FB(k||F,F),X=F),A.push(q),E.push(X)}return[A,E]}(LL(e),LL(o)),a=i[0],u=i[1],c=n.getComputedTransform(),f=t.getComputedTransform();c&&WB(a,c),f&&WB(u,f),EP(t,"updateTransform",{replace:function(){this.transform=null}}),t.transform=null;var h=function(y,_,S,k){for(var D,A=[],E=0;E<y.length;E++){var N=y[E],z=_[E],F=VB(N),q=VB(z);null==D&&(D=F[2]<0!=q[2]<0);var X=[],ee=[],ie=0,ye=1/0,_e=[],Se=N.length;D&&(N=OF(N));for(var Ae=6*IF(N,z,F,q),Fe=Se-2,Xe=0;Xe<Fe;Xe+=2){var nt=(Ae+Xe)%Fe+2;X[Xe+2]=N[nt]-F[0],X[Xe+3]=N[nt+1]-F[1]}X[0]=N[Ae]-F[0],X[1]=N[Ae+1]-F[1];for(var it=k/10,ut=-k/2;ut<=k/2;ut+=it){var mt=Math.sin(ut),Ot=Math.cos(ut),Pt=0;for(Xe=0;Xe<N.length;Xe+=2){var Gt=X[Xe],kn=X[Xe+1],tr=z[Xe]-q[0],Xt=z[Xe+1]-q[1],zn=tr*Ot-Xt*mt,gr=tr*mt+Xt*Ot;_e[Xe]=zn,_e[Xe+1]=gr;var dr=zn-Gt,nr=gr-kn;Pt+=dr*dr+nr*nr}if(Pt<ye){ye=Pt,ie=ut;for(var br=0;br<_e.length;br++)ee[br]=_e[br]}}A.push({from:X,to:ee,fromCp:F,toCp:q,rotation:-ie})}return A}(a,u,0,Math.PI),m=[];EP(t,"buildPath",{replace:function(y){for(var _=t.__morphT,S=1-_,k=[],D=0;D<h.length;D++){var A=h[D],E=A.from,N=A.to,z=A.rotation*_,F=A.fromCp,q=A.toCp,X=Math.sin(z),ee=Math.cos(z);Mn(k,F,q,_);for(var ie=0;ie<E.length;ie+=2){var Se=E[ie]*S+(nt=N[ie])*_,Ae=E[ie+1]*S+(it=N[ie+1])*_;m[ie]=Se*ee-Ae*X+k[0],m[ie+1]=Se*X+Ae*ee+k[1]}var Fe=m[0],Xe=m[1];for(y.moveTo(Fe,Xe),ie=2;ie<E.length;){var nt=m[ie++],it=m[ie++],ut=m[ie++],mt=m[ie++],Ot=m[ie++],Pt=m[ie++];Fe===nt&&Xe===it&&ut===Ot&&mt===Pt?y.lineTo(Ot,Pt):y.bezierCurveTo(nt,it,ut,mt,Ot,Pt),Fe=Ot,Xe=Pt}}}})}function BL(n,t,e){if(!n||!t)return t;var o=e.done,i=e.during;return GB(n,t),t.__morphT=0,t.animateTo({__morphT:1},ht({during:function(a){t.dirtyShape(),i&&i(a)},done:function(){cO(t,"buildPath"),cO(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape(),o&&o()}},e)),t}function EF(n,t,e,o,i,a){n=i===e?0:Math.round(32767*(n-e)/(i-e)),t=a===o?0:Math.round(32767*(t-o)/(a-o));for(var u,c=0,f=32768;f>0;f/=2){var h=0,m=0;(n&f)>0&&(h=1),(t&f)>0&&(m=1),c+=f*f*(3*h^m),0===m&&(1===h&&(n=f-1-n,t=f-1-t),u=n,n=t,t=u)}return c}function PP(n){var t=1/0,e=1/0,o=-1/0,i=-1/0,a=It(n,function(u){var c=u.getBoundingRect(),f=u.getComputedTransform(),h=c.x+c.width/2+(f?f[4]:0),m=c.y+c.height/2+(f?f[5]:0);return t=Math.min(h,t),e=Math.min(m,e),o=Math.max(h,o),i=Math.max(m,i),[h,m]});return It(a,function(u,c){return{cp:u,z:EF(u[0],u[1],t,e,o,i),path:n[c]}}).sort(function(u,c){return u.z-c.z}).map(function(u){return u.path})}function UB(n){return function DF(n,t){var e,o=[],i=n.shape;switch(n.type){case"rect":(function(E,N,z){for(var F=E.width,q=E.height,X=F>q,ee=LB([F,q],X?0:1,N),ie=X?"width":"height",ye=X?"height":"width",_e=X?"x":"y",Se=X?"y":"x",Ae=E[ie]/ee.length,Fe=0;Fe<ee.length;Fe++)for(var Xe=E[ye]/ee[Fe],nt=0;nt<ee[Fe];nt++){var it={};it[_e]=Fe*Ae,it[Se]=nt*Xe,it[ie]=Ae,it[ye]=Xe,it.x+=E.x,it.y+=E.y,z.push(it)}})(i,t,o),e=oi;break;case"sector":NB(i,t,o),e=Ll;break;case"circle":NB({r0:0,r:i.r,startAngle:0,endAngle:2*Math.PI,cx:i.cx,cy:i.cy},t,o),e=Ll;break;default:var a=n.getComputedTransform(),u=a?Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3])):1,c=It(function(E,N){var z=LL(E),F=[];N=N||1;for(var q=0;q<z.length;q++){var X=z[q],ee=[],ie=X[0],ye=X[1];ee.push(ie,ye);for(var _e=2;_e<X.length;){var Se=X[_e++],Ae=X[_e++],Fe=X[_e++],Xe=X[_e++],nt=X[_e++],it=X[_e++];NL(ie,ye,Se,Ae,Fe,Xe,nt,it,ee,N),ie=nt,ye=it}F.push(ee)}return F}(n.getUpdatedPathProxy(),u),function(E){return function(N){for(var z=[],F=0;F<N.length;)z.push([N[F++],N[F++]]);return z}(E)}),f=c.length;if(0===f)IP(zB,{points:c[0]},t,o);else if(f===t)for(var h=0;h<f;h++)o.push({points:c[h]});else{var m=0,y=It(c,function(E){var N=[],z=[];fa(E,N,z);var F=(z[1]-N[1])*(z[0]-N[0]);return m+=F,{poly:E,area:F}});y.sort(function(E,N){return N.area-E.area});var _=t;for(h=0;h<f;h++){var S=y[h];if(_<=0)break;var k=h===f-1?_:Math.ceil(S.area/m*t);k<0||(IP(zB,{points:S.poly},k,o),_-=k)}}e=ms}if(!e)return function(E,N){for(var z=[],F=0;F<N;F++)z.push(o0(E));return z}(n,t);var D=[];for(h=0;h<o.length;h++){var A=new e;A.setShape(o[h]),TF(n,A),D.push(A)}return D}(n.path,n.count)}function jB(n){return tt(n[0])}function qB(n,t){for(var e=[],o=n.length,i=0;i<o;i++)e.push({one:n[i],many:[]});for(i=0;i<t.length;i++){var a=t[i].length,u=void 0;for(u=0;u<a;u++)e[u%o].many.push(t[i][u])}var c=0;for(i=o-1;i>=0;i--)if(!e[i].many.length){var f=e[c].many;if(f.length<=1){if(!c)return e;c=0}a=f.length;var h=Math.ceil(a/2);e[i].many=f.slice(h,a),e[c].many=f.slice(0,h),c++}return e}var PF={clone:function(n){for(var t=[],e=1-Math.pow(1-n.path.style.opacity,1/n.count),o=0;o<n.count;o++){var i=o0(n.path);i.setStyle("opacity",e),t.push(i)}return t},split:null};function zL(n,t,e,o,i,a){if(n.length&&t.length){var u=ac("update",o,i);if(u&&u.duration>0){var c,f,h=o.getModel("universalTransition").get("delay"),m=Object.assign({setToFinal:!0},u);jB(n)&&(c=n,f=t),jB(t)&&(c=t,f=n);for(var y=c?c===n:n.length>t.length,_=c?qB(f,c):qB(y?t:n,[y?n:t]),S=0,k=0;k<_.length;k++)S+=_[k].many.length;var D=0;for(k=0;k<_.length;k++)A(_[k],y,D,S),D+=_[k].many.length}}function A(E,N,z,F,q){var X=E.many,ee=E.one;if(1!==X.length||q)for(var ie=ht({dividePath:PF[e],individualDelay:h&&function(ut,mt,Ot,Pt){return h(ut+z,F)}},m),ye=N?function(ut,mt,Ot){var Pt=[];!function Si(Hi){for(var oa=0;oa<Hi.length;oa++){var qs=Hi[oa];OP(qs)?Si(qs.childrenRef()):qs instanceof Do&&Pt.push(qs)}}(ut);var Gt=Pt.length;if(!Gt)return{fromIndividuals:[],toIndividuals:[],count:0};var kn=(Ot.dividePath||UB)({path:mt,count:Gt});if(kn.length!==Gt)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0};Pt=PP(Pt),kn=PP(kn);for(var tr=Ot.done,Xt=Ot.during,zn=Ot.individualDelay,gr=new Bi,dr=0;dr<Gt;dr++){var nr=Pt[dr],br=kn[dr];br.parent=mt,br.copyTransform(gr),zn||GB(nr,br)}function ur(Si){for(var Hi=0;Hi<kn.length;Hi++)kn[Hi].addSelfToZr(Si)}function kr(){mt.__isCombineMorphing=!1,mt.__morphT=-1,mt.childrenRef=null,cO(mt,"addSelfToZr"),cO(mt,"removeSelfFromZr")}mt.__isCombineMorphing=!0,mt.childrenRef=function(){return kn},EP(mt,"addSelfToZr",{after:function(Si){ur(Si)}}),EP(mt,"removeSelfFromZr",{after:function(Si){for(var Hi=0;Hi<kn.length;Hi++)kn[Hi].removeSelfFromZr(Si)}});var Br=kn.length;if(zn){var Ro=Br,Zo=function(){0==--Ro&&(kr(),tr&&tr())};for(dr=0;dr<Br;dr++){var wa=zn?ht({delay:(Ot.delay||0)+zn(dr,Br,Pt[dr],kn[dr]),done:Zo},Ot):Ot;BL(Pt[dr],kn[dr],wa)}}else mt.__morphT=0,mt.animateTo({__morphT:1},ht({during:function(Si){for(var Hi=0;Hi<Br;Hi++){var oa=kn[Hi];oa.__morphT=mt.__morphT,oa.dirtyShape()}Xt&&Xt(Si)},done:function(){kr();for(var Si=0;Si<ut.length;Si++)cO(ut[Si],"updateTransform");tr&&tr()}},Ot));return mt.__zr&&ur(mt.__zr),{fromIndividuals:Pt,toIndividuals:kn,count:Br}}(X,ee,ie):function(ut,mt,Ot){var Pt=mt.length,Gt=[],kn=Ot.dividePath||UB;if(OP(ut)){!function br(ur){for(var kr=0;kr<ur.length;kr++){var Br=ur[kr];OP(Br)?br(Br.childrenRef()):Br instanceof Do&&Gt.push(Br)}}(ut.childrenRef());var tr=Gt.length;if(tr<Pt)for(var Xt=0,zn=tr;zn<Pt;zn++)Gt.push(o0(Gt[Xt++%tr]));Gt.length=Pt}else{Gt=kn({path:ut,count:Pt});var gr=ut.getComputedTransform();for(zn=0;zn<Gt.length;zn++)Gt[zn].setLocalTransform(gr);if(Gt.length!==Pt)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0}}Gt=PP(Gt),mt=PP(mt);var dr=Ot.individualDelay;for(zn=0;zn<Pt;zn++){var nr=dr?ht({delay:(Ot.delay||0)+dr(zn,Pt,Gt[zn],mt[zn])},Ot):Ot;BL(Gt[zn],mt[zn],nr)}return{fromIndividuals:Gt,toIndividuals:mt,count:mt.length}}(ee,X,ie),_e=ye.fromIndividuals,Se=ye.toIndividuals,Ae=_e.length,Fe=0;Fe<Ae;Fe++)Xe=h?ht({delay:h(Fe,Ae)},m):m,a(_e[Fe],Se[Fe],N?X[Fe]:E.one,N?E.one:X[Fe],Xe);else{var Xe,nt=N?X[0]:ee,it=N?ee:X[0];OP(nt)?A({many:[nt],one:it},!0,z,F,!0):(BL(nt,it,Xe=h?ht({delay:h(z,F)},m):m),a(nt,it,nt,it,Xe))}}}function TT(n){if(!n)return[];if(tt(n)){for(var t=[],e=0;e<n.length;e++)t.push(TT(n[e]));return t}var o=[];return n.traverse(function(i){i instanceof Do&&!i.disableMorphing&&!i.invisible&&!i.ignore&&o.push(i)}),o}var RF=Qo();function YB(n){var t=[];return Te(n,function(e){var o=e.data;if(!(o.count()>1e4))for(var i=o.getIndices(),a=function(c){for(var f=c.dimensions,h=0;h<f.length;h++){var m=c.getDimensionInfo(f[h]);if(m&&0===m.otherDims.itemGroupId)return f[h]}}(o),u=0;u<i.length;u++)t.push({dataGroupId:e.dataGroupId,data:o,dim:e.dim||a,divide:e.divide,dataIndex:u})}),t}function FL(n,t,e){n.traverse(function(o){o instanceof Do&&_a(o,{style:{opacity:0}},t,{dataIndex:e,isFrom:!0})})}function VL(n){if(n.parent){var t=n.getComputedTransform();n.setLocalTransform(t),n.parent.remove(n)}}function WD(n){n.stopAnimation(),n.isGroup&&n.traverse(function(t){t.stopAnimation()})}function XB(n,t,e){var o=YB(n),i=YB(t);function a(E,N,z,F,q){(z||E)&&N.animateFrom({style:z&&z!==E?Pe(Pe({},z.style),E.style):E.style},q)}function u(E){for(var N=0;N<E.length;N++)if(E[N].dim)return E[N].dim}var c=u(o),f=u(i),h=!1;function m(E,N){return function(z){var F=z.data,q=z.dataIndex;if(N)return F.getId(q);var X=z.dataGroupId,ee=E?c||f:f||c,ie=ee&&F.getDimensionInfo(ee),ye=ie&&ie.ordinalMeta;if(ie){var _e=F.get(ie.name,q);return ye&&ye.categories[_e]||_e+""}var Se=F.getRawDataItem(q);return Se&&Se.groupId?Se.groupId+"":X||F.getId(q)}}var y=function(E,N){var z=E.length;if(z!==N.length)return!1;for(var F=0;F<z;F++){var q=E[F],X=N[F];if(q.data.getId(q.dataIndex)!==X.data.getId(X.dataIndex))return!1}return!0}(o,i),_={};if(!y)for(var S=0;S<i.length;S++){var k=i[S],D=k.data.getItemGraphicEl(k.dataIndex);D&&(_[D.id]=!0)}function A(E,N){var z=o[N],F=i[E],q=F.data.hostModel,X=z.data.getItemGraphicEl(z.dataIndex),ee=F.data.getItemGraphicEl(F.dataIndex);X!==ee?X&&_[X.id]||ee&&(WD(ee),X?(WD(X),VL(X),h=!0,zL(TT(X),TT(ee),F.divide,q,E,a)):FL(ee,q,E)):ee&&function LF(n,t,e){var o=ac("update",e,t);o&&n.traverse(function(i){if(i instanceof zu){var a=ax(i).oldStyle;a&&i.animateFrom({style:a},o)}})}(ee,F.dataIndex,q)}new Tp(o,i,m(!0,y),m(!1,y),null,"multiple").update(A).updateManyToOne(function(E,N){var z=i[E],F=z.data,q=F.hostModel,X=F.getItemGraphicEl(z.dataIndex),ee=Lr(It(N,function(ie){return o[ie].data.getItemGraphicEl(o[ie].dataIndex)}),function(ie){return ie&&ie!==X&&!_[ie.id]});X&&(WD(X),ee.length?(Te(ee,function(ie){WD(ie),VL(ie)}),h=!0,zL(TT(ee),TT(X),z.divide,q,E,a)):FL(X,q,z.dataIndex))}).updateOneToMany(function(E,N){var z=o[N],F=z.data.getItemGraphicEl(z.dataIndex);if(!F||!_[F.id]){var q=Lr(It(E,function(ee){return i[ee].data.getItemGraphicEl(i[ee].dataIndex)}),function(ee){return ee&&ee!==F}),X=i[E[0]].data.hostModel;q.length&&(Te(q,function(ee){return WD(ee)}),F?(WD(F),VL(F),h=!0,zL(TT(F),TT(q),z.divide,X,E[0],a)):Te(q,function(ee){return FL(ee,X,E[0])}))}}).updateManyToMany(function(E,N){new Tp(N,E,function(z){return o[z].data.getId(o[z].dataIndex)},function(z){return i[z].data.getId(i[z].dataIndex)}).update(function(z,F){A(E[z],N[F])}).execute()}).execute(),h&&Te(t,function(E){var N=E.data.hostModel,z=N&&e.getViewOfSeriesModel(N),F=ac("update",N,0);z&&N.isAnimationEnabled()&&F&&F.duration>0&&z.group.traverse(function(q){q instanceof Do&&!q.animators.length&&q.animateFrom({style:{opacity:0}},F)})})}function ZB(n){return n.getModel("universalTransition").get("seriesKey")||n.id}function KB(n){return tt(n)?n.sort().join(","):n}function Ek(n){if(n.hostModel)return n.hostModel.getModel("universalTransition").get("divideShape")}function $B(n,t){for(var e=0;e<n.length;e++)if(null!=t.seriesIndex&&t.seriesIndex===n[e].seriesIndex||null!=t.seriesId&&t.seriesId===n[e].id)return e}ii([function(n){n.registerPainter("canvas",aS)}]),ii([function(n){n.registerPainter("svg",ek)}]),ii([function(n){n.registerChartView(ZM),n.registerSeriesModel(QD),n.registerLayout(My("line",!0)),n.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),o=t.getModel("lineStyle").getLineStyle();o&&!o.stroke&&(o.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",o)}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,zg("line"))},function(n){n.registerChartView(k1),n.registerSeriesModel(tA),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,cr(r2,"bar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,H0("bar")),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,zg("bar")),n.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,e){e.eachComponent({mainType:t.componentType||"series",query:t},function(i){t.sortInfo&&i.axis.setCategorySortInfo(t.sortInfo)})})},function(n){n.registerChartView(QM),n.registerSeriesModel(w),gw("pie",n.registerAction),n.registerLayout(cr(fk,"pie")),n.registerProcessor(Ps("pie")),n.registerProcessor({seriesType:"pie",reset:function(e,o){var i=e.getData();i.filterSelf(function(a){var u=i.mapDimension("value"),c=i.get(u,a);return!(hr(c)&&!isNaN(c)&&c<0)})}})},function(n){ii(_i),n.registerSeriesModel(M),n.registerChartView(G),n.registerLayout(My("scatter"))},function(n){ii(tT),n.registerChartView(Wl),n.registerSeriesModel(cv),n.registerLayout(xs),n.registerProcessor(Ps("radar")),n.registerPreprocessor(Cu)},function(n){ii(DO),n.registerChartView(VP),n.registerSeriesModel(HP),n.registerLayout(WP),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,dA),gw("map",n.registerAction)},function(n){n.registerChartView(KP),n.registerSeriesModel(cT),n.registerLayout(SA),n.registerVisual(CA),function(t){t.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,o){o.eachComponent({mainType:"series",subType:"tree",query:e},function(i){var a=e.dataIndex,u=i.getData().tree.getNodeByDataIndex(a);u.isExpand=!u.isExpand})}),t.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(e,o,i){o.eachComponent({mainType:"series",subType:"tree",query:e},function(a){var u=mA(a.coordinateSystem,e,void 0,i);a.setCenter&&a.setCenter(u.center),a.setZoom&&a.setZoom(u.zoom)})})}(n)},function(n){n.registerSeriesModel($P),n.registerChartView(DA),n.registerVisual(XO),n.registerLayout(zA),function(t){for(var e=0;e<fT.length;e++)t.registerAction({type:fT[e],update:"updateView"},Io);t.registerAction({type:"treemapRootToNode",update:"updateView"},function(o,i){i.eachComponent({mainType:"series",subType:"treemap",query:o},function(a,u){var c=sT(o,["treemapZoomToNode","treemapRootToNode"],a);if(c){var f=a.getViewRoot();f&&(o.direction=uT(f,c.node)?"rollUp":"drillDown"),a.resetViewRoot(c.node)}})})}(n)},function(n){n.registerChartView(rE),n.registerSeriesModel(nR),n.registerProcessor(VA),n.registerVisual(QP),n.registerVisual(eR),n.registerLayout(QO),n.registerLayout(n.PRIORITY.VISUAL.POST_CHART_LAYOUT,wk),n.registerLayout(tE),n.registerCoordinateSystem("graphView",{dimensions:Nh.dimensions,create:qA}),n.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},Io),n.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},Io),n.registerAction(rI,function(t,e,o){e.eachComponent({mainType:"series",query:t},function(i){var a=mA(i.coordinateSystem,t,void 0,o);i.setCenter&&i.setCenter(a.center),i.setZoom&&i.setZoom(a.zoom)})})},function(n){n.registerChartView(oR),n.registerSeriesModel(aE)},function(n){n.registerChartView(CS),n.registerSeriesModel(sE),n.registerLayout(hD),n.registerProcessor(Ps("funnel"))},function(n){ii(LE),n.registerChartView(sR),n.registerSeriesModel(cE),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,iI)},function(n){n.registerChartView(MR),n.registerSeriesModel(TR),n.registerLayout(DR),n.registerVisual(BE),n.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"sankey",query:t},function(o){o.setNodePosition(t.dataIndex,[t.localX,t.localY])})})},function(n){n.registerSeriesModel(CD),n.registerChartView(zE),n.registerLayout(Iy),n.registerTransform(MI)},function(n){n.registerChartView(ER),n.registerSeriesModel(YE),n.registerPreprocessor(XE),n.registerVisual(NR),n.registerLayout(Bh)},function(n){n.registerChartView(DS),n.registerSeriesModel(TD),n.registerLayout(My("effectScatter"))},function(n){n.registerChartView(ZE),n.registerSeriesModel(FR),n.registerLayout(PI),n.registerVisual(VR)},function(n){n.registerChartView(WR),n.registerSeriesModel(GR)},function(n){n.registerChartView(JE),n.registerSeriesModel(YI),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,cr(r2,"pictorialBar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,H0("pictorialBar"))},function(n){n.registerChartView(tP),n.registerSeriesModel(nP),n.registerLayout(jR),n.registerProcessor(Ps("themeRiver"))},function(n){n.registerChartView(aP),n.registerSeriesModel(qR),n.registerLayout(cr(l,"sunburst")),n.registerProcessor(cr(Ps,"sunburst")),n.registerVisual(x),function(t){t.registerAction({type:XI,update:"updateView"},function(e,o){o.eachComponent({mainType:"series",subType:"sunburst",query:e},function(i,a){var u=sT(e,[XI],i);if(u){var c=i.getViewRoot();c&&(e.direction=uT(c,u.node)?"rollUp":"drillDown"),i.resetViewRoot(u.node)}})}),t.registerAction({type:iP,update:"none"},function(e,o,i){e=Pe({},e),o.eachComponent({mainType:"series",subType:"sunburst",query:e},function(a){var u=sT(e,[iP],a);u&&(e.dataIndex=u.node.dataIndex)}),i.dispatchAction(Pe(e,{type:"highlight"}))}),t.registerAction({type:"sunburstUnhighlight",update:"updateView"},function(e,o,i){e=Pe({},e),i.dispatchAction(Pe(e,{type:"downplay"}))})}(n)},function(n){n.registerChartView(ws),n.registerSeriesModel(V)}]),ii(function(n){ii(_i),ii(pf)}),ii(function(n){ii(pf),Ao.registerAxisPointerClass("PolarAxisPointer",YR),n.registerCoordinateSystem("polar",i5),n.registerComponentModel(Ak),n.registerComponentView(m5),Me(n,"angle",e5,p5),Me(n,"radius",t5,g5),n.registerComponentView(s5),n.registerComponentView(f5),n.registerLayout(cr(h5,"bar"))}),ii(DO),ii(function(n){ii(pf),Ao.registerAxisPointerClass("SingleAxisPointer",k5),n.registerComponentView(T5),n.registerComponentView(b5),n.registerComponentModel(pP),Me(n,"single",pP,pP.defaultOption),n.registerCoordinateSystem("single",S5)}),ii(LE),ii(function(n){n.registerComponentModel(D5),n.registerComponentView(A5),n.registerCoordinateSystem("calendar",I5)}),ii(function(n){n.registerComponentModel(E5),n.registerComponentView(P5),n.registerPreprocessor(function(t){var e=t.graphic;tt(e)?t.graphic=e[0]&&e[0].elements?[t.graphic[0]]:[{elements:e}]:e&&!e.elements&&(t.graphic=[{elements:[e]}])})}),ii(function(n){n.registerComponentModel(H5),n.registerComponentView(W5),BD("saveAsImage",G5),BD("magicType",j5),BD("dataView",Y5),BD("dataZoom",Q5),BD("restore",Z5),ii(V5)}),ii(function(n){ii(pf),n.registerComponentModel(tz),n.registerComponentView(uz),n.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},Io),n.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},Io)}),ii(pf),ii(function(n){n.registerComponentView(pz),n.registerComponentModel(gz),n.registerPreprocessor(cz),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,fz),n.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(t,e){e.eachComponent({mainType:"brush",query:t},function(o){o.setAreas(t.areas)})}),n.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},Io),n.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},Io),BD("brush",vz)}),ii(function(n){n.registerComponentModel(yz),n.registerComponentView(bz)}),ii(function(n){n.registerComponentModel(GN),n.registerComponentView(wz),n.registerSubTypeDefaulter("timeline",function(){return"slider"}),function(t){t.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,o,i){var a=o.getComponent("timeline");return a&&null!=e.currentIndex&&(a.setCurrentIndex(e.currentIndex),!a.get("loop",!0)&&a.isIndexMax()&&a.getPlayState()&&(a.setPlayState(!1),i.dispatchAction({type:"timelinePlayChange",playState:!1,from:e.from}))),o.resetOption("timeline",{replaceMerge:a.get("replaceMerge",!0)}),ht({currentIndex:a.option.currentIndex},e)}),t.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,o){var i=o.getComponent("timeline");i&&null!=e.playState&&i.setPlayState(e.playState)})}(n),n.registerPreprocessor(Sz)}),ii(function(n){n.registerComponentModel(Cz),n.registerComponentView(kz),n.registerPreprocessor(function(t){vL(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})})}),ii(function(n){n.registerComponentModel(Mz),n.registerComponentView(Az),n.registerPreprocessor(function(t){vL(t.series,"markLine")&&(t.markLine=t.markLine||{})})}),ii(function(n){n.registerComponentModel(Iz),n.registerComponentView(Pz),n.registerPreprocessor(function(t){vL(t.series,"markArea")&&(t.markArea=t.markArea||{})})}),ii(function(n){ii(oB),ii(Bz)}),ii(function(n){ii(lB),ii(dB)}),ii(lB),ii(dB),ii(function(n){ii(DB),ii(IB)}),ii(DB),ii(IB),ii(function(n){n.registerPreprocessor(hF),n.registerVisual(n.PRIORITY.VISUAL.ARIA,dF)}),ii(function(n){n.registerTransform(_F),n.registerTransform(wF)}),ii(function(n){n.registerComponentModel(SF),n.registerComponentView(CF)}),ii(function(n){n.registerUpdateLifecycle("series:beforeupdate",function(t,e,o){Te(Ko(o.seriesTransition),function(i){Te(Ko(i.to),function(a){for(var u=o.updatedSeries,c=0;c<u.length;c++)(null!=a.seriesIndex&&a.seriesIndex===u[c].seriesIndex||null!=a.seriesId&&a.seriesId===u[c].id)&&(u[c][w0]=!0)})})}),n.registerUpdateLifecycle("series:transition",function(t,e,o){var S,k,D,A,E,i=RF(e);if(i.oldSeries&&o.updatedSeries&&o.optionChanged){var a=o.seriesTransition;if(a)Te(Ko(a),function(S){var k,D,A,E,N,z;D=i,A=o,E=e,N=[],z=[],Te(Ko((k=S).from),function(F){var q=$B(D.oldSeries,F);q>=0&&N.push({dataGroupId:D.oldDataGroupIds[q],data:D.oldData[q],divide:Ek(D.oldData[q]),dim:F.dimension})}),Te(Ko(k.to),function(F){var q=$B(A.updatedSeries,F);if(q>=0){var X=A.updatedSeries[q].getData();z.push({dataGroupId:D.oldDataGroupIds[q],data:X,divide:Ek(X),dim:F.dimension})}}),N.length>0&&z.length>0&&XB(N,z,E)});else{var u=(S=i,k=o,D=Ir(),A=Ir(),E=Ir(),Te(S.oldSeries,function(N,z){var F=S.oldDataGroupIds[z],q=S.oldData[z],X=ZB(N),ee=KB(X);A.set(ee,{dataGroupId:F,data:q}),tt(X)&&Te(X,function(ie){E.set(ie,{key:ee,dataGroupId:F,data:q})})}),Te(k.updatedSeries,function(N){if(N.isUniversalTransitionEnabled()&&N.isAnimationEnabled()){var z=N.get("dataGroupId"),F=N.getData(),q=ZB(N),X=KB(q),ee=A.get(X);if(ee)D.set(X,{oldSeries:[{dataGroupId:ee.dataGroupId,divide:Ek(ee.data),data:ee.data}],newSeries:[{dataGroupId:z,divide:Ek(F),data:F}]});else if(tt(q)){var ie=[];Te(q,function(Se){var Ae=A.get(Se);Ae.data&&ie.push({dataGroupId:Ae.dataGroupId,divide:Ek(Ae.data),data:Ae.data})}),ie.length&&D.set(X,{oldSeries:ie,newSeries:[{dataGroupId:z,data:F,divide:Ek(F)}]})}else{var ye=E.get(q);if(ye){var _e=D.get(ye.key);_e||(_e={oldSeries:[{dataGroupId:ye.dataGroupId,data:ye.data,divide:Ek(ye.data)}],newSeries:[]},D.set(ye.key,_e)),_e.newSeries.push({dataGroupId:z,data:F,divide:Ek(F)})}}}}),D);Te(u.keys(),function(S){var k=u.get(S);XB(k.oldSeries,k.newSeries,e)})}Te(o.updatedSeries,function(S){S[w0]&&(S[w0]=!1)})}for(var c=t.getSeries(),f=i.oldSeries=[],h=i.oldDataGroupIds=[],m=i.oldData=[],y=0;y<c.length;y++){var _=c[y].getData();_.count()<1e4&&(f.push(c[y]),h.push(c[y].get("dataGroupId")),m.push(_))}})}),ii(function(n){n.registerUpdateLifecycle("series:beforeupdate",function(t,e,o){var i=Jw(e).labelManager;i||(i=Jw(e).labelManager=new d2),i.clearLabels()}),n.registerUpdateLifecycle("series:layoutlabels",function(t,e,o){var i=Jw(e).labelManager;o.updatedSeries.forEach(function(a){i.addLabelsOfSeries(e.getViewOfSeriesModel(a))}),i.updateLayoutConfig(e),i.layout(e),i.processLabelsOverall()})}),_t.Axis=gd,_t.ChartView=ma,_t.ComponentModel=H,_t.ComponentView=Ga,_t.List=uc,_t.Model=Pi,_t.PRIORITY=pC,_t.SeriesModel=ga,_t.color=V1,_t.connect=function(n){if(tt(n)){var t=n;n=null,Te(t,function(e){null!=e.group&&(n=e.group)}),n=n||"g_"+fM++,Te(t,function(e){e.group=n})}return Sw[n]=!0,n},_t.dataTool={},_t.dependencies={zrender:"5.4.3"},_t.disConnect=wC,_t.disconnect=$T,_t.dispose=function(n){Un(n)?n=L0[n]:n instanceof xC||(n=kw(n)),n instanceof xC&&!n.isDisposed()&&n.dispose()},_t.env=We,_t.extendChartView=function(n){var t=ma.extend(n);return ma.registerClass(t),t},_t.extendComponentModel=function(n){var t=H.extend(n);return H.registerClass(t),t},_t.extendComponentView=function(n){var t=Ga.extend(n);return Ga.registerClass(t),t},_t.extendSeriesModel=function(n){var t=ga.extend(n);return ga.registerClass(t),t},_t.format=kM,_t.getCoordinateSystemDimensions=function(n){var t=Wa.get(n);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()},_t.getInstanceByDom=kw,_t.getInstanceById=function(n){return L0[n]},_t.getMap=function(n){var t=dC("getMap");return t&&t(n)},_t.graphic=jw,_t.helper=Ww,_t.init=function(n,t,e){var o=!(e&&e.ssr);if(o){var i=kw(n);if(i)return i}var a=new xC(n,t,e);return a.id="ec_"+Gx++,L0[a.id]=a,o&&qy(n,Cw,a.id),yC(a),sc.trigger("afterinit",a),a},_t.innerDrawElementOnCanvas=yw,_t.matrix=Ly,_t.number=ti,_t.parseGeoJSON=Eh,_t.parseGeoJson=Eh,_t.registerAction=Vl,_t.registerCoordinateSystem=by,_t.registerLayout=jx,_t.registerLoading=Us,_t.registerLocale=qr,_t.registerMap=Dw,_t.registerPostInit=SC,_t.registerPostUpdate=dM,_t.registerPreprocessor=Ux,_t.registerProcessor=o1,_t.registerTheme=Mw,_t.registerTransform=CC,_t.registerUpdateLifecycle=N0,_t.registerVisual=Tg,_t.setCanvasCreator=function(n){te({createCanvas:n})},_t.setPlatformAPI=te,_t.throttle=lw,_t.time=d1,_t.use=ii,_t.util=MM,_t.vector=no,_t.version="5.4.2",_t.zrUtil=Fh,_t.zrender=hb,Object.defineProperty(_t,"__esModule",{value:!0})}),function(_t,yn){"object"==typeof exports&&"undefined"!=typeof module?yn(exports,require("echarts")):"function"==typeof define&&define.amd?define(["exports","echarts"],yn):yn((_t=_t||self).bmap={},_t.echarts)}(this,function(_t,yn){"use strict";function yt(xe,U){this._bmap=xe,this.dimensions=["lng","lat"],this._mapOffset=[0,0],this._api=U,this._projection=new BMap.MercatorProjection}function at(xe,U){return U=U||[0,0],yn.util.map([0,1],function(Z){var de=U[Z],ne=xe[Z]/2,te=[],le=[];return te[Z]=de-ne,le[Z]=de+ne,te[1-Z]=le[1-Z]=U[1-Z],Math.abs(this.dataToPoint(te)[Z]-this.dataToPoint(le)[Z])},this)}var We;function K(xe){for(var U in xe)if(xe.hasOwnProperty(U))return;return 1}yt.prototype.dimensions=["lng","lat"],yt.prototype.setZoom=function(xe){this._zoom=xe},yt.prototype.setCenter=function(xe){this._center=this._projection.lngLatToPoint(new BMap.Point(xe[0],xe[1]))},yt.prototype.setMapOffset=function(xe){this._mapOffset=xe},yt.prototype.getBMap=function(){return this._bmap},yt.prototype.dataToPoint=function(U){var Z=new BMap.Point(U[0],U[1]);return[(U=this._bmap.pointToOverlayPixel(Z)).x-(Z=this._mapOffset)[0],U.y-Z[1]]},yt.prototype.pointToData=function(xe){var U=this._mapOffset;return[(xe=this._bmap.overlayPixelToPoint({x:xe[0]+U[0],y:xe[1]+U[1]})).lng,xe.lat]},yt.prototype.getViewRect=function(){var xe=this._api;return new yn.graphic.BoundingRect(0,0,xe.getWidth(),xe.getHeight())},yt.prototype.getRoamTransform=function(){return yn.matrix.create()},yt.prototype.prepareCustoms=function(){var xe=this.getViewRect();return{coordSys:{type:"bmap",x:xe.x,y:xe.y,width:xe.width,height:xe.height},api:{coord:yn.util.bind(this.dataToPoint,this),size:yn.util.bind(at,this)}}},yt.dimensions=yt.prototype.dimensions,yt.create=function(xe,U){var Z,de=U.getDom();xe.eachComponent("bmap",function(ne){var te,le=U.getZr().painter,De=le.getViewportRoot();if("undefined"==typeof BMap)throw new Error("BMap api is not loaded");function se(Le){this._root=Le}if(We=We||((se.prototype=new BMap.Overlay).initialize=function(Le){return Le.getPanes().labelPane.appendChild(this._root),this._root},se.prototype.draw=function(){},se),Z)throw new Error("Only one bmap component can exist");ne.__bmap||((oe=de.querySelector(".ec-extension-bmap"))&&(De.style.left="0px",De.style.top="0px",de.removeChild(oe)),(oe=document.createElement("div")).className="ec-extension-bmap",oe.style.cssText="position:absolute;width:100%;height:100%",de.appendChild(oe),(he=ne.get("mapOptions"))&&delete(he=yn.util.clone(he)).mapType,te=ne.__bmap=new BMap.Map(oe,he),oe=new We(De),te.addOverlay(oe),le.getViewportRootOffset=function(){return{offsetLeft:0,offsetTop:0}}),te=ne.__bmap;var oe,he=ne.get("center");De=ne.get("zoom"),he&&De&&(oe=te.getCenter(),le=te.getZoom(),ne.centerOrZoomChanged([oe.lng,oe.lat],le)&&(le=new BMap.Point(he[0],he[1]),te.centerAndZoom(le,De))),(Z=new yt(te,U)).setMapOffset(ne.__mapOffset||[0,0]),Z.setZoom(De),Z.setCenter(he),ne.coordinateSystem=Z}),xe.eachSeries(function(ne){"bmap"===ne.get("coordinateSystem")&&(ne.coordinateSystem=Z)})},yn.extendComponentModel({type:"bmap",getBMap:function(){return this.__bmap},setCenterAndZoom:function(xe,U){this.option.center=xe,this.option.zoom=U},centerOrZoomChanged:function(xe,U){var Z,de=this.option;return Z=xe,xe=de.center,!(Z&&xe&&Z[0]===xe[0]&&Z[1]===xe[1]&&U===de.zoom)},defaultOption:{center:[104.114129,37.550339],zoom:5,mapStyle:{},mapStyleV2:{},mapOptions:{},roam:!1}}),yn.extendComponentView({type:"bmap",render:function(xe,U,Z){var de=!0,ne=xe.getBMap(),te=Z.getZr().painter.getViewportRoot(),le=xe.coordinateSystem,he=function(Le,et){var Qe,st,Kt,Ke;de||(Ke=te.parentNode.parentNode.parentNode,Ke=(Qe=[-parseInt(Ke.style.left,10)||0,-parseInt(Ke.style.top,10)||0])[1]+"px",(st=te.style).left!==(Kt=Qe[0]+"px")&&(st.left=Kt),st.top!==Ke&&(st.top=Ke),le.setMapOffset(Qe),xe.__mapOffset=Qe,Z.dispatchAction({type:"bmapRoam",animation:{duration:0}}))};function se(){de||Z.dispatchAction({type:"bmapRoam",animation:{duration:0}})}ne.removeEventListener("moving",this._oldMoveHandler),ne.removeEventListener("moveend",this._oldMoveHandler),ne.removeEventListener("zoomend",this._oldZoomEndHandler),ne.addEventListener("moving",he),ne.addEventListener("moveend",he),ne.addEventListener("zoomend",se),this._oldMoveHandler=he,this._oldZoomEndHandler=se,(De=xe.get("roam"))&&"scale"!==De?ne.enableDragging():ne.disableDragging(),De&&"move"!==De?(ne.enableScrollWheelZoom(),ne.enableDoubleClickZoom(),ne.enablePinchToZoom()):(ne.disableScrollWheelZoom(),ne.disableDoubleClickZoom(),ne.disablePinchToZoom());var oe=xe.__mapStyle,De=(he=xe.get("mapStyle")||{},JSON.stringify(he));JSON.stringify(oe)!==De&&(K(he)||ne.setMapStyle(yn.util.clone(he)),xe.__mapStyle=JSON.parse(De)),oe=xe.__mapStyle2,he=xe.get("mapStyleV2")||{},De=JSON.stringify(he),JSON.stringify(oe)!==De&&(K(he)||ne.setMapStyleV2(yn.util.clone(he)),xe.__mapStyle2=JSON.parse(De)),de=!1}}),yn.registerCoordinateSystem("bmap",yt),yn.registerAction({type:"bmapRoam",event:"bmapRoam",update:"updateLayout"},function(xe,U){U.eachComponent("bmap",function(Z){var de=Z.getBMap(),ne=de.getCenter();Z.setCenterAndZoom([ne.lng,ne.lat],de.getZoom())})}),_t.version="1.0.0",Object.defineProperty(_t,"__esModule",{value:!0})}),function(_t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=_t():"function"==typeof define&&define.amd?define([],_t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Chart=_t()}(function(){return function _t(yn,yt,at){function We(U,Z){if(!yt[U]){if(!yn[U]){var de="function"==typeof require&&require;if(!Z&&de)return de(U,!0);if(K)return K(U,!0);var ne=new Error("Cannot find module '"+U+"'");throw ne.code="MODULE_NOT_FOUND",ne}var te=yt[U]={exports:{}};yn[U][0].call(te.exports,function(le){return We(yn[U][1][le]||le)},te,te.exports,_t,yn,yt,at)}return yt[U].exports}for(var K="function"==typeof require&&require,xe=0;xe<at.length;xe++)We(at[xe]);return We}({1:[function(_t,yn,yt){},{}],2:[function(_t,yn,yt){function at(oe){if(oe){var he=[0,0,0],De=1,Le=oe.match(/^#([a-fA-F0-9]{3})$/i);if(Le)for(Le=Le[1],et=0;et<he.length;et++)he[et]=parseInt(Le[et]+Le[et],16);else if(Le=oe.match(/^#([a-fA-F0-9]{6})$/i))for(Le=Le[1],et=0;et<he.length;et++)he[et]=parseInt(Le.slice(2*et,2*et+2),16);else if(Le=oe.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(et=0;et<he.length;et++)he[et]=parseInt(Le[et+1]);De=parseFloat(Le[4])}else if(Le=oe.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(et=0;et<he.length;et++)he[et]=Math.round(2.55*parseFloat(Le[et+1]));De=parseFloat(Le[4])}else if(Le=oe.match(/(\w+)/)){if("transparent"==Le[1])return[0,0,0,0];if(!(he=te[Le[1]]))return}for(var et=0;et<he.length;et++)he[et]=de(he[et],0,255);return De=De||0==De?de(De,0,1):1,he[3]=De,he}}function We(oe){if(oe){var he=oe.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(he){var De=parseFloat(he[4]);return[de(parseInt(he[1]),0,360),de(parseFloat(he[2]),0,100),de(parseFloat(he[3]),0,100),de(isNaN(De)?1:De,0,1)]}}}function K(oe){if(oe){var he=oe.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(he){var De=parseFloat(he[4]);return[de(parseInt(he[1]),0,360),de(parseFloat(he[2]),0,100),de(parseFloat(he[3]),0,100),de(isNaN(De)?1:De,0,1)]}}}function xe(oe,he){return void 0===he&&(he=void 0!==oe[3]?oe[3]:1),"rgba("+oe[0]+", "+oe[1]+", "+oe[2]+", "+he+")"}function U(oe,he){return"rgba("+Math.round(oe[0]/255*100)+"%, "+Math.round(oe[1]/255*100)+"%, "+Math.round(oe[2]/255*100)+"%, "+(he||oe[3]||1)+")"}function Z(oe,he){return void 0===he&&(he=void 0!==oe[3]?oe[3]:1),"hsla("+oe[0]+", "+oe[1]+"%, "+oe[2]+"%, "+he+")"}function de(oe,he,De){return Math.min(Math.max(he,oe),De)}function ne(oe){var he=oe.toString(16).toUpperCase();return he.length<2?"0"+he:he}var te=_t(6);yn.exports={getRgba:at,getHsla:We,getRgb:function(oe){var he=at(oe);return he&&he.slice(0,3)},getHsl:function(oe){var he=We(oe);return he&&he.slice(0,3)},getHwb:K,getAlpha:function(oe){var he=at(oe);return he||(he=We(oe))||(he=K(oe))?he[3]:void 0},hexString:function(oe){return"#"+ne(oe[0])+ne(oe[1])+ne(oe[2])},rgbString:function(oe,he){return he<1||oe[3]&&oe[3]<1?xe(oe,he):"rgb("+oe[0]+", "+oe[1]+", "+oe[2]+")"},rgbaString:xe,percentString:function(oe,he){return he<1||oe[3]&&oe[3]<1?U(oe,he):"rgb("+Math.round(oe[0]/255*100)+"%, "+Math.round(oe[1]/255*100)+"%, "+Math.round(oe[2]/255*100)+"%)"},percentaString:U,hslString:function(oe,he){return he<1||oe[3]&&oe[3]<1?Z(oe,he):"hsl("+oe[0]+", "+oe[1]+"%, "+oe[2]+"%)"},hslaString:Z,hwbString:function(oe,he){return void 0===he&&(he=void 0!==oe[3]?oe[3]:1),"hwb("+oe[0]+", "+oe[1]+"%, "+oe[2]+"%"+(void 0!==he&&1!==he?", "+he:"")+")"},keyword:function(oe){return le[oe.slice(0,3)]}};var le={};for(var se in te)le[te[se]]=se},{6:6}],3:[function(_t,yn,yt){var at=_t(5),We=_t(2),K=function(xe){return xe instanceof K?xe:this instanceof K?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof xe?(U=We.getRgba(xe))?this.setValues("rgb",U):(U=We.getHsla(xe))?this.setValues("hsl",U):(U=We.getHwb(xe))&&this.setValues("hwb",U):"object"==typeof xe&&(void 0!==(U=xe).r||void 0!==U.red?this.setValues("rgb",U):void 0!==U.l||void 0!==U.lightness?this.setValues("hsl",U):void 0!==U.v||void 0!==U.value?this.setValues("hsv",U):void 0!==U.w||void 0!==U.whiteness?this.setValues("hwb",U):void 0===U.c&&void 0===U.cyan||this.setValues("cmyk",U)))):new K(xe);var U};K.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var xe=this.values;return 1!==xe.alpha?xe.hwb.concat([xe.alpha]):xe.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var xe=this.values;return xe.rgb.concat([xe.alpha])},hslaArray:function(){var xe=this.values;return xe.hsl.concat([xe.alpha])},alpha:function(xe){return void 0===xe?this.values.alpha:(this.setValues("alpha",xe),this)},red:function(xe){return this.setChannel("rgb",0,xe)},green:function(xe){return this.setChannel("rgb",1,xe)},blue:function(xe){return this.setChannel("rgb",2,xe)},hue:function(xe){return xe&&(xe=(xe%=360)<0?360+xe:xe),this.setChannel("hsl",0,xe)},saturation:function(xe){return this.setChannel("hsl",1,xe)},lightness:function(xe){return this.setChannel("hsl",2,xe)},saturationv:function(xe){return this.setChannel("hsv",1,xe)},whiteness:function(xe){return this.setChannel("hwb",1,xe)},blackness:function(xe){return this.setChannel("hwb",2,xe)},value:function(xe){return this.setChannel("hsv",2,xe)},cyan:function(xe){return this.setChannel("cmyk",0,xe)},magenta:function(xe){return this.setChannel("cmyk",1,xe)},yellow:function(xe){return this.setChannel("cmyk",2,xe)},black:function(xe){return this.setChannel("cmyk",3,xe)},hexString:function(){return We.hexString(this.values.rgb)},rgbString:function(){return We.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return We.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return We.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return We.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return We.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return We.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return We.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var xe=this.values.rgb;return xe[0]<<16|xe[1]<<8|xe[2]},luminosity:function(){for(var xe=this.values.rgb,U=[],Z=0;Z<xe.length;Z++){var de=xe[Z]/255;U[Z]=de<=.03928?de/12.92:Math.pow((de+.055)/1.055,2.4)}return.2126*U[0]+.7152*U[1]+.0722*U[2]},contrast:function(xe){var U=this.luminosity(),Z=xe.luminosity();return U>Z?(U+.05)/(Z+.05):(Z+.05)/(U+.05)},level:function(xe){var U=this.contrast(xe);return U>=7.1?"AAA":U>=4.5?"AA":""},dark:function(){var xe=this.values.rgb;return(299*xe[0]+587*xe[1]+114*xe[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var xe=[],U=0;U<3;U++)xe[U]=255-this.values.rgb[U];return this.setValues("rgb",xe),this},lighten:function(xe){var U=this.values.hsl;return U[2]+=U[2]*xe,this.setValues("hsl",U),this},darken:function(xe){var U=this.values.hsl;return U[2]-=U[2]*xe,this.setValues("hsl",U),this},saturate:function(xe){var U=this.values.hsl;return U[1]+=U[1]*xe,this.setValues("hsl",U),this},desaturate:function(xe){var U=this.values.hsl;return U[1]-=U[1]*xe,this.setValues("hsl",U),this},whiten:function(xe){var U=this.values.hwb;return U[1]+=U[1]*xe,this.setValues("hwb",U),this},blacken:function(xe){var U=this.values.hwb;return U[2]+=U[2]*xe,this.setValues("hwb",U),this},greyscale:function(){var xe=this.values.rgb,U=.3*xe[0]+.59*xe[1]+.11*xe[2];return this.setValues("rgb",[U,U,U]),this},clearer:function(xe){var U=this.values.alpha;return this.setValues("alpha",U-U*xe),this},opaquer:function(xe){var U=this.values.alpha;return this.setValues("alpha",U+U*xe),this},rotate:function(xe){var U=this.values.hsl,Z=(U[0]+xe)%360;return U[0]=Z<0?360+Z:Z,this.setValues("hsl",U),this},mix:function(xe,U){var Z=this,de=xe,ne=void 0===U?.5:U,te=2*ne-1,le=Z.alpha()-de.alpha(),se=((te*le==-1?te:(te+le)/(1+te*le))+1)/2,oe=1-se;return this.rgb(se*Z.red()+oe*de.red(),se*Z.green()+oe*de.green(),se*Z.blue()+oe*de.blue()).alpha(Z.alpha()*ne+de.alpha()*(1-ne))},toJSON:function(){return this.rgb()},clone:function(){var xe,U,Z=new K,de=this.values,ne=Z.values;for(var te in de)de.hasOwnProperty(te)&&("[object Array]"===(U={}.toString.call(xe=de[te]))?ne[te]=xe.slice(0):"[object Number]"===U?ne[te]=xe:console.error("unexpected color value:",xe));return Z}},K.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},K.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},K.prototype.getValues=function(xe){for(var U=this.values,Z={},de=0;de<xe.length;de++)Z[xe.charAt(de)]=U[xe][de];return 1!==U.alpha&&(Z.a=U.alpha),Z},K.prototype.setValues=function(xe,U){var Z,oe,de=this.values,ne=this.spaces,te=this.maxes,le=1;if(this.valid=!0,"alpha"===xe)le=U;else if(U.length)de[xe]=U.slice(0,xe.length),le=U[xe.length];else if(void 0!==U[xe.charAt(0)]){for(Z=0;Z<xe.length;Z++)de[xe][Z]=U[xe.charAt(Z)];le=U.a}else if(void 0!==U[ne[xe][0]]){var se=ne[xe];for(Z=0;Z<xe.length;Z++)de[xe][Z]=U[se[Z]];le=U.alpha}if(de.alpha=Math.max(0,Math.min(1,void 0===le?de.alpha:le)),"alpha"===xe)return!1;for(Z=0;Z<xe.length;Z++)oe=Math.max(0,Math.min(te[xe][Z],de[xe][Z])),de[xe][Z]=Math.round(oe);for(var he in ne)he!==xe&&(de[he]=at[xe][he](de[xe]));return!0},K.prototype.setSpace=function(xe,U){var Z=U[0];return void 0===Z?this.getValues(xe):("number"==typeof Z&&(Z=Array.prototype.slice.call(U)),this.setValues(xe,Z),this)},K.prototype.setChannel=function(xe,U,Z){var de=this.values[xe];return void 0===Z?de[U]:(Z===de[U]||(de[U]=Z,this.setValues(xe,de)),this)},"undefined"!=typeof window&&(window.Color=K),yn.exports=K},{2:2,5:5}],4:[function(_t,yn,yt){function at(He){var ve,Ve,vt=He[0]/255,Pe=He[1]/255,ht=He[2]/255,sn=Math.min(vt,Pe,ht),jt=Math.max(vt,Pe,ht),Cr=jt-sn;return jt==sn?ve=0:vt==jt?ve=(Pe-ht)/Cr:Pe==jt?ve=2+(ht-vt)/Cr:ht==jt&&(ve=4+(vt-Pe)/Cr),(ve=Math.min(60*ve,360))<0&&(ve+=360),Ve=(sn+jt)/2,[ve,100*(jt==sn?0:Ve<=.5?Cr/(jt+sn):Cr/(2-jt-sn)),100*Ve]}function We(He){var ve,Re,vt=He[0],Pe=He[1],ht=He[2],sn=Math.min(vt,Pe,ht),jt=Math.max(vt,Pe,ht),Cr=jt-sn;return Re=0==jt?0:Cr/jt*1e3/10,jt==sn?ve=0:vt==jt?ve=(Pe-ht)/Cr:Pe==jt?ve=2+(ht-vt)/Cr:ht==jt&&(ve=4+(vt-Pe)/Cr),(ve=Math.min(60*ve,360))<0&&(ve+=360),[ve,Re,jt/255*1e3/10]}function K(He){var ve=He[0],Re=He[1],Ve=He[2];return[at(He)[0],1/255*Math.min(ve,Math.min(Re,Ve))*100,100*(Ve=1-1/255*Math.max(ve,Math.max(Re,Ve)))]}function xe(He){var vt,Pe=He[0]/255,ht=He[1]/255,sn=He[2]/255;return[100*((1-Pe-(vt=Math.min(1-Pe,1-ht,1-sn)))/(1-vt)||0),100*((1-ht-vt)/(1-vt)||0),100*((1-sn-vt)/(1-vt)||0),100*vt]}function U(He){return Ke[JSON.stringify(He)]}function Z(He){var ve=He[0]/255,Re=He[1]/255,Ve=He[2]/255;return[100*(.4124*(ve=ve>.04045?Math.pow((ve+.055)/1.055,2.4):ve/12.92)+.3576*(Re=Re>.04045?Math.pow((Re+.055)/1.055,2.4):Re/12.92)+.1805*(Ve=Ve>.04045?Math.pow((Ve+.055)/1.055,2.4):Ve/12.92)),100*(.2126*ve+.7152*Re+.0722*Ve),100*(.0193*ve+.1192*Re+.9505*Ve)]}function de(He){var vt=Z(He),Pe=vt[0],ht=vt[1],sn=vt[2];return ht/=100,sn/=108.883,Pe=(Pe/=95.047)>.008856?Math.pow(Pe,1/3):7.787*Pe+16/116,[116*(ht=ht>.008856?Math.pow(ht,1/3):7.787*ht+16/116)-16,500*(Pe-ht),200*(ht-(sn=sn>.008856?Math.pow(sn,1/3):7.787*sn+16/116))]}function ne(He){var ve,Re,Ve,vt,Pe,ht=He[0]/360,sn=He[1]/100,jt=He[2]/100;if(0==sn)return[Pe=255*jt,Pe,Pe];ve=2*jt-(Re=jt<.5?jt*(1+sn):jt+sn-jt*sn),vt=[0,0,0];for(var Cr=0;Cr<3;Cr++)(Ve=ht+1/3*-(Cr-1))<0&&Ve++,Ve>1&&Ve--,vt[Cr]=255*(Pe=6*Ve<1?ve+6*(Re-ve)*Ve:2*Ve<1?Re:3*Ve<2?ve+(Re-ve)*(2/3-Ve)*6:ve);return vt}function te(He){var ve=He[0]/60,Re=He[1]/100,jt=He[2]/100,Ve=Math.floor(ve)%6,vt=ve-Math.floor(ve),Pe=255*jt*(1-Re),ht=255*jt*(1-Re*vt),sn=255*jt*(1-Re*(1-vt));switch(jt*=255,Ve){case 0:return[jt,sn,Pe];case 1:return[ht,jt,Pe];case 2:return[Pe,jt,sn];case 3:return[Pe,ht,jt];case 4:return[sn,Pe,jt];case 5:return[jt,Pe,ht]}}function le(He){var ve,Re,Ve,vt,Pe=He[0]/360,ht=He[1]/100,sn=He[2]/100,jt=ht+sn;switch(jt>1&&(ht/=jt,sn/=jt),Ve=6*Pe-(ve=Math.floor(6*Pe)),0!=(1&ve)&&(Ve=1-Ve),vt=ht+Ve*((Re=1-sn)-ht),ve){default:case 6:case 0:r=Re,g=vt,b=ht;break;case 1:r=vt,g=Re,b=ht;break;case 2:r=ht,g=Re,b=vt;break;case 3:r=ht,g=vt,b=Re;break;case 4:r=vt,g=ht,b=Re;break;case 5:r=Re,g=ht,b=vt}return[255*r,255*g,255*b]}function se(He){var Pe=He[1]/100,ht=He[2]/100,sn=He[3]/100;return[255*(1-Math.min(1,He[0]/100*(1-sn)+sn)),255*(1-Math.min(1,Pe*(1-sn)+sn)),255*(1-Math.min(1,ht*(1-sn)+sn))]}function oe(He){var ve,Re,Ve,vt=He[0]/100,Pe=He[1]/100,ht=He[2]/100;return Re=-.9689*vt+1.8758*Pe+.0415*ht,Ve=.0557*vt+-.204*Pe+1.057*ht,ve=(ve=3.2406*vt+-1.5372*Pe+-.4986*ht)>.0031308?1.055*Math.pow(ve,1/2.4)-.055:ve*=12.92,Re=Re>.0031308?1.055*Math.pow(Re,1/2.4)-.055:Re*=12.92,Ve=Ve>.0031308?1.055*Math.pow(Ve,1/2.4)-.055:Ve*=12.92,[255*(ve=Math.min(Math.max(0,ve),1)),255*(Re=Math.min(Math.max(0,Re),1)),255*(Ve=Math.min(Math.max(0,Ve),1))]}function he(He){var vt=He[0],Pe=He[1],ht=He[2];return Pe/=100,ht/=108.883,vt=(vt/=95.047)>.008856?Math.pow(vt,1/3):7.787*vt+16/116,[116*(Pe=Pe>.008856?Math.pow(Pe,1/3):7.787*Pe+16/116)-16,500*(vt-Pe),200*(Pe-(ht=ht>.008856?Math.pow(ht,1/3):7.787*ht+16/116))]}function De(He){var ve,Re,Ve,vt,Pe=He[0],ht=He[1],sn=He[2];return Pe<=8?vt=(Re=100*Pe/903.3)/100*7.787+16/116:(Re=100*Math.pow((Pe+16)/116,3),vt=Math.pow(Re/100,1/3)),[ve=ve/95.047<=.008856?ve=95.047*(ht/500+vt-16/116)/7.787:95.047*Math.pow(ht/500+vt,3),Re,Ve=Ve/108.883<=.008859?Ve=108.883*(vt-sn/200-16/116)/7.787:108.883*Math.pow(vt-sn/200,3)]}function Le(He){var Re,vt=He[0],Pe=He[1],ht=He[2];return(Re=360*Math.atan2(ht,Pe)/2/Math.PI)<0&&(Re+=360),[vt,Math.sqrt(Pe*Pe+ht*ht),Re]}function et(He){return oe(De(He))}function Qe(He){var Ve,Pe=He[1];return Ve=He[2]/360*2*Math.PI,[He[0],Pe*Math.cos(Ve),Pe*Math.sin(Ve)]}function st(He){return Kt[He]}yn.exports={rgb2hsl:at,rgb2hsv:We,rgb2hwb:K,rgb2cmyk:xe,rgb2keyword:U,rgb2xyz:Z,rgb2lab:de,rgb2lch:function(He){return Le(de(He))},hsl2rgb:ne,hsl2hsv:function(He){var vt=He[1]/100,Pe=He[2]/100;return 0===Pe?[0,0,0]:[He[0],2*(vt*=(Pe*=2)<=1?Pe:2-Pe)/(Pe+vt)*100,(Pe+vt)/2*100]},hsl2hwb:function(He){return K(ne(He))},hsl2cmyk:function(He){return xe(ne(He))},hsl2keyword:function(He){return U(ne(He))},hsv2rgb:te,hsv2hsl:function(He){var ve,Re,vt=He[1]/100,Pe=He[2]/100;return ve=vt*Pe,[He[0],100*(ve=(ve/=(Re=(2-vt)*Pe)<=1?Re:2-Re)||0),100*(Re/=2)]},hsv2hwb:function(He){return K(te(He))},hsv2cmyk:function(He){return xe(te(He))},hsv2keyword:function(He){return U(te(He))},hwb2rgb:le,hwb2hsl:function(He){return at(le(He))},hwb2hsv:function(He){return We(le(He))},hwb2cmyk:function(He){return xe(le(He))},hwb2keyword:function(He){return U(le(He))},cmyk2rgb:se,cmyk2hsl:function(He){return at(se(He))},cmyk2hsv:function(He){return We(se(He))},cmyk2hwb:function(He){return K(se(He))},cmyk2keyword:function(He){return U(se(He))},keyword2rgb:st,keyword2hsl:function(He){return at(st(He))},keyword2hsv:function(He){return We(st(He))},keyword2hwb:function(He){return K(st(He))},keyword2cmyk:function(He){return xe(st(He))},keyword2lab:function(He){return de(st(He))},keyword2xyz:function(He){return Z(st(He))},xyz2rgb:oe,xyz2lab:he,xyz2lch:function(He){return Le(he(He))},lab2xyz:De,lab2rgb:et,lab2lch:Le,lch2lab:Qe,lch2xyz:function(He){return De(Qe(He))},lch2rgb:function(He){return et(Qe(He))}};var Kt={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Ke={};for(var pt in Kt)Ke[JSON.stringify(Kt[pt])]=pt},{}],5:[function(_t,yn,yt){var at=_t(4),We=function(){return new de};for(var K in at){We[K+"Raw"]=function(ne){return function(te){return"number"==typeof te&&(te=Array.prototype.slice.call(arguments)),at[ne](te)}}(K);var xe=/(\w+)2(\w+)/.exec(K),U=xe[1],Z=xe[2];(We[U]=We[U]||{})[Z]=We[K]=function(ne){return function(te){"number"==typeof te&&(te=Array.prototype.slice.call(arguments));var le=at[ne](te);if("string"==typeof le||void 0===le)return le;for(var se=0;se<le.length;se++)le[se]=Math.round(le[se]);return le}}(K)}var de=function(){this.convs={}};de.prototype.routeSpace=function(ne,te){var le=te[0];return void 0===le?this.getValues(ne):("number"==typeof le&&(le=Array.prototype.slice.call(te)),this.setValues(ne,le))},de.prototype.setValues=function(ne,te){return this.space=ne,this.convs={},this.convs[ne]=te,this},de.prototype.getValues=function(ne){var te=this.convs[ne];if(!te){var le=this.space;te=We[le][ne](this.convs[le]),this.convs[ne]=te}return te},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(ne){de.prototype[ne]=function(te){return this.routeSpace(ne,arguments)}}),yn.exports=We},{4:4}],6:[function(_t,yn,yt){"use strict";yn.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],7:[function(_t,yn,yt){var at=_t(29)();at.helpers=_t(45),_t(27)(at),at.defaults=_t(25),at.Element=_t(26),at.elements=_t(40),at.Interaction=_t(28),at.platform=_t(48),_t(31)(at),_t(22)(at),_t(23)(at),_t(24)(at),_t(30)(at),_t(33)(at),_t(32)(at),_t(35)(at),_t(54)(at),_t(52)(at),_t(53)(at),_t(55)(at),_t(56)(at),_t(57)(at),_t(15)(at),_t(16)(at),_t(17)(at),_t(18)(at),_t(19)(at),_t(20)(at),_t(21)(at),_t(8)(at),_t(9)(at),_t(10)(at),_t(11)(at),_t(12)(at),_t(13)(at),_t(14)(at);var We=[];We.push(_t(49)(at),_t(50)(at),_t(51)(at)),at.plugins.register(We),at.platform.initialize(),yn.exports=at,"undefined"!=typeof window&&(window.Chart=at),at.canvasHelpers=at.helpers.canvas},{10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,35:35,40:40,45:45,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,8:8,9:9}],8:[function(_t,yn,yt){"use strict";yn.exports=function(at){at.Bar=function(We,K){return K.type="bar",new at(We,K)}}},{}],9:[function(_t,yn,yt){"use strict";yn.exports=function(at){at.Bubble=function(We,K){return K.type="bubble",new at(We,K)}}},{}],10:[function(_t,yn,yt){"use strict";yn.exports=function(at){at.Doughnut=function(We,K){return K.type="doughnut",new at(We,K)}}},{}],11:[function(_t,yn,yt){"use strict";yn.exports=function(at){at.Line=function(We,K){return K.type="line",new at(We,K)}}},{}],12:[function(_t,yn,yt){"use strict";yn.exports=function(at){at.PolarArea=function(We,K){return K.type="polarArea",new at(We,K)}}},{}],13:[function(_t,yn,yt){"use strict";yn.exports=function(at){at.Radar=function(We,K){return K.type="radar",new at(We,K)}}},{}],14:[function(_t,yn,yt){"use strict";yn.exports=function(at){at.Scatter=function(We,K){return K.type="scatter",new at(We,K)}}},{}],15:[function(_t,yn,yt){"use strict";var at=_t(25),We=_t(40),K=_t(45);at._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),at._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{callbacks:{title:function(xe,U){var Z="";return xe.length>0&&(xe[0].yLabel?Z=xe[0].yLabel:U.labels.length>0&&xe[0].index<U.labels.length&&(Z=U.labels[xe[0].index])),Z},label:function(xe,U){return(U.datasets[xe.datasetIndex].label||"")+": "+xe.xLabel}},mode:"index",axis:"y"}}),yn.exports=function(xe){xe.controllers.bar=xe.DatasetController.extend({dataElementType:We.Rectangle,initialize:function(){var U,Z=this;xe.DatasetController.prototype.initialize.apply(Z,arguments),(U=Z.getMeta()).stack=Z.getDataset().stack,U.bar=!0},update:function(U){var Z,de,te=this.getMeta().data;for(this._ruler=this.getRuler(),Z=0,de=te.length;Z<de;++Z)this.updateElement(te[Z],Z,U)},updateElement:function(U,Z,de){var ne=this,te=ne.chart,le=ne.getMeta(),se=ne.getDataset(),oe=U.custom||{},he=te.options.elements.rectangle;U._xScale=ne.getScaleForId(le.xAxisID),U._yScale=ne.getScaleForId(le.yAxisID),U._datasetIndex=ne.index,U._index=Z,U._model={datasetLabel:se.label,label:te.data.labels[Z],borderSkipped:oe.borderSkipped?oe.borderSkipped:he.borderSkipped,backgroundColor:oe.backgroundColor?oe.backgroundColor:K.valueAtIndexOrDefault(se.backgroundColor,Z,he.backgroundColor),borderColor:oe.borderColor?oe.borderColor:K.valueAtIndexOrDefault(se.borderColor,Z,he.borderColor),borderWidth:oe.borderWidth?oe.borderWidth:K.valueAtIndexOrDefault(se.borderWidth,Z,he.borderWidth)},ne.updateElementGeometry(U,Z,de),U.pivot()},updateElementGeometry:function(U,Z,de){var ne=this,te=U._model,le=ne.getValueScale(),se=le.getBasePixel(),oe=le.isHorizontal(),he=ne._ruler||ne.getRuler(),De=ne.calculateBarValuePixels(ne.index,Z),Le=ne.calculateBarIndexPixels(ne.index,Z,he);te.horizontal=oe,te.base=de?se:De.base,te.x=oe?de?se:De.head:Le.center,te.y=oe?Le.center:de?se:De.head,te.height=oe?Le.size:void 0,te.width=oe?void 0:Le.size},getValueScaleId:function(){return this.getMeta().yAxisID},getIndexScaleId:function(){return this.getMeta().xAxisID},getValueScale:function(){return this.getScaleForId(this.getValueScaleId())},getIndexScale:function(){return this.getScaleForId(this.getIndexScaleId())},getStackCount:function(U){var Z,de,te=this.chart,le=this.getIndexScale().options.stacked,se=void 0===U?te.data.datasets.length:U+1,oe=[];for(Z=0;Z<se;++Z)(de=te.getDatasetMeta(Z)).bar&&te.isDatasetVisible(Z)&&(!1===le||!0===le&&-1===oe.indexOf(de.stack)||void 0===le&&(void 0===de.stack||-1===oe.indexOf(de.stack)))&&oe.push(de.stack);return oe.length},getStackIndex:function(U){return this.getStackCount(U)-1},getRuler:function(){var U,Z,ne=this.getIndexScale(),te=this.getStackCount(),le=this.index,se=[],oe=ne.isHorizontal(),he=oe?ne.left:ne.top,De=he+(oe?ne.width:ne.height);for(U=0,Z=this.getMeta().data.length;U<Z;++U)se.push(ne.getPixelForValue(null,U,le));return{pixels:se,start:he,end:De,stackCount:te,scale:ne}},calculateBarValuePixels:function(U,Z){var de,ne,te,le,se,oe,De=this.chart,Le=this.getMeta(),et=this.getValueScale(),Qe=De.data.datasets,st=et.getRightValue(Qe[U].data[Z]),Kt=et.options.stacked,Ke=Le.stack,pt=0;if(Kt||void 0===Kt&&void 0!==Ke)for(de=0;de<U;++de)(ne=De.getDatasetMeta(de)).bar&&ne.stack===Ke&&ne.controller.getValueScaleId()===et.id&&De.isDatasetVisible(de)&&(te=et.getRightValue(Qe[de].data[Z]),(st<0&&te<0||st>=0&&te>0)&&(pt+=te));return le=et.getPixelForValue(pt),{size:oe=((se=et.getPixelForValue(pt+st))-le)/2,base:le,head:se,center:se+oe/2}},calculateBarIndexPixels:function(U,Z,de){var ne,te,le,oe,he,Le=de.scale.options,et=this.getStackIndex(U),Qe=de.pixels,st=Qe[Z],Kt=Qe.length,Ke=de.start,pt=de.end;return 1===Kt?(ne=st>Ke?st-Ke:pt-st,te=st<pt?pt-st:st-Ke):(Z>0&&(ne=(st-Qe[Z-1])/2,Z===Kt-1&&(te=ne)),Z<Kt-1&&(te=(Qe[Z+1]-st)/2,0===Z&&(ne=te))),he=(oe=((le=ne*Le.categoryPercentage)+te*Le.categoryPercentage)/de.stackCount)*Le.barPercentage,st-=le,st+=oe*et,{size:he=Math.min(K.valueOrDefault(Le.barThickness,he),K.valueOrDefault(Le.maxBarThickness,1/0)),base:st+=(oe-he)/2,head:st+he,center:st+he/2}},draw:function(){var U=this,Z=U.chart,de=U.getValueScale(),ne=U.getMeta().data,te=U.getDataset(),le=ne.length,se=0;for(K.canvas.clipArea(Z.ctx,Z.chartArea);se<le;++se)isNaN(de.getRightValue(te.data[se]))||ne[se].draw();K.canvas.unclipArea(Z.ctx)},setHoverStyle:function(U){var Z=this.chart.data.datasets[U._datasetIndex],de=U._index,ne=U.custom||{},te=U._model;te.backgroundColor=ne.hoverBackgroundColor?ne.hoverBackgroundColor:K.valueAtIndexOrDefault(Z.hoverBackgroundColor,de,K.getHoverColor(te.backgroundColor)),te.borderColor=ne.hoverBorderColor?ne.hoverBorderColor:K.valueAtIndexOrDefault(Z.hoverBorderColor,de,K.getHoverColor(te.borderColor)),te.borderWidth=ne.hoverBorderWidth?ne.hoverBorderWidth:K.valueAtIndexOrDefault(Z.hoverBorderWidth,de,te.borderWidth)},removeHoverStyle:function(U){var Z=this.chart.data.datasets[U._datasetIndex],de=U._index,ne=U.custom||{},te=U._model,le=this.chart.options.elements.rectangle;te.backgroundColor=ne.backgroundColor?ne.backgroundColor:K.valueAtIndexOrDefault(Z.backgroundColor,de,le.backgroundColor),te.borderColor=ne.borderColor?ne.borderColor:K.valueAtIndexOrDefault(Z.borderColor,de,le.borderColor),te.borderWidth=ne.borderWidth?ne.borderWidth:K.valueAtIndexOrDefault(Z.borderWidth,de,le.borderWidth)}}),xe.controllers.horizontalBar=xe.controllers.bar.extend({getValueScaleId:function(){return this.getMeta().xAxisID},getIndexScaleId:function(){return this.getMeta().yAxisID}})}},{25:25,40:40,45:45}],16:[function(_t,yn,yt){"use strict";var at=_t(25),We=_t(40),K=_t(45);at._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(xe,U){return(U.datasets[xe.datasetIndex].label||"")+": ("+xe.xLabel+", "+xe.yLabel+", "+U.datasets[xe.datasetIndex].data[xe.index].r+")"}}}}),yn.exports=function(xe){xe.controllers.bubble=xe.DatasetController.extend({dataElementType:We.Point,update:function(U){var Z=this,de=Z.getMeta().data;K.each(de,function(ne,te){Z.updateElement(ne,te,U)})},updateElement:function(U,Z,de){var ne=this,te=ne.getMeta(),le=U.custom||{},se=ne.getScaleForId(te.xAxisID),oe=ne.getScaleForId(te.yAxisID),he=ne._resolveElementOptions(U,Z),De=ne.getDataset().data[Z],Le=ne.index,et=de?se.getPixelForDecimal(.5):se.getPixelForValue("object"==typeof De?De:NaN,Z,Le),Qe=de?oe.getBasePixel():oe.getPixelForValue(De,Z,Le);U._xScale=se,U._yScale=oe,U._options=he,U._datasetIndex=Le,U._index=Z,U._model={backgroundColor:he.backgroundColor,borderColor:he.borderColor,borderWidth:he.borderWidth,hitRadius:he.hitRadius,pointStyle:he.pointStyle,radius:de?0:he.radius,skip:le.skip||isNaN(et)||isNaN(Qe),x:et,y:Qe},U.pivot()},setHoverStyle:function(U){var Z=U._model,de=U._options;Z.backgroundColor=K.valueOrDefault(de.hoverBackgroundColor,K.getHoverColor(de.backgroundColor)),Z.borderColor=K.valueOrDefault(de.hoverBorderColor,K.getHoverColor(de.borderColor)),Z.borderWidth=K.valueOrDefault(de.hoverBorderWidth,de.borderWidth),Z.radius=de.radius+de.hoverRadius},removeHoverStyle:function(U){var Z=U._model,de=U._options;Z.backgroundColor=de.backgroundColor,Z.borderColor=de.borderColor,Z.borderWidth=de.borderWidth,Z.radius=de.radius},_resolveElementOptions:function(U,Z){var de,ne,te,se=this.chart,oe=se.data.datasets[this.index],he=U.custom||{},De=se.options.elements.point,Le=K.options.resolve,et=oe.data[Z],Qe={},st={chart:se,dataIndex:Z,dataset:oe,datasetIndex:this.index},Kt=["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle"];for(de=0,ne=Kt.length;de<ne;++de)Qe[te=Kt[de]]=Le([he[te],oe[te],De[te]],st,Z);return Qe.radius=Le([he.radius,et?et.r:void 0,oe.radius,De.radius],st,Z),Qe}})}},{25:25,40:40,45:45}],17:[function(_t,yn,yt){"use strict";var at=_t(25),We=_t(40),K=_t(45);at._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(xe){var U=[];U.push('<ul class="'+xe.id+'-legend">');var Z=xe.data,de=Z.datasets,ne=Z.labels;if(de.length)for(var te=0;te<de[0].data.length;++te)U.push('<li><span style="background-color:'+de[0].backgroundColor[te]+'"></span>'),ne[te]&&U.push(ne[te]),U.push("</li>");return U.push("</ul>"),U.join("")},legend:{labels:{generateLabels:function(xe){var U=xe.data;return U.labels.length&&U.datasets.length?U.labels.map(function(Z,de){var ne=xe.getDatasetMeta(0),te=U.datasets[0],le=ne.data[de],se=le&&le.custom||{},oe=K.valueAtIndexOrDefault,he=xe.options.elements.arc;return{text:Z,fillStyle:se.backgroundColor?se.backgroundColor:oe(te.backgroundColor,de,he.backgroundColor),strokeStyle:se.borderColor?se.borderColor:oe(te.borderColor,de,he.borderColor),lineWidth:se.borderWidth?se.borderWidth:oe(te.borderWidth,de,he.borderWidth),hidden:isNaN(te.data[de])||ne.data[de].hidden,index:de}}):[]}},onClick:function(xe,U){var Z,de,ne,te=U.index,le=this.chart;for(Z=0,de=(le.data.datasets||[]).length;Z<de;++Z)(ne=le.getDatasetMeta(Z)).data[te]&&(ne.data[te].hidden=!ne.data[te].hidden);le.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(xe,U){var Z=U.labels[xe.index],de=": "+U.datasets[xe.datasetIndex].data[xe.index];return K.isArray(Z)?(Z=Z.slice())[0]+=de:Z+=de,Z}}}}),at._set("pie",K.clone(at.doughnut)),at._set("pie",{cutoutPercentage:0}),yn.exports=function(xe){xe.controllers.doughnut=xe.controllers.pie=xe.DatasetController.extend({dataElementType:We.Arc,linkScales:K.noop,getRingIndex:function(U){for(var Z=0,de=0;de<U;++de)this.chart.isDatasetVisible(de)&&++Z;return Z},update:function(U){var Z=this,de=Z.chart,ne=de.chartArea,te=de.options,le=te.elements.arc,se=ne.right-ne.left-le.borderWidth,oe=ne.bottom-ne.top-le.borderWidth,he=Math.min(se,oe),De={x:0,y:0},Le=Z.getMeta(),et=te.cutoutPercentage,Qe=te.circumference;if(Qe<2*Math.PI){var st=te.rotation%(2*Math.PI),Kt=(st+=2*Math.PI*(st>=Math.PI?-1:st<-Math.PI?1:0))+Qe,Ke={x:Math.cos(st),y:Math.sin(st)},pt={x:Math.cos(Kt),y:Math.sin(Kt)},He=st<=0&&Kt>=0||st<=2*Math.PI&&2*Math.PI<=Kt,ve=st<=.5*Math.PI&&.5*Math.PI<=Kt||st<=2.5*Math.PI&&2.5*Math.PI<=Kt,Re=st<=-Math.PI&&-Math.PI<=Kt||st<=Math.PI&&Math.PI<=Kt,Ve=st<=.5*-Math.PI&&.5*-Math.PI<=Kt||st<=1.5*Math.PI&&1.5*Math.PI<=Kt,vt=et/100,Pe={x:Re?-1:Math.min(Ke.x*(Ke.x<0?1:vt),pt.x*(pt.x<0?1:vt)),y:Ve?-1:Math.min(Ke.y*(Ke.y<0?1:vt),pt.y*(pt.y<0?1:vt))},ht={x:He?1:Math.max(Ke.x*(Ke.x>0?1:vt),pt.x*(pt.x>0?1:vt)),y:ve?1:Math.max(Ke.y*(Ke.y>0?1:vt),pt.y*(pt.y>0?1:vt))},sn={width:.5*(ht.x-Pe.x),height:.5*(ht.y-Pe.y)};he=Math.min(se/sn.width,oe/sn.height),De={x:-.5*(ht.x+Pe.x),y:-.5*(ht.y+Pe.y)}}de.borderWidth=Z.getMaxBorderWidth(Le.data),de.outerRadius=Math.max((he-de.borderWidth)/2,0),de.innerRadius=Math.max(et?de.outerRadius/100*et:0,0),de.radiusLength=(de.outerRadius-de.innerRadius)/de.getVisibleDatasetCount(),de.offsetX=De.x*de.outerRadius,de.offsetY=De.y*de.outerRadius,Le.total=Z.calculateTotal(),Z.outerRadius=de.outerRadius-de.radiusLength*Z.getRingIndex(Z.index),Z.innerRadius=Math.max(Z.outerRadius-de.radiusLength,0),K.each(Le.data,function(jt,Cr){Z.updateElement(jt,Cr,U)})},updateElement:function(U,Z,de){var ne=this,te=ne.chart,le=te.chartArea,se=te.options,oe=se.animation,he=(le.left+le.right)/2,De=(le.top+le.bottom)/2,Le=se.rotation,et=se.rotation,Qe=ne.getDataset(),st=de&&oe.animateRotate||U.hidden?0:ne.calculateCircumference(Qe.data[Z])*(se.circumference/(2*Math.PI));K.extend(U,{_datasetIndex:ne.index,_index:Z,_model:{x:he+te.offsetX,y:De+te.offsetY,startAngle:Le,endAngle:et,circumference:st,outerRadius:de&&oe.animateScale?0:ne.outerRadius,innerRadius:de&&oe.animateScale?0:ne.innerRadius,label:(0,K.valueAtIndexOrDefault)(Qe.label,Z,te.data.labels[Z])}});var He=U._model;this.removeHoverStyle(U),de&&oe.animateRotate||(He.startAngle=0===Z?se.rotation:ne.getMeta().data[Z-1]._model.endAngle,He.endAngle=He.startAngle+He.circumference),U.pivot()},removeHoverStyle:function(U){xe.DatasetController.prototype.removeHoverStyle.call(this,U,this.chart.options.elements.arc)},calculateTotal:function(){var U,Z=this.getDataset(),de=this.getMeta(),ne=0;return K.each(de.data,function(te,le){U=Z.data[le],isNaN(U)||te.hidden||(ne+=Math.abs(U))}),ne},calculateCircumference:function(U){var Z=this.getMeta().total;return Z>0&&!isNaN(U)?2*Math.PI*(U/Z):0},getMaxBorderWidth:function(U){for(var Z,de,ne=0,te=this.index,le=U.length,se=0;se<le;se++)ne=(de=U[se]._chart?U[se]._chart.config.data.datasets[te].hoverBorderWidth:0)>(ne=(Z=U[se]._model?U[se]._model.borderWidth:0)>ne?Z:ne)?de:ne;return ne}})}},{25:25,40:40,45:45}],18:[function(_t,yn,yt){"use strict";var at=_t(25),We=_t(40),K=_t(45);at._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}}),yn.exports=function(xe){function U(Z,de){return K.valueOrDefault(Z.showLine,de.showLines)}xe.controllers.line=xe.DatasetController.extend({datasetElementType:We.Line,dataElementType:We.Point,update:function(Z){var de,ne,te,le=this,se=le.getMeta(),oe=se.dataset,he=se.data||[],De=le.chart.options,Le=De.elements.line,et=le.getScaleForId(se.yAxisID),Qe=le.getDataset(),st=U(Qe,De);for(st&&(te=oe.custom||{},void 0!==Qe.tension&&void 0===Qe.lineTension&&(Qe.lineTension=Qe.tension),oe._scale=et,oe._datasetIndex=le.index,oe._children=he,oe._model={spanGaps:Qe.spanGaps?Qe.spanGaps:De.spanGaps,tension:te.tension?te.tension:K.valueOrDefault(Qe.lineTension,Le.tension),backgroundColor:te.backgroundColor?te.backgroundColor:Qe.backgroundColor||Le.backgroundColor,borderWidth:te.borderWidth?te.borderWidth:Qe.borderWidth||Le.borderWidth,borderColor:te.borderColor?te.borderColor:Qe.borderColor||Le.borderColor,borderCapStyle:te.borderCapStyle?te.borderCapStyle:Qe.borderCapStyle||Le.borderCapStyle,borderDash:te.borderDash?te.borderDash:Qe.borderDash||Le.borderDash,borderDashOffset:te.borderDashOffset?te.borderDashOffset:Qe.borderDashOffset||Le.borderDashOffset,borderJoinStyle:te.borderJoinStyle?te.borderJoinStyle:Qe.borderJoinStyle||Le.borderJoinStyle,fill:te.fill?te.fill:void 0!==Qe.fill?Qe.fill:Le.fill,steppedLine:te.steppedLine?te.steppedLine:K.valueOrDefault(Qe.steppedLine,Le.stepped),cubicInterpolationMode:te.cubicInterpolationMode?te.cubicInterpolationMode:K.valueOrDefault(Qe.cubicInterpolationMode,Le.cubicInterpolationMode)},oe.pivot()),de=0,ne=he.length;de<ne;++de)le.updateElement(he[de],de,Z);for(st&&0!==oe._model.tension&&le.updateBezierControlPoints(),de=0,ne=he.length;de<ne;++de)he[de].pivot()},getPointBackgroundColor:function(Z,de){var ne=this.chart.options.elements.point.backgroundColor,te=this.getDataset(),le=Z.custom||{};return le.backgroundColor?ne=le.backgroundColor:te.pointBackgroundColor?ne=K.valueAtIndexOrDefault(te.pointBackgroundColor,de,ne):te.backgroundColor&&(ne=te.backgroundColor),ne},getPointBorderColor:function(Z,de){var ne=this.chart.options.elements.point.borderColor,te=this.getDataset(),le=Z.custom||{};return le.borderColor?ne=le.borderColor:te.pointBorderColor?ne=K.valueAtIndexOrDefault(te.pointBorderColor,de,ne):te.borderColor&&(ne=te.borderColor),ne},getPointBorderWidth:function(Z,de){var ne=this.chart.options.elements.point.borderWidth,te=this.getDataset(),le=Z.custom||{};return isNaN(le.borderWidth)?!isNaN(te.pointBorderWidth)||K.isArray(te.pointBorderWidth)?ne=K.valueAtIndexOrDefault(te.pointBorderWidth,de,ne):isNaN(te.borderWidth)||(ne=te.borderWidth):ne=le.borderWidth,ne},updateElement:function(Z,de,ne){var te,le,se=this,oe=se.getMeta(),he=Z.custom||{},De=se.getDataset(),Le=se.index,et=De.data[de],Qe=se.getScaleForId(oe.yAxisID),st=se.getScaleForId(oe.xAxisID),Kt=se.chart.options.elements.point;void 0!==De.radius&&void 0===De.pointRadius&&(De.pointRadius=De.radius),void 0!==De.hitRadius&&void 0===De.pointHitRadius&&(De.pointHitRadius=De.hitRadius),te=st.getPixelForValue("object"==typeof et?et:NaN,de,Le),le=ne?Qe.getBasePixel():se.calculatePointY(et,de,Le),Z._xScale=st,Z._yScale=Qe,Z._datasetIndex=Le,Z._index=de,Z._model={x:te,y:le,skip:he.skip||isNaN(te)||isNaN(le),radius:he.radius||K.valueAtIndexOrDefault(De.pointRadius,de,Kt.radius),pointStyle:he.pointStyle||K.valueAtIndexOrDefault(De.pointStyle,de,Kt.pointStyle),backgroundColor:se.getPointBackgroundColor(Z,de),borderColor:se.getPointBorderColor(Z,de),borderWidth:se.getPointBorderWidth(Z,de),tension:oe.dataset._model?oe.dataset._model.tension:0,steppedLine:!!oe.dataset._model&&oe.dataset._model.steppedLine,hitRadius:he.hitRadius||K.valueAtIndexOrDefault(De.pointHitRadius,de,Kt.hitRadius)}},calculatePointY:function(Z,de,ne){var te,le,se,he=this.chart,De=this.getMeta(),Le=this.getScaleForId(De.yAxisID),et=0,Qe=0;if(Le.options.stacked){for(te=0;te<ne;te++)if(le=he.data.datasets[te],"line"===(se=he.getDatasetMeta(te)).type&&se.yAxisID===Le.id&&he.isDatasetVisible(te)){var st=Number(Le.getRightValue(le.data[de]));st<0?Qe+=st||0:et+=st||0}var Kt=Number(Le.getRightValue(Z));return Le.getPixelForValue(Kt<0?Qe+Kt:et+Kt)}return Le.getPixelForValue(Z)},updateBezierControlPoints:function(){function Z(Le,et,Qe){return Math.max(Math.min(Le,Qe),et)}var de,ne,te,le,oe=this.getMeta(),he=this.chart.chartArea,De=oe.data||[];if(oe.dataset._model.spanGaps&&(De=De.filter(function(Le){return!Le._model.skip})),"monotone"===oe.dataset._model.cubicInterpolationMode)K.splineCurveMonotone(De);else for(de=0,ne=De.length;de<ne;++de)te=De[de]._model,le=K.splineCurve(K.previousItem(De,de)._model,te,K.nextItem(De,de)._model,oe.dataset._model.tension),te.controlPointPreviousX=le.previous.x,te.controlPointPreviousY=le.previous.y,te.controlPointNextX=le.next.x,te.controlPointNextY=le.next.y;if(this.chart.options.elements.line.capBezierPoints)for(de=0,ne=De.length;de<ne;++de)(te=De[de]._model).controlPointPreviousX=Z(te.controlPointPreviousX,he.left,he.right),te.controlPointPreviousY=Z(te.controlPointPreviousY,he.top,he.bottom),te.controlPointNextX=Z(te.controlPointNextX,he.left,he.right),te.controlPointNextY=Z(te.controlPointNextY,he.top,he.bottom)},draw:function(){var Z=this,de=Z.chart,ne=Z.getMeta(),te=ne.data||[],le=de.chartArea,se=te.length,oe=0;for(K.canvas.clipArea(de.ctx,le),U(Z.getDataset(),de.options)&&ne.dataset.draw(),K.canvas.unclipArea(de.ctx);oe<se;++oe)te[oe].draw(le)},setHoverStyle:function(Z){var de=this.chart.data.datasets[Z._datasetIndex],ne=Z._index,te=Z.custom||{},le=Z._model;le.radius=te.hoverRadius||K.valueAtIndexOrDefault(de.pointHoverRadius,ne,this.chart.options.elements.point.hoverRadius),le.backgroundColor=te.hoverBackgroundColor||K.valueAtIndexOrDefault(de.pointHoverBackgroundColor,ne,K.getHoverColor(le.backgroundColor)),le.borderColor=te.hoverBorderColor||K.valueAtIndexOrDefault(de.pointHoverBorderColor,ne,K.getHoverColor(le.borderColor)),le.borderWidth=te.hoverBorderWidth||K.valueAtIndexOrDefault(de.pointHoverBorderWidth,ne,le.borderWidth)},removeHoverStyle:function(Z){var de=this,ne=de.chart.data.datasets[Z._datasetIndex],te=Z._index,le=Z.custom||{},se=Z._model;void 0!==ne.radius&&void 0===ne.pointRadius&&(ne.pointRadius=ne.radius),se.radius=le.radius||K.valueAtIndexOrDefault(ne.pointRadius,te,de.chart.options.elements.point.radius),se.backgroundColor=de.getPointBackgroundColor(Z,te),se.borderColor=de.getPointBorderColor(Z,te),se.borderWidth=de.getPointBorderWidth(Z,te)}})}},{25:25,40:40,45:45}],19:[function(_t,yn,yt){"use strict";var at=_t(25),We=_t(40),K=_t(45);at._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(xe){var U=[];U.push('<ul class="'+xe.id+'-legend">');var Z=xe.data,de=Z.datasets,ne=Z.labels;if(de.length)for(var te=0;te<de[0].data.length;++te)U.push('<li><span style="background-color:'+de[0].backgroundColor[te]+'"></span>'),ne[te]&&U.push(ne[te]),U.push("</li>");return U.push("</ul>"),U.join("")},legend:{labels:{generateLabels:function(xe){var U=xe.data;return U.labels.length&&U.datasets.length?U.labels.map(function(Z,de){var ne=xe.getDatasetMeta(0),te=U.datasets[0],le=ne.data[de].custom||{},se=K.valueAtIndexOrDefault,oe=xe.options.elements.arc;return{text:Z,fillStyle:le.backgroundColor?le.backgroundColor:se(te.backgroundColor,de,oe.backgroundColor),strokeStyle:le.borderColor?le.borderColor:se(te.borderColor,de,oe.borderColor),lineWidth:le.borderWidth?le.borderWidth:se(te.borderWidth,de,oe.borderWidth),hidden:isNaN(te.data[de])||ne.data[de].hidden,index:de}}):[]}},onClick:function(xe,U){var Z,de,ne,te=U.index,le=this.chart;for(Z=0,de=(le.data.datasets||[]).length;Z<de;++Z)(ne=le.getDatasetMeta(Z)).data[te].hidden=!ne.data[te].hidden;le.update()}},tooltips:{callbacks:{title:function(){return""},label:function(xe,U){return U.labels[xe.index]+": "+xe.yLabel}}}}),yn.exports=function(xe){xe.controllers.polarArea=xe.DatasetController.extend({dataElementType:We.Arc,linkScales:K.noop,update:function(U){var Z=this,de=Z.chart,ne=de.chartArea,te=Z.getMeta(),le=de.options,se=le.elements.arc,oe=Math.min(ne.right-ne.left,ne.bottom-ne.top);de.outerRadius=Math.max((oe-se.borderWidth/2)/2,0),de.innerRadius=Math.max(le.cutoutPercentage?de.outerRadius/100*le.cutoutPercentage:1,0),de.radiusLength=(de.outerRadius-de.innerRadius)/de.getVisibleDatasetCount(),Z.outerRadius=de.outerRadius-de.radiusLength*Z.index,Z.innerRadius=Z.outerRadius-de.radiusLength,te.count=Z.countVisibleElements(),K.each(te.data,function(he,De){Z.updateElement(he,De,U)})},updateElement:function(U,Z,de){for(var ne=this,te=ne.chart,le=ne.getDataset(),se=te.options,oe=se.animation,he=te.scale,De=te.data.labels,Le=ne.calculateCircumference(le.data[Z]),et=he.xCenter,Qe=he.yCenter,st=0,Kt=ne.getMeta(),Ke=0;Ke<Z;++Ke)isNaN(le.data[Ke])||Kt.data[Ke].hidden||++st;var pt=se.startAngle,He=U.hidden?0:he.getDistanceFromCenterForValue(le.data[Z]),ve=pt+Le*st,Re=ve+(U.hidden?0:Le),Ve=oe.animateScale?0:he.getDistanceFromCenterForValue(le.data[Z]);K.extend(U,{_datasetIndex:ne.index,_index:Z,_scale:he,_model:{x:et,y:Qe,innerRadius:0,outerRadius:de?Ve:He,startAngle:de&&oe.animateRotate?pt:ve,endAngle:de&&oe.animateRotate?pt:Re,label:K.valueAtIndexOrDefault(De,Z,De[Z])}}),ne.removeHoverStyle(U),U.pivot()},removeHoverStyle:function(U){xe.DatasetController.prototype.removeHoverStyle.call(this,U,this.chart.options.elements.arc)},countVisibleElements:function(){var U=this.getDataset(),Z=this.getMeta(),de=0;return K.each(Z.data,function(ne,te){isNaN(U.data[te])||ne.hidden||de++}),de},calculateCircumference:function(U){var Z=this.getMeta().count;return Z>0&&!isNaN(U)?2*Math.PI/Z:0}})}},{25:25,40:40,45:45}],20:[function(_t,yn,yt){"use strict";var at=_t(25),We=_t(40),K=_t(45);at._set("radar",{scale:{type:"radialLinear"},elements:{line:{tension:0}}}),yn.exports=function(xe){xe.controllers.radar=xe.DatasetController.extend({datasetElementType:We.Line,dataElementType:We.Point,linkScales:K.noop,update:function(U){var Z=this,de=Z.getMeta(),te=de.data,le=de.dataset.custom||{},se=Z.getDataset(),oe=Z.chart.options.elements.line,he=Z.chart.scale;void 0!==se.tension&&void 0===se.lineTension&&(se.lineTension=se.tension),K.extend(de.dataset,{_datasetIndex:Z.index,_scale:he,_children:te,_loop:!0,_model:{tension:le.tension?le.tension:K.valueOrDefault(se.lineTension,oe.tension),backgroundColor:le.backgroundColor?le.backgroundColor:se.backgroundColor||oe.backgroundColor,borderWidth:le.borderWidth?le.borderWidth:se.borderWidth||oe.borderWidth,borderColor:le.borderColor?le.borderColor:se.borderColor||oe.borderColor,fill:le.fill?le.fill:void 0!==se.fill?se.fill:oe.fill,borderCapStyle:le.borderCapStyle?le.borderCapStyle:se.borderCapStyle||oe.borderCapStyle,borderDash:le.borderDash?le.borderDash:se.borderDash||oe.borderDash,borderDashOffset:le.borderDashOffset?le.borderDashOffset:se.borderDashOffset||oe.borderDashOffset,borderJoinStyle:le.borderJoinStyle?le.borderJoinStyle:se.borderJoinStyle||oe.borderJoinStyle}}),de.dataset.pivot(),K.each(te,function(De,Le){Z.updateElement(De,Le,U)},Z),Z.updateBezierControlPoints()},updateElement:function(U,Z,de){var ne=this,te=U.custom||{},le=ne.getDataset(),se=ne.chart.scale,oe=ne.chart.options.elements.point,he=se.getPointPositionForValue(Z,le.data[Z]);void 0!==le.radius&&void 0===le.pointRadius&&(le.pointRadius=le.radius),void 0!==le.hitRadius&&void 0===le.pointHitRadius&&(le.pointHitRadius=le.hitRadius),K.extend(U,{_datasetIndex:ne.index,_index:Z,_scale:se,_model:{x:de?se.xCenter:he.x,y:de?se.yCenter:he.y,tension:te.tension?te.tension:K.valueOrDefault(le.lineTension,ne.chart.options.elements.line.tension),radius:te.radius?te.radius:K.valueAtIndexOrDefault(le.pointRadius,Z,oe.radius),backgroundColor:te.backgroundColor?te.backgroundColor:K.valueAtIndexOrDefault(le.pointBackgroundColor,Z,oe.backgroundColor),borderColor:te.borderColor?te.borderColor:K.valueAtIndexOrDefault(le.pointBorderColor,Z,oe.borderColor),borderWidth:te.borderWidth?te.borderWidth:K.valueAtIndexOrDefault(le.pointBorderWidth,Z,oe.borderWidth),pointStyle:te.pointStyle?te.pointStyle:K.valueAtIndexOrDefault(le.pointStyle,Z,oe.pointStyle),hitRadius:te.hitRadius?te.hitRadius:K.valueAtIndexOrDefault(le.pointHitRadius,Z,oe.hitRadius)}}),U._model.skip=te.skip?te.skip:isNaN(U._model.x)||isNaN(U._model.y)},updateBezierControlPoints:function(){var U=this.chart.chartArea,Z=this.getMeta();K.each(Z.data,function(de,ne){var te=de._model,le=K.splineCurve(K.previousItem(Z.data,ne,!0)._model,te,K.nextItem(Z.data,ne,!0)._model,te.tension);te.controlPointPreviousX=Math.max(Math.min(le.previous.x,U.right),U.left),te.controlPointPreviousY=Math.max(Math.min(le.previous.y,U.bottom),U.top),te.controlPointNextX=Math.max(Math.min(le.next.x,U.right),U.left),te.controlPointNextY=Math.max(Math.min(le.next.y,U.bottom),U.top),de.pivot()})},setHoverStyle:function(U){var Z=this.chart.data.datasets[U._datasetIndex],de=U.custom||{},ne=U._index,te=U._model;te.radius=de.hoverRadius?de.hoverRadius:K.valueAtIndexOrDefault(Z.pointHoverRadius,ne,this.chart.options.elements.point.hoverRadius),te.backgroundColor=de.hoverBackgroundColor?de.hoverBackgroundColor:K.valueAtIndexOrDefault(Z.pointHoverBackgroundColor,ne,K.getHoverColor(te.backgroundColor)),te.borderColor=de.hoverBorderColor?de.hoverBorderColor:K.valueAtIndexOrDefault(Z.pointHoverBorderColor,ne,K.getHoverColor(te.borderColor)),te.borderWidth=de.hoverBorderWidth?de.hoverBorderWidth:K.valueAtIndexOrDefault(Z.pointHoverBorderWidth,ne,te.borderWidth)},removeHoverStyle:function(U){var Z=this.chart.data.datasets[U._datasetIndex],de=U.custom||{},ne=U._index,te=U._model,le=this.chart.options.elements.point;te.radius=de.radius?de.radius:K.valueAtIndexOrDefault(Z.pointRadius,ne,le.radius),te.backgroundColor=de.backgroundColor?de.backgroundColor:K.valueAtIndexOrDefault(Z.pointBackgroundColor,ne,le.backgroundColor),te.borderColor=de.borderColor?de.borderColor:K.valueAtIndexOrDefault(Z.pointBorderColor,ne,le.borderColor),te.borderWidth=de.borderWidth?de.borderWidth:K.valueAtIndexOrDefault(Z.pointBorderWidth,ne,le.borderWidth)}})}},{25:25,40:40,45:45}],21:[function(_t,yn,yt){"use strict";_t(25)._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},showLines:!1,tooltips:{callbacks:{title:function(){return""},label:function(at){return"("+at.xLabel+", "+at.yLabel+")"}}}}),yn.exports=function(at){at.controllers.scatter=at.controllers.line}},{25:25}],22:[function(_t,yn,yt){"use strict";var at=_t(25),We=_t(26),K=_t(45);at._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:K.noop,onComplete:K.noop}}),yn.exports=function(xe){xe.Animation=We.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),xe.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(U,Z,de,ne){var te,le,se=this.animations;for(Z.chart=U,ne||(U.animating=!0),te=0,le=se.length;te<le;++te)if(se[te].chart===U)return void(se[te]=Z);se.push(Z),1===se.length&&this.requestAnimationFrame()},cancelAnimation:function(U){var Z=K.findIndex(this.animations,function(de){return de.chart===U});-1!==Z&&(this.animations.splice(Z,1),U.animating=!1)},requestAnimationFrame:function(){var U=this;null===U.request&&(U.request=K.requestAnimFrame.call(window,function(){U.request=null,U.startDigest()}))},startDigest:function(){var U=this,Z=Date.now(),de=0;U.dropFrames>1&&(de=Math.floor(U.dropFrames),U.dropFrames=U.dropFrames%1),U.advance(1+de);var ne=Date.now();U.dropFrames+=(ne-Z)/U.frameDuration,U.animations.length>0&&U.requestAnimationFrame()},advance:function(U){for(var Z,de,ne=this.animations,te=0;te<ne.length;)de=(Z=ne[te]).chart,Z.currentStep=(Z.currentStep||0)+U,Z.currentStep=Math.min(Z.currentStep,Z.numSteps),K.callback(Z.render,[de,Z],de),K.callback(Z.onAnimationProgress,[Z],de),Z.currentStep>=Z.numSteps?(K.callback(Z.onAnimationComplete,[Z],de),de.animating=!1,ne.splice(te,1)):++te}},Object.defineProperty(xe.Animation.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(xe.Animation.prototype,"chartInstance",{get:function(){return this.chart},set:function(U){this.chart=U}})}},{25:25,26:26,45:45}],23:[function(_t,yn,yt){"use strict";var at=_t(25),We=_t(45),K=_t(28),xe=_t(48);yn.exports=function(U){function de(le){var se=le.options;se.scale?le.scale.options=se.scale:se.scales&&se.scales.xAxes.concat(se.scales.yAxes).forEach(function(oe){le.scales[oe.id].options=oe}),le.tooltip._options=se.tooltips}function ne(le){return"top"===le||"bottom"===le}var te=U.plugins;U.types={},U.instances={},U.controllers={},We.extend(U.prototype,{construct:function(le,se){var oe=this;se=function Z(le){var se=(le=le||{}).data=le.data||{};return se.datasets=se.datasets||[],se.labels=se.labels||[],le.options=We.configMerge(at.global,at[le.type],le.options||{}),le}(se);var he=xe.acquireContext(le,se),De=he&&he.canvas,Le=De&&De.height,et=De&&De.width;oe.id=We.uid(),oe.ctx=he,oe.canvas=De,oe.config=se,oe.width=et,oe.height=Le,oe.aspectRatio=Le?et/Le:null,oe.options=se.options,oe._bufferedRender=!1,oe.chart=oe,oe.controller=oe,U.instances[oe.id]=oe,Object.defineProperty(oe,"data",{get:function(){return oe.config.data},set:function(Qe){oe.config.data=Qe}}),he&&De?(oe.initialize(),oe.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var le=this;return te.notify(le,"beforeInit"),We.retinaScale(le,le.options.devicePixelRatio),le.bindEvents(),le.options.responsive&&le.resize(!0),le.ensureScalesHaveIDs(),le.buildScales(),le.initToolTip(),te.notify(le,"afterInit"),le},clear:function(){return We.canvas.clear(this),this},stop:function(){return U.animationService.cancelAnimation(this),this},resize:function(le){var se=this,oe=se.options,he=se.canvas,De=oe.maintainAspectRatio&&se.aspectRatio||null,Le=Math.max(0,Math.floor(We.getMaximumWidth(he))),et=Math.max(0,Math.floor(De?Le/De:We.getMaximumHeight(he)));if((se.width!==Le||se.height!==et)&&(he.width=se.width=Le,he.height=se.height=et,he.style.width=Le+"px",he.style.height=et+"px",We.retinaScale(se,oe.devicePixelRatio),!le)){var Qe={width:Le,height:et};te.notify(se,"resize",[Qe]),se.options.onResize&&se.options.onResize(se,Qe),se.stop(),se.update(se.options.responsiveAnimationDuration)}},ensureScalesHaveIDs:function(){var le=this.options,se=le.scales||{},oe=le.scale;We.each(se.xAxes,function(he,De){he.id=he.id||"x-axis-"+De}),We.each(se.yAxes,function(he,De){he.id=he.id||"y-axis-"+De}),oe&&(oe.id=oe.id||"scale")},buildScales:function(){var le=this,se=le.options,oe=le.scales={},he=[];se.scales&&(he=he.concat((se.scales.xAxes||[]).map(function(De){return{options:De,dtype:"category",dposition:"bottom"}}),(se.scales.yAxes||[]).map(function(De){return{options:De,dtype:"linear",dposition:"left"}}))),se.scale&&he.push({options:se.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),We.each(he,function(De){var Le=De.options,et=We.valueOrDefault(Le.type,De.dtype),Qe=U.scaleService.getScaleConstructor(et);if(Qe){ne(Le.position)!==ne(De.dposition)&&(Le.position=De.dposition);var st=new Qe({id:Le.id,options:Le,ctx:le.ctx,chart:le});oe[st.id]=st,st.mergeTicksOptions(),De.isDefault&&(le.scale=st)}}),U.scaleService.addScalesToLayout(this)},buildOrUpdateControllers:function(){var le=this,se=[],oe=[];return We.each(le.data.datasets,function(he,De){var Le=le.getDatasetMeta(De),et=he.type||le.config.type;if(Le.type&&Le.type!==et&&(le.destroyDatasetMeta(De),Le=le.getDatasetMeta(De)),Le.type=et,se.push(Le.type),Le.controller)Le.controller.updateIndex(De);else{var Qe=U.controllers[Le.type];if(void 0===Qe)throw new Error('"'+Le.type+'" is not a chart type.');Le.controller=new Qe(le,De),oe.push(Le.controller)}},le),oe},resetElements:function(){var le=this;We.each(le.data.datasets,function(se,oe){le.getDatasetMeta(oe).controller.reset()},le)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(le){var se=this;if(le&&"object"==typeof le||(le={duration:le,lazy:arguments[1]}),de(se),!1!==te.notify(se,"beforeUpdate")){se.tooltip._data=se.data;var oe=se.buildOrUpdateControllers();We.each(se.data.datasets,function(he,De){se.getDatasetMeta(De).controller.buildOrUpdateElements()},se),se.updateLayout(),We.each(oe,function(he){he.reset()}),se.updateDatasets(),se.tooltip.initialize(),se.lastActive=[],te.notify(se,"afterUpdate"),se._bufferedRender?se._bufferedRequest={duration:le.duration,easing:le.easing,lazy:le.lazy}:se.render(le)}},updateLayout:function(){!1!==te.notify(this,"beforeLayout")&&(U.layoutService.update(this,this.width,this.height),te.notify(this,"afterScaleUpdate"),te.notify(this,"afterLayout"))},updateDatasets:function(){if(!1!==te.notify(this,"beforeDatasetsUpdate")){for(var se=0,oe=this.data.datasets.length;se<oe;++se)this.updateDataset(se);te.notify(this,"afterDatasetsUpdate")}},updateDataset:function(le){var oe=this.getDatasetMeta(le),he={meta:oe,index:le};!1!==te.notify(this,"beforeDatasetUpdate",[he])&&(oe.controller.update(),te.notify(this,"afterDatasetUpdate",[he]))},render:function(le){var se=this;le&&"object"==typeof le||(le={duration:le,lazy:arguments[1]});var oe=le.duration,he=le.lazy;if(!1!==te.notify(se,"beforeRender")){var De=se.options.animation,Le=function(Qe){te.notify(se,"afterRender"),We.callback(De&&De.onComplete,[Qe],se)};if(De&&(void 0!==oe&&0!==oe||void 0===oe&&0!==De.duration)){var et=new U.Animation({numSteps:(oe||De.duration)/16.66,easing:le.easing||De.easing,render:function(Qe,st){var Ke=st.currentStep,pt=Ke/st.numSteps;Qe.draw((0,We.easing.effects[st.easing])(pt),pt,Ke)},onAnimationProgress:De.onProgress,onAnimationComplete:Le});U.animationService.addAnimation(se,et,oe,he)}else se.draw(),Le(new U.Animation({numSteps:0,chart:se}));return se}},draw:function(le){var se=this;se.clear(),We.isNullOrUndef(le)&&(le=1),se.transition(le),!1!==te.notify(se,"beforeDraw",[le])&&(We.each(se.boxes,function(oe){oe.draw(se.chartArea)},se),se.scale&&se.scale.draw(),se.drawDatasets(le),se._drawTooltip(le),te.notify(se,"afterDraw",[le]))},transition:function(le){for(var oe=0,he=(this.data.datasets||[]).length;oe<he;++oe)this.isDatasetVisible(oe)&&this.getDatasetMeta(oe).controller.transition(le);this.tooltip.transition(le)},drawDatasets:function(le){var se=this;if(!1!==te.notify(se,"beforeDatasetsDraw",[le])){for(var oe=(se.data.datasets||[]).length-1;oe>=0;--oe)se.isDatasetVisible(oe)&&se.drawDataset(oe,le);te.notify(se,"afterDatasetsDraw",[le])}},drawDataset:function(le,se){var he=this.getDatasetMeta(le),De={meta:he,index:le,easingValue:se};!1!==te.notify(this,"beforeDatasetDraw",[De])&&(he.controller.draw(se),te.notify(this,"afterDatasetDraw",[De]))},_drawTooltip:function(le){var oe=this.tooltip,he={tooltip:oe,easingValue:le};!1!==te.notify(this,"beforeTooltipDraw",[he])&&(oe.draw(),te.notify(this,"afterTooltipDraw",[he]))},getElementAtEvent:function(le){return K.modes.single(this,le)},getElementsAtEvent:function(le){return K.modes.label(this,le,{intersect:!0})},getElementsAtXAxis:function(le){return K.modes["x-axis"](this,le,{intersect:!0})},getElementsAtEventForMode:function(le,se,oe){var he=K.modes[se];return"function"==typeof he?he(this,le,oe):[]},getDatasetAtEvent:function(le){return K.modes.dataset(this,le,{intersect:!0})},getDatasetMeta:function(le){var oe=this.data.datasets[le];oe._meta||(oe._meta={});var he=oe._meta[this.id];return he||(he=oe._meta[this.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),he},getVisibleDatasetCount:function(){for(var le=0,se=0,oe=this.data.datasets.length;se<oe;++se)this.isDatasetVisible(se)&&le++;return le},isDatasetVisible:function(le){var se=this.getDatasetMeta(le);return"boolean"==typeof se.hidden?!se.hidden:!this.data.datasets[le].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(le){var se=this.id,oe=this.data.datasets[le],he=oe._meta&&oe._meta[se];he&&(he.controller.destroy(),delete oe._meta[se])},destroy:function(){var le,se,oe=this,he=oe.canvas;for(oe.stop(),le=0,se=oe.data.datasets.length;le<se;++le)oe.destroyDatasetMeta(le);he&&(oe.unbindEvents(),We.canvas.clear(oe),xe.releaseContext(oe.ctx),oe.canvas=null,oe.ctx=null),te.notify(oe,"destroy"),delete U.instances[oe.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var le=this;le.tooltip=new U.Tooltip({_chart:le,_chartInstance:le,_data:le.data,_options:le.options.tooltips},le)},bindEvents:function(){var le=this,se=le._listeners={},oe=function(){le.eventHandler.apply(le,arguments)};We.each(le.options.events,function(he){xe.addEventListener(le,he,oe),se[he]=oe}),le.options.responsive&&(oe=function(){le.resize()},xe.addEventListener(le,"resize",oe),se.resize=oe)},unbindEvents:function(){var le=this,se=le._listeners;se&&(delete le._listeners,We.each(se,function(oe,he){xe.removeEventListener(le,he,oe)}))},updateHoverStyle:function(le,se,oe){var he,De,Le,et=oe?"setHoverStyle":"removeHoverStyle";for(De=0,Le=le.length;De<Le;++De)(he=le[De])&&this.getDatasetMeta(he._datasetIndex).controller[et](he)},eventHandler:function(le){var se=this,oe=se.tooltip;if(!1!==te.notify(se,"beforeEvent",[le])){se._bufferedRender=!0,se._bufferedRequest=null;var he=se.handleEvent(le);he|=oe&&oe.handleEvent(le),te.notify(se,"afterEvent",[le]);var De=se._bufferedRequest;return De?se.render(De):he&&!se.animating&&(se.stop(),se.render(se.options.hover.animationDuration,!0)),se._bufferedRender=!1,se._bufferedRequest=null,se}},handleEvent:function(le){var De,se=this,oe=se.options||{},he=oe.hover;return se.lastActive=se.lastActive||[],se.active="mouseout"===le.type?[]:se.getElementsAtEventForMode(le,he.mode,he),We.callback(oe.onHover||oe.hover.onHover,[le.native,se.active],se),"mouseup"!==le.type&&"click"!==le.type||oe.onClick&&oe.onClick.call(se,le.native,se.active),se.lastActive.length&&se.updateHoverStyle(se.lastActive,he.mode,!1),se.active.length&&he.mode&&se.updateHoverStyle(se.active,he.mode,!0),De=!We.arrayEquals(se.active,se.lastActive),se.lastActive=se.active,De}}),U.Controller=U}},{25:25,28:28,45:45,48:48}],24:[function(_t,yn,yt){"use strict";var at=_t(45);yn.exports=function(We){function xe(Z,de){var ne=Z._chartjs;if(ne){var te=ne.listeners,le=te.indexOf(de);-1!==le&&te.splice(le,1),te.length>0||(U.forEach(function(se){delete Z[se]}),delete Z._chartjs)}}var U=["push","pop","shift","splice","unshift"];We.DatasetController=function(Z,de){this.initialize(Z,de)},at.extend(We.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(Z,de){this.chart=Z,this.index=de,this.linkScales(),this.addElements()},updateIndex:function(Z){this.index=Z},linkScales:function(){var Z=this,de=Z.getMeta(),ne=Z.getDataset();null===de.xAxisID&&(de.xAxisID=ne.xAxisID||Z.chart.options.scales.xAxes[0].id),null===de.yAxisID&&(de.yAxisID=ne.yAxisID||Z.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(Z){return this.chart.scales[Z]},reset:function(){this.update(!0)},destroy:function(){this._data&&xe(this._data,this)},createMetaDataset:function(){var Z=this,de=Z.datasetElementType;return de&&new de({_chart:Z.chart,_datasetIndex:Z.index})},createMetaData:function(Z){var ne=this.dataElementType;return ne&&new ne({_chart:this.chart,_datasetIndex:this.index,_index:Z})},addElements:function(){var Z,de,te=this.getMeta(),le=this.getDataset().data||[],se=te.data;for(Z=0,de=le.length;Z<de;++Z)se[Z]=se[Z]||this.createMetaData(Z);te.dataset=te.dataset||this.createMetaDataset()},addElementAndReset:function(Z){var de=this.createMetaData(Z);this.getMeta().data.splice(Z,0,de),this.updateElement(de,Z,!0)},buildOrUpdateElements:function(){var Z=this,de=Z.getDataset(),ne=de.data||(de.data=[]);Z._data!==ne&&(Z._data&&xe(Z._data,Z),function K(Z,de){Z._chartjs?Z._chartjs.listeners.push(de):(Object.defineProperty(Z,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[de]}}),U.forEach(function(ne){var te="onData"+ne.charAt(0).toUpperCase()+ne.slice(1),le=Z[ne];Object.defineProperty(Z,ne,{configurable:!0,enumerable:!1,value:function(){var se=Array.prototype.slice.call(arguments),oe=le.apply(this,se);return at.each(Z._chartjs.listeners,function(he){"function"==typeof he[te]&&he[te].apply(he,se)}),oe}})}))}(ne,Z),Z._data=ne),Z.resyncElements()},update:at.noop,transition:function(Z){for(var de=this.getMeta(),ne=de.data||[],te=ne.length,le=0;le<te;++le)ne[le].transition(Z);de.dataset&&de.dataset.transition(Z)},draw:function(){var Z=this.getMeta(),de=Z.data||[],ne=de.length,te=0;for(Z.dataset&&Z.dataset.draw();te<ne;++te)de[te].draw()},removeHoverStyle:function(Z,de){var ne=this.chart.data.datasets[Z._datasetIndex],te=Z._index,le=Z.custom||{},se=at.valueAtIndexOrDefault,oe=Z._model;oe.backgroundColor=le.backgroundColor?le.backgroundColor:se(ne.backgroundColor,te,de.backgroundColor),oe.borderColor=le.borderColor?le.borderColor:se(ne.borderColor,te,de.borderColor),oe.borderWidth=le.borderWidth?le.borderWidth:se(ne.borderWidth,te,de.borderWidth)},setHoverStyle:function(Z){var de=this.chart.data.datasets[Z._datasetIndex],ne=Z._index,te=Z.custom||{},le=at.valueAtIndexOrDefault,se=at.getHoverColor,oe=Z._model;oe.backgroundColor=te.hoverBackgroundColor?te.hoverBackgroundColor:le(de.hoverBackgroundColor,ne,se(oe.backgroundColor)),oe.borderColor=te.hoverBorderColor?te.hoverBorderColor:le(de.hoverBorderColor,ne,se(oe.borderColor)),oe.borderWidth=te.hoverBorderWidth?te.hoverBorderWidth:le(de.hoverBorderWidth,ne,oe.borderWidth)},resyncElements:function(){var Z=this,de=Z.getMeta(),ne=Z.getDataset().data,te=de.data.length,le=ne.length;le<te?de.data.splice(le,te-le):le>te&&Z.insertElements(te,le-te)},insertElements:function(Z,de){for(var ne=0;ne<de;++ne)this.addElementAndReset(Z+ne)},onDataPush:function(){this.insertElements(this.getDataset().data.length-1,arguments.length)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(Z,de){this.getMeta().data.splice(Z,de),this.insertElements(Z,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),We.DatasetController.extend=at.inherits}},{45:45}],25:[function(_t,yn,yt){"use strict";var at=_t(45);yn.exports={_set:function(We,K){return at.merge(this[We]||(this[We]={}),K)}}},{45:45}],26:[function(_t,yn,yt){"use strict";var We=_t(3),K=_t(45),xe=function(U){K.extend(this,U),this.initialize.apply(this,arguments)};K.extend(xe.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var U=this;return U._view||(U._view=K.clone(U._model)),U._start={},U},transition:function(U){var Z=this,de=Z._model,ne=Z._start,te=Z._view;return de&&1!==U?(te||(te=Z._view={}),ne||(ne=Z._start={}),function at(U,Z,de,ne){var te,le,se,oe,he,De,Le,et,Qe,st=Object.keys(de);for(te=0,le=st.length;te<le;++te)if(De=de[se=st[te]],Z.hasOwnProperty(se)||(Z[se]=De),(oe=Z[se])!==De&&"_"!==se[0]){if(U.hasOwnProperty(se)||(U[se]=oe),(Le=typeof De)==typeof(he=U[se]))if("string"===Le){if((et=We(he)).valid&&(Qe=We(De)).valid){Z[se]=Qe.mix(et,ne).rgbString();continue}}else if("number"===Le&&isFinite(he)&&isFinite(De)){Z[se]=he+(De-he)*ne;continue}Z[se]=De}}(ne,te,de,U),Z):(Z._view=de,Z._start=null,Z)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return K.isNumber(this._model.x)&&K.isNumber(this._model.y)}}),xe.extend=K.inherits,yn.exports=xe},{3:3,45:45}],27:[function(_t,yn,yt){"use strict";var at=_t(3),We=_t(25),K=_t(45);yn.exports=function(xe){function U(ne,te,le){var se;return"string"==typeof ne?(se=parseInt(ne,10),-1!==ne.indexOf("%")&&(se=se/100*te.parentNode[le])):se=ne,se}function Z(ne){return null!=ne&&"none"!==ne}function de(ne,te,le){var se=document.defaultView,oe=ne.parentNode,he=se.getComputedStyle(ne)[te],De=se.getComputedStyle(oe)[te],Le=Z(he),et=Z(De),Qe=Number.POSITIVE_INFINITY;return Le||et?Math.min(Le?U(he,ne,le):Qe,et?U(De,oe,le):Qe):"none"}K.configMerge=function(){return K.merge(K.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(ne,te,le,se){var oe=te[ne]||{},he=le[ne];"scales"===ne?te[ne]=K.scaleMerge(oe,he):"scale"===ne?te[ne]=K.merge(oe,[xe.scaleService.getScaleDefaults(he.type),he]):K._merger(ne,te,le,se)}})},K.scaleMerge=function(){return K.merge(K.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(ne,te,le,se){if("xAxes"===ne||"yAxes"===ne){var oe,he,De,Le=le[ne].length;for(te[ne]||(te[ne]=[]),oe=0;oe<Le;++oe)he=K.valueOrDefault((De=le[ne][oe]).type,"xAxes"===ne?"category":"linear"),oe>=te[ne].length&&te[ne].push({}),K.merge(te[ne][oe],!te[ne][oe].type||De.type&&De.type!==te[ne][oe].type?[xe.scaleService.getScaleDefaults(he),De]:De)}else K._merger(ne,te,le,se)}})},K.where=function(ne,te){if(K.isArray(ne)&&Array.prototype.filter)return ne.filter(te);var le=[];return K.each(ne,function(se){te(se)&&le.push(se)}),le},K.findIndex=Array.prototype.findIndex?function(ne,te,le){return ne.findIndex(te,le)}:function(ne,te,le){le=void 0===le?ne:le;for(var se=0,oe=ne.length;se<oe;++se)if(te.call(le,ne[se],se,ne))return se;return-1},K.findNextWhere=function(ne,te,le){K.isNullOrUndef(le)&&(le=-1);for(var se=le+1;se<ne.length;se++){var oe=ne[se];if(te(oe))return oe}},K.findPreviousWhere=function(ne,te,le){K.isNullOrUndef(le)&&(le=ne.length);for(var se=le-1;se>=0;se--){var oe=ne[se];if(te(oe))return oe}},K.isNumber=function(ne){return!isNaN(parseFloat(ne))&&isFinite(ne)},K.almostEquals=function(ne,te,le){return Math.abs(ne-te)<le},K.almostWhole=function(ne,te){var le=Math.round(ne);return le-te<ne&&le+te>ne},K.max=function(ne){return ne.reduce(function(te,le){return isNaN(le)?te:Math.max(te,le)},Number.NEGATIVE_INFINITY)},K.min=function(ne){return ne.reduce(function(te,le){return isNaN(le)?te:Math.min(te,le)},Number.POSITIVE_INFINITY)},K.sign=Math.sign?function(ne){return Math.sign(ne)}:function(ne){return 0==(ne=+ne)||isNaN(ne)?ne:ne>0?1:-1},K.log10=Math.log10?function(ne){return Math.log10(ne)}:function(ne){return Math.log(ne)/Math.LN10},K.toRadians=function(ne){return ne*(Math.PI/180)},K.toDegrees=function(ne){return ne*(180/Math.PI)},K.getAngleFromPoint=function(ne,te){var le=te.x-ne.x,se=te.y-ne.y,oe=Math.sqrt(le*le+se*se),he=Math.atan2(se,le);return he<-.5*Math.PI&&(he+=2*Math.PI),{angle:he,distance:oe}},K.distanceBetweenPoints=function(ne,te){return Math.sqrt(Math.pow(te.x-ne.x,2)+Math.pow(te.y-ne.y,2))},K.aliasPixel=function(ne){return ne%2==0?0:.5},K.splineCurve=function(ne,te,le,se){var oe=ne.skip?te:ne,he=te,De=le.skip?te:le,Le=Math.sqrt(Math.pow(he.x-oe.x,2)+Math.pow(he.y-oe.y,2)),et=Math.sqrt(Math.pow(De.x-he.x,2)+Math.pow(De.y-he.y,2)),Qe=Le/(Le+et),st=et/(Le+et),Kt=se*(Qe=isNaN(Qe)?0:Qe),Ke=se*(st=isNaN(st)?0:st);return{previous:{x:he.x-Kt*(De.x-oe.x),y:he.y-Kt*(De.y-oe.y)},next:{x:he.x+Ke*(De.x-oe.x),y:he.y+Ke*(De.y-oe.y)}}},K.EPSILON=Number.EPSILON||1e-14,K.splineCurveMonotone=function(ne){var te,le,se,oe,et,Qe,st,Kt,Ke,he=(ne||[]).map(function(pt){return{model:pt._model,deltaK:0,mK:0}}),De=he.length;for(te=0;te<De;++te)if(!(se=he[te]).model.skip){if(le=te>0?he[te-1]:null,(oe=te<De-1?he[te+1]:null)&&!oe.model.skip){var Le=oe.model.x-se.model.x;se.deltaK=0!==Le?(oe.model.y-se.model.y)/Le:0}se.mK=!le||le.model.skip?se.deltaK:!oe||oe.model.skip?le.deltaK:this.sign(le.deltaK)!==this.sign(se.deltaK)?0:(le.deltaK+se.deltaK)/2}for(te=0;te<De-1;++te)oe=he[te+1],(se=he[te]).model.skip||oe.model.skip||(K.almostEquals(se.deltaK,0,this.EPSILON)?se.mK=oe.mK=0:(et=se.mK/se.deltaK,Qe=oe.mK/se.deltaK,(Kt=Math.pow(et,2)+Math.pow(Qe,2))<=9||(st=3/Math.sqrt(Kt),se.mK=et*st*se.deltaK,oe.mK=Qe*st*se.deltaK)));for(te=0;te<De;++te)(se=he[te]).model.skip||(oe=te<De-1?he[te+1]:null,(le=te>0?he[te-1]:null)&&!le.model.skip&&(se.model.controlPointPreviousX=se.model.x-(Ke=(se.model.x-le.model.x)/3),se.model.controlPointPreviousY=se.model.y-Ke*se.mK),oe&&!oe.model.skip&&(se.model.controlPointNextX=se.model.x+(Ke=(oe.model.x-se.model.x)/3),se.model.controlPointNextY=se.model.y+Ke*se.mK))},K.nextItem=function(ne,te,le){return le?te>=ne.length-1?ne[0]:ne[te+1]:te>=ne.length-1?ne[ne.length-1]:ne[te+1]},K.previousItem=function(ne,te,le){return le?te<=0?ne[ne.length-1]:ne[te-1]:te<=0?ne[0]:ne[te-1]},K.niceNum=function(ne,te){var le=Math.floor(K.log10(ne)),se=ne/Math.pow(10,le);return(te?se<1.5?1:se<3?2:se<7?5:10:se<=1?1:se<=2?2:se<=5?5:10)*Math.pow(10,le)},K.requestAnimFrame="undefined"==typeof window?function(ne){ne()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(ne){return window.setTimeout(ne,1e3/60)},K.getRelativePosition=function(ne,te){var le,se,oe=ne.originalEvent||ne,he=ne.currentTarget||ne.srcElement,De=he.getBoundingClientRect(),Le=oe.touches;Le&&Le.length>0?(le=Le[0].clientX,se=Le[0].clientY):(le=oe.clientX,se=oe.clientY);var et=parseFloat(K.getStyle(he,"padding-left")),Qe=parseFloat(K.getStyle(he,"padding-top")),st=parseFloat(K.getStyle(he,"padding-right")),Kt=parseFloat(K.getStyle(he,"padding-bottom")),pt=De.bottom-De.top-Qe-Kt;return{x:le=Math.round((le-De.left-et)/(De.right-De.left-et-st)*he.width/te.currentDevicePixelRatio),y:se=Math.round((se-De.top-Qe)/pt*he.height/te.currentDevicePixelRatio)}},K.getConstraintWidth=function(ne){return de(ne,"max-width","clientWidth")},K.getConstraintHeight=function(ne){return de(ne,"max-height","clientHeight")},K.getMaximumWidth=function(ne){var te=ne.parentNode;if(!te)return ne.clientWidth;var le=parseInt(K.getStyle(te,"padding-left"),10),se=parseInt(K.getStyle(te,"padding-right"),10),oe=te.clientWidth-le-se,he=K.getConstraintWidth(ne);return isNaN(he)?oe:Math.min(oe,he)},K.getMaximumHeight=function(ne){var te=ne.parentNode;if(!te)return ne.clientHeight;var le=parseInt(K.getStyle(te,"padding-top"),10),se=parseInt(K.getStyle(te,"padding-bottom"),10),oe=te.clientHeight-le-se,he=K.getConstraintHeight(ne);return isNaN(he)?oe:Math.min(oe,he)},K.getStyle=function(ne,te){return ne.currentStyle?ne.currentStyle[te]:document.defaultView.getComputedStyle(ne,null).getPropertyValue(te)},K.retinaScale=function(ne,te){var le=ne.currentDevicePixelRatio=te||window.devicePixelRatio||1;if(1!==le){var se=ne.canvas,oe=ne.height,he=ne.width;se.height=oe*le,se.width=he*le,ne.ctx.scale(le,le),se.style.height=oe+"px",se.style.width=he+"px"}},K.fontString=function(ne,te,le){return te+" "+ne+"px "+le},K.longestText=function(ne,te,le,se){var oe=(se=se||{}).data=se.data||{},he=se.garbageCollect=se.garbageCollect||[];se.font!==te&&(oe=se.data={},he=se.garbageCollect=[],se.font=te),ne.font=te;var De=0;K.each(le,function(Qe){null!=Qe&&!0!==K.isArray(Qe)?De=K.measureText(ne,oe,he,De,Qe):K.isArray(Qe)&&K.each(Qe,function(st){null==st||K.isArray(st)||(De=K.measureText(ne,oe,he,De,st))})});var Le=he.length/2;if(Le>le.length){for(var et=0;et<Le;et++)delete oe[he[et]];he.splice(0,Le)}return De},K.measureText=function(ne,te,le,se,oe){var he=te[oe];return he||(he=te[oe]=ne.measureText(oe).width,le.push(oe)),he>se&&(se=he),se},K.numberOfLabelLines=function(ne){var te=1;return K.each(ne,function(le){K.isArray(le)&&le.length>te&&(te=le.length)}),te},K.color=at?function(ne){return ne instanceof CanvasGradient&&(ne=We.global.defaultColor),at(ne)}:function(ne){return console.error("Color.js not found!"),ne},K.getHoverColor=function(ne){return ne instanceof CanvasPattern?ne:K.color(ne).saturate(.5).darken(.1).rgbString()}}},{25:25,3:3,45:45}],28:[function(_t,yn,yt){"use strict";function at(ne,te){return ne.native?{x:ne.x,y:ne.y}:de.getRelativePosition(ne,te)}function We(ne,te){var le,se,oe,he,De;for(se=0,he=ne.data.datasets.length;se<he;++se)if(ne.isDatasetVisible(se))for(oe=0,De=(le=ne.getDatasetMeta(se)).data.length;oe<De;++oe){var Le=le.data[oe];Le._view.skip||te(Le)}}function K(ne,te){var le=[];return We(ne,function(se){se.inRange(te.x,te.y)&&le.push(se)}),le}function xe(ne,te,le,se){var oe=Number.POSITIVE_INFINITY,he=[];return We(ne,function(De){if(!le||De.inRange(te.x,te.y)){var Le=De.getCenterPoint(),et=se(te,Le);et<oe?(he=[De],oe=et):et===oe&&he.push(De)}}),he}function U(ne){var te=-1!==ne.indexOf("x"),le=-1!==ne.indexOf("y");return function(se,oe){var he=te?Math.abs(se.x-oe.x):0,De=le?Math.abs(se.y-oe.y):0;return Math.sqrt(Math.pow(he,2)+Math.pow(De,2))}}function Z(ne,te,le){var se=at(te,ne);le.axis=le.axis||"x";var oe=U(le.axis),he=le.intersect?K(ne,se):xe(ne,se,!1,oe),De=[];return he.length?(ne.data.datasets.forEach(function(Le,et){if(ne.isDatasetVisible(et)){var Qe=ne.getDatasetMeta(et).data[he[0]._index];Qe&&!Qe._view.skip&&De.push(Qe)}}),De):[]}var de=_t(45);yn.exports={modes:{single:function(ne,te){var le=at(te,ne),se=[];return We(ne,function(oe){if(oe.inRange(le.x,le.y))return se.push(oe),se}),se.slice(0,1)},label:Z,index:Z,dataset:function(ne,te,le){var se=at(te,ne);le.axis=le.axis||"xy";var oe=U(le.axis),he=le.intersect?K(ne,se):xe(ne,se,!1,oe);return he.length>0&&(he=ne.getDatasetMeta(he[0]._datasetIndex).data),he},"x-axis":function(ne,te){return Z(ne,te,{intersect:!1})},point:function(ne,te){return K(ne,at(te,ne))},nearest:function(ne,te,le){var se=at(te,ne);le.axis=le.axis||"xy";var oe=U(le.axis),he=xe(ne,se,le.intersect,oe);return he.length>1&&he.sort(function(De,Le){var et=De.getArea()-Le.getArea();return 0===et&&(et=De._datasetIndex-Le._datasetIndex),et}),he.slice(0,1)},x:function(ne,te,le){var se=at(te,ne),oe=[],he=!1;return We(ne,function(De){De.inXRange(se.x)&&oe.push(De),De.inRange(se.x,se.y)&&(he=!0)}),le.intersect&&!he&&(oe=[]),oe},y:function(ne,te,le){var se=at(te,ne),oe=[],he=!1;return We(ne,function(De){De.inYRange(se.y)&&oe.push(De),De.inRange(se.x,se.y)&&(he=!0)}),le.intersect&&!he&&(oe=[]),oe}}}},{45:45}],29:[function(_t,yn,yt){"use strict";_t(25)._set("global",{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},layout:{padding:{top:0,right:0,bottom:0,left:0}}}),yn.exports=function(){var at=function(We,K){return this.construct(We,K),this};return at.Chart=at,at}},{25:25}],30:[function(_t,yn,yt){"use strict";var at=_t(45);yn.exports=function(We){function K(U,Z){return at.where(U,function(de){return de.position===Z})}function xe(U,Z){U.forEach(function(de,ne){return de._tmpIndex_=ne,de}),U.sort(function(de,ne){var te=Z?ne:de,le=Z?de:ne;return te.weight===le.weight?te._tmpIndex_-le._tmpIndex_:te.weight-le.weight}),U.forEach(function(de){delete de._tmpIndex_})}We.layoutService={defaults:{},addBox:function(U,Z){U.boxes||(U.boxes=[]),Z.fullWidth=Z.fullWidth||!1,Z.position=Z.position||"top",Z.weight=Z.weight||0,U.boxes.push(Z)},removeBox:function(U,Z){var de=U.boxes?U.boxes.indexOf(Z):-1;-1!==de&&U.boxes.splice(de,1)},configure:function(U,Z,de){for(var ne,te=["fullWidth","position","weight"],le=te.length,se=0;se<le;++se)de.hasOwnProperty(ne=te[se])&&(Z[ne]=de[ne])},update:function(U,Z,de){function ne(hn){var Un=at.findNextWhere(ht,function(hr){return hr.box===hn});if(Un)if(hn.isHorizontal()){var Ja={left:Math.max(Ht,sn),right:Math.max(Te,jt),top:0,bottom:0};hn.update(hn.fullWidth?pt:vt,He/2,Ja)}else hn.update(Un.minSize.width,Pe)}function te(hn){hn.isHorizontal()?(hn.left=hn.fullWidth?oe:Ht,hn.right=hn.fullWidth?Z-he:Ht+vt,hn.top=tt,hn.bottom=tt+hn.height,tt=hn.bottom):(hn.left=cr,hn.right=cr+hn.width,hn.top=It,hn.bottom=It+Pe,cr=hn.right)}if(U){var se=at.options.toPadding((U.options.layout||{}).padding),oe=se.left,he=se.right,De=se.top,Le=se.bottom,et=K(U.boxes,"left"),Qe=K(U.boxes,"right"),st=K(U.boxes,"top"),Kt=K(U.boxes,"bottom"),Ke=K(U.boxes,"chartArea");xe(et,!0),xe(Qe,!1),xe(st,!0),xe(Kt,!1);var pt=Z-oe-he,He=de-De-Le,ve=He/2,Re=(Z-pt/2)/(et.length+Qe.length),Ve=(de-ve)/(st.length+Kt.length),vt=pt,Pe=He,ht=[];at.each(et.concat(Qe,st,Kt),function(hn){var Un,Ja=hn.isHorizontal();Ja?(Un=hn.update(hn.fullWidth?pt:vt,Ve),Pe-=Un.height):(Un=hn.update(Re,ve),vt-=Un.width),ht.push({horizontal:Ja,minSize:Un,box:hn})});var sn=0,jt=0,Cr=0,_r=0;at.each(st.concat(Kt),function(hn){if(hn.getPadding){var Un=hn.getPadding();sn=Math.max(sn,Un.left),jt=Math.max(jt,Un.right)}}),at.each(et.concat(Qe),function(hn){if(hn.getPadding){var Un=hn.getPadding();Cr=Math.max(Cr,Un.top),_r=Math.max(_r,Un.bottom)}});var Ht=oe,Te=he,It=De,Sn=Le;at.each(et.concat(Qe),ne),at.each(et,function(hn){Ht+=hn.width}),at.each(Qe,function(hn){Te+=hn.width}),at.each(st.concat(Kt),ne),at.each(st,function(hn){It+=hn.height}),at.each(Kt,function(hn){Sn+=hn.height}),at.each(et.concat(Qe),function(hn){var Un=at.findNextWhere(ht,function(hr){return hr.box===hn});Un&&hn.update(Un.minSize.width,Pe,{left:0,right:0,top:It,bottom:Sn})}),Ht=oe,Te=he,It=De,Sn=Le,at.each(et,function(hn){Ht+=hn.width}),at.each(Qe,function(hn){Te+=hn.width}),at.each(st,function(hn){It+=hn.height}),at.each(Kt,function(hn){Sn+=hn.height});var Lr=Math.max(sn-Ht,0);Ht+=Lr,Te+=Math.max(jt-Te,0);var Uo=Math.max(Cr-It,0);It+=Uo,Sn+=Math.max(_r-Sn,0);var Zn=de-It-Sn,Bn=Z-Ht-Te;Bn===vt&&Zn===Pe||(at.each(et,function(hn){hn.height=Zn}),at.each(Qe,function(hn){hn.height=Zn}),at.each(st,function(hn){hn.fullWidth||(hn.width=Bn)}),at.each(Kt,function(hn){hn.fullWidth||(hn.width=Bn)}),Pe=Zn,vt=Bn);var cr=oe+Lr,tt=De+Uo;at.each(et.concat(st),te),cr+=vt,tt+=Pe,at.each(Qe,te),at.each(Kt,te),U.chartArea={left:Ht,top:It,right:Ht+vt,bottom:It+Pe},at.each(Ke,function(hn){hn.left=U.chartArea.left,hn.top=U.chartArea.top,hn.right=U.chartArea.right,hn.bottom=U.chartArea.bottom,hn.update(vt,Pe)})}}}}},{45:45}],31:[function(_t,yn,yt){"use strict";var at=_t(25),We=_t(26),K=_t(45);at._set("global",{plugins:{}}),yn.exports=function(xe){xe.plugins={_plugins:[],_cacheId:0,register:function(U){var Z=this._plugins;[].concat(U).forEach(function(de){-1===Z.indexOf(de)&&Z.push(de)}),this._cacheId++},unregister:function(U){var Z=this._plugins;[].concat(U).forEach(function(de){var ne=Z.indexOf(de);-1!==ne&&Z.splice(ne,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(U,Z,de){var ne,te,le,se,oe,he=this.descriptors(U),De=he.length;for(ne=0;ne<De;++ne)if("function"==typeof(oe=(le=(te=he[ne]).plugin)[Z])&&((se=[U].concat(de||[])).push(te.options),!1===oe.apply(le,se)))return!1;return!0},descriptors:function(U){var Z=U._plugins||(U._plugins={});if(Z.id===this._cacheId)return Z.descriptors;var de=[],ne=[],te=U&&U.config||{},le=te.options&&te.options.plugins||{};return this._plugins.concat(te.plugins||[]).forEach(function(se){if(-1===de.indexOf(se)){var oe=se.id,he=le[oe];!1!==he&&(!0===he&&(he=K.clone(at.global.plugins[oe])),de.push(se),ne.push({plugin:se,options:he||{}}))}}),Z.descriptors=ne,Z.id=this._cacheId,ne}},xe.pluginService=xe.plugins,xe.PluginBase=We.extend({})}},{25:25,26:26,45:45}],32:[function(_t,yn,yt){"use strict";function at(de){var ne,te,le=[];for(ne=0,te=de.length;ne<te;++ne)le.push(de[ne].label);return le}function We(de,ne,te){var le=de.getPixelForTick(ne);return te&&(le-=0===ne?(de.getPixelForTick(1)-le)/2:(le-de.getPixelForTick(ne-1))/2),le}var K=_t(25),xe=_t(26),U=_t(45),Z=_t(34);K._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",lineHeight:1.2,padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:Z.formatters.values,minor:{},major:{}}}),yn.exports=function(de){function ne(se,oe,he){return U.isArray(oe)?U.longestText(se,he,oe):se.measureText(oe).width}function te(se){var oe=U.valueOrDefault,he=K.global,De=oe(se.fontSize,he.defaultFontSize),Le=oe(se.fontStyle,he.defaultFontStyle),et=oe(se.fontFamily,he.defaultFontFamily);return{size:De,style:Le,family:et,font:U.fontString(De,Le,et)}}function le(se){return U.options.toLineHeight(U.valueOrDefault(se.lineHeight,1.2),U.valueOrDefault(se.fontSize,K.global.defaultFontSize))}de.Scale=xe.extend({getPadding:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}},getTicks:function(){return this._ticks},mergeTicksOptions:function(){var se=this.options.ticks;for(var oe in!1===se.minor&&(se.minor={display:!1}),!1===se.major&&(se.major={display:!1}),se)"major"!==oe&&"minor"!==oe&&(void 0===se.minor[oe]&&(se.minor[oe]=se[oe]),void 0===se.major[oe]&&(se.major[oe]=se[oe]))},beforeUpdate:function(){U.callback(this.options.beforeUpdate,[this])},update:function(se,oe,he){var De,Le,et,Qe,st,Kt,Ke=this;for(Ke.beforeUpdate(),Ke.maxWidth=se,Ke.maxHeight=oe,Ke.margins=U.extend({left:0,right:0,top:0,bottom:0},he),Ke.longestTextCache=Ke.longestTextCache||{},Ke.beforeSetDimensions(),Ke.setDimensions(),Ke.afterSetDimensions(),Ke.beforeDataLimits(),Ke.determineDataLimits(),Ke.afterDataLimits(),Ke.beforeBuildTicks(),st=Ke.buildTicks()||[],Ke.afterBuildTicks(),Ke.beforeTickToLabelConversion(),et=Ke.convertTicksToLabels(st)||Ke.ticks,Ke.afterTickToLabelConversion(),Ke.ticks=et,De=0,Le=et.length;De<Le;++De)Qe=et[De],(Kt=st[De])?Kt.label=Qe:st.push(Kt={label:Qe,major:!1});return Ke._ticks=st,Ke.beforeCalculateTickRotation(),Ke.calculateTickRotation(),Ke.afterCalculateTickRotation(),Ke.beforeFit(),Ke.fit(),Ke.afterFit(),Ke.afterUpdate(),Ke.minSize},afterUpdate:function(){U.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){U.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var se=this;se.isHorizontal()?(se.width=se.maxWidth,se.left=0,se.right=se.width):(se.height=se.maxHeight,se.top=0,se.bottom=se.height),se.paddingLeft=0,se.paddingTop=0,se.paddingRight=0,se.paddingBottom=0},afterSetDimensions:function(){U.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){U.callback(this.options.beforeDataLimits,[this])},determineDataLimits:U.noop,afterDataLimits:function(){U.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){U.callback(this.options.beforeBuildTicks,[this])},buildTicks:U.noop,afterBuildTicks:function(){U.callback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){U.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var oe=this.options.ticks;this.ticks=this.ticks.map(oe.userCallback||oe.callback,this)},afterTickToLabelConversion:function(){U.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){U.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var se=this,oe=se.ctx,he=se.options.ticks,De=at(se._ticks),Le=te(he);oe.font=Le.font;var et=he.minRotation||0;if(De.length&&se.options.display&&se.isHorizontal())for(var Qe,st=U.longestText(oe,Le.font,De,se.longestTextCache),Kt=st,Ke=se.getPixelForTick(1)-se.getPixelForTick(0)-6;Kt>Ke&&et<he.maxRotation;){var pt=U.toRadians(et);if(Qe=Math.cos(pt),Math.sin(pt)*st>se.maxHeight){et--;break}et++,Kt=Qe*st}se.labelRotation=et},afterCalculateTickRotation:function(){U.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){U.callback(this.options.beforeFit,[this])},fit:function(){var se=this,oe=se.minSize={width:0,height:0},he=at(se._ticks),De=se.options,Le=De.ticks,et=De.scaleLabel,Qe=De.gridLines,st=De.display,Kt=se.isHorizontal(),Ke=te(Le),pt=De.gridLines.tickMarkLength;if(oe.width=Kt?se.isFullWidth()?se.maxWidth-se.margins.left-se.margins.right:se.maxWidth:st&&Qe.drawTicks?pt:0,oe.height=Kt?st&&Qe.drawTicks?pt:0:se.maxHeight,et.display&&st){var He=le(et)+U.options.toPadding(et.padding).height;Kt?oe.height+=He:oe.width+=He}if(Le.display&&st){var ve=U.longestText(se.ctx,Ke.font,he,se.longestTextCache),Re=U.numberOfLabelLines(he),Ve=.5*Ke.size,vt=se.options.ticks.padding;if(Kt){se.longestLabelWidth=ve;var Pe=U.toRadians(se.labelRotation),ht=Math.cos(Pe),sn=Math.sin(Pe)*ve+Ke.size*Re+Ve*(Re-1)+Ve;oe.height=Math.min(se.maxHeight,oe.height+sn+vt),se.ctx.font=Ke.font;var jt=ne(se.ctx,he[0],Ke.font),Cr=ne(se.ctx,he[he.length-1],Ke.font);0!==se.labelRotation?(se.paddingLeft="bottom"===De.position?ht*jt+3:ht*Ve+3,se.paddingRight="bottom"===De.position?ht*Ve+3:ht*Cr+3):(se.paddingLeft=jt/2+3,se.paddingRight=Cr/2+3)}else Le.mirror?ve=0:ve+=vt+Ve,oe.width=Math.min(se.maxWidth,oe.width+ve),se.paddingTop=Ke.size/2,se.paddingBottom=Ke.size/2}se.handleMargins(),se.width=oe.width,se.height=oe.height},handleMargins:function(){var se=this;se.margins&&(se.paddingLeft=Math.max(se.paddingLeft-se.margins.left,0),se.paddingTop=Math.max(se.paddingTop-se.margins.top,0),se.paddingRight=Math.max(se.paddingRight-se.margins.right,0),se.paddingBottom=Math.max(se.paddingBottom-se.margins.bottom,0))},afterFit:function(){U.callback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(se){if(U.isNullOrUndef(se))return NaN;if("number"==typeof se&&!isFinite(se))return NaN;if(se)if(this.isHorizontal()){if(void 0!==se.x)return this.getRightValue(se.x)}else if(void 0!==se.y)return this.getRightValue(se.y);return se},getLabelForIndex:U.noop,getPixelForValue:U.noop,getValueForPixel:U.noop,getPixelForTick:function(se){var oe=this,he=oe.options.offset;if(oe.isHorizontal()){var De=(oe.width-(oe.paddingLeft+oe.paddingRight))/Math.max(oe._ticks.length-(he?0:1),1),Le=De*se+oe.paddingLeft;return he&&(Le+=De/2),oe.left+Math.round(Le)+(oe.isFullWidth()?oe.margins.left:0)}return oe.top+se*((oe.height-(oe.paddingTop+oe.paddingBottom))/(oe._ticks.length-1))},getPixelForDecimal:function(se){var oe=this;return oe.isHorizontal()?oe.left+Math.round((oe.width-(oe.paddingLeft+oe.paddingRight))*se+oe.paddingLeft)+(oe.isFullWidth()?oe.margins.left:0):oe.top+se*oe.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var oe=this.min,he=this.max;return this.beginAtZero?0:oe<0&&he<0?he:oe>0&&he>0?oe:0},_autoSkip:function(se){var oe,he,De,Le,et=this,Qe=et.isHorizontal(),st=et.options.ticks.minor,Kt=se.length,Ke=U.toRadians(et.labelRotation),pt=Math.cos(Ke),He=et.longestLabelWidth*pt,ve=[];for(st.maxTicksLimit&&(Le=st.maxTicksLimit),Qe&&(oe=!1,(He+st.autoSkipPadding)*Kt>et.width-(et.paddingLeft+et.paddingRight)&&(oe=1+Math.floor((He+st.autoSkipPadding)*Kt/(et.width-(et.paddingLeft+et.paddingRight)))),Le&&Kt>Le&&(oe=Math.max(oe,Math.floor(Kt/Le)))),he=0;he<Kt;he++)De=se[he],(oe>1&&he%oe>0||he%oe==0&&he+oe>=Kt)&&he!==Kt-1&&delete De.label,ve.push(De);return ve},draw:function(se){var oe=this,he=oe.options;if(he.display){var De=oe.ctx,Le=K.global,et=he.ticks.minor,Qe=he.ticks.major||et,st=he.gridLines,Kt=he.scaleLabel,Ke=0!==oe.labelRotation,pt=oe.isHorizontal(),He=et.autoSkip?oe._autoSkip(oe.getTicks()):oe.getTicks(),ve=U.valueOrDefault(et.fontColor,Le.defaultFontColor),Re=te(et),Ve=U.valueOrDefault(Qe.fontColor,Le.defaultFontColor),vt=te(Qe),Pe=st.drawTicks?st.tickMarkLength:0,ht=U.valueOrDefault(Kt.fontColor,Le.defaultFontColor),sn=te(Kt),jt=U.options.toPadding(Kt.padding),Cr=U.toRadians(oe.labelRotation),_r=[],Ht="right"===he.position?oe.left:oe.right-Pe,Te="right"===he.position?oe.left+Pe:oe.right,It="bottom"===he.position?oe.top:oe.bottom-Pe,Sn="bottom"===he.position?oe.top+Pe:oe.bottom;if(U.each(He,function(fr,aa){if(!U.isNullOrUndef(fr.label)){var Ci,Oa,bn,Qt,jn=fr.label;aa===oe.zeroLineIndex&&he.offset===st.offsetGridLines?(Ci=st.zeroLineWidth,Oa=st.zeroLineColor,bn=st.zeroLineBorderDash,Qt=st.zeroLineBorderDashOffset):(Ci=U.valueAtIndexOrDefault(st.lineWidth,aa),Oa=U.valueAtIndexOrDefault(st.color,aa),bn=U.valueOrDefault(st.borderDash,Le.borderDash),Qt=U.valueOrDefault(st.borderDashOffset,Le.borderDashOffset));var Rn,ar,_n,vn,bo,wr,go,ni,sa,Vo,cs="middle",va="middle",Ua=et.padding;if(pt){var ja=Pe+Ua;"bottom"===he.position?(va=Ke?"middle":"top",cs=Ke?"right":"center",Vo=oe.top+ja):(va=Ke?"middle":"bottom",cs=Ke?"left":"center",Vo=oe.bottom-ja);var Ir=We(oe,aa,st.offsetGridLines&&He.length>1);Ir<oe.left&&(Oa="rgba(0,0,0,0)"),Ir+=U.aliasPixel(Ci),sa=oe.getPixelForTick(aa)+et.labelOffset,Rn=_n=bo=go=Ir,ar=It,vn=Sn,wr=se.top,ni=se.bottom}else{var J,Au="left"===he.position;et.mirror?(cs=Au?"left":"right",J=Ua):(cs=Au?"right":"left",J=Pe+Ua),sa=Au?oe.right-J:oe.left+J;var Qa=We(oe,aa,st.offsetGridLines&&He.length>1);Qa<oe.top&&(Oa="rgba(0,0,0,0)"),Qa+=U.aliasPixel(Ci),Vo=oe.getPixelForTick(aa)+et.labelOffset,Rn=Ht,_n=Te,bo=se.left,go=se.right,ar=vn=wr=ni=Qa}_r.push({tx1:Rn,ty1:ar,tx2:_n,ty2:vn,x1:bo,y1:wr,x2:go,y2:ni,labelX:sa,labelY:Vo,glWidth:Ci,glColor:Oa,glBorderDash:bn,glBorderDashOffset:Qt,rotation:-1*Cr,label:jn,major:fr.major,textBaseline:va,textAlign:cs})}}),U.each(_r,function(fr){if(st.display&&(De.save(),De.lineWidth=fr.glWidth,De.strokeStyle=fr.glColor,De.setLineDash&&(De.setLineDash(fr.glBorderDash),De.lineDashOffset=fr.glBorderDashOffset),De.beginPath(),st.drawTicks&&(De.moveTo(fr.tx1,fr.ty1),De.lineTo(fr.tx2,fr.ty2)),st.drawOnChartArea&&(De.moveTo(fr.x1,fr.y1),De.lineTo(fr.x2,fr.y2)),De.stroke(),De.restore()),et.display){De.save(),De.translate(fr.labelX,fr.labelY),De.rotate(fr.rotation),De.font=fr.major?vt.font:Re.font,De.fillStyle=fr.major?Ve:ve,De.textBaseline=fr.textBaseline,De.textAlign=fr.textAlign;var aa=fr.label;if(U.isArray(aa))for(var Ci=0,Oa=0;Ci<aa.length;++Ci)De.fillText(""+aa[Ci],0,Oa),Oa+=1.5*Re.size;else De.fillText(aa,0,0);De.restore()}}),Kt.display){var Lr,Uo,Zn=0,Bn=le(Kt)/2;if(pt)Lr=oe.left+(oe.right-oe.left)/2,Uo="bottom"===he.position?oe.bottom-Bn-jt.bottom:oe.top+Bn+jt.top;else{var cr="left"===he.position;Lr=cr?oe.left+Bn+jt.top:oe.right-Bn-jt.top,Uo=oe.top+(oe.bottom-oe.top)/2,Zn=cr?-.5*Math.PI:.5*Math.PI}De.save(),De.translate(Lr,Uo),De.rotate(Zn),De.textAlign="center",De.textBaseline="middle",De.fillStyle=ht,De.font=sn.font,De.fillText(Kt.labelString,0,0),De.restore()}if(st.drawBorder){De.lineWidth=U.valueAtIndexOrDefault(st.lineWidth,0),De.strokeStyle=U.valueAtIndexOrDefault(st.color,0);var tt=oe.left,hn=oe.right,Un=oe.top,Ja=oe.bottom,hr=U.aliasPixel(De.lineWidth);pt?(Un=Ja="top"===he.position?oe.bottom:oe.top,Un+=hr,Ja+=hr):(tt=hn="left"===he.position?oe.right:oe.left,tt+=hr,hn+=hr),De.beginPath(),De.moveTo(tt,Un),De.lineTo(hn,Ja),De.stroke()}}}})}},{25:25,26:26,34:34,45:45}],33:[function(_t,yn,yt){"use strict";var at=_t(25),We=_t(45);yn.exports=function(K){K.scaleService={constructors:{},defaults:{},registerScaleType:function(xe,U,Z){this.constructors[xe]=U,this.defaults[xe]=We.clone(Z)},getScaleConstructor:function(xe){return this.constructors.hasOwnProperty(xe)?this.constructors[xe]:void 0},getScaleDefaults:function(xe){return this.defaults.hasOwnProperty(xe)?We.merge({},[at.scale,this.defaults[xe]]):{}},updateScaleDefaults:function(xe,U){var Z=this;Z.defaults.hasOwnProperty(xe)&&(Z.defaults[xe]=We.extend(Z.defaults[xe],U))},addScalesToLayout:function(xe){We.each(xe.scales,function(U){U.fullWidth=U.options.fullWidth,U.position=U.options.position,U.weight=U.options.weight,K.layoutService.addBox(xe,U)})}}}},{25:25,45:45}],34:[function(_t,yn,yt){"use strict";var at=_t(45);yn.exports={generators:{linear:function(We,K){var xe,U=[];if(We.stepSize&&We.stepSize>0)xe=We.stepSize;else{var Z=at.niceNum(K.max-K.min,!1);xe=at.niceNum(Z/(We.maxTicks-1),!0)}var de=Math.floor(K.min/xe)*xe,ne=Math.ceil(K.max/xe)*xe;We.min&&We.max&&We.stepSize&&at.almostWhole((We.max-We.min)/We.stepSize,xe/1e3)&&(de=We.min,ne=We.max);var te=(ne-de)/xe;te=at.almostEquals(te,Math.round(te),xe/1e3)?Math.round(te):Math.ceil(te),U.push(void 0!==We.min?We.min:de);for(var le=1;le<te;++le)U.push(de+le*xe);return U.push(void 0!==We.max?We.max:ne),U},logarithmic:function(We,K){var xe,U,Z=[],de=at.valueOrDefault,ne=de(We.min,Math.pow(10,Math.floor(at.log10(K.min)))),te=Math.floor(at.log10(K.max)),le=Math.ceil(K.max/Math.pow(10,te));0===ne?(xe=Math.floor(at.log10(K.minNotZero)),U=Math.floor(K.minNotZero/Math.pow(10,xe)),Z.push(ne),ne=U*Math.pow(10,xe)):(xe=Math.floor(at.log10(ne)),U=Math.floor(ne/Math.pow(10,xe)));do{Z.push(ne),10==++U&&(U=1,++xe),ne=U*Math.pow(10,xe)}while(xe<te||xe===te&&U<le);var se=de(We.max,ne);return Z.push(se),Z}},formatters:{values:function(We){return at.isArray(We)?We:""+We},linear:function(We,K,xe){var U=xe.length>3?xe[2]-xe[1]:xe[1]-xe[0];Math.abs(U)>1&&We!==Math.floor(We)&&(U=We-Math.floor(We));var Z=at.log10(Math.abs(U)),de="";if(0!==We){var ne=-1*Math.floor(Z);ne=Math.max(Math.min(ne,20),0),de=We.toFixed(ne)}else de="0";return de},logarithmic:function(We,K,xe){var U=We/Math.pow(10,Math.floor(at.log10(We)));return 0===We?"0":1===U||2===U||5===U||0===K||K===xe.length-1?We.toExponential():""}}}},{45:45}],35:[function(_t,yn,yt){"use strict";var at=_t(25),We=_t(26),K=_t(45);at._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:K.noop,title:function(xe,U){var Z="",de=U.labels,ne=de?de.length:0;if(xe.length>0){var te=xe[0];te.xLabel?Z=te.xLabel:ne>0&&te.index<ne&&(Z=de[te.index])}return Z},afterTitle:K.noop,beforeBody:K.noop,beforeLabel:K.noop,label:function(xe,U){var Z=U.datasets[xe.datasetIndex].label||"";return Z&&(Z+=": "),Z+xe.yLabel},labelColor:function(xe,U){var Z=U.getDatasetMeta(xe.datasetIndex).data[xe.index]._view;return{borderColor:Z.borderColor,backgroundColor:Z.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:K.noop,afterBody:K.noop,beforeFooter:K.noop,footer:K.noop,afterFooter:K.noop}}}),yn.exports=function(xe){function U(oe,he){var De=K.color(oe);return De.alpha(he*De.alpha()).rgbaString()}function Z(oe,he){return he&&(K.isArray(he)?Array.prototype.push.apply(oe,he):oe.push(he)),oe}function de(oe){var he=oe._xScale,De=oe._yScale||oe._scale,Le=oe._index,et=oe._datasetIndex;return{xLabel:he?he.getLabelForIndex(Le,et):"",yLabel:De?De.getLabelForIndex(Le,et):"",index:Le,datasetIndex:et,x:oe._model.x,y:oe._model.y}}function ne(oe){var he=at.global,De=K.valueOrDefault;return{xPadding:oe.xPadding,yPadding:oe.yPadding,xAlign:oe.xAlign,yAlign:oe.yAlign,bodyFontColor:oe.bodyFontColor,_bodyFontFamily:De(oe.bodyFontFamily,he.defaultFontFamily),_bodyFontStyle:De(oe.bodyFontStyle,he.defaultFontStyle),_bodyAlign:oe.bodyAlign,bodyFontSize:De(oe.bodyFontSize,he.defaultFontSize),bodySpacing:oe.bodySpacing,titleFontColor:oe.titleFontColor,_titleFontFamily:De(oe.titleFontFamily,he.defaultFontFamily),_titleFontStyle:De(oe.titleFontStyle,he.defaultFontStyle),titleFontSize:De(oe.titleFontSize,he.defaultFontSize),_titleAlign:oe.titleAlign,titleSpacing:oe.titleSpacing,titleMarginBottom:oe.titleMarginBottom,footerFontColor:oe.footerFontColor,_footerFontFamily:De(oe.footerFontFamily,he.defaultFontFamily),_footerFontStyle:De(oe.footerFontStyle,he.defaultFontStyle),footerFontSize:De(oe.footerFontSize,he.defaultFontSize),_footerAlign:oe.footerAlign,footerSpacing:oe.footerSpacing,footerMarginTop:oe.footerMarginTop,caretSize:oe.caretSize,cornerRadius:oe.cornerRadius,backgroundColor:oe.backgroundColor,opacity:0,legendColorBackground:oe.multiKeyBackground,displayColors:oe.displayColors,borderColor:oe.borderColor,borderWidth:oe.borderWidth}}xe.Tooltip=We.extend({initialize:function(){this._model=ne(this._options),this._lastActive=[]},getTitle:function(){var oe=this,he=oe._options.callbacks,De=he.beforeTitle.apply(oe,arguments),Le=he.title.apply(oe,arguments),et=he.afterTitle.apply(oe,arguments),Qe=[];return Qe=Z(Qe,De),Qe=Z(Qe,Le),Z(Qe,et)},getBeforeBody:function(){var oe=this._options.callbacks.beforeBody.apply(this,arguments);return K.isArray(oe)?oe:void 0!==oe?[oe]:[]},getBody:function(oe,he){var De=this,Le=De._options.callbacks,et=[];return K.each(oe,function(Qe){var st={before:[],lines:[],after:[]};Z(st.before,Le.beforeLabel.call(De,Qe,he)),Z(st.lines,Le.label.call(De,Qe,he)),Z(st.after,Le.afterLabel.call(De,Qe,he)),et.push(st)}),et},getAfterBody:function(){var oe=this._options.callbacks.afterBody.apply(this,arguments);return K.isArray(oe)?oe:void 0!==oe?[oe]:[]},getFooter:function(){var oe=this,he=oe._options.callbacks,De=he.beforeFooter.apply(oe,arguments),Le=he.footer.apply(oe,arguments),et=he.afterFooter.apply(oe,arguments),Qe=[];return Qe=Z(Qe,De),Qe=Z(Qe,Le),Z(Qe,et)},update:function(oe){var he,De,Le=this,et=Le._options,Qe=Le._model,st=Le._model=ne(et),Kt=Le._active,Ke=Le._data,pt={xAlign:Qe.xAlign,yAlign:Qe.yAlign},He={x:Qe.x,y:Qe.y},ve={width:Qe.width,height:Qe.height},Re={x:Qe.caretX,y:Qe.caretY};if(Kt.length){st.opacity=1;var Ve=[],vt=[];Re=xe.Tooltip.positioners[et.position].call(Le,Kt,Le._eventPosition);var Pe=[];for(he=0,De=Kt.length;he<De;++he)Pe.push(de(Kt[he]));et.filter&&(Pe=Pe.filter(function(ht){return et.filter(ht,Ke)})),et.itemSort&&(Pe=Pe.sort(function(ht,sn){return et.itemSort(ht,sn,Ke)})),K.each(Pe,function(ht){Ve.push(et.callbacks.labelColor.call(Le,ht,Le._chart)),vt.push(et.callbacks.labelTextColor.call(Le,ht,Le._chart))}),st.title=Le.getTitle(Pe,Ke),st.beforeBody=Le.getBeforeBody(Pe,Ke),st.body=Le.getBody(Pe,Ke),st.afterBody=Le.getAfterBody(Pe,Ke),st.footer=Le.getFooter(Pe,Ke),st.x=Math.round(Re.x),st.y=Math.round(Re.y),st.caretPadding=et.caretPadding,st.labelColors=Ve,st.labelTextColors=vt,st.dataPoints=Pe,He=function se(oe,he,De){var Le=oe.x,et=oe.y,st=oe.caretPadding,Ke=De.xAlign,pt=De.yAlign,He=oe.caretSize+st,ve=oe.cornerRadius+st;return"right"===Ke?Le-=he.width:"center"===Ke&&(Le-=he.width/2),"top"===pt?et+=He:et-="bottom"===pt?he.height+He:he.height/2,"center"===pt?"left"===Ke?Le+=He:"right"===Ke&&(Le-=He):"left"===Ke?Le-=ve:"right"===Ke&&(Le+=ve),{x:Le,y:et}}(st,ve=function te(oe,he){var De=oe._chart.ctx,Le=2*he.yPadding,et=0,Qe=he.body,st=Qe.reduce(function(vt,Pe){return vt+Pe.before.length+Pe.lines.length+Pe.after.length},0),Kt=he.title.length,Ke=he.footer.length,pt=he.titleFontSize,He=he.bodyFontSize,ve=he.footerFontSize;Le+=Kt*pt,Le+=Kt?(Kt-1)*he.titleSpacing:0,Le+=Kt?he.titleMarginBottom:0,Le+=(st+=he.beforeBody.length+he.afterBody.length)*He,Le+=st?(st-1)*he.bodySpacing:0,Le+=Ke?he.footerMarginTop:0,Le+=Ke*ve,Le+=Ke?(Ke-1)*he.footerSpacing:0;var Re=0,Ve=function(vt){et=Math.max(et,De.measureText(vt).width+Re)};return De.font=K.fontString(pt,he._titleFontStyle,he._titleFontFamily),K.each(he.title,Ve),De.font=K.fontString(He,he._bodyFontStyle,he._bodyFontFamily),K.each(he.beforeBody.concat(he.afterBody),Ve),Re=he.displayColors?He+2:0,K.each(Qe,function(vt){K.each(vt.before,Ve),K.each(vt.lines,Ve),K.each(vt.after,Ve)}),Re=0,De.font=K.fontString(ve,he._footerFontStyle,he._footerFontFamily),K.each(he.footer,Ve),{width:et+=2*he.xPadding,height:Le}}(this,st),pt=function le(oe,he){var De=oe._model,Le=oe._chart,et=oe._chart.chartArea,Qe="center",st="center";De.y<he.height?st="top":De.y>Le.height-he.height&&(st="bottom");var Kt,Ke,pt,He,ve,Re=(et.left+et.right)/2,Ve=(et.top+et.bottom)/2;"center"===st?(Kt=function(Pe){return Pe<=Re},Ke=function(Pe){return Pe>Re}):(Kt=function(Pe){return Pe<=he.width/2},Ke=function(Pe){return Pe>=Le.width-he.width/2}),pt=function(Pe){return Pe+he.width>Le.width},He=function(Pe){return Pe-he.width<0},ve=function(Pe){return Pe<=Ve?"top":"bottom"},Kt(De.x)?(Qe="left",pt(De.x)&&(Qe="center",st=ve(De.y))):Ke(De.x)&&(Qe="right",He(De.x)&&(Qe="center",st=ve(De.y)));var vt=oe._options;return{xAlign:vt.xAlign?vt.xAlign:Qe,yAlign:vt.yAlign?vt.yAlign:st}}(this,ve))}else st.opacity=0;return st.xAlign=pt.xAlign,st.yAlign=pt.yAlign,st.x=He.x,st.y=He.y,st.width=ve.width,st.height=ve.height,st.caretX=Re.x,st.caretY=Re.y,Le._model=st,oe&&et.custom&&et.custom.call(Le,st),Le},drawCaret:function(oe,he){var De=this._chart.ctx,et=this.getCaretPosition(oe,he,this._view);De.lineTo(et.x1,et.y1),De.lineTo(et.x2,et.y2),De.lineTo(et.x3,et.y3)},getCaretPosition:function(oe,he,De){var Le,et,Qe,st,Kt,Ke,pt=De.caretSize,He=De.cornerRadius,ve=De.xAlign,Re=De.yAlign,Ve=oe.x,vt=oe.y,Pe=he.width,ht=he.height;if("center"===Re)Kt=vt+ht/2,"left"===ve?(et=(Le=Ve)-pt,Qe=Le,st=Kt+pt,Ke=Kt-pt):(et=(Le=Ve+Pe)+pt,Qe=Le,st=Kt-pt,Ke=Kt+pt);else if("left"===ve?(Le=(et=Ve+He+pt)-pt,Qe=et+pt):"right"===ve?(Le=(et=Ve+Pe-He-pt)-pt,Qe=et+pt):(Le=(et=Ve+Pe/2)-pt,Qe=et+pt),"top"===Re)Kt=(st=vt)-pt,Ke=st;else{Kt=(st=vt+ht)+pt,Ke=st;var sn=Qe;Qe=Le,Le=sn}return{x1:Le,x2:et,x3:Qe,y1:st,y2:Kt,y3:Ke}},drawTitle:function(oe,he,De,Le){var et=he.title;if(et.length){De.textAlign=he._titleAlign,De.textBaseline="top";var Kt,Ke,Qe=he.titleFontSize,st=he.titleSpacing;for(De.fillStyle=U(he.titleFontColor,Le),De.font=K.fontString(Qe,he._titleFontStyle,he._titleFontFamily),Kt=0,Ke=et.length;Kt<Ke;++Kt)De.fillText(et[Kt],oe.x,oe.y),oe.y+=Qe+st,Kt+1===et.length&&(oe.y+=he.titleMarginBottom-st)}},drawBody:function(oe,he,De,Le){var et=he.bodyFontSize,Qe=he.bodySpacing,st=he.body;De.textAlign=he._bodyAlign,De.textBaseline="top",De.font=K.fontString(et,he._bodyFontStyle,he._bodyFontFamily);var Kt=0,Ke=function(He){De.fillText(He,oe.x+Kt,oe.y),oe.y+=et+Qe};De.fillStyle=U(he.bodyFontColor,Le),K.each(he.beforeBody,Ke);var pt=he.displayColors;Kt=pt?et+2:0,K.each(st,function(He,ve){var Re=U(he.labelTextColors[ve],Le);De.fillStyle=Re,K.each(He.before,Ke),K.each(He.lines,function(Ve){pt&&(De.fillStyle=U(he.legendColorBackground,Le),De.fillRect(oe.x,oe.y,et,et),De.lineWidth=1,De.strokeStyle=U(he.labelColors[ve].borderColor,Le),De.strokeRect(oe.x,oe.y,et,et),De.fillStyle=U(he.labelColors[ve].backgroundColor,Le),De.fillRect(oe.x+1,oe.y+1,et-2,et-2),De.fillStyle=Re),Ke(Ve)}),K.each(He.after,Ke)}),Kt=0,K.each(he.afterBody,Ke),oe.y-=Qe},drawFooter:function(oe,he,De,Le){var et=he.footer;et.length&&(oe.y+=he.footerMarginTop,De.textAlign=he._footerAlign,De.textBaseline="top",De.fillStyle=U(he.footerFontColor,Le),De.font=K.fontString(he.footerFontSize,he._footerFontStyle,he._footerFontFamily),K.each(et,function(Qe){De.fillText(Qe,oe.x,oe.y),oe.y+=he.footerFontSize+he.footerSpacing}))},drawBackground:function(oe,he,De,Le,et){De.fillStyle=U(he.backgroundColor,et),De.strokeStyle=U(he.borderColor,et),De.lineWidth=he.borderWidth;var Qe=he.xAlign,st=he.yAlign,Kt=oe.x,Ke=oe.y,pt=Le.width,He=Le.height,ve=he.cornerRadius;De.beginPath(),De.moveTo(Kt+ve,Ke),"top"===st&&this.drawCaret(oe,Le),De.lineTo(Kt+pt-ve,Ke),De.quadraticCurveTo(Kt+pt,Ke,Kt+pt,Ke+ve),"center"===st&&"right"===Qe&&this.drawCaret(oe,Le),De.lineTo(Kt+pt,Ke+He-ve),De.quadraticCurveTo(Kt+pt,Ke+He,Kt+pt-ve,Ke+He),"bottom"===st&&this.drawCaret(oe,Le),De.lineTo(Kt+ve,Ke+He),De.quadraticCurveTo(Kt,Ke+He,Kt,Ke+He-ve),"center"===st&&"left"===Qe&&this.drawCaret(oe,Le),De.lineTo(Kt,Ke+ve),De.quadraticCurveTo(Kt,Ke,Kt+ve,Ke),De.closePath(),De.fill(),he.borderWidth>0&&De.stroke()},draw:function(){var oe=this._chart.ctx,he=this._view;if(0!==he.opacity){var De={width:he.width,height:he.height},Le={x:he.x,y:he.y},et=Math.abs(he.opacity<.001)?0:he.opacity;this._options.enabled&&(he.title.length||he.beforeBody.length||he.body.length||he.afterBody.length||he.footer.length)&&(this.drawBackground(Le,he,oe,De,et),Le.x+=he.xPadding,Le.y+=he.yPadding,this.drawTitle(Le,he,oe,et),this.drawBody(Le,he,oe,et),this.drawFooter(Le,he,oe,et))}},handleEvent:function(oe){var he=this,De=he._options,Le=!1;if(he._lastActive=he._lastActive||[],he._active="mouseout"===oe.type?[]:he._chart.getElementsAtEventForMode(oe,De.mode,De),!(Le=!K.arrayEquals(he._active,he._lastActive)))return!1;if(he._lastActive=he._active,De.enabled||De.custom){he._eventPosition={x:oe.x,y:oe.y};var et=he._model;he.update(!0),he.pivot(),Le|=et.x!==he._model.x||et.y!==he._model.y}return Le}}),xe.Tooltip.positioners={average:function(oe){if(!oe.length)return!1;var he,De,Le=0,et=0,Qe=0;for(he=0,De=oe.length;he<De;++he){var st=oe[he];if(st&&st.hasValue()){var Kt=st.tooltipPosition();Le+=Kt.x,et+=Kt.y,++Qe}}return{x:Math.round(Le/Qe),y:Math.round(et/Qe)}},nearest:function(oe,he){var De,Le,et,Qe=he.x,st=he.y,Kt=Number.POSITIVE_INFINITY;for(De=0,Le=oe.length;De<Le;++De){var Ke=oe[De];if(Ke&&Ke.hasValue()){var pt=Ke.getCenterPoint(),He=K.distanceBetweenPoints(he,pt);He<Kt&&(Kt=He,et=Ke)}}if(et){var ve=et.tooltipPosition();Qe=ve.x,st=ve.y}return{x:Qe,y:st}}}}},{25:25,26:26,45:45}],36:[function(_t,yn,yt){"use strict";var at=_t(25),We=_t(26),K=_t(45);at._set("global",{elements:{arc:{backgroundColor:at.global.defaultColor,borderColor:"#fff",borderWidth:2}}}),yn.exports=We.extend({inLabelRange:function(xe){var U=this._view;return!!U&&Math.pow(xe-U.x,2)<Math.pow(U.radius+U.hoverRadius,2)},inRange:function(xe,U){var Z=this._view;if(Z){for(var de=K.getAngleFromPoint(Z,{x:xe,y:U}),ne=de.angle,te=de.distance,le=Z.startAngle,se=Z.endAngle;se<le;)se+=2*Math.PI;for(;ne>se;)ne-=2*Math.PI;for(;ne<le;)ne+=2*Math.PI;return ne>=le&&ne<=se&&te>=Z.innerRadius&&te<=Z.outerRadius}return!1},getCenterPoint:function(){var xe=this._view,U=(xe.startAngle+xe.endAngle)/2,Z=(xe.innerRadius+xe.outerRadius)/2;return{x:xe.x+Math.cos(U)*Z,y:xe.y+Math.sin(U)*Z}},getArea:function(){var xe=this._view;return Math.PI*((xe.endAngle-xe.startAngle)/(2*Math.PI))*(Math.pow(xe.outerRadius,2)-Math.pow(xe.innerRadius,2))},tooltipPosition:function(){var xe=this._view,U=xe.startAngle+(xe.endAngle-xe.startAngle)/2,Z=(xe.outerRadius-xe.innerRadius)/2+xe.innerRadius;return{x:xe.x+Math.cos(U)*Z,y:xe.y+Math.sin(U)*Z}},draw:function(){var xe=this._chart.ctx,U=this._view,Z=U.startAngle,de=U.endAngle;xe.beginPath(),xe.arc(U.x,U.y,U.outerRadius,Z,de),xe.arc(U.x,U.y,U.innerRadius,de,Z,!0),xe.closePath(),xe.strokeStyle=U.borderColor,xe.lineWidth=U.borderWidth,xe.fillStyle=U.backgroundColor,xe.fill(),xe.lineJoin="bevel",U.borderWidth&&xe.stroke()}})},{25:25,26:26,45:45}],37:[function(_t,yn,yt){"use strict";var at=_t(25),We=_t(26),K=_t(45),xe=at.global;at._set("global",{elements:{line:{tension:.4,backgroundColor:xe.defaultColor,borderWidth:3,borderColor:xe.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}}),yn.exports=We.extend({draw:function(){var U,Z,de,ne,le=this._view,se=this._chart.ctx,oe=le.spanGaps,he=this._children.slice(),De=xe.elements.line,Le=-1;for(this._loop&&he.length&&he.push(he[0]),se.save(),se.lineCap=le.borderCapStyle||De.borderCapStyle,se.setLineDash&&se.setLineDash(le.borderDash||De.borderDash),se.lineDashOffset=le.borderDashOffset||De.borderDashOffset,se.lineJoin=le.borderJoinStyle||De.borderJoinStyle,se.lineWidth=le.borderWidth||De.borderWidth,se.strokeStyle=le.borderColor||xe.defaultColor,se.beginPath(),Le=-1,U=0;U<he.length;++U)Z=he[U],de=K.previousItem(he,U),ne=Z._view,0===U?ne.skip||(se.moveTo(ne.x,ne.y),Le=U):(de=-1===Le?de:he[Le],ne.skip||(Le!==U-1&&!oe||-1===Le?se.moveTo(ne.x,ne.y):K.canvas.lineTo(se,de._view,Z._view),Le=U));se.stroke(),se.restore()}})},{25:25,26:26,45:45}],38:[function(_t,yn,yt){"use strict";function at(Z){var de=this._view;return!!de&&Math.pow(Z-de.x,2)<Math.pow(de.radius+de.hitRadius,2)}var We=_t(25),K=_t(26),xe=_t(45),U=We.global.defaultColor;We._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:U,borderColor:U,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}}),yn.exports=K.extend({inRange:function(Z,de){var ne=this._view;return!!ne&&Math.pow(Z-ne.x,2)+Math.pow(de-ne.y,2)<Math.pow(ne.hitRadius+ne.radius,2)},inLabelRange:at,inXRange:at,inYRange:function(Z){var de=this._view;return!!de&&Math.pow(Z-de.y,2)<Math.pow(de.radius+de.hitRadius,2)},getCenterPoint:function(){var Z=this._view;return{x:Z.x,y:Z.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var Z=this._view;return{x:Z.x,y:Z.y,padding:Z.radius+Z.borderWidth}},draw:function(Z){var de=this._view,ne=this._model,te=this._chart.ctx,le=de.pointStyle,se=de.radius,oe=de.x,he=de.y,De=xe.color,Le=0;de.skip||(te.strokeStyle=de.borderColor||U,te.lineWidth=xe.valueOrDefault(de.borderWidth,We.global.elements.point.borderWidth),te.fillStyle=de.backgroundColor||U,void 0!==Z&&(ne.x<Z.left||1.01*Z.right<ne.x||ne.y<Z.top||1.01*Z.bottom<ne.y)&&(ne.x<Z.left?Le=(oe-ne.x)/(Z.left-ne.x):1.01*Z.right<ne.x?Le=(ne.x-oe)/(ne.x-Z.right):ne.y<Z.top?Le=(he-ne.y)/(Z.top-ne.y):1.01*Z.bottom<ne.y&&(Le=(ne.y-he)/(ne.y-Z.bottom)),Le=Math.round(100*Le)/100,te.strokeStyle=De(te.strokeStyle).alpha(Le).rgbString(),te.fillStyle=De(te.fillStyle).alpha(Le).rgbString()),xe.canvas.drawPoint(te,le,se,oe,he))}})},{25:25,26:26,45:45}],39:[function(_t,yn,yt){"use strict";function at(U){return void 0!==U._view.width}function We(U){var Z,de,ne,te,le=U._view;if(at(U)){var se=le.width/2;Z=le.x-se,de=le.x+se,ne=Math.min(le.y,le.base),te=Math.max(le.y,le.base)}else{var oe=le.height/2;Z=Math.min(le.x,le.base),de=Math.max(le.x,le.base),ne=le.y-oe,te=le.y+oe}return{left:Z,top:ne,right:de,bottom:te}}var K=_t(25),xe=_t(26);K._set("global",{elements:{rectangle:{backgroundColor:K.global.defaultColor,borderColor:K.global.defaultColor,borderSkipped:"bottom",borderWidth:0}}}),yn.exports=xe.extend({draw:function(){function U(vt){return He[(ve+vt)%4]}var Z,de,ne,te,le,se,oe,he=this._chart.ctx,De=this._view,Le=De.borderWidth;if(De.horizontal?(ne=De.y-De.height/2,te=De.y+De.height/2,le=(de=De.x)>(Z=De.base)?1:-1,se=1,oe=De.borderSkipped||"left"):(Z=De.x-De.width/2,de=De.x+De.width/2,le=1,se=(te=De.base)>(ne=De.y)?1:-1,oe=De.borderSkipped||"bottom"),Le){var et=Math.min(Math.abs(Z-de),Math.abs(ne-te)),Qe=(Le=Le>et?et:Le)/2,st=Z+("left"!==oe?Qe*le:0),Kt=de+("right"!==oe?-Qe*le:0),Ke=ne+("top"!==oe?Qe*se:0),pt=te+("bottom"!==oe?-Qe*se:0);st!==Kt&&(ne=Ke,te=pt),Ke!==pt&&(Z=st,de=Kt)}he.beginPath(),he.fillStyle=De.backgroundColor,he.strokeStyle=De.borderColor,he.lineWidth=Le;var He=[[Z,te],[Z,ne],[de,ne],[de,te]],ve=["bottom","left","top","right"].indexOf(oe,0);-1===ve&&(ve=0);var Re=U(0);he.moveTo(Re[0],Re[1]);for(var Ve=1;Ve<4;Ve++)Re=U(Ve),he.lineTo(Re[0],Re[1]);he.fill(),Le&&he.stroke()},height:function(){var U=this._view;return U.base-U.y},inRange:function(U,Z){var de=!1;if(this._view){var ne=We(this);de=U>=ne.left&&U<=ne.right&&Z>=ne.top&&Z<=ne.bottom}return de},inLabelRange:function(U,Z){if(!this._view)return!1;var ne=We(this);return at(this)?U>=ne.left&&U<=ne.right:Z>=ne.top&&Z<=ne.bottom},inXRange:function(U){var Z=We(this);return U>=Z.left&&U<=Z.right},inYRange:function(U){var Z=We(this);return U>=Z.top&&U<=Z.bottom},getCenterPoint:function(){var U,Z,de=this._view;return at(this)?(U=de.x,Z=(de.y+de.base)/2):(U=(de.x+de.base)/2,Z=de.y),{x:U,y:Z}},getArea:function(){var U=this._view;return U.width*Math.abs(U.y-U.base)},tooltipPosition:function(){var U=this._view;return{x:U.x,y:U.y}}})},{25:25,26:26}],40:[function(_t,yn,yt){"use strict";yn.exports={},yn.exports.Arc=_t(36),yn.exports.Line=_t(37),yn.exports.Point=_t(38),yn.exports.Rectangle=_t(39)},{36:36,37:37,38:38,39:39}],41:[function(_t,yn,We){"use strict";var at=_t(42);We=yn.exports={clear:function(K){K.ctx.clearRect(0,0,K.width,K.height)},roundedRect:function(K,xe,U,Z,de,ne){if(ne){var te=Math.min(ne,Z/2),le=Math.min(ne,de/2);K.moveTo(xe+te,U),K.lineTo(xe+Z-te,U),K.quadraticCurveTo(xe+Z,U,xe+Z,U+le),K.lineTo(xe+Z,U+de-le),K.quadraticCurveTo(xe+Z,U+de,xe+Z-te,U+de),K.lineTo(xe+te,U+de),K.quadraticCurveTo(xe,U+de,xe,U+de-le),K.lineTo(xe,U+le),K.quadraticCurveTo(xe,U,xe+te,U)}else K.rect(xe,U,Z,de)},drawPoint:function(K,xe,U,Z,de){var ne,te,le,se,oe,he;if(!xe||"object"!=typeof xe||"[object HTMLImageElement]"!==(ne=xe.toString())&&"[object HTMLCanvasElement]"!==ne){if(!(isNaN(U)||U<=0)){switch(xe){default:K.beginPath(),K.arc(Z,de,U,0,2*Math.PI),K.closePath(),K.fill();break;case"triangle":K.beginPath(),oe=(te=3*U/Math.sqrt(3))*Math.sqrt(3)/2,K.moveTo(Z-te/2,de+oe/3),K.lineTo(Z+te/2,de+oe/3),K.lineTo(Z,de-2*oe/3),K.closePath(),K.fill();break;case"rect":he=1/Math.SQRT2*U,K.beginPath(),K.fillRect(Z-he,de-he,2*he,2*he),K.strokeRect(Z-he,de-he,2*he,2*he);break;case"rectRounded":var De=U/Math.SQRT2,Le=Z-De,et=de-De,Qe=Math.SQRT2*U;K.beginPath(),this.roundedRect(K,Le,et,Qe,Qe,U/2),K.closePath(),K.fill();break;case"rectRot":he=1/Math.SQRT2*U,K.beginPath(),K.moveTo(Z-he,de),K.lineTo(Z,de+he),K.lineTo(Z+he,de),K.lineTo(Z,de-he),K.closePath(),K.fill();break;case"cross":K.beginPath(),K.moveTo(Z,de+U),K.lineTo(Z,de-U),K.moveTo(Z-U,de),K.lineTo(Z+U,de),K.closePath();break;case"crossRot":K.beginPath(),le=Math.cos(Math.PI/4)*U,se=Math.sin(Math.PI/4)*U,K.moveTo(Z-le,de-se),K.lineTo(Z+le,de+se),K.moveTo(Z-le,de+se),K.lineTo(Z+le,de-se),K.closePath();break;case"star":K.beginPath(),K.moveTo(Z,de+U),K.lineTo(Z,de-U),K.moveTo(Z-U,de),K.lineTo(Z+U,de),le=Math.cos(Math.PI/4)*U,se=Math.sin(Math.PI/4)*U,K.moveTo(Z-le,de-se),K.lineTo(Z+le,de+se),K.moveTo(Z-le,de+se),K.lineTo(Z+le,de-se),K.closePath();break;case"line":K.beginPath(),K.moveTo(Z-U,de),K.lineTo(Z+U,de),K.closePath();break;case"dash":K.beginPath(),K.moveTo(Z,de),K.lineTo(Z+U,de),K.closePath()}K.stroke()}}else K.drawImage(xe,Z-xe.width/2,de-xe.height/2,xe.width,xe.height)},clipArea:function(K,xe){K.save(),K.beginPath(),K.rect(xe.left,xe.top,xe.right-xe.left,xe.bottom-xe.top),K.clip()},unclipArea:function(K){K.restore()},lineTo:function(K,xe,U,Z){if(U.steppedLine)return"after"===U.steppedLine&&!Z||"after"!==U.steppedLine&&Z?K.lineTo(xe.x,U.y):K.lineTo(U.x,xe.y),void K.lineTo(U.x,U.y);U.tension?K.bezierCurveTo(Z?xe.controlPointPreviousX:xe.controlPointNextX,Z?xe.controlPointPreviousY:xe.controlPointNextY,Z?U.controlPointNextX:U.controlPointPreviousX,Z?U.controlPointNextY:U.controlPointPreviousY,U.x,U.y):K.lineTo(U.x,U.y)}},at.clear=We.clear,at.drawRoundedRectangle=function(K){K.beginPath(),We.roundedRect.apply(We,arguments),K.closePath()}},{42:42}],42:[function(_t,yn,yt){"use strict";var We,at={noop:function(){},uid:(We=0,function(){return We++}),isNullOrUndef:function(We){return null==We},isArray:Array.isArray?Array.isArray:function(We){return"[object Array]"===Object.prototype.toString.call(We)},isObject:function(We){return null!==We&&"[object Object]"===Object.prototype.toString.call(We)},valueOrDefault:function(We,K){return void 0===We?K:We},valueAtIndexOrDefault:function(We,K,xe){return at.valueOrDefault(at.isArray(We)?We[K]:We,xe)},callback:function(We,K,xe){if(We&&"function"==typeof We.call)return We.apply(xe,K)},each:function(We,K,xe,U){var Z,de,ne;if(at.isArray(We))if(de=We.length,U)for(Z=de-1;Z>=0;Z--)K.call(xe,We[Z],Z);else for(Z=0;Z<de;Z++)K.call(xe,We[Z],Z);else if(at.isObject(We))for(de=(ne=Object.keys(We)).length,Z=0;Z<de;Z++)K.call(xe,We[ne[Z]],ne[Z])},arrayEquals:function(We,K){var xe,U,Z,de;if(!We||!K||We.length!==K.length)return!1;for(xe=0,U=We.length;xe<U;++xe)if(de=K[xe],(Z=We[xe])instanceof Array&&de instanceof Array){if(!at.arrayEquals(Z,de))return!1}else if(Z!==de)return!1;return!0},clone:function(We){if(at.isArray(We))return We.map(at.clone);if(at.isObject(We)){for(var K={},xe=Object.keys(We),U=xe.length,Z=0;Z<U;++Z)K[xe[Z]]=at.clone(We[xe[Z]]);return K}return We},_merger:function(We,K,xe,U){var Z=K[We],de=xe[We];at.isObject(Z)&&at.isObject(de)?at.merge(Z,de,U):K[We]=at.clone(de)},_mergerIf:function(We,K,xe){var U=K[We],Z=xe[We];at.isObject(U)&&at.isObject(Z)?at.mergeIf(U,Z):K.hasOwnProperty(We)||(K[We]=at.clone(Z))},merge:function(We,K,xe){var U,Z,de,ne,te,le=at.isArray(K)?K:[K],se=le.length;if(!at.isObject(We))return We;for(U=(xe=xe||{}).merger||at._merger,Z=0;Z<se;++Z)if(at.isObject(K=le[Z]))for(te=0,ne=(de=Object.keys(K)).length;te<ne;++te)U(de[te],We,K,xe);return We},mergeIf:function(We,K){return at.merge(We,K,{merger:at._mergerIf})},extend:function(We){for(var K=1,xe=arguments.length;K<xe;++K)at.each(arguments[K],function(U,Z){We[Z]=U});return We},inherits:function(We){var K=this,xe=We&&We.hasOwnProperty("constructor")?We.constructor:function(){return K.apply(this,arguments)},U=function(){this.constructor=xe};return U.prototype=K.prototype,xe.prototype=new U,xe.extend=at.inherits,We&&at.extend(xe.prototype,We),xe.__super__=K.prototype,xe}};yn.exports=at,at.callCallback=at.callback,at.indexOf=function(We,K,xe){return Array.prototype.indexOf.call(We,K,xe)},at.getValueOrDefault=at.valueOrDefault,at.getValueAtIndexOrDefault=at.valueAtIndexOrDefault},{}],43:[function(_t,yn,yt){"use strict";var at=_t(42),We={linear:function(K){return K},easeInQuad:function(K){return K*K},easeOutQuad:function(K){return-K*(K-2)},easeInOutQuad:function(K){return(K/=.5)<1?.5*K*K:-.5*(--K*(K-2)-1)},easeInCubic:function(K){return K*K*K},easeOutCubic:function(K){return(K-=1)*K*K+1},easeInOutCubic:function(K){return(K/=.5)<1?.5*K*K*K:.5*((K-=2)*K*K+2)},easeInQuart:function(K){return K*K*K*K},easeOutQuart:function(K){return-((K-=1)*K*K*K-1)},easeInOutQuart:function(K){return(K/=.5)<1?.5*K*K*K*K:-.5*((K-=2)*K*K*K-2)},easeInQuint:function(K){return K*K*K*K*K},easeOutQuint:function(K){return(K-=1)*K*K*K*K+1},easeInOutQuint:function(K){return(K/=.5)<1?.5*K*K*K*K*K:.5*((K-=2)*K*K*K*K+2)},easeInSine:function(K){return 1-Math.cos(K*(Math.PI/2))},easeOutSine:function(K){return Math.sin(K*(Math.PI/2))},easeInOutSine:function(K){return-.5*(Math.cos(Math.PI*K)-1)},easeInExpo:function(K){return 0===K?0:Math.pow(2,10*(K-1))},easeOutExpo:function(K){return 1===K?1:1-Math.pow(2,-10*K)},easeInOutExpo:function(K){return 0===K?0:1===K?1:(K/=.5)<1?.5*Math.pow(2,10*(K-1)):.5*(2-Math.pow(2,-10*--K))},easeInCirc:function(K){return K>=1?K:-(Math.sqrt(1-K*K)-1)},easeOutCirc:function(K){return Math.sqrt(1-(K-=1)*K)},easeInOutCirc:function(K){return(K/=.5)<1?-.5*(Math.sqrt(1-K*K)-1):.5*(Math.sqrt(1-(K-=2)*K)+1)},easeInElastic:function(K){var xe=1.70158,U=0,Z=1;return 0===K?0:1===K?1:(U||(U=.3),Z<1?(Z=1,xe=U/4):xe=U/(2*Math.PI)*Math.asin(1/Z),-Z*Math.pow(2,10*(K-=1))*Math.sin((K-xe)*(2*Math.PI)/U))},easeOutElastic:function(K){var xe=1.70158,U=0,Z=1;return 0===K?0:1===K?1:(U||(U=.3),Z<1?(Z=1,xe=U/4):xe=U/(2*Math.PI)*Math.asin(1/Z),Z*Math.pow(2,-10*K)*Math.sin((K-xe)*(2*Math.PI)/U)+1)},easeInOutElastic:function(K){var xe=1.70158,U=0,Z=1;return 0===K?0:2==(K/=.5)?1:(U||(U=.45),Z<1?(Z=1,xe=U/4):xe=U/(2*Math.PI)*Math.asin(1/Z),K<1?Z*Math.pow(2,10*(K-=1))*Math.sin((K-xe)*(2*Math.PI)/U)*-.5:Z*Math.pow(2,-10*(K-=1))*Math.sin((K-xe)*(2*Math.PI)/U)*.5+1)},easeInBack:function(K){return K*K*(2.70158*K-1.70158)},easeOutBack:function(K){return(K-=1)*K*(2.70158*K+1.70158)+1},easeInOutBack:function(K){var xe=1.70158;return(K/=.5)<1?K*K*((1+(xe*=1.525))*K-xe)*.5:.5*((K-=2)*K*((1+(xe*=1.525))*K+xe)+2)},easeInBounce:function(K){return 1-We.easeOutBounce(1-K)},easeOutBounce:function(K){return K<1/2.75?7.5625*K*K:K<2/2.75?7.5625*(K-=1.5/2.75)*K+.75:K<2.5/2.75?7.5625*(K-=2.25/2.75)*K+.9375:7.5625*(K-=2.625/2.75)*K+.984375},easeInOutBounce:function(K){return K<.5?.5*We.easeInBounce(2*K):.5*We.easeOutBounce(2*K-1)+.5}};yn.exports={effects:We},at.easingEffects=We},{42:42}],44:[function(_t,yn,yt){"use strict";var at=_t(42);yn.exports={toLineHeight:function(We,K){var xe=(""+We).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!xe||"normal"===xe[1])return 1.2*K;switch(We=+xe[2],xe[3]){case"px":return We;case"%":We/=100}return K*We},toPadding:function(We){var K,xe,U,Z;return at.isObject(We)?(K=+We.top||0,xe=+We.right||0,U=+We.bottom||0,Z=+We.left||0):K=xe=U=Z=+We||0,{top:K,right:xe,bottom:U,left:Z,height:K+U,width:Z+xe}},resolve:function(We,K,xe){var U,Z,de;for(U=0,Z=We.length;U<Z;++U)if(void 0!==(de=We[U])&&(void 0!==K&&"function"==typeof de&&(de=de(K)),void 0!==xe&&at.isArray(de)&&(de=de[xe]),void 0!==de))return de}}},{42:42}],45:[function(_t,yn,yt){"use strict";yn.exports=_t(42),yn.exports.easing=_t(43),yn.exports.canvas=_t(41),yn.exports.options=_t(44)},{41:41,42:42,43:43,44:44}],46:[function(_t,yn,yt){yn.exports={acquireContext:function(at){return at&&at.canvas&&(at=at.canvas),at&&at.getContext("2d")||null}}},{}],47:[function(_t,yn,yt){"use strict";function at(He,ve){var Re=De.getStyle(He,ve),Ve=Re&&Re.match(/^(\d+)(\.\d+)?px$/);return Ve?Number(Ve[1]):void 0}function K(He,ve,Re){He.addEventListener(ve,Re,pt)}function xe(He,ve,Re){He.removeEventListener(ve,Re,pt)}function U(He,ve,Re,Ve,vt){return{type:He,chart:ve,native:vt||null,x:void 0!==Re?Re:null,y:void 0!==Ve?Ve:null}}var De=_t(45),Le="$chartjs",et="chartjs-",Qe=et+"render-monitor",st=et+"render-animation",Kt=["animationstart","webkitAnimationStart"],Ke={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},pt=!!function(){var He=!1;try{var ve=Object.defineProperty({},"passive",{get:function(){He=!0}});window.addEventListener("e",null,ve)}catch{}return He}()&&{passive:!0};yn.exports={_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,initialize:function(){var He="from{opacity:0.99}to{opacity:1}";!function he(He,ve){var Re=He._style||document.createElement("style");He._style||(He._style=Re,ve="/* Chart.js */\n"+ve,Re.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(Re)),Re.appendChild(document.createTextNode(ve))}(this,"@-webkit-keyframes "+st+"{"+He+"}@keyframes "+st+"{"+He+"}."+Qe+"{-webkit-animation:"+st+" 0.001s;animation:"+st+" 0.001s;}")},acquireContext:function(He,ve){"string"==typeof He?He=document.getElementById(He):He.length&&(He=He[0]),He&&He.canvas&&(He=He.canvas);var Re=He&&He.getContext&&He.getContext("2d");return Re&&Re.canvas===He?(function We(He,ve){var Re=He.style,Ve=He.getAttribute("height"),vt=He.getAttribute("width");if(He[Le]={initial:{height:Ve,width:vt,style:{display:Re.display,height:Re.height,width:Re.width}}},Re.display=Re.display||"block",null===vt||""===vt){var Pe=at(He,"width");void 0!==Pe&&(He.width=Pe)}if(null===Ve||""===Ve)if(""===He.style.height)He.height=He.width/(ve.options.aspectRatio||2);else{var ht=at(He,"height");void 0!==Pe&&(He.height=ht)}}(He,ve),Re):null},releaseContext:function(He){var ve=He.canvas;if(ve[Le]){var Re=ve[Le].initial;["height","width"].forEach(function(Ve){var vt=Re[Ve];De.isNullOrUndef(vt)?ve.removeAttribute(Ve):ve.setAttribute(Ve,vt)}),De.each(Re.style||{},function(Ve,vt){ve.style[vt]=Ve}),ve.width=ve.width,delete ve[Le]}},addEventListener:function(He,ve,Re){var Ve=He.canvas;if("resize"!==ve){var vt=Re[Le]||(Re[Le]={});K(Ve,ve,(vt.proxies||(vt.proxies={}))[He.id+"_"+ve]=function(Pe){Re(function Z(He,ve){var Re=Ke[He.type]||He.type,Ve=De.getRelativePosition(He,ve);return U(Re,ve,Ve.x,Ve.y,He)}(Pe,He))})}else!function se(He,ve,Re){var Ve=He[Le]||(He[Le]={}),vt=Ve.resizer=function ne(He){var ve=document.createElement("div"),Re=et+"size-monitor",Ve="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;";ve.style.cssText=Ve,ve.className=Re,ve.innerHTML='<div class="'+Re+'-expand" style="'+Ve+'"><div style="position:absolute;width:1000000px;height:1000000px;left:0;top:0"></div></div><div class="'+Re+'-shrink" style="'+Ve+'"><div style="position:absolute;width:200%;height:200%;left:0; top:0"></div></div>';var vt=ve.childNodes[0],Pe=ve.childNodes[1];ve._reset=function(){vt.scrollLeft=1e6,vt.scrollTop=1e6,Pe.scrollLeft=1e6,Pe.scrollTop=1e6};var ht=function(){ve._reset(),He()};return K(vt,"scroll",ht.bind(vt,"expand")),K(Pe,"scroll",ht.bind(Pe,"shrink")),ve}(function de(He,ve){var Re=!1,Ve=[];return function(){Ve=Array.prototype.slice.call(arguments),ve=ve||this,Re||(Re=!0,De.requestAnimFrame.call(window,function(){Re=!1,He.apply(ve,Ve)}))}}(function(){if(Ve.resizer)return ve(U("resize",Re))}));!function te(He,ve){var Re=He[Le]||(He[Le]={}),Ve=Re.renderProxy=function(vt){vt.animationName===st&&ve()};De.each(Kt,function(vt){K(He,vt,Ve)}),Re.reflow=!!He.offsetParent,He.classList.add(Qe)}(He,function(){if(Ve.resizer){var Pe=He.parentNode;Pe&&Pe!==vt.parentNode&&Pe.insertBefore(vt,Pe.firstChild),vt._reset()}})}(Ve,Re,He)},removeEventListener:function(He,ve,Re){var Ve=He.canvas;if("resize"!==ve){var vt=((Re[Le]||{}).proxies||{})[He.id+"_"+ve];vt&&xe(Ve,ve,vt)}else!function oe(He){var ve=He[Le]||{},Re=ve.resizer;delete ve.resizer,function le(He){var ve=He[Le]||{},Re=ve.renderProxy;Re&&(De.each(Kt,function(Ve){xe(He,Ve,Re)}),delete ve.renderProxy),He.classList.remove(Qe)}(He),Re&&Re.parentNode&&Re.parentNode.removeChild(Re)}(Ve)}},De.addEvent=K,De.removeEvent=xe},{45:45}],48:[function(_t,yn,yt){"use strict";var at=_t(45),We=_t(46),K=_t(47);yn.exports=at.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},K._enabled?K:We)},{45:45,46:46,47:47}],49:[function(_t,yn,yt){"use strict";var at=_t(25),We=_t(40),K=_t(45);at._set("global",{plugins:{filler:{propagate:!0}}}),yn.exports=function(){function xe(oe,he,De){var Le,et=oe._model||{},Qe=et.fill;if(void 0===Qe&&(Qe=!!et.backgroundColor),!1===Qe||null===Qe)return!1;if(!0===Qe)return"origin";if(Le=parseFloat(Qe,10),isFinite(Le)&&Math.floor(Le)===Le)return"-"!==Qe[0]&&"+"!==Qe[0]||(Le=he+Le),!(Le===he||Le<0||Le>=De)&&Le;switch(Qe){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return Qe;default:return!1}}function U(oe){var he,De=oe.el._model||{},Le=oe.el._scale||{},et=oe.fill,Qe=null;if(isFinite(et))return null;if("start"===et?Qe=void 0===De.scaleBottom?Le.bottom:De.scaleBottom:"end"===et?Qe=void 0===De.scaleTop?Le.top:De.scaleTop:void 0!==De.scaleZero?Qe=De.scaleZero:Le.getBasePosition?Qe=Le.getBasePosition():Le.getBasePixel&&(Qe=Le.getBasePixel()),null!=Qe){if(void 0!==Qe.x&&void 0!==Qe.y)return Qe;if("number"==typeof Qe&&isFinite(Qe))return{x:(he=Le.isHorizontal())?Qe:null,y:he?null:Qe}}return null}function Z(oe,he,De){var Le,et=oe[he].fill,Qe=[he];if(!De)return et;for(;!1!==et&&-1===Qe.indexOf(et);){if(!isFinite(et))return et;if(!(Le=oe[et]))return!1;if(Le.visible)return et;Qe.push(et),et=Le.fill}return!1}function de(oe){var he=oe.fill,De="dataset";return!1===he?null:(isFinite(he)||(De="boundary"),se[De](oe))}function ne(oe){return oe&&!oe.skip}function te(oe,he,De,Le,et){var Qe;if(Le&&et){for(oe.moveTo(he[0].x,he[0].y),Qe=1;Qe<Le;++Qe)K.canvas.lineTo(oe,he[Qe-1],he[Qe]);for(oe.lineTo(De[et-1].x,De[et-1].y),Qe=et-1;Qe>0;--Qe)K.canvas.lineTo(oe,De[Qe],De[Qe-1],!0)}}var se={dataset:function(oe){var he=oe.fill,De=oe.chart,Le=De.getDatasetMeta(he),et=Le&&De.isDatasetVisible(he)&&Le.dataset._children||[],Qe=et.length||0;return Qe?function(st,Kt){return Kt<Qe&&et[Kt]._view||null}:null},boundary:function(oe){var he=oe.boundary,De=he?he.x:null,Le=he?he.y:null;return function(et){return{x:null===De?et.x:De,y:null===Le?et.y:Le}}}};return{id:"filler",afterDatasetsUpdate:function(oe,he){var De,Le,et,Qe,st=(oe.data.datasets||[]).length,Kt=he.propagate,Ke=[];for(Le=0;Le<st;++Le)Qe=null,(et=(De=oe.getDatasetMeta(Le)).dataset)&&et._model&&et instanceof We.Line&&(Qe={visible:oe.isDatasetVisible(Le),fill:xe(et,Le,st),chart:oe,el:et}),De.$filler=Qe,Ke.push(Qe);for(Le=0;Le<st;++Le)(Qe=Ke[Le])&&(Qe.fill=Z(Ke,Le,Kt),Qe.boundary=U(Qe),Qe.mapper=de(Qe))},beforeDatasetDraw:function(oe,he){var De=he.meta.$filler;if(De){var Le=oe.ctx,et=De.el,Qe=et._view,st=et._children||[],Kt=De.mapper,Ke=Qe.backgroundColor||at.global.defaultColor;Kt&&Ke&&st.length&&(K.canvas.clipArea(Le,oe.chartArea),function le(oe,he,De,Le,et,Qe){var st,Kt,Ke,pt,He,ve,Re,Ve=he.length,vt=Le.spanGaps,Pe=[],ht=[],sn=0,jt=0;for(oe.beginPath(),st=0,Kt=Ve+!!Qe;st<Kt;++st)He=De(pt=he[Ke=st%Ve]._view,Ke,Le),ve=ne(pt),Re=ne(He),ve&&Re?(sn=Pe.push(pt),jt=ht.push(He)):sn&&jt&&(vt?(ve&&Pe.push(pt),Re&&ht.push(He)):(te(oe,Pe,ht,sn,jt),sn=jt=0,Pe=[],ht=[]));te(oe,Pe,ht,sn,jt),oe.closePath(),oe.fillStyle=et,oe.fill()}(Le,st,Kt,Qe,Ke,et._loop),K.canvas.unclipArea(Le))}}}}},{25:25,40:40,45:45}],50:[function(_t,yn,yt){"use strict";var at=_t(25),We=_t(26),K=_t(45);at._set("global",{legend:{display:!0,position:"top",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(xe,U){var Z=U.datasetIndex,de=this.chart,ne=de.getDatasetMeta(Z);ne.hidden=null===ne.hidden?!de.data.datasets[Z].hidden:null,de.update()},onHover:null,labels:{boxWidth:40,padding:10,generateLabels:function(xe){var U=xe.data;return K.isArray(U.datasets)?U.datasets.map(function(Z,de){return{text:Z.label,fillStyle:K.isArray(Z.backgroundColor)?Z.backgroundColor[0]:Z.backgroundColor,hidden:!xe.isDatasetVisible(de),lineCap:Z.borderCapStyle,lineDash:Z.borderDash,lineDashOffset:Z.borderDashOffset,lineJoin:Z.borderJoinStyle,lineWidth:Z.borderWidth,strokeStyle:Z.borderColor,pointStyle:Z.pointStyle,datasetIndex:de}},this):[]}}},legendCallback:function(xe){var U=[];U.push('<ul class="'+xe.id+'-legend">');for(var Z=0;Z<xe.data.datasets.length;Z++)U.push('<li><span style="background-color:'+xe.data.datasets[Z].backgroundColor+'"></span>'),xe.data.datasets[Z].label&&U.push(xe.data.datasets[Z].label),U.push("</li>");return U.push("</ul>"),U.join("")}}),yn.exports=function(xe){function U(te,le){return te.usePointStyle?le*Math.SQRT2:te.boxWidth}function Z(te,le){var se=new xe.Legend({ctx:te.ctx,options:le,chart:te});de.configure(te,se,le),de.addBox(te,se),te.legend=se}var de=xe.layoutService,ne=K.noop;return xe.Legend=We.extend({initialize:function(te){K.extend(this,te),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:ne,update:function(te,le,se){var oe=this;return oe.beforeUpdate(),oe.maxWidth=te,oe.maxHeight=le,oe.margins=se,oe.beforeSetDimensions(),oe.setDimensions(),oe.afterSetDimensions(),oe.beforeBuildLabels(),oe.buildLabels(),oe.afterBuildLabels(),oe.beforeFit(),oe.fit(),oe.afterFit(),oe.afterUpdate(),oe.minSize},afterUpdate:ne,beforeSetDimensions:ne,setDimensions:function(){var te=this;te.isHorizontal()?(te.width=te.maxWidth,te.left=0,te.right=te.width):(te.height=te.maxHeight,te.top=0,te.bottom=te.height),te.paddingLeft=0,te.paddingTop=0,te.paddingRight=0,te.paddingBottom=0,te.minSize={width:0,height:0}},afterSetDimensions:ne,beforeBuildLabels:ne,buildLabels:function(){var te=this,le=te.options.labels||{},se=K.callback(le.generateLabels,[te.chart],te)||[];le.filter&&(se=se.filter(function(oe){return le.filter(oe,te.chart.data)})),te.options.reverse&&se.reverse(),te.legendItems=se},afterBuildLabels:ne,beforeFit:ne,fit:function(){var te=this,le=te.options,se=le.labels,oe=le.display,he=te.ctx,De=at.global,Le=K.valueOrDefault,et=Le(se.fontSize,De.defaultFontSize),Qe=Le(se.fontStyle,De.defaultFontStyle),st=Le(se.fontFamily,De.defaultFontFamily),Kt=K.fontString(et,Qe,st),Ke=te.legendHitBoxes=[],pt=te.minSize,He=te.isHorizontal();if(He?(pt.width=te.maxWidth,pt.height=oe?10:0):(pt.width=oe?10:0,pt.height=te.maxHeight),oe)if(he.font=Kt,He){var ve=te.lineWidths=[0],Re=te.legendItems.length?et+se.padding:0;he.textAlign="left",he.textBaseline="top",K.each(te.legendItems,function(Cr,_r){var Ht=U(se,et)+et/2+he.measureText(Cr.text).width;ve[ve.length-1]+Ht+se.padding>=te.width&&(Re+=et+se.padding,ve[ve.length]=te.left),Ke[_r]={left:0,top:0,width:Ht,height:et},ve[ve.length-1]+=Ht+se.padding}),pt.height+=Re}else{var Ve=se.padding,vt=te.columnWidths=[],Pe=se.padding,ht=0,sn=0,jt=et+Ve;K.each(te.legendItems,function(Cr,_r){var Ht=U(se,et)+et/2+he.measureText(Cr.text).width;sn+jt>pt.height&&(Pe+=ht+se.padding,vt.push(ht),ht=0,sn=0),ht=Math.max(ht,Ht),sn+=jt,Ke[_r]={left:0,top:0,width:Ht,height:et}}),Pe+=ht,vt.push(ht),pt.width+=Pe}te.width=pt.width,te.height=pt.height},afterFit:ne,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var te=this,le=te.options,se=le.labels,oe=at.global,he=oe.elements.line,De=te.width,Le=te.lineWidths;if(le.display){var et,Qe=te.ctx,st=K.valueOrDefault,Kt=st(se.fontColor,oe.defaultFontColor),Ke=st(se.fontSize,oe.defaultFontSize),pt=st(se.fontStyle,oe.defaultFontStyle),He=st(se.fontFamily,oe.defaultFontFamily),ve=K.fontString(Ke,pt,He);Qe.textAlign="left",Qe.textBaseline="middle",Qe.lineWidth=.5,Qe.strokeStyle=Kt,Qe.fillStyle=Kt,Qe.font=ve;var Re=U(se,Ke),Ve=te.legendHitBoxes,ht=te.isHorizontal();et=ht?{x:te.left+(De-Le[0])/2,y:te.top+se.padding,line:0}:{x:te.left+se.padding,y:te.top+se.padding,line:0};var sn=Ke+se.padding;K.each(te.legendItems,function(jt,Cr){var _r=Qe.measureText(jt.text).width,Ht=Re+Ke/2+_r,Te=et.x,It=et.y;ht?Te+Ht>=De&&(It=et.y+=sn,et.line++,Te=et.x=te.left+(De-Le[et.line])/2):It+sn>te.bottom&&(Te=et.x=Te+te.columnWidths[et.line]+se.padding,It=et.y=te.top+se.padding,et.line++),function(jt,Cr,_r){if(!(isNaN(Re)||Re<=0)){Qe.save(),Qe.fillStyle=st(_r.fillStyle,oe.defaultColor),Qe.lineCap=st(_r.lineCap,he.borderCapStyle),Qe.lineDashOffset=st(_r.lineDashOffset,he.borderDashOffset),Qe.lineJoin=st(_r.lineJoin,he.borderJoinStyle),Qe.lineWidth=st(_r.lineWidth,he.borderWidth),Qe.strokeStyle=st(_r.strokeStyle,oe.defaultColor);var Ht=0===st(_r.lineWidth,he.borderWidth);if(Qe.setLineDash&&Qe.setLineDash(st(_r.lineDash,he.borderDash)),le.labels&&le.labels.usePointStyle){var Te=Ke*Math.SQRT2/2,It=Te/Math.SQRT2;K.canvas.drawPoint(Qe,_r.pointStyle,Te,jt+It,Cr+It)}else Ht||Qe.strokeRect(jt,Cr,Re,Ke),Qe.fillRect(jt,Cr,Re,Ke);Qe.restore()}}(Te,It,jt),Ve[Cr].left=Te,Ve[Cr].top=It,function(jt,Cr,_r,Ht){var Te=Ke/2,It=Re+Te+jt,Sn=Cr+Te;Qe.fillText(_r.text,It,Sn),_r.hidden&&(Qe.beginPath(),Qe.lineWidth=2,Qe.moveTo(It,Sn),Qe.lineTo(It+Ht,Sn),Qe.stroke())}(Te,It,jt,_r),ht?et.x+=Ht+se.padding:et.y+=sn})}},handleEvent:function(te){var le=this,se=le.options,oe="mouseup"===te.type?"click":te.type,he=!1;if("mousemove"===oe){if(!se.onHover)return}else if("click"!==oe||!se.onClick)return;var De=te.x,Le=te.y;if(De>=le.left&&De<=le.right&&Le>=le.top&&Le<=le.bottom)for(var et=le.legendHitBoxes,Qe=0;Qe<et.length;++Qe){var st=et[Qe];if(De>=st.left&&De<=st.left+st.width&&Le>=st.top&&Le<=st.top+st.height){if("click"===oe){se.onClick.call(le,te.native,le.legendItems[Qe]),he=!0;break}if("mousemove"===oe){se.onHover.call(le,te.native,le.legendItems[Qe]),he=!0;break}}}return he}}),{id:"legend",beforeInit:function(te){var le=te.options.legend;le&&Z(te,le)},beforeUpdate:function(te){var le=te.options.legend,se=te.legend;le?(K.mergeIf(le,at.global.legend),se?(de.configure(te,se,le),se.options=le):Z(te,le)):se&&(de.removeBox(te,se),delete te.legend)},afterEvent:function(te,le){var se=te.legend;se&&se.handleEvent(le)}}}},{25:25,26:26,45:45}],51:[function(_t,yn,yt){"use strict";var at=_t(25),We=_t(26),K=_t(45);at._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,lineHeight:1.2,padding:10,position:"top",text:"",weight:2e3}}),yn.exports=function(xe){function U(ne,te){var le=new xe.Title({ctx:ne.ctx,options:te,chart:ne});Z.configure(ne,le,te),Z.addBox(ne,le),ne.titleBlock=le}var Z=xe.layoutService,de=K.noop;return xe.Title=We.extend({initialize:function(ne){K.extend(this,ne),this.legendHitBoxes=[]},beforeUpdate:de,update:function(ne,te,le){var se=this;return se.beforeUpdate(),se.maxWidth=ne,se.maxHeight=te,se.margins=le,se.beforeSetDimensions(),se.setDimensions(),se.afterSetDimensions(),se.beforeBuildLabels(),se.buildLabels(),se.afterBuildLabels(),se.beforeFit(),se.fit(),se.afterFit(),se.afterUpdate(),se.minSize},afterUpdate:de,beforeSetDimensions:de,setDimensions:function(){var ne=this;ne.isHorizontal()?(ne.width=ne.maxWidth,ne.left=0,ne.right=ne.width):(ne.height=ne.maxHeight,ne.top=0,ne.bottom=ne.height),ne.paddingLeft=0,ne.paddingTop=0,ne.paddingRight=0,ne.paddingBottom=0,ne.minSize={width:0,height:0}},afterSetDimensions:de,beforeBuildLabels:de,buildLabels:de,afterBuildLabels:de,beforeFit:de,fit:function(){var ne=this,le=ne.options,se=le.display,oe=(0,K.valueOrDefault)(le.fontSize,at.global.defaultFontSize),he=ne.minSize,De=K.isArray(le.text)?le.text.length:1,Le=K.options.toLineHeight(le.lineHeight,oe),et=se?De*Le+2*le.padding:0;ne.isHorizontal()?(he.width=ne.maxWidth,he.height=et):(he.width=et,he.height=ne.maxHeight),ne.width=he.width,ne.height=he.height},afterFit:de,isHorizontal:function(){var ne=this.options.position;return"top"===ne||"bottom"===ne},draw:function(){var ne=this,te=ne.ctx,le=K.valueOrDefault,se=ne.options,oe=at.global;if(se.display){var he,De,Le,et=le(se.fontSize,oe.defaultFontSize),Qe=le(se.fontStyle,oe.defaultFontStyle),st=le(se.fontFamily,oe.defaultFontFamily),Kt=K.fontString(et,Qe,st),Ke=K.options.toLineHeight(se.lineHeight,et),pt=Ke/2+se.padding,He=0,ve=ne.top,Re=ne.left,Ve=ne.bottom,vt=ne.right;te.fillStyle=le(se.fontColor,oe.defaultFontColor),te.font=Kt,ne.isHorizontal()?(De=Re+(vt-Re)/2,Le=ve+pt,he=vt-Re):(De="left"===se.position?Re+pt:vt-pt,Le=ve+(Ve-ve)/2,he=Ve-ve,He=Math.PI*("left"===se.position?-.5:.5)),te.save(),te.translate(De,Le),te.rotate(He),te.textAlign="center",te.textBaseline="middle";var Pe=se.text;if(K.isArray(Pe))for(var ht=0,sn=0;sn<Pe.length;++sn)te.fillText(Pe[sn],0,ht,he),ht+=Ke;else te.fillText(Pe,0,0,he);te.restore()}}}),{id:"title",beforeInit:function(ne){var te=ne.options.title;te&&U(ne,te)},beforeUpdate:function(ne){var te=ne.options.title,le=ne.titleBlock;te?(K.mergeIf(te,at.global.title),le?(Z.configure(ne,le,te),le.options=te):U(ne,te)):le&&(xe.layoutService.removeBox(ne,le),delete ne.titleBlock)}}}},{25:25,26:26,45:45}],52:[function(_t,yn,yt){"use strict";yn.exports=function(at){var We=at.Scale.extend({getLabels:function(){var K=this.chart.data;return this.options.labels||(this.isHorizontal()?K.xLabels:K.yLabels)||K.labels},determineDataLimits:function(){var U,K=this,xe=K.getLabels();K.minIndex=0,K.maxIndex=xe.length-1,void 0!==K.options.ticks.min&&(U=xe.indexOf(K.options.ticks.min),K.minIndex=-1!==U?U:K.minIndex),void 0!==K.options.ticks.max&&(U=xe.indexOf(K.options.ticks.max),K.maxIndex=-1!==U?U:K.maxIndex),K.min=xe[K.minIndex],K.max=xe[K.maxIndex]},buildTicks:function(){var K=this,xe=K.getLabels();K.ticks=0===K.minIndex&&K.maxIndex===xe.length-1?xe:xe.slice(K.minIndex,K.maxIndex+1)},getLabelForIndex:function(K,xe){var U=this,Z=U.chart.data,de=U.isHorizontal();return Z.yLabels&&!de?U.getRightValue(Z.datasets[xe].data[K]):U.ticks[K-U.minIndex]},getPixelForValue:function(K,xe){var U,Z=this,de=Z.options.offset,ne=Math.max(Z.maxIndex+1-Z.minIndex-(de?0:1),1);if(null!=K&&(U=Z.isHorizontal()?K.x:K.y),void 0!==U||void 0!==K&&isNaN(xe)){var le=Z.getLabels().indexOf(K=U||K);xe=-1!==le?le:xe}if(Z.isHorizontal()){var se=Z.width/ne,oe=se*(xe-Z.minIndex);return de&&(oe+=se/2),Z.left+Math.round(oe)}var he=Z.height/ne,De=he*(xe-Z.minIndex);return de&&(De+=he/2),Z.top+Math.round(De)},getPixelForTick:function(K){return this.getPixelForValue(this.ticks[K],K+this.minIndex,null)},getValueForPixel:function(K){var xe=this,U=xe.options.offset,Z=Math.max(xe._ticks.length-(U?0:1),1),de=xe.isHorizontal(),ne=(de?xe.width:xe.height)/Z;return K-=de?xe.left:xe.top,U&&(K-=ne/2),(K<=0?0:Math.round(K/ne))+xe.minIndex},getBasePixel:function(){return this.bottom}});at.scaleService.registerScaleType("category",We,{position:"bottom"})}},{}],53:[function(_t,yn,yt){"use strict";var at=_t(25),We=_t(45),K=_t(34);yn.exports=function(xe){var U={position:"left",ticks:{callback:K.formatters.linear}},Z=xe.LinearScaleBase.extend({determineDataLimits:function(){function de(Le){return oe?Le.xAxisID===ne.id:Le.yAxisID===ne.id}var ne=this,te=ne.options,le=ne.chart,se=le.data.datasets,oe=ne.isHorizontal();ne.min=null,ne.max=null;var he=te.stacked;if(void 0===he&&We.each(se,function(Le,et){if(!he){var Qe=le.getDatasetMeta(et);le.isDatasetVisible(et)&&de(Qe)&&void 0!==Qe.stack&&(he=!0)}}),te.stacked||he){var De={};We.each(se,function(Le,et){var Qe=le.getDatasetMeta(et),st=[Qe.type,void 0===te.stacked&&void 0===Qe.stack?et:"",Qe.stack].join(".");void 0===De[st]&&(De[st]={positiveValues:[],negativeValues:[]});var Kt=De[st].positiveValues,Ke=De[st].negativeValues;le.isDatasetVisible(et)&&de(Qe)&&We.each(Le.data,function(pt,He){var ve=+ne.getRightValue(pt);isNaN(ve)||Qe.data[He].hidden||(Kt[He]=Kt[He]||0,Ke[He]=Ke[He]||0,te.relativePoints?Kt[He]=100:ve<0?Ke[He]+=ve:Kt[He]+=ve)})}),We.each(De,function(Le){var et=Le.positiveValues.concat(Le.negativeValues),Qe=We.min(et),st=We.max(et);ne.min=null===ne.min?Qe:Math.min(ne.min,Qe),ne.max=null===ne.max?st:Math.max(ne.max,st)})}else We.each(se,function(Le,et){var Qe=le.getDatasetMeta(et);le.isDatasetVisible(et)&&de(Qe)&&We.each(Le.data,function(st,Kt){var Ke=+ne.getRightValue(st);isNaN(Ke)||Qe.data[Kt].hidden||((null===ne.min||Ke<ne.min)&&(ne.min=Ke),(null===ne.max||Ke>ne.max)&&(ne.max=Ke))})});ne.min=isFinite(ne.min)&&!isNaN(ne.min)?ne.min:0,ne.max=isFinite(ne.max)&&!isNaN(ne.max)?ne.max:1,this.handleTickRangeOptions()},getTickLimit:function(){var de,te=this.options.ticks;if(this.isHorizontal())de=Math.min(te.maxTicksLimit?te.maxTicksLimit:11,Math.ceil(this.width/50));else{var le=We.valueOrDefault(te.fontSize,at.global.defaultFontSize);de=Math.min(te.maxTicksLimit?te.maxTicksLimit:11,Math.ceil(this.height/(2*le)))}return de},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(de,ne){return+this.getRightValue(this.chart.data.datasets[ne].data[de])},getPixelForValue:function(de){var ne,te=this,le=te.start,se=+te.getRightValue(de),oe=te.end-le;return te.isHorizontal()?(ne=te.left+te.width/oe*(se-le),Math.round(ne)):(ne=te.bottom-te.height/oe*(se-le),Math.round(ne))},getValueForPixel:function(de){var ne=this,te=ne.isHorizontal();return ne.start+(te?de-ne.left:ne.bottom-de)/(te?ne.width:ne.height)*(ne.end-ne.start)},getPixelForTick:function(de){return this.getPixelForValue(this.ticksAsNumbers[de])}});xe.scaleService.registerScaleType("linear",Z,U)}},{25:25,34:34,45:45}],54:[function(_t,yn,yt){"use strict";var at=_t(45),We=_t(34);yn.exports=function(K){var xe=at.noop;K.LinearScaleBase=K.Scale.extend({getRightValue:function(U){return"string"==typeof U?+U:K.Scale.prototype.getRightValue.call(this,U)},handleTickRangeOptions:function(){var U=this,Z=U.options.ticks;if(Z.beginAtZero){var de=at.sign(U.min),ne=at.sign(U.max);de<0&&ne<0?U.max=0:de>0&&ne>0&&(U.min=0)}var te=void 0!==Z.min||void 0!==Z.suggestedMin,le=void 0!==Z.max||void 0!==Z.suggestedMax;void 0!==Z.min?U.min=Z.min:void 0!==Z.suggestedMin&&(U.min=null===U.min?Z.suggestedMin:Math.min(U.min,Z.suggestedMin)),void 0!==Z.max?U.max=Z.max:void 0!==Z.suggestedMax&&(U.max=null===U.max?Z.suggestedMax:Math.max(U.max,Z.suggestedMax)),te!==le&&U.min>=U.max&&(te?U.max=U.min+1:U.min=U.max-1),U.min===U.max&&(U.max++,Z.beginAtZero||U.min--)},getTickLimit:xe,handleDirectionalChanges:xe,buildTicks:function(){var U=this,Z=U.options.ticks,de=U.getTickLimit(),ne={maxTicks:de=Math.max(2,de),min:Z.min,max:Z.max,stepSize:at.valueOrDefault(Z.fixedStepSize,Z.stepSize)},te=U.ticks=We.generators.linear(ne,U);U.handleDirectionalChanges(),U.max=at.max(te),U.min=at.min(te),Z.reverse?(te.reverse(),U.start=U.max,U.end=U.min):(U.start=U.min,U.end=U.max)},convertTicksToLabels:function(){var U=this;U.ticksAsNumbers=U.ticks.slice(),U.zeroLineIndex=U.ticks.indexOf(0),K.Scale.prototype.convertTicksToLabels.call(U)}})}},{34:34,45:45}],55:[function(_t,yn,yt){"use strict";var at=_t(45),We=_t(34);yn.exports=function(K){var xe={position:"left",ticks:{callback:We.formatters.logarithmic}},U=K.Scale.extend({determineDataLimits:function(){function Z(et){return he?et.xAxisID===de.id:et.yAxisID===de.id}var de=this,ne=de.options,te=ne.ticks,le=de.chart,se=le.data.datasets,oe=at.valueOrDefault,he=de.isHorizontal();de.min=null,de.max=null,de.minNotZero=null;var De=ne.stacked;if(void 0===De&&at.each(se,function(et,Qe){if(!De){var st=le.getDatasetMeta(Qe);le.isDatasetVisible(Qe)&&Z(st)&&void 0!==st.stack&&(De=!0)}}),ne.stacked||De){var Le={};at.each(se,function(et,Qe){var st=le.getDatasetMeta(Qe),Kt=[st.type,void 0===ne.stacked&&void 0===st.stack?Qe:"",st.stack].join(".");le.isDatasetVisible(Qe)&&Z(st)&&(void 0===Le[Kt]&&(Le[Kt]=[]),at.each(et.data,function(Ke,pt){var He=Le[Kt],ve=+de.getRightValue(Ke);isNaN(ve)||st.data[pt].hidden||(He[pt]=He[pt]||0,ne.relativePoints?He[pt]=100:He[pt]+=ve)}))}),at.each(Le,function(et){var Qe=at.min(et),st=at.max(et);de.min=null===de.min?Qe:Math.min(de.min,Qe),de.max=null===de.max?st:Math.max(de.max,st)})}else at.each(se,function(et,Qe){var st=le.getDatasetMeta(Qe);le.isDatasetVisible(Qe)&&Z(st)&&at.each(et.data,function(Kt,Ke){var pt=+de.getRightValue(Kt);isNaN(pt)||st.data[Ke].hidden||((null===de.min||pt<de.min)&&(de.min=pt),(null===de.max||pt>de.max)&&(de.max=pt),0!==pt&&(null===de.minNotZero||pt<de.minNotZero)&&(de.minNotZero=pt))})});de.min=oe(te.min,de.min),de.max=oe(te.max,de.max),de.min===de.max&&(0!==de.min&&null!==de.min?(de.min=Math.pow(10,Math.floor(at.log10(de.min))-1),de.max=Math.pow(10,Math.floor(at.log10(de.max))+1)):(de.min=1,de.max=10))},buildTicks:function(){var Z=this,de=Z.options.ticks,te=Z.ticks=We.generators.logarithmic({min:de.min,max:de.max},Z);Z.isHorizontal()||te.reverse(),Z.max=at.max(te),Z.min=at.min(te),de.reverse?(te.reverse(),Z.start=Z.max,Z.end=Z.min):(Z.start=Z.min,Z.end=Z.max)},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),K.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(Z,de){return+this.getRightValue(this.chart.data.datasets[de].data[Z])},getPixelForTick:function(Z){return this.getPixelForValue(this.tickValues[Z])},getPixelForValue:function(Z){var de,ne,te,le=this,se=le.start,oe=+le.getRightValue(Z),he=le.options.ticks;return le.isHorizontal()?(te=at.log10(le.end)-at.log10(se),ne=0===oe?le.left:le.left+(de=le.width)/te*(at.log10(oe)-at.log10(se))):(de=le.height,0!==se||he.reverse?0===le.end&&he.reverse?(te=at.log10(le.start)-at.log10(le.minNotZero),ne=oe===le.end?le.top:oe===le.minNotZero?le.top+.02*de:le.top+.02*de+.98*de/te*(at.log10(oe)-at.log10(le.minNotZero))):0===oe?ne=he.reverse?le.top:le.bottom:(te=at.log10(le.end)-at.log10(se),ne=le.bottom-(de=le.height)/te*(at.log10(oe)-at.log10(se))):(te=at.log10(le.end)-at.log10(le.minNotZero),ne=oe===se?le.bottom:oe===le.minNotZero?le.bottom-.02*de:le.bottom-.02*de-.98*de/te*(at.log10(oe)-at.log10(le.minNotZero)))),ne},getValueForPixel:function(Z){var de,ne,te=this,le=at.log10(te.end)-at.log10(te.start);return te.isHorizontal()?(ne=te.width,de=te.start*Math.pow(10,(Z-te.left)*le/ne)):(ne=te.height,de=Math.pow(10,(te.bottom-Z)*le/ne)/te.start),de}});K.scaleService.registerScaleType("logarithmic",U,xe)}},{34:34,45:45}],56:[function(_t,yn,yt){"use strict";var at=_t(25),We=_t(45),K=_t(34);yn.exports=function(xe){function U(Ke){var pt=Ke.options;return pt.angleLines.display||pt.pointLabels.display?Ke.chart.data.labels.length:0}function Z(Ke){var pt=Ke.options.pointLabels,He=We.valueOrDefault(pt.fontSize,Qe.defaultFontSize),ve=We.valueOrDefault(pt.fontStyle,Qe.defaultFontStyle),Re=We.valueOrDefault(pt.fontFamily,Qe.defaultFontFamily);return{size:He,style:ve,family:Re,font:We.fontString(He,ve,Re)}}function de(Ke,pt,He){return We.isArray(He)?{w:We.longestText(Ke,Ke.font,He),h:He.length*pt+1.5*(He.length-1)*pt}:{w:Ke.measureText(He).width,h:pt}}function ne(Ke,pt,He,ve,Re){return Ke===ve||Ke===Re?{start:pt-He/2,end:pt+He/2}:Ke<ve||Ke>Re?{start:pt-He-5,end:pt}:{start:pt,end:pt+He+5}}function se(Ke){return 0===Ke||180===Ke?"center":Ke<180?"left":"right"}function oe(Ke,pt,He,ve){if(We.isArray(pt))for(var Re=He.y,Ve=1.5*ve,vt=0;vt<pt.length;++vt)Ke.fillText(pt[vt],He.x,Re),Re+=Ve;else Ke.fillText(pt,He.x,He.y)}function he(Ke,pt,He){90===Ke||270===Ke?He.y-=pt.h/2:(Ke>270||Ke<90)&&(He.y-=pt.h)}function et(Ke){return We.isNumber(Ke)?Ke:0}var Qe=at.global,st={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:K.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(Ke){return Ke}}},Kt=xe.LinearScaleBase.extend({setDimensions:function(){var Ke=this,pt=Ke.options,He=pt.ticks;Ke.width=Ke.maxWidth,Ke.height=Ke.maxHeight,Ke.xCenter=Math.round(Ke.width/2),Ke.yCenter=Math.round(Ke.height/2);var ve=We.min([Ke.height,Ke.width]),Re=We.valueOrDefault(He.fontSize,Qe.defaultFontSize);Ke.drawingArea=pt.display?ve/2-(Re/2+He.backdropPaddingY):ve/2},determineDataLimits:function(){var Ke=this,pt=Ke.chart,He=Number.POSITIVE_INFINITY,ve=Number.NEGATIVE_INFINITY;We.each(pt.data.datasets,function(Re,Ve){if(pt.isDatasetVisible(Ve)){var vt=pt.getDatasetMeta(Ve);We.each(Re.data,function(Pe,ht){var sn=+Ke.getRightValue(Pe);isNaN(sn)||vt.data[ht].hidden||(He=Math.min(sn,He),ve=Math.max(sn,ve))})}}),Ke.min=He===Number.POSITIVE_INFINITY?0:He,Ke.max=ve===Number.NEGATIVE_INFINITY?0:ve,Ke.handleTickRangeOptions()},getTickLimit:function(){var Ke=this.options.ticks,pt=We.valueOrDefault(Ke.fontSize,Qe.defaultFontSize);return Math.min(Ke.maxTicksLimit?Ke.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*pt)))},convertTicksToLabels:function(){var Ke=this;xe.LinearScaleBase.prototype.convertTicksToLabels.call(Ke),Ke.pointLabels=Ke.chart.data.labels.map(Ke.options.pointLabels.callback,Ke)},getLabelForIndex:function(Ke,pt){return+this.getRightValue(this.chart.data.datasets[pt].data[Ke])},fit:function(){this.options.pointLabels.display?function te(Ke){var pt,He,ve,Re=Z(Ke),Ve=Math.min(Ke.height/2,Ke.width/2),vt={r:Ke.width,l:0,t:Ke.height,b:0},Pe={};Ke.ctx.font=Re.font,Ke._pointLabelSizes=[];var ht=U(Ke);for(pt=0;pt<ht;pt++){ve=Ke.getPointPosition(pt,Ve),He=de(Ke.ctx,Re.size,Ke.pointLabels[pt]||""),Ke._pointLabelSizes[pt]=He;var sn=Ke.getIndexAngle(pt),jt=We.toDegrees(sn)%360,Cr=ne(jt,ve.x,He.w,0,180),_r=ne(jt,ve.y,He.h,90,270);Cr.start<vt.l&&(vt.l=Cr.start,Pe.l=sn),Cr.end>vt.r&&(vt.r=Cr.end,Pe.r=sn),_r.start<vt.t&&(vt.t=_r.start,Pe.t=sn),_r.end>vt.b&&(vt.b=_r.end,Pe.b=sn)}Ke.setReductions(Ve,vt,Pe)}(this):function le(Ke){var pt=Math.min(Ke.height/2,Ke.width/2);Ke.drawingArea=Math.round(pt),Ke.setCenterPoint(0,0,0,0)}(this)},setReductions:function(Ke,pt,He){var Re=pt.l/Math.sin(He.l),Ve=Math.max(pt.r-this.width,0)/Math.sin(He.r),vt=-pt.t/Math.cos(He.t),Pe=-Math.max(pt.b-this.height,0)/Math.cos(He.b);Re=et(Re),Ve=et(Ve),vt=et(vt),Pe=et(Pe),this.drawingArea=Math.min(Math.round(Ke-(Re+Ve)/2),Math.round(Ke-(vt+Pe)/2)),this.setCenterPoint(Re,Ve,vt,Pe)},setCenterPoint:function(Ke,pt,He,ve){var Re=this,Pe=He+Re.drawingArea,ht=Re.height-ve-Re.drawingArea;Re.xCenter=Math.round((Ke+Re.drawingArea+(Re.width-pt-Re.drawingArea))/2+Re.left),Re.yCenter=Math.round((Pe+ht)/2+Re.top)},getIndexAngle:function(Ke){return Ke*(2*Math.PI/U(this))+(this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0)*Math.PI*2/360},getDistanceFromCenterForValue:function(Ke){var pt=this;if(null===Ke)return 0;var He=pt.drawingArea/(pt.max-pt.min);return pt.options.ticks.reverse?(pt.max-Ke)*He:(Ke-pt.min)*He},getPointPosition:function(Ke,pt){var ve=this.getIndexAngle(Ke)-Math.PI/2;return{x:Math.round(Math.cos(ve)*pt)+this.xCenter,y:Math.round(Math.sin(ve)*pt)+this.yCenter}},getPointPositionForValue:function(Ke,pt){return this.getPointPosition(Ke,this.getDistanceFromCenterForValue(pt))},getBasePosition:function(){var pt=this.min,He=this.max;return this.getPointPositionForValue(0,this.beginAtZero?0:pt<0&&He<0?He:pt>0&&He>0?pt:0)},draw:function(){var Ke=this,pt=Ke.options,He=pt.gridLines,ve=pt.ticks,Re=We.valueOrDefault;if(pt.display){var Ve=Ke.ctx,vt=this.getIndexAngle(0),Pe=Re(ve.fontSize,Qe.defaultFontSize),ht=Re(ve.fontStyle,Qe.defaultFontStyle),sn=Re(ve.fontFamily,Qe.defaultFontFamily),jt=We.fontString(Pe,ht,sn);We.each(Ke.ticks,function(Cr,_r){if(_r>0||ve.reverse){var Ht=Ke.getDistanceFromCenterForValue(Ke.ticksAsNumbers[_r]);if(He.display&&0!==_r&&function Le(Ke,pt,He,ve){var Re=Ke.ctx;if(Re.strokeStyle=We.valueAtIndexOrDefault(pt.color,ve-1),Re.lineWidth=We.valueAtIndexOrDefault(pt.lineWidth,ve-1),Ke.options.gridLines.circular)Re.beginPath(),Re.arc(Ke.xCenter,Ke.yCenter,He,0,2*Math.PI),Re.closePath(),Re.stroke();else{var Ve=U(Ke);if(0===Ve)return;Re.beginPath();var vt=Ke.getPointPosition(0,He);Re.moveTo(vt.x,vt.y);for(var Pe=1;Pe<Ve;Pe++)vt=Ke.getPointPosition(Pe,He),Re.lineTo(vt.x,vt.y);Re.closePath(),Re.stroke()}}(Ke,He,Ht,_r),ve.display){var Te=Re(ve.fontColor,Qe.defaultFontColor);if(Ve.font=jt,Ve.save(),Ve.translate(Ke.xCenter,Ke.yCenter),Ve.rotate(vt),ve.showLabelBackdrop){var It=Ve.measureText(Cr).width;Ve.fillStyle=ve.backdropColor,Ve.fillRect(-It/2-ve.backdropPaddingX,-Ht-Pe/2-ve.backdropPaddingY,It+2*ve.backdropPaddingX,Pe+2*ve.backdropPaddingY)}Ve.textAlign="center",Ve.textBaseline="middle",Ve.fillStyle=Te,Ve.fillText(Cr,0,-Ht),Ve.restore()}}}),(pt.angleLines.display||pt.pointLabels.display)&&function De(Ke){var pt=Ke.ctx,He=We.valueOrDefault,ve=Ke.options,Re=ve.angleLines,Ve=ve.pointLabels;pt.lineWidth=Re.lineWidth,pt.strokeStyle=Re.color;var vt=Ke.getDistanceFromCenterForValue(ve.ticks.reverse?Ke.min:Ke.max),Pe=Z(Ke);pt.textBaseline="top";for(var ht=U(Ke)-1;ht>=0;ht--){if(Re.display){var sn=Ke.getPointPosition(ht,vt);pt.beginPath(),pt.moveTo(Ke.xCenter,Ke.yCenter),pt.lineTo(sn.x,sn.y),pt.stroke(),pt.closePath()}if(Ve.display){var jt=Ke.getPointPosition(ht,vt+5),Cr=He(Ve.fontColor,Qe.defaultFontColor);pt.font=Pe.font,pt.fillStyle=Cr;var _r=Ke.getIndexAngle(ht),Ht=We.toDegrees(_r);pt.textAlign=se(Ht),he(Ht,Ke._pointLabelSizes[ht],jt),oe(pt,Ke.pointLabels[ht]||"",jt,Pe.size)}}}(Ke)}}});xe.scaleService.registerScaleType("radialLinear",Kt,st)}},{25:25,34:34,45:45}],57:[function(_t,yn,yt){"use strict";function at(He,ve){return He-ve}function We(He){var ve,Re,Ve,vt={},Pe=[];for(ve=0,Re=He.length;ve<Re;++ve)vt[Ve=He[ve]]||(vt[Ve]=!0,Pe.push(Ve));return Pe}function U(He,ve,Re,Ve){var vt=function xe(He,ve,Re){for(var Ve,vt,Pe,ht=0,sn=He.length-1;ht>=0&&ht<=sn;){if(Pe=He[Ve=ht+sn>>1],!(vt=He[Ve-1]||null))return{lo:null,hi:Pe};if(Pe[ve]<Re)ht=Ve+1;else{if(!(vt[ve]>Re))return{lo:vt,hi:Pe};sn=Ve-1}}return{lo:Pe,hi:null}}(He,ve,Re),Pe=vt.lo?vt.hi?vt.lo:He[He.length-2]:He[0],ht=vt.lo?vt.hi?vt.hi:He[He.length-1]:He[1],sn=ht[ve]-Pe[ve];return Pe[Ve]+(ht[Ve]-Pe[Ve])*(sn?(Re-Pe[ve])/sn:0)}function Z(He,ve){var Re=ve.parser,Ve=ve.parser||ve.format;return"function"==typeof Re?Re(He):"string"==typeof He&&"string"==typeof Ve?Le(He,Ve):(He instanceof Le||(He=Le(He)),He.isValid()?He:"function"==typeof Ve?Ve(He):He)}function de(He,ve){if(Qe.isNullOrUndef(He))return null;var Re=ve.options.time,Ve=Z(ve.getRightValue(He),Re);return Ve.isValid()?(Re.round&&Ve.startOf(Re.round),Ve.valueOf()):null}function se(He){for(var ve=pt.indexOf(He)+1,Re=pt.length;ve<Re;++ve)if(Ke[pt[ve]].common)return pt[ve]}var Le=_t(1);Le="function"==typeof Le?Le:window.moment;var et=_t(25),Qe=_t(45),st=Number.MIN_SAFE_INTEGER||-9007199254740991,Kt=Number.MAX_SAFE_INTEGER||9007199254740991,Ke={millisecond:{common:!0,size:1,steps:[1,2,5,10,20,50,100,250,500]},second:{common:!0,size:1e3,steps:[1,2,5,10,30]},minute:{common:!0,size:6e4,steps:[1,2,5,10,30]},hour:{common:!0,size:36e5,steps:[1,2,3,6,12]},day:{common:!0,size:864e5,steps:[1,2,5]},week:{common:!1,size:6048e5,steps:[1,2,3,4]},month:{common:!0,size:2628e6,steps:[1,2,3]},quarter:{common:!1,size:7884e6,steps:[1,2,3,4]},year:{common:!0,size:3154e7}},pt=Object.keys(Ke);yn.exports=function(He){var ve=He.Scale.extend({initialize:function(){if(!Le)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");this.mergeTicksOptions(),He.Scale.prototype.initialize.call(this)},update:function(){var Re=this,Ve=Re.options;return Ve.time&&Ve.time.format&&console.warn("options.time.format is deprecated and replaced by options.time.parser."),He.Scale.prototype.update.apply(Re,arguments)},getRightValue:function(Re){return Re&&void 0!==Re.t&&(Re=Re.t),He.Scale.prototype.getRightValue.call(this,Re)},determineDataLimits:function(){var Re,Ve,vt,Pe,ht,sn,jt=this,Cr=jt.chart,_r=jt.options.time,Ht=Kt,Te=st,It=[],Sn=[],Lr=[];for(Re=0,vt=Cr.data.labels.length;Re<vt;++Re)Lr.push(de(Cr.data.labels[Re],jt));for(Re=0,vt=(Cr.data.datasets||[]).length;Re<vt;++Re)if(Cr.isDatasetVisible(Re))if(Qe.isObject((ht=Cr.data.datasets[Re].data)[0]))for(Sn[Re]=[],Ve=0,Pe=ht.length;Ve<Pe;++Ve)sn=de(ht[Ve],jt),It.push(sn),Sn[Re][Ve]=sn;else It.push.apply(It,Lr),Sn[Re]=Lr.slice(0);else Sn[Re]=[];Lr.length&&(Lr=We(Lr).sort(at),Ht=Math.min(Ht,Lr[0]),Te=Math.max(Te,Lr[Lr.length-1])),It.length&&(It=We(It).sort(at),Ht=Math.min(Ht,It[0]),Te=Math.max(Te,It[It.length-1])),Ht=de(_r.min,jt)||Ht,Te=de(_r.max,jt)||Te,Ht=Ht===Kt?+Le().startOf("day"):Ht,Te=Te===st?+Le().endOf("day")+1:Te,jt.min=Math.min(Ht,Te),jt.max=Math.max(Ht+1,Te),jt._horizontal=jt.isHorizontal(),jt._table=[],jt._timestamps={data:It,datasets:Sn,labels:Lr}},buildTicks:function(){var Re,Ve,vt,Pe=this,ht=Pe.min,sn=Pe.max,jt=Pe.options,Cr=jt.time,_r=[],Ht=[];switch(jt.ticks.source){case"data":_r=Pe._timestamps.data;break;case"labels":_r=Pe._timestamps.labels;break;default:_r=function oe(He,ve,Re,Ve){var vt,Pe=Ve.time,ht=Pe.unit||function te(He,ve,Re,Ve){var vt,Pe,sn=pt.length;for(vt=pt.indexOf(He);vt<sn-1;++vt)if((Pe=Ke[pt[vt]]).common&&Math.ceil((Re-ve)/((Pe.steps?Pe.steps[Pe.steps.length-1]:Kt)*Pe.size))<=Ve)return pt[vt];return pt[sn-1]}(Pe.minUnit,He,ve,Re),sn=se(ht),jt=Qe.valueOrDefault(Pe.stepSize,Pe.unitStepSize),Cr="week"===ht&&Pe.isoWeekday,_r=Ve.ticks.major.enabled,Ht=Ke[ht],Te=Le(He),It=Le(ve),Sn=[];for(jt||(jt=function ne(He,ve,Re,Ve){var vt,Pe,ht,sn=ve-He,jt=Ke[Re],Cr=jt.size,_r=jt.steps;if(!_r)return Math.ceil(sn/((Ve||1)*Cr));for(vt=0,Pe=_r.length;vt<Pe&&(ht=_r[vt],!(Math.ceil(sn/(Cr*ht))<=Ve));++vt);return ht}(He,ve,ht,Re)),Cr&&(Te=Te.isoWeekday(Cr),It=It.isoWeekday(Cr)),Te=Te.startOf(Cr?"day":ht),(It=It.startOf(Cr?"day":ht))<ve&&It.add(1,ht),vt=Le(Te),_r&&sn&&!Cr&&!Pe.round&&(vt.startOf(sn),vt.add(~~((Te-vt)/(Ht.size*jt))*jt,ht));vt<It;vt.add(jt,ht))Sn.push(+vt);return Sn.push(+vt),Sn}(ht,sn,Pe.getLabelCapacity(ht),jt)}for("ticks"===jt.bounds&&_r.length&&(ht=_r[0],sn=_r[_r.length-1]),ht=de(Cr.min,Pe)||ht,sn=de(Cr.max,Pe)||sn,Re=0,Ve=_r.length;Re<Ve;++Re)(vt=_r[Re])>=ht&&vt<=sn&&Ht.push(vt);return Pe.min=ht,Pe.max=sn,Pe._unit=Cr.unit||function le(He,ve,Re,Ve){var vt,Pe,ht=Le.duration(Le(Ve).diff(Le(Re)));for(vt=pt.length-1;vt>=pt.indexOf(ve);vt--)if(Ke[Pe=pt[vt]].common&&ht.as(Pe)>=He.length)return Pe;return pt[ve?pt.indexOf(ve):0]}(Ht,Cr.minUnit,Pe.min,Pe.max),Pe._majorUnit=se(Pe._unit),Pe._table=function K(He,ve,Re,Ve){if("linear"===Ve||!He.length)return[{time:ve,pos:0},{time:Re,pos:1}];var vt,Pe,ht,sn,jt,Cr=[],_r=[ve];for(vt=0,Pe=He.length;vt<Pe;++vt)(sn=He[vt])>ve&&sn<Re&&_r.push(sn);for(_r.push(Re),vt=0,Pe=_r.length;vt<Pe;++vt)jt=_r[vt+1],sn=_r[vt],void 0!==(ht=_r[vt-1])&&void 0!==jt&&Math.round((jt+ht)/2)===sn||Cr.push({time:sn,pos:vt/(Pe-1)});return Cr}(Pe._timestamps.data,ht,sn,jt.distribution),Pe._offsets=function he(He,ve,Re,Ve,vt){var ht,sn=0,jt=0;return vt.offset&&ve.length&&(vt.time.min||(ht=ve[0],sn=(U(He,"time",ve.length>1?ve[1]:Ve,"pos")-U(He,"time",ht,"pos"))/2),vt.time.max||(ht=ve.length>1?ve[ve.length-2]:Re,jt=(U(He,"time",ve[ve.length-1],"pos")-U(He,"time",ht,"pos"))/2)),{left:sn,right:jt}}(Pe._table,Ht,ht,sn,jt),function De(He,ve){var Re,Ve,vt,Pe,ht=[];for(Re=0,Ve=He.length;Re<Ve;++Re)vt=He[Re],Pe=!!ve&&vt===+Le(vt).startOf(ve),ht.push({value:vt,major:Pe});return ht}(Ht,Pe._majorUnit)},getLabelForIndex:function(Re,Ve){var Pe=this.chart.data,ht=this.options.time,sn=Pe.labels&&Re<Pe.labels.length?Pe.labels[Re]:"",jt=Pe.datasets[Ve].data[Re];return Qe.isObject(jt)&&(sn=this.getRightValue(jt)),ht.tooltipFormat&&(sn=Z(sn,ht).format(ht.tooltipFormat)),sn},tickFormatFunction:function(Re,Ve,vt,Pe){var sn=this.options,jt=Re.valueOf(),Cr=sn.time.displayFormats,_r=Cr[this._unit],Ht=this._majorUnit,Te=Cr[Ht],It=Re.clone().startOf(Ht).valueOf(),Sn=sn.ticks.major,Lr=Sn.enabled&&Ht&&Te&&jt===It,Uo=Re.format(Pe||(Lr?Te:_r)),Zn=Lr?Sn:sn.ticks.minor,Bn=Qe.valueOrDefault(Zn.callback,Zn.userCallback);return Bn?Bn(Uo,Ve,vt):Uo},convertTicksToLabels:function(Re){var Ve,vt,Pe=[];for(Ve=0,vt=Re.length;Ve<vt;++Ve)Pe.push(this.tickFormatFunction(Le(Re[Ve].value),Ve,Re));return Pe},getPixelForOffset:function(Re){var Ve=this,vt=Ve._horizontal?Ve.width:Ve.height,Pe=Ve._horizontal?Ve.left:Ve.top,ht=U(Ve._table,"time",Re,"pos");return Pe+vt*(Ve._offsets.left+ht)/(Ve._offsets.left+1+Ve._offsets.right)},getPixelForValue:function(Re,Ve,vt){var ht=null;if(void 0!==Ve&&void 0!==vt&&(ht=this._timestamps.datasets[vt][Ve]),null===ht&&(ht=de(Re,this)),null!==ht)return this.getPixelForOffset(ht)},getPixelForTick:function(Re){var Ve=this.getTicks();return Re>=0&&Re<Ve.length?this.getPixelForOffset(Ve[Re].value):null},getValueForPixel:function(Re){var Ve=this,vt=Ve._horizontal?Ve.width:Ve.height,sn=U(Ve._table,"pos",(vt?(Re-(Ve._horizontal?Ve.left:Ve.top))/vt:0)*(Ve._offsets.left+1+Ve._offsets.left)-Ve._offsets.right,"time");return Le(sn)},getLabelWidth:function(Re){var vt=this.options.ticks,Pe=this.ctx.measureText(Re).width,ht=Qe.toRadians(vt.maxRotation),sn=Math.cos(ht),jt=Math.sin(ht);return Pe*sn+Qe.valueOrDefault(vt.fontSize,et.global.defaultFontSize)*jt},getLabelCapacity:function(Re){var Ve=this,vt=Ve.options.time.displayFormats.millisecond,Pe=Ve.tickFormatFunction(Le(Re),0,[],vt),ht=Ve.getLabelWidth(Pe),sn=Ve.isHorizontal()?Ve.width:Ve.height;return Math.floor(sn/ht)}});He.scaleService.registerScaleType("time",ve,{position:"bottom",distribution:"linear",bounds:"data",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}})}},{1:1,25:25,45:45}]},{},[7])(7)});